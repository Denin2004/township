(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_antd-mobile_es_components_avatar_avatar_js-node_modules_antd-mobile_es_c-b94cac"],{

/***/ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/interopRequireWildcard.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _typeof = (__webpack_require__(/*! ./typeof.js */ "./node_modules/@babel/runtime/helpers/typeof.js")["default"]);

function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}

function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {
    return {
      "default": obj
    };
  }

  var cache = _getRequireWildcardCache(nodeInterop);

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj["default"] = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

module.exports = _interopRequireWildcard, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/***/ ((module) => {

function _typeof(obj) {
  "@babel/helpers - typeof";

  return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(obj);
}

module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ "./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Animated": () => (/* binding */ Animated),
/* harmony export */   "AnimatedArray": () => (/* binding */ AnimatedArray),
/* harmony export */   "AnimatedObject": () => (/* binding */ AnimatedObject),
/* harmony export */   "AnimatedString": () => (/* binding */ AnimatedString),
/* harmony export */   "AnimatedValue": () => (/* binding */ AnimatedValue),
/* harmony export */   "createHost": () => (/* binding */ createHost),
/* harmony export */   "getAnimated": () => (/* binding */ getAnimated),
/* harmony export */   "getAnimatedType": () => (/* binding */ getAnimatedType),
/* harmony export */   "getPayload": () => (/* binding */ getPayload),
/* harmony export */   "isAnimated": () => (/* binding */ isAnimated),
/* harmony export */   "setAnimated": () => (/* binding */ setAnimated)
/* harmony export */ });
/* harmony import */ var _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/shared */ "./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




const $node = Symbol.for('Animated:node');
const isAnimated = value => !!value && value[$node] === value;
const getAnimated = owner => owner && owner[$node];
const setAnimated = (owner, node) => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.defineHidden)(owner, $node, node);
const getPayload = owner => owner && owner[$node] && owner[$node].getPayload();
class Animated {
  constructor() {
    this.payload = void 0;
    setAnimated(this, this);
  }

  getPayload() {
    return this.payload || [];
  }

}

class AnimatedValue extends Animated {
  constructor(_value) {
    super();
    this.done = true;
    this.elapsedTime = void 0;
    this.lastPosition = void 0;
    this.lastVelocity = void 0;
    this.v0 = void 0;
    this.durationProgress = 0;
    this._value = _value;

    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.num(this._value)) {
      this.lastPosition = this._value;
    }
  }

  static create(value) {
    return new AnimatedValue(value);
  }

  getPayload() {
    return [this];
  }

  getValue() {
    return this._value;
  }

  setValue(value, step) {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.num(value)) {
      this.lastPosition = value;

      if (step) {
        value = Math.round(value / step) * step;

        if (this.done) {
          this.lastPosition = value;
        }
      }
    }

    if (this._value === value) {
      return false;
    }

    this._value = value;
    return true;
  }

  reset() {
    const {
      done
    } = this;
    this.done = false;

    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.num(this._value)) {
      this.elapsedTime = 0;
      this.durationProgress = 0;
      this.lastPosition = this._value;
      if (done) this.lastVelocity = null;
      this.v0 = null;
    }
  }

}

class AnimatedString extends AnimatedValue {
  constructor(value) {
    super(0);
    this._string = null;
    this._toString = void 0;
    this._toString = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.createInterpolator)({
      output: [value, value]
    });
  }

  static create(value) {
    return new AnimatedString(value);
  }

  getValue() {
    let value = this._string;
    return value == null ? this._string = this._toString(this._value) : value;
  }

  setValue(value) {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.str(value)) {
      if (value == this._string) {
        return false;
      }

      this._string = value;
      this._value = 1;
    } else if (super.setValue(value)) {
      this._string = null;
    } else {
      return false;
    }

    return true;
  }

  reset(goal) {
    if (goal) {
      this._toString = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.createInterpolator)({
        output: [this.getValue(), goal]
      });
    }

    this._value = 0;
    super.reset();
  }

}

const TreeContext = {
  dependencies: null
};

class AnimatedObject extends Animated {
  constructor(source) {
    super();
    this.source = source;
    this.setValue(source);
  }

  getValue(animated) {
    const values = {};
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(this.source, (source, key) => {
      if (isAnimated(source)) {
        values[key] = source.getValue(animated);
      } else if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(source)) {
        values[key] = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(source);
      } else if (!animated) {
        values[key] = source;
      }
    });
    return values;
  }

  setValue(source) {
    this.source = source;
    this.payload = this._makePayload(source);
  }

  reset() {
    if (this.payload) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(this.payload, node => node.reset());
    }
  }

  _makePayload(source) {
    if (source) {
      const payload = new Set();
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(source, this._addToPayload, payload);
      return Array.from(payload);
    }
  }

  _addToPayload(source) {
    if (TreeContext.dependencies && (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(source)) {
      TreeContext.dependencies.add(source);
    }

    const payload = getPayload(source);

    if (payload) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(payload, node => this.add(node));
    }
  }

}

class AnimatedArray extends AnimatedObject {
  constructor(source) {
    super(source);
  }

  static create(source) {
    return new AnimatedArray(source);
  }

  getValue() {
    return this.source.map(node => node.getValue());
  }

  setValue(source) {
    const payload = this.getPayload();

    if (source.length == payload.length) {
      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);
    }

    super.setValue(source.map(makeAnimated));
    return true;
  }

}

function makeAnimated(value) {
  const nodeType = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isAnimatedString)(value) ? AnimatedString : AnimatedValue;
  return nodeType.create(value);
}

function getAnimatedType(value) {
  const parentNode = getAnimated(value);
  return parentNode ? parentNode.constructor : _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(value) ? AnimatedArray : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isAnimatedString)(value) ? AnimatedString : AnimatedValue;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

const withAnimated = (Component, host) => {
  const hasInstance = !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;
  return (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((givenProps, givenRef) => {
    const instanceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const ref = hasInstance && (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(value => {
      instanceRef.current = updateRef(givenRef, value);
    }, [givenRef]);
    const [props, deps] = getAnimatedState(givenProps, host);
    const forceUpdate = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useForceUpdate)();

    const callback = () => {
      const instance = instanceRef.current;

      if (hasInstance && !instance) {
        return;
      }

      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;

      if (didUpdate === false) {
        forceUpdate();
      }
    };

    const observer = new PropsObserver(callback, deps);
    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      const lastObserver = observerRef.current;
      observerRef.current = observer;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(deps, dep => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.addFluidObserver)(dep, observer));

      if (lastObserver) {
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(lastObserver.deps, dep => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.removeFluidObserver)(dep, lastObserver));
        _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.cancel(lastObserver.update);
      }
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(callback, []);
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useOnce)(() => () => {
      const observer = observerRef.current;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(observer.deps, dep => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.removeFluidObserver)(dep, observer));
    });
    const usedProps = host.getComponentProps(props.getValue());
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(Component, _extends({}, usedProps, {
      ref: ref
    }));
  });
};

class PropsObserver {
  constructor(update, deps) {
    this.update = update;
    this.deps = deps;
  }

  eventObserved(event) {
    if (event.type == 'change') {
      _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.write(this.update);
    }
  }

}

function getAnimatedState(props, host) {
  const dependencies = new Set();
  TreeContext.dependencies = dependencies;
  if (props.style) props = _extends({}, props, {
    style: host.createAnimatedStyle(props.style)
  });
  props = new AnimatedObject(props);
  TreeContext.dependencies = null;
  return [props, dependencies];
}

function updateRef(ref, value) {
  if (ref) {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(ref)) ref(value);else ref.current = value;
  }

  return value;
}

const cacheKey = Symbol.for('AnimatedComponent');
const createHost = (components, {
  applyAnimatedValues: _applyAnimatedValues = () => false,
  createAnimatedStyle: _createAnimatedStyle = style => new AnimatedObject(style),
  getComponentProps: _getComponentProps = props => props
} = {}) => {
  const hostConfig = {
    applyAnimatedValues: _applyAnimatedValues,
    createAnimatedStyle: _createAnimatedStyle,
    getComponentProps: _getComponentProps
  };

  const animated = Component => {
    const displayName = getDisplayName(Component) || 'Anonymous';

    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.str(Component)) {
      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));
    } else {
      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));
    }

    Component.displayName = `Animated(${displayName})`;
    return Component;
  };

  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(components, (Component, key) => {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(components)) {
      key = getDisplayName(Component);
    }

    animated[key] = animated(Component);
  });
  return {
    animated
  };
};

const getDisplayName = arg => _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.str(arg) ? arg : arg && _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.str(arg.displayName) ? arg.displayName : _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(arg) && arg.name || null;




/***/ }),

/***/ "./node_modules/@react-spring/core/dist/react-spring-core.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-spring/core/dist/react-spring-core.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Globals": () => (/* reexport safe */ _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals),
/* harmony export */   "createInterpolator": () => (/* reexport safe */ _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.createInterpolator),
/* harmony export */   "BailSignal": () => (/* binding */ BailSignal),
/* harmony export */   "Controller": () => (/* binding */ Controller),
/* harmony export */   "FrameValue": () => (/* binding */ FrameValue),
/* harmony export */   "Interpolation": () => (/* binding */ Interpolation),
/* harmony export */   "Spring": () => (/* binding */ Spring),
/* harmony export */   "SpringContext": () => (/* binding */ SpringContext),
/* harmony export */   "SpringRef": () => (/* binding */ SpringRef),
/* harmony export */   "SpringValue": () => (/* binding */ SpringValue),
/* harmony export */   "Trail": () => (/* binding */ Trail),
/* harmony export */   "Transition": () => (/* binding */ Transition),
/* harmony export */   "config": () => (/* binding */ config),
/* harmony export */   "easings": () => (/* binding */ easings),
/* harmony export */   "inferTo": () => (/* binding */ inferTo),
/* harmony export */   "interpolate": () => (/* binding */ interpolate),
/* harmony export */   "to": () => (/* binding */ to),
/* harmony export */   "update": () => (/* binding */ update),
/* harmony export */   "useChain": () => (/* binding */ useChain),
/* harmony export */   "useSpring": () => (/* binding */ useSpring),
/* harmony export */   "useSpringRef": () => (/* binding */ useSpringRef),
/* harmony export */   "useSprings": () => (/* binding */ useSprings),
/* harmony export */   "useTrail": () => (/* binding */ useTrail),
/* harmony export */   "useTransition": () => (/* binding */ useTransition)
/* harmony export */ });
/* harmony import */ var _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/shared */ "./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _react_spring_animated__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/animated */ "./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js");
/* harmony import */ var _react_spring_types_animated__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-spring/types/animated */ "./node_modules/@react-spring/types/animated.js");
/* harmony import */ var _react_spring_types_animated__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_react_spring_types_animated__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _react_spring_types_animated__WEBPACK_IMPORTED_MODULE_3__) if(["default","Globals","createInterpolator","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _react_spring_types_animated__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _react_spring_types_interpolation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-spring/types/interpolation */ "./node_modules/@react-spring/types/interpolation.js");
/* harmony import */ var _react_spring_types_interpolation__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_react_spring_types_interpolation__WEBPACK_IMPORTED_MODULE_4__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _react_spring_types_interpolation__WEBPACK_IMPORTED_MODULE_4__) if(["default","Globals","createInterpolator","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _react_spring_types_interpolation__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);








function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function callProp(value, ...args) {
  return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(value) ? value(...args) : value;
}
const matchProp = (value, key) => value === true || !!(key && value && (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(value) ? value(key) : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(value).includes(key)));
const resolveProp = (prop, key) => _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(prop) ? key && prop[key] : prop;
const getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : undefined;

const noopTransform = value => value;

const getDefaultProps = (props, transform = noopTransform) => {
  let keys = DEFAULT_PROPS;

  if (props.default && props.default !== true) {
    props = props.default;
    keys = Object.keys(props);
  }

  const defaults = {};

  for (const key of keys) {
    const value = transform(props[key], key);

    if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(value)) {
      defaults[key] = value;
    }
  }

  return defaults;
};
const DEFAULT_PROPS = ['config', 'onProps', 'onStart', 'onChange', 'onPause', 'onResume', 'onRest'];
const RESERVED_PROPS = {
  config: 1,
  from: 1,
  to: 1,
  ref: 1,
  loop: 1,
  reset: 1,
  pause: 1,
  cancel: 1,
  reverse: 1,
  immediate: 1,
  default: 1,
  delay: 1,
  onProps: 1,
  onStart: 1,
  onChange: 1,
  onPause: 1,
  onResume: 1,
  onRest: 1,
  onResolve: 1,
  items: 1,
  trail: 1,
  sort: 1,
  expires: 1,
  initial: 1,
  enter: 1,
  update: 1,
  leave: 1,
  children: 1,
  onDestroyed: 1,
  keys: 1,
  callId: 1,
  parentId: 1
};

function getForwardProps(props) {
  const forward = {};
  let count = 0;
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(props, (value, prop) => {
    if (!RESERVED_PROPS[prop]) {
      forward[prop] = value;
      count++;
    }
  });

  if (count) {
    return forward;
  }
}

function inferTo(props) {
  const to = getForwardProps(props);

  if (to) {
    const out = {
      to
    };
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(props, (val, key) => key in to || (out[key] = val));
    return out;
  }

  return _extends({}, props);
}
function computeGoal(value) {
  value = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(value);
  return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(value) ? value.map(computeGoal) : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isAnimatedString)(value) ? _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.createStringInterpolator({
    range: [0, 1],
    output: [value, value]
  })(1) : value;
}
function hasProps(props) {
  for (const _ in props) return true;

  return false;
}
function isAsyncTo(to) {
  return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(to) || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(to) && _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(to[0]);
}
function detachRefs(ctrl, ref) {
  var _ctrl$ref;

  (_ctrl$ref = ctrl.ref) == null ? void 0 : _ctrl$ref.delete(ctrl);
  ref == null ? void 0 : ref.delete(ctrl);
}
function replaceRef(ctrl, ref) {
  if (ref && ctrl.ref !== ref) {
    var _ctrl$ref2;

    (_ctrl$ref2 = ctrl.ref) == null ? void 0 : _ctrl$ref2.delete(ctrl);
    ref.add(ctrl);
    ctrl.ref = ref;
  }
}

function useChain(refs, timeSteps, timeFrame = 1000) {
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (timeSteps) {
      let prevDelay = 0;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(refs, (ref, i) => {
        const controllers = ref.current;

        if (controllers.length) {
          let delay = timeFrame * timeSteps[i];
          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;
          (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(controllers, ctrl => {
            (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ctrl.queue, props => {
              const memoizedDelayProp = props.delay;

              props.delay = key => delay + callProp(memoizedDelayProp || 0, key);
            });
          });
          ref.start();
        }
      });
    } else {
      let p = Promise.resolve();
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(refs, ref => {
        const controllers = ref.current;

        if (controllers.length) {
          const queues = controllers.map(ctrl => {
            const q = ctrl.queue;
            ctrl.queue = [];
            return q;
          });
          p = p.then(() => {
            (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(controllers, (ctrl, i) => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(queues[i] || [], update => ctrl.queue.push(update)));
            return Promise.all(ref.start());
          });
        }
      });
    }
  });
}

const config = {
  default: {
    tension: 170,
    friction: 26
  },
  gentle: {
    tension: 120,
    friction: 14
  },
  wobbly: {
    tension: 180,
    friction: 12
  },
  stiff: {
    tension: 210,
    friction: 20
  },
  slow: {
    tension: 280,
    friction: 60
  },
  molasses: {
    tension: 280,
    friction: 120
  }
};
const c1 = 1.70158;
const c2 = c1 * 1.525;
const c3 = c1 + 1;
const c4 = 2 * Math.PI / 3;
const c5 = 2 * Math.PI / 4.5;

const bounceOut = x => {
  const n1 = 7.5625;
  const d1 = 2.75;

  if (x < 1 / d1) {
    return n1 * x * x;
  } else if (x < 2 / d1) {
    return n1 * (x -= 1.5 / d1) * x + 0.75;
  } else if (x < 2.5 / d1) {
    return n1 * (x -= 2.25 / d1) * x + 0.9375;
  } else {
    return n1 * (x -= 2.625 / d1) * x + 0.984375;
  }
};

const easings = {
  linear: x => x,
  easeInQuad: x => x * x,
  easeOutQuad: x => 1 - (1 - x) * (1 - x),
  easeInOutQuad: x => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,
  easeInCubic: x => x * x * x,
  easeOutCubic: x => 1 - Math.pow(1 - x, 3),
  easeInOutCubic: x => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,
  easeInQuart: x => x * x * x * x,
  easeOutQuart: x => 1 - Math.pow(1 - x, 4),
  easeInOutQuart: x => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,
  easeInQuint: x => x * x * x * x * x,
  easeOutQuint: x => 1 - Math.pow(1 - x, 5),
  easeInOutQuint: x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,
  easeInSine: x => 1 - Math.cos(x * Math.PI / 2),
  easeOutSine: x => Math.sin(x * Math.PI / 2),
  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,
  easeInExpo: x => x === 0 ? 0 : Math.pow(2, 10 * x - 10),
  easeOutExpo: x => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),
  easeInOutExpo: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,
  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),
  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),
  easeInOutCirc: x => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,
  easeInBack: x => c3 * x * x * x - c1 * x * x,
  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),
  easeInOutBack: x => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,
  easeInElastic: x => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),
  easeOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,
  easeInOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,
  easeInBounce: x => 1 - bounceOut(1 - x),
  easeOutBounce: bounceOut,
  easeInOutBounce: x => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2
};

const defaults = _extends({}, config.default, {
  mass: 1,
  damping: 1,
  easing: easings.linear,
  clamp: false
});

class AnimationConfig {
  constructor() {
    this.tension = void 0;
    this.friction = void 0;
    this.frequency = void 0;
    this.damping = void 0;
    this.mass = void 0;
    this.velocity = 0;
    this.restVelocity = void 0;
    this.precision = void 0;
    this.progress = void 0;
    this.duration = void 0;
    this.easing = void 0;
    this.clamp = void 0;
    this.bounce = void 0;
    this.decay = void 0;
    this.round = void 0;
    Object.assign(this, defaults);
  }

}
function mergeConfig(config, newConfig, defaultConfig) {
  if (defaultConfig) {
    defaultConfig = _extends({}, defaultConfig);
    sanitizeConfig(defaultConfig, newConfig);
    newConfig = _extends({}, defaultConfig, newConfig);
  }

  sanitizeConfig(config, newConfig);
  Object.assign(config, newConfig);

  for (const key in defaults) {
    if (config[key] == null) {
      config[key] = defaults[key];
    }
  }

  let {
    mass,
    frequency,
    damping
  } = config;

  if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(frequency)) {
    if (frequency < 0.01) frequency = 0.01;
    if (damping < 0) damping = 0;
    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;
    config.friction = 4 * Math.PI * damping * mass / frequency;
  }

  return config;
}

function sanitizeConfig(config, props) {
  if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.decay)) {
    config.duration = undefined;
  } else {
    const isTensionConfig = !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.tension) || !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.friction);

    if (isTensionConfig || !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.frequency) || !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.damping) || !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.mass)) {
      config.duration = undefined;
      config.decay = undefined;
    }

    if (isTensionConfig) {
      config.frequency = undefined;
    }
  }
}

const emptyArray = [];
class Animation {
  constructor() {
    this.changed = false;
    this.values = emptyArray;
    this.toValues = null;
    this.fromValues = emptyArray;
    this.to = void 0;
    this.from = void 0;
    this.config = new AnimationConfig();
    this.immediate = false;
  }

}

function scheduleProps(callId, {
  key,
  props,
  defaultProps,
  state,
  actions
}) {
  return new Promise((resolve, reject) => {
    var _props$cancel;

    let delay;
    let timeout;
    let cancel = matchProp((_props$cancel = props.cancel) != null ? _props$cancel : defaultProps == null ? void 0 : defaultProps.cancel, key);

    if (cancel) {
      onStart();
    } else {
      if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.pause)) {
        state.paused = matchProp(props.pause, key);
      }

      let pause = defaultProps == null ? void 0 : defaultProps.pause;

      if (pause !== true) {
        pause = state.paused || matchProp(pause, key);
      }

      delay = callProp(props.delay || 0, key);

      if (pause) {
        state.resumeQueue.add(onResume);
        actions.pause();
      } else {
        actions.resume();
        onResume();
      }
    }

    function onPause() {
      state.resumeQueue.add(onResume);
      state.timeouts.delete(timeout);
      timeout.cancel();
      delay = timeout.time - _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.now();
    }

    function onResume() {
      if (delay > 0 && !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.skipAnimation) {
        state.delayed = true;
        timeout = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.setTimeout(onStart, delay);
        state.pauseQueue.add(onPause);
        state.timeouts.add(timeout);
      } else {
        onStart();
      }
    }

    function onStart() {
      if (state.delayed) {
        state.delayed = false;
      }

      state.pauseQueue.delete(onPause);
      state.timeouts.delete(timeout);

      if (callId <= (state.cancelId || 0)) {
        cancel = true;
      }

      try {
        actions.start(_extends({}, props, {
          callId,
          cancel
        }), resolve);
      } catch (err) {
        reject(err);
      }
    }
  });
}

const getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some(result => result.cancelled) ? getCancelledResult(target.get()) : results.every(result => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(result => result.finished));
const getNoopResult = value => ({
  value,
  noop: true,
  finished: true,
  cancelled: false
});
const getFinishedResult = (value, finished, cancelled = false) => ({
  value,
  finished,
  cancelled
});
const getCancelledResult = value => ({
  value,
  cancelled: true,
  finished: false
});

function runAsync(to, props, state, target) {
  const {
    callId,
    parentId,
    onRest
  } = props;
  const {
    asyncTo: prevTo,
    promise: prevPromise
  } = state;

  if (!parentId && to === prevTo && !props.reset) {
    return prevPromise;
  }

  return state.promise = (async () => {
    state.asyncId = callId;
    state.asyncTo = to;
    const defaultProps = getDefaultProps(props, (value, key) => key === 'onRest' ? undefined : value);
    let preventBail;
    let bail;
    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));

    const bailIfEnded = bailSignal => {
      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);

      if (bailResult) {
        bailSignal.result = bailResult;
        bail(bailSignal);
        throw bailSignal;
      }
    };

    const animate = (arg1, arg2) => {
      const bailSignal = new BailSignal();
      const skipAnimationSignal = new SkipAniamtionSignal();
      return (async () => {
        if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.skipAnimation) {
          stopAsync(state);
          skipAnimationSignal.result = getFinishedResult(target, false);
          bail(skipAnimationSignal);
          throw skipAnimationSignal;
        }

        bailIfEnded(bailSignal);
        const props = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {
          to: arg1
        });
        props.parentId = callId;
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(defaultProps, (value, key) => {
          if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props[key])) {
            props[key] = value;
          }
        });
        const result = await target.start(props);
        bailIfEnded(bailSignal);

        if (state.paused) {
          await new Promise(resume => {
            state.resumeQueue.add(resume);
          });
        }

        return result;
      })();
    };

    let result;

    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.skipAnimation) {
      stopAsync(state);
      return getFinishedResult(target, false);
    }

    try {
      let animating;

      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(to)) {
        animating = (async queue => {
          for (const props of queue) {
            await animate(props);
          }
        })(to);
      } else {
          animating = Promise.resolve(to(animate, target.stop.bind(target)));
        }

      await Promise.all([animating.then(preventBail), bailPromise]);
      result = getFinishedResult(target.get(), true, false);
    } catch (err) {
      if (err instanceof BailSignal) {
        result = err.result;
      } else if (err instanceof SkipAniamtionSignal) {
        result = err.result;
      } else {
        throw err;
      }
    } finally {
      if (callId == state.asyncId) {
        state.asyncId = parentId;
        state.asyncTo = parentId ? prevTo : undefined;
        state.promise = parentId ? prevPromise : undefined;
      }
    }

    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(onRest)) {
      _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => {
        onRest(result, target, target.item);
      });
    }

    return result;
  })();
}
function stopAsync(state, cancelId) {
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flush)(state.timeouts, t => t.cancel());
  state.pauseQueue.clear();
  state.resumeQueue.clear();
  state.asyncId = state.asyncTo = state.promise = undefined;
  if (cancelId) state.cancelId = cancelId;
}
class BailSignal extends Error {
  constructor() {
    super('An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');
    this.result = void 0;
  }

}
class SkipAniamtionSignal extends Error {
  constructor() {
    super('SkipAnimationSignal');
    this.result = void 0;
  }

}

const isFrameValue = value => value instanceof FrameValue;
let nextId$1 = 1;
class FrameValue extends _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.FluidValue {
  constructor(...args) {
    super(...args);
    this.id = nextId$1++;
    this.key = void 0;
    this._priority = 0;
  }

  get priority() {
    return this._priority;
  }

  set priority(priority) {
    if (this._priority != priority) {
      this._priority = priority;

      this._onPriorityChange(priority);
    }
  }

  get() {
    const node = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);
    return node && node.getValue();
  }

  to(...args) {
    return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.to(this, args);
  }

  interpolate(...args) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.deprecateInterpolate)();
    return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.to(this, args);
  }

  toJSON() {
    return this.get();
  }

  observerAdded(count) {
    if (count == 1) this._attach();
  }

  observerRemoved(count) {
    if (count == 0) this._detach();
  }

  _attach() {}

  _detach() {}

  _onChange(value, idle = false) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.callFluidObservers)(this, {
      type: 'change',
      parent: this,
      value,
      idle
    });
  }

  _onPriorityChange(priority) {
    if (!this.idle) {
      _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.frameLoop.sort(this);
    }

    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.callFluidObservers)(this, {
      type: 'priority',
      parent: this,
      priority
    });
  }

}

const $P = Symbol.for('SpringPhase');
const HAS_ANIMATED = 1;
const IS_ANIMATING = 2;
const IS_PAUSED = 4;
const hasAnimated = target => (target[$P] & HAS_ANIMATED) > 0;
const isAnimating = target => (target[$P] & IS_ANIMATING) > 0;
const isPaused = target => (target[$P] & IS_PAUSED) > 0;
const setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;
const setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;

class SpringValue extends FrameValue {
  constructor(arg1, arg2) {
    super();
    this.key = void 0;
    this.animation = new Animation();
    this.queue = void 0;
    this.defaultProps = {};
    this._state = {
      paused: false,
      delayed: false,
      pauseQueue: new Set(),
      resumeQueue: new Set(),
      timeouts: new Set()
    };
    this._pendingCalls = new Set();
    this._lastCallId = 0;
    this._lastToId = 0;
    this._memoizedDuration = 0;

    if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(arg1) || !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(arg2)) {
      const props = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {
        from: arg1
      });

      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.default)) {
        props.default = true;
      }

      this.start(props);
    }
  }

  get idle() {
    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);
  }

  get goal() {
    return (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(this.animation.to);
  }

  get velocity() {
    const node = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);
    return node instanceof _react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(node => node.lastVelocity || 0);
  }

  get hasAnimated() {
    return hasAnimated(this);
  }

  get isAnimating() {
    return isAnimating(this);
  }

  get isPaused() {
    return isPaused(this);
  }

  get isDelayed() {
    return this._state.delayed;
  }

  advance(dt) {
    let idle = true;
    let changed = false;
    const anim = this.animation;
    let {
      config,
      toValues
    } = anim;
    const payload = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getPayload)(anim.to);

    if (!payload && (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(anim.to)) {
      toValues = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(anim.to));
    }

    anim.values.forEach((node, i) => {
      if (node.done) return;
      const to = node.constructor == _react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];
      let finished = anim.immediate;
      let position = to;

      if (!finished) {
        position = node.lastPosition;

        if (config.tension <= 0) {
          node.done = true;
          return;
        }

        let elapsed = node.elapsedTime += dt;
        const from = anim.fromValues[i];
        const v0 = node.v0 != null ? node.v0 : node.v0 = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(config.velocity) ? config.velocity[i] : config.velocity;
        let velocity;

        if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(config.duration)) {
          let p = 1;

          if (config.duration > 0) {
            if (this._memoizedDuration !== config.duration) {
              this._memoizedDuration = config.duration;

              if (node.durationProgress > 0) {
                node.elapsedTime = config.duration * node.durationProgress;
                elapsed = node.elapsedTime += dt;
              }
            }

            p = (config.progress || 0) + elapsed / this._memoizedDuration;
            p = p > 1 ? 1 : p < 0 ? 0 : p;
            node.durationProgress = p;
          }

          position = from + config.easing(p) * (to - from);
          velocity = (position - node.lastPosition) / dt;
          finished = p == 1;
        } else if (config.decay) {
            const decay = config.decay === true ? 0.998 : config.decay;
            const e = Math.exp(-(1 - decay) * elapsed);
            position = from + v0 / (1 - decay) * (1 - e);
            finished = Math.abs(node.lastPosition - position) < 0.1;
            velocity = v0 * e;
          } else {
              velocity = node.lastVelocity == null ? v0 : node.lastVelocity;
              const precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));
              const restVelocity = config.restVelocity || precision / 10;
              const bounceFactor = config.clamp ? 0 : config.bounce;
              const canBounce = !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(bounceFactor);
              const isGrowing = from == to ? node.v0 > 0 : from < to;
              let isMoving;
              let isBouncing = false;
              const step = 1;
              const numSteps = Math.ceil(dt / step);

              for (let n = 0; n < numSteps; ++n) {
                isMoving = Math.abs(velocity) > restVelocity;

                if (!isMoving) {
                  finished = Math.abs(to - position) <= precision;

                  if (finished) {
                    break;
                  }
                }

                if (canBounce) {
                  isBouncing = position == to || position > to == isGrowing;

                  if (isBouncing) {
                    velocity = -velocity * bounceFactor;
                    position = to;
                  }
                }

                const springForce = -config.tension * 0.000001 * (position - to);
                const dampingForce = -config.friction * 0.001 * velocity;
                const acceleration = (springForce + dampingForce) / config.mass;
                velocity = velocity + acceleration * step;
                position = position + velocity * step;
              }
            }

        node.lastVelocity = velocity;

        if (Number.isNaN(position)) {
          console.warn(`Got NaN while animating:`, this);
          finished = true;
        }
      }

      if (payload && !payload[i].done) {
        finished = false;
      }

      if (finished) {
        node.done = true;
      } else {
        idle = false;
      }

      if (node.setValue(position, config.round)) {
        changed = true;
      }
    });
    const node = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);
    const currVal = node.getValue();

    if (idle) {
      const finalVal = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(anim.to);

      if ((currVal !== finalVal || changed) && !config.decay) {
        node.setValue(finalVal);

        this._onChange(finalVal);
      } else if (changed && config.decay) {
        this._onChange(currVal);
      }

      this._stop();
    } else if (changed) {
      this._onChange(currVal);
    }
  }

  set(value) {
    _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => {
      this._stop();

      this._focus(value);

      this._set(value);
    });
    return this;
  }

  pause() {
    this._update({
      pause: true
    });
  }

  resume() {
    this._update({
      pause: false
    });
  }

  finish() {
    if (isAnimating(this)) {
      const {
        to,
        config
      } = this.animation;
      _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => {
        this._onStart();

        if (!config.decay) {
          this._set(to, false);
        }

        this._stop();
      });
    }

    return this;
  }

  update(props) {
    const queue = this.queue || (this.queue = []);
    queue.push(props);
    return this;
  }

  start(to, arg2) {
    let queue;

    if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(to)) {
      queue = [_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(to) ? to : _extends({}, arg2, {
        to
      })];
    } else {
      queue = this.queue || [];
      this.queue = [];
    }

    return Promise.all(queue.map(props => {
      const up = this._update(props);

      return up;
    })).then(results => getCombinedResult(this, results));
  }

  stop(cancel) {
    const {
      to
    } = this.animation;

    this._focus(this.get());

    stopAsync(this._state, cancel && this._lastCallId);
    _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => this._stop(to, cancel));
    return this;
  }

  reset() {
    this._update({
      reset: true
    });
  }

  eventObserved(event) {
    if (event.type == 'change') {
      this._start();
    } else if (event.type == 'priority') {
      this.priority = event.priority + 1;
    }
  }

  _prepareNode(props) {
    const key = this.key || '';
    let {
      to,
      from
    } = props;
    to = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(to) ? to[key] : to;

    if (to == null || isAsyncTo(to)) {
      to = undefined;
    }

    from = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(from) ? from[key] : from;

    if (from == null) {
      from = undefined;
    }

    const range = {
      to,
      from
    };

    if (!hasAnimated(this)) {
      if (props.reverse) [to, from] = [from, to];
      from = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(from);

      if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(from)) {
        this._set(from);
      } else if (!(0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this)) {
          this._set(to);
        }
    }

    return range;
  }

  _update(_ref, isLoop) {
    let props = _extends({}, _ref);

    const {
      key,
      defaultProps
    } = this;
    if (props.default) Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));
    mergeActiveFn(this, props, 'onProps');
    sendEvent(this, 'onProps', props, this);

    const range = this._prepareNode(props);

    if (Object.isFrozen(this)) {
      throw Error('Cannot animate a `SpringValue` object that is frozen. ' + 'Did you forget to pass your component to `animated(...)` before animating its props?');
    }

    const state = this._state;
    return scheduleProps(++this._lastCallId, {
      key,
      props,
      defaultProps,
      state,
      actions: {
        pause: () => {
          if (!isPaused(this)) {
            setPausedBit(this, true);
            (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flushCalls)(state.pauseQueue);
            sendEvent(this, 'onPause', getFinishedResult(this, checkFinished(this, this.animation.to)), this);
          }
        },
        resume: () => {
          if (isPaused(this)) {
            setPausedBit(this, false);

            if (isAnimating(this)) {
              this._resume();
            }

            (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flushCalls)(state.resumeQueue);
            sendEvent(this, 'onResume', getFinishedResult(this, checkFinished(this, this.animation.to)), this);
          }
        },
        start: this._merge.bind(this, range)
      }
    }).then(result => {
      if (props.loop && result.finished && !(isLoop && result.noop)) {
        const nextProps = createLoopUpdate(props);

        if (nextProps) {
          return this._update(nextProps, true);
        }
      }

      return result;
    });
  }

  _merge(range, props, resolve) {
    if (props.cancel) {
      this.stop(true);
      return resolve(getCancelledResult(this));
    }

    const hasToProp = !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(range.to);
    const hasFromProp = !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(range.from);

    if (hasToProp || hasFromProp) {
      if (props.callId > this._lastToId) {
        this._lastToId = props.callId;
      } else {
        return resolve(getCancelledResult(this));
      }
    }

    const {
      key,
      defaultProps,
      animation: anim
    } = this;
    const {
      to: prevTo,
      from: prevFrom
    } = anim;
    let {
      to = prevTo,
      from = prevFrom
    } = range;

    if (hasFromProp && !hasToProp && (!props.default || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(to))) {
      to = from;
    }

    if (props.reverse) [to, from] = [from, to];
    const hasFromChanged = !(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(from, prevFrom);

    if (hasFromChanged) {
      anim.from = from;
    }

    from = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(from);
    const hasToChanged = !(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(to, prevTo);

    if (hasToChanged) {
      this._focus(to);
    }

    const hasAsyncTo = isAsyncTo(props.to);
    const {
      config
    } = anim;
    const {
      decay,
      velocity
    } = config;

    if (hasToProp || hasFromProp) {
      config.velocity = 0;
    }

    if (props.config && !hasAsyncTo) {
      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);
    }

    let node = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);

    if (!node || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(to)) {
      return resolve(getFinishedResult(this, true));
    }

    const reset = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.reset) ? hasFromProp && !props.default : !_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(from) && matchProp(props.reset, key);
    const value = reset ? from : this.get();
    const goal = computeGoal(to);
    const isAnimatable = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.num(goal) || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(goal) || (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isAnimatedString)(goal);
    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));

    if (hasToChanged) {
      const nodeType = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimatedType)(to);

      if (nodeType !== node.constructor) {
        if (immediate) {
          node = this._set(goal);
        } else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the "to" prop suggests`);
      }
    }

    const goalType = node.constructor;
    let started = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(to);
    let finished = false;

    if (!started) {
      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;

      if (hasToChanged || hasValueChanged) {
        finished = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(computeGoal(value), goal);
        started = !finished;
      }

      if (!(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(anim.immediate, immediate) && !immediate || !(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(config.decay, decay) || !(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(config.velocity, velocity)) {
        started = true;
      }
    }

    if (finished && isAnimating(this)) {
      if (anim.changed && !reset) {
        started = true;
      } else if (!started) {
          this._stop(prevTo);
        }
    }

    if (!hasAsyncTo) {
      if (started || (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(prevTo)) {
        anim.values = node.getPayload();
        anim.toValues = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(to) ? null : goalType == _react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.AnimatedString ? [1] : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(goal);
      }

      if (anim.immediate != immediate) {
        anim.immediate = immediate;

        if (!immediate && !reset) {
          this._set(prevTo);
        }
      }

      if (started) {
        const {
          onRest
        } = anim;
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ACTIVE_EVENTS, type => mergeActiveFn(this, props, type));
        const result = getFinishedResult(this, checkFinished(this, prevTo));
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flushCalls)(this._pendingCalls, result);

        this._pendingCalls.add(resolve);

        if (anim.changed) _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => {
          anim.changed = !reset;
          onRest == null ? void 0 : onRest(result, this);

          if (reset) {
            callProp(defaultProps.onRest, result);
          } else {
              anim.onStart == null ? void 0 : anim.onStart(result, this);
            }
        });
      }
    }

    if (reset) {
      this._set(value);
    }

    if (hasAsyncTo) {
      resolve(runAsync(props.to, props, this._state, this));
    } else if (started) {
        this._start();
      } else if (isAnimating(this) && !hasToChanged) {
          this._pendingCalls.add(resolve);
        } else {
            resolve(getNoopResult(value));
          }
  }

  _focus(value) {
    const anim = this.animation;

    if (value !== anim.to) {
      if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidObservers)(this)) {
        this._detach();
      }

      anim.to = value;

      if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidObservers)(this)) {
        this._attach();
      }
    }
  }

  _attach() {
    let priority = 0;
    const {
      to
    } = this.animation;

    if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(to)) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.addFluidObserver)(to, this);

      if (isFrameValue(to)) {
        priority = to.priority + 1;
      }
    }

    this.priority = priority;
  }

  _detach() {
    const {
      to
    } = this.animation;

    if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(to)) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.removeFluidObserver)(to, this);
    }
  }

  _set(arg, idle = true) {
    const value = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(arg);

    if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(value)) {
      const oldNode = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);

      if (!oldNode || !(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(value, oldNode.getValue())) {
        const nodeType = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimatedType)(value);

        if (!oldNode || oldNode.constructor != nodeType) {
          (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.setAnimated)(this, nodeType.create(value));
        } else {
          oldNode.setValue(value);
        }

        if (oldNode) {
          _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => {
            this._onChange(value, idle);
          });
        }
      }
    }

    return (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this);
  }

  _onStart() {
    const anim = this.animation;

    if (!anim.changed) {
      anim.changed = true;
      sendEvent(this, 'onStart', getFinishedResult(this, checkFinished(this, anim.to)), this);
    }
  }

  _onChange(value, idle) {
    if (!idle) {
      this._onStart();

      callProp(this.animation.onChange, value, this);
    }

    callProp(this.defaultProps.onChange, value, this);

    super._onChange(value, idle);
  }

  _start() {
    const anim = this.animation;
    (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this).reset((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(anim.to));

    if (!anim.immediate) {
      anim.fromValues = anim.values.map(node => node.lastPosition);
    }

    if (!isAnimating(this)) {
      setActiveBit(this, true);

      if (!isPaused(this)) {
        this._resume();
      }
    }
  }

  _resume() {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.skipAnimation) {
      this.finish();
    } else {
      _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.frameLoop.start(this);
    }
  }

  _stop(goal, cancel) {
    if (isAnimating(this)) {
      setActiveBit(this, false);
      const anim = this.animation;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(anim.values, node => {
        node.done = true;
      });

      if (anim.toValues) {
        anim.onChange = anim.onPause = anim.onResume = undefined;
      }

      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.callFluidObservers)(this, {
        type: 'idle',
        parent: this
      });
      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flushCalls)(this._pendingCalls, result);

      if (anim.changed) {
        anim.changed = false;
        sendEvent(this, 'onRest', result, this);
      }
    }
  }

}

function checkFinished(target, to) {
  const goal = computeGoal(to);
  const value = computeGoal(target.get());
  return (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(value, goal);
}

function createLoopUpdate(props, loop = props.loop, to = props.to) {
  let loopRet = callProp(loop);

  if (loopRet) {
    const overrides = loopRet !== true && inferTo(loopRet);
    const reverse = (overrides || props).reverse;
    const reset = !overrides || overrides.reset;
    return createUpdate(_extends({}, props, {
      loop,
      default: false,
      pause: undefined,
      to: !reverse || isAsyncTo(to) ? to : undefined,
      from: reset ? props.from : undefined,
      reset
    }, overrides));
  }
}
function createUpdate(props) {
  const {
    to,
    from
  } = props = inferTo(props);
  const keys = new Set();
  if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(to)) findDefined(to, keys);
  if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(from)) findDefined(from, keys);
  props.keys = keys.size ? Array.from(keys) : null;
  return props;
}
function declareUpdate(props) {
  const update = createUpdate(props);

  if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(update.default)) {
    update.default = getDefaultProps(update);
  }

  return update;
}

function findDefined(values, keys) {
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(values, (value, key) => value != null && keys.add(key));
}

const ACTIVE_EVENTS = ['onStart', 'onRest', 'onChange', 'onPause', 'onResume'];

function mergeActiveFn(target, props, type) {
  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : undefined;
}

function sendEvent(target, type, ...args) {
  var _target$animation$typ, _target$animation, _target$defaultProps$, _target$defaultProps;

  (_target$animation$typ = (_target$animation = target.animation)[type]) == null ? void 0 : _target$animation$typ.call(_target$animation, ...args);
  (_target$defaultProps$ = (_target$defaultProps = target.defaultProps)[type]) == null ? void 0 : _target$defaultProps$.call(_target$defaultProps, ...args);
}

const BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];
let nextId = 1;
class Controller {
  constructor(props, flush) {
    this.id = nextId++;
    this.springs = {};
    this.queue = [];
    this.ref = void 0;
    this._flush = void 0;
    this._initialProps = void 0;
    this._lastAsyncId = 0;
    this._active = new Set();
    this._changed = new Set();
    this._started = false;
    this._item = void 0;
    this._state = {
      paused: false,
      pauseQueue: new Set(),
      resumeQueue: new Set(),
      timeouts: new Set()
    };
    this._events = {
      onStart: new Map(),
      onChange: new Map(),
      onRest: new Map()
    };
    this._onFrame = this._onFrame.bind(this);

    if (flush) {
      this._flush = flush;
    }

    if (props) {
      this.start(_extends({
        default: true
      }, props));
    }
  }

  get idle() {
    return !this._state.asyncTo && Object.values(this.springs).every(spring => {
      return spring.idle && !spring.isDelayed && !spring.isPaused;
    });
  }

  get item() {
    return this._item;
  }

  set item(item) {
    this._item = item;
  }

  get() {
    const values = {};
    this.each((spring, key) => values[key] = spring.get());
    return values;
  }

  set(values) {
    for (const key in values) {
      const value = values[key];

      if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(value)) {
        this.springs[key].set(value);
      }
    }
  }

  update(props) {
    if (props) {
      this.queue.push(createUpdate(props));
    }

    return this;
  }

  start(props) {
    let {
      queue
    } = this;

    if (props) {
      queue = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(props).map(createUpdate);
    } else {
      this.queue = [];
    }

    if (this._flush) {
      return this._flush(this, queue);
    }

    prepareKeys(this, queue);
    return flushUpdateQueue(this, queue);
  }

  stop(arg, keys) {
    if (arg !== !!arg) {
      keys = arg;
    }

    if (keys) {
      const springs = this.springs;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(keys), key => springs[key].stop(!!arg));
    } else {
      stopAsync(this._state, this._lastAsyncId);
      this.each(spring => spring.stop(!!arg));
    }

    return this;
  }

  pause(keys) {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(keys)) {
      this.start({
        pause: true
      });
    } else {
      const springs = this.springs;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(keys), key => springs[key].pause());
    }

    return this;
  }

  resume(keys) {
    if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(keys)) {
      this.start({
        pause: false
      });
    } else {
      const springs = this.springs;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(keys), key => springs[key].resume());
    }

    return this;
  }

  each(iterator) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(this.springs, iterator);
  }

  _onFrame() {
    const {
      onStart,
      onChange,
      onRest
    } = this._events;
    const active = this._active.size > 0;
    const changed = this._changed.size > 0;

    if (active && !this._started || changed && !this._started) {
      this._started = true;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flush)(onStart, ([onStart, result]) => {
        result.value = this.get();
        onStart(result, this, this._item);
      });
    }

    const idle = !active && this._started;
    const values = changed || idle && onRest.size ? this.get() : null;

    if (changed && onChange.size) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flush)(onChange, ([onChange, result]) => {
        result.value = values;
        onChange(result, this, this._item);
      });
    }

    if (idle) {
      this._started = false;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flush)(onRest, ([onRest, result]) => {
        result.value = values;
        onRest(result, this, this._item);
      });
    }
  }

  eventObserved(event) {
    if (event.type == 'change') {
      this._changed.add(event.parent);

      if (!event.idle) {
        this._active.add(event.parent);
      }
    } else if (event.type == 'idle') {
      this._active.delete(event.parent);
    } else return;

    _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.onFrame(this._onFrame);
  }

}
function flushUpdateQueue(ctrl, queue) {
  return Promise.all(queue.map(props => flushUpdate(ctrl, props))).then(results => getCombinedResult(ctrl, results));
}
async function flushUpdate(ctrl, props, isLoop) {
  const {
    keys,
    to,
    from,
    loop,
    onRest,
    onResolve
  } = props;
  const defaults = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(props.default) && props.default;

  if (loop) {
    props.loop = false;
  }

  if (to === false) props.to = null;
  if (from === false) props.from = null;
  const asyncTo = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(to) || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(to) ? to : undefined;

  if (asyncTo) {
    props.to = undefined;
    props.onRest = undefined;

    if (defaults) {
      defaults.onRest = undefined;
    }
  } else {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(BATCHED_EVENTS, key => {
        const handler = props[key];

        if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(handler)) {
          const queue = ctrl['_events'][key];

          props[key] = ({
            finished,
            cancelled
          }) => {
            const result = queue.get(handler);

            if (result) {
              if (!finished) result.finished = false;
              if (cancelled) result.cancelled = true;
            } else {
              queue.set(handler, {
                value: null,
                finished: finished || false,
                cancelled: cancelled || false
              });
            }
          };

          if (defaults) {
            defaults[key] = props[key];
          }
        }
      });
    }

  const state = ctrl['_state'];

  if (props.pause === !state.paused) {
    state.paused = props.pause;
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.flushCalls)(props.pause ? state.pauseQueue : state.resumeQueue);
  } else if (state.paused) {
      props.pause = true;
    }

  const promises = (keys || Object.keys(ctrl.springs)).map(key => ctrl.springs[key].start(props));
  const cancel = props.cancel === true || getDefaultProp(props, 'cancel') === true;

  if (asyncTo || cancel && state.asyncId) {
    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {
      props,
      state,
      actions: {
        pause: _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.noop,
        resume: _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.noop,

        start(props, resolve) {
          if (cancel) {
            stopAsync(state, ctrl['_lastAsyncId']);
            resolve(getCancelledResult(ctrl));
          } else {
            props.onRest = onRest;
            resolve(runAsync(asyncTo, props, state, ctrl));
          }
        }

      }
    }));
  }

  if (state.paused) {
    await new Promise(resume => {
      state.resumeQueue.add(resume);
    });
  }

  const result = getCombinedResult(ctrl, await Promise.all(promises));

  if (loop && result.finished && !(isLoop && result.noop)) {
    const nextProps = createLoopUpdate(props, loop, to);

    if (nextProps) {
      prepareKeys(ctrl, [nextProps]);
      return flushUpdate(ctrl, nextProps, true);
    }
  }

  if (onResolve) {
    _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));
  }

  return result;
}
function getSprings(ctrl, props) {
  const springs = _extends({}, ctrl.springs);

  if (props) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(props), props => {
      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props.keys)) {
        props = createUpdate(props);
      }

      if (!_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(props.to)) {
        props = _extends({}, props, {
          to: undefined
        });
      }

      prepareSprings(springs, props, key => {
        return createSpring(key);
      });
    });
  }

  setSprings(ctrl, springs);
  return springs;
}
function setSprings(ctrl, springs) {
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.eachProp)(springs, (spring, key) => {
    if (!ctrl.springs[key]) {
      ctrl.springs[key] = spring;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.addFluidObserver)(spring, ctrl);
    }
  });
}

function createSpring(key, observer) {
  const spring = new SpringValue();
  spring.key = key;

  if (observer) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.addFluidObserver)(spring, observer);
  }

  return spring;
}

function prepareSprings(springs, props, create) {
  if (props.keys) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(props.keys, key => {
      const spring = springs[key] || (springs[key] = create(key));
      spring['_prepareNode'](props);
    });
  }
}

function prepareKeys(ctrl, queue) {
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(queue, props => {
    prepareSprings(ctrl.springs, props, key => {
      return createSpring(key, ctrl);
    });
  });
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

const _excluded$3 = ["children"];
const SpringContext = _ref => {
  let {
    children
  } = _ref,
      props = _objectWithoutPropertiesLoose(_ref, _excluded$3);

  const inherited = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ctx);
  const pause = props.pause || !!inherited.pause,
        immediate = props.immediate || !!inherited.immediate;
  props = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useMemoOne)(() => ({
    pause,
    immediate
  }), [pause, immediate]);
  const {
    Provider
  } = ctx;
  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(Provider, {
    value: props
  }, children);
};
const ctx = makeContext(SpringContext, {});
SpringContext.Provider = ctx.Provider;
SpringContext.Consumer = ctx.Consumer;

function makeContext(target, init) {
  Object.assign(target, react__WEBPACK_IMPORTED_MODULE_1__.createContext(init));
  target.Provider._context = target;
  target.Consumer._context = target;
  return target;
}

const SpringRef = () => {
  const current = [];

  const SpringRef = function SpringRef(props) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.deprecateDirectCall)();
    const results = [];
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, (ctrl, i) => {
      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props)) {
        results.push(ctrl.start());
      } else {
        const update = _getProps(props, ctrl, i);

        if (update) {
          results.push(ctrl.start(update));
        }
      }
    });
    return results;
  };

  SpringRef.current = current;

  SpringRef.add = function (ctrl) {
    if (!current.includes(ctrl)) {
      current.push(ctrl);
    }
  };

  SpringRef.delete = function (ctrl) {
    const i = current.indexOf(ctrl);
    if (~i) current.splice(i, 1);
  };

  SpringRef.pause = function () {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, ctrl => ctrl.pause(...arguments));
    return this;
  };

  SpringRef.resume = function () {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, ctrl => ctrl.resume(...arguments));
    return this;
  };

  SpringRef.set = function (values) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, ctrl => ctrl.set(values));
  };

  SpringRef.start = function (props) {
    const results = [];
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, (ctrl, i) => {
      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(props)) {
        results.push(ctrl.start());
      } else {
        const update = this._getProps(props, ctrl, i);

        if (update) {
          results.push(ctrl.start(update));
        }
      }
    });
    return results;
  };

  SpringRef.stop = function () {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, ctrl => ctrl.stop(...arguments));
    return this;
  };

  SpringRef.update = function (props) {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));
    return this;
  };

  const _getProps = function _getProps(arg, ctrl, index) {
    return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(arg) ? arg(index, ctrl) : arg;
  };

  SpringRef._getProps = _getProps;
  return SpringRef;
};

function useSprings(length, props, deps) {
  const propsFn = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(props) && props;
  if (propsFn && !deps) deps = [];
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);
  const layoutId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);
  const forceUpdate = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useForceUpdate)();
  const state = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({
    ctrls: [],
    queue: [],

    flush(ctrl, updates) {
      const springs = getSprings(ctrl, updates);
      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(key => !ctrl.springs[key]);
      return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(resolve => {
        setSprings(ctrl, springs);
        state.queue.push(() => {
          resolve(flushUpdateQueue(ctrl, updates));
        });
        forceUpdate();
      });
    }

  }), []);
  const ctrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([...state.ctrls]);
  const updates = [];
  const prevLength = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.usePrev)(length) || 0;
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ctrls.current.slice(length, prevLength), ctrl => {
      detachRefs(ctrl, ref);
      ctrl.stop(true);
    });
    ctrls.current.length = length;
    declareUpdates(prevLength, length);
  }, [length]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    declareUpdates(0, Math.min(prevLength, length));
  }, deps);

  function declareUpdates(startIndex, endIndex) {
    for (let i = startIndex; i < endIndex; i++) {
      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));
      const update = propsFn ? propsFn(i, ctrl) : props[i];

      if (update) {
        updates[i] = declareUpdate(update);
      }
    }
  }

  const springs = ctrls.current.map((ctrl, i) => getSprings(ctrl, updates[i]));
  const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SpringContext);
  const prevContext = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.usePrev)(context);
  const hasContext = context !== prevContext && hasProps(context);
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    layoutId.current++;
    state.ctrls = ctrls.current;
    const {
      queue
    } = state;

    if (queue.length) {
      state.queue = [];
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(queue, cb => cb());
    }

    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ctrls.current, (ctrl, i) => {
      ref == null ? void 0 : ref.add(ctrl);

      if (hasContext) {
        ctrl.start({
          default: context
        });
      }

      const update = updates[i];

      if (update) {
        replaceRef(ctrl, update.ref);

        if (ctrl.ref) {
          ctrl.queue.push(update);
        } else {
          ctrl.start(update);
        }
      }
    });
  });
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useOnce)(() => () => {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(state.ctrls, ctrl => ctrl.stop(true));
  });
  const values = springs.map(x => _extends({}, x));
  return ref ? [values, ref] : values;
}

function useSpring(props, deps) {
  const isFn = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(props);
  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);
  return isFn || arguments.length == 2 ? [values, ref] : values;
}

const initSpringRef = () => SpringRef();

const useSpringRef = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initSpringRef)[0];

function useTrail(length, propsArg, deps) {
  var _passedRef;

  const propsFn = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(propsArg) && propsArg;
  if (propsFn && !deps) deps = [];
  let reverse = true;
  let passedRef = undefined;
  const result = useSprings(length, (i, ctrl) => {
    const props = propsFn ? propsFn(i, ctrl) : propsArg;
    passedRef = props.ref;
    reverse = reverse && props.reverse;
    return props;
  }, deps || [{}]);
  const ref = (_passedRef = passedRef) != null ? _passedRef : result[1];
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ref.current, (ctrl, i) => {
      const parent = ref.current[i + (reverse ? 1 : -1)];

      if (parent) {
        ctrl.start({
          to: parent.springs
        });
      } else {
        ctrl.start();
      }
    });
  }, deps);

  ref['start'] = propsArg => {
    const results = [];
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(ref.current, (ctrl, i) => {
      const props = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;
      const parent = ref.current[i + (reverse ? 1 : -1)];

      if (parent) {
        results.push(ctrl.start(_extends({}, props, {
          to: parent.springs
        })));
      } else {
        results.push(ctrl.start(_extends({}, props)));
      }
    });
    return results;
  };

  if (propsFn || arguments.length == 3) {
    ref['_getProps'] = (propsArg, ctrl, i) => {
      const props = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;

      if (props) {
        const parent = ref.current[i + (props.reverse ? 1 : -1)];
        if (parent) props.to = parent.springs;
        return props;
      }
    };

    return result;
  }

  return result[0];
}

let TransitionPhase;

(function (TransitionPhase) {
  TransitionPhase["MOUNT"] = "mount";
  TransitionPhase["ENTER"] = "enter";
  TransitionPhase["UPDATE"] = "update";
  TransitionPhase["LEAVE"] = "leave";
})(TransitionPhase || (TransitionPhase = {}));

function useTransition(data, props, deps) {
  const propsFn = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(props) && props;
  const {
    reset,
    sort,
    trail = 0,
    expires = true,
    exitBeforeEnter = false,
    onDestroyed,
    ref: propsRef,
    config: propsConfig
  } = propsFn ? propsFn() : props;
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);
  const items = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(data);
  const transitions = [];
  const usedTransitions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const prevTransitions = reset ? null : usedTransitions.current;
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    usedTransitions.current = transitions;
  });
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useOnce)(() => () => {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(usedTransitions.current, t => {
      if (t.expired) {
        clearTimeout(t.expirationId);
      }

      detachRefs(t.ctrl, ref);
      t.ctrl.stop(true);
    });
  });
  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);
  const expired = reset && usedTransitions.current || [];
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(expired, ({
    ctrl,
    item,
    key
  }) => {
    detachRefs(ctrl, ref);
    callProp(onDestroyed, item, key);
  }));
  const reused = [];
  if (prevTransitions) (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(prevTransitions, (t, i) => {
    if (t.expired) {
      clearTimeout(t.expirationId);
      expired.push(t);
    } else {
      i = reused[i] = keys.indexOf(t.key);
      if (~i) transitions[i] = t;
    }
  });
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(items, (item, i) => {
    if (!transitions[i]) {
      transitions[i] = {
        key: keys[i],
        item,
        phase: TransitionPhase.MOUNT,
        ctrl: new Controller()
      };
      transitions[i].ctrl.item = item;
    }
  });

  if (reused.length) {
    let i = -1;
    const {
      leave
    } = propsFn ? propsFn() : props;
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(reused, (keyIndex, prevIndex) => {
      const t = prevTransitions[prevIndex];

      if (~keyIndex) {
        i = transitions.indexOf(t);
        transitions[i] = _extends({}, t, {
          item: items[keyIndex]
        });
      } else if (leave) {
        transitions.splice(++i, 0, t);
      }
    });
  }

  if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(sort)) {
    transitions.sort((a, b) => sort(a.item, b.item));
  }

  let delay = -trail;
  const forceUpdate = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useForceUpdate)();
  const defaultProps = getDefaultProps(props);
  const changes = new Map();
  const exitingTransitions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());
  const forceChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(transitions, (t, i) => {
    const key = t.key;
    const prevPhase = t.phase;
    const p = propsFn ? propsFn() : props;
    let to;
    let phase;
    let propsDelay = callProp(p.delay || 0, key);

    if (prevPhase == TransitionPhase.MOUNT) {
      to = p.enter;
      phase = TransitionPhase.ENTER;
    } else {
      const isLeave = keys.indexOf(key) < 0;

      if (prevPhase != TransitionPhase.LEAVE) {
        if (isLeave) {
          to = p.leave;
          phase = TransitionPhase.LEAVE;
        } else if (to = p.update) {
          phase = TransitionPhase.UPDATE;
        } else return;
      } else if (!isLeave) {
        to = p.enter;
        phase = TransitionPhase.ENTER;
      } else return;
    }

    to = callProp(to, t.item, i);
    to = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.obj(to) ? inferTo(to) : {
      to
    };

    if (!to.config) {
      const config = propsConfig || defaultProps.config;
      to.config = callProp(config, t.item, i, phase);
    }

    delay += trail;

    const payload = _extends({}, defaultProps, {
      delay: propsDelay + delay,
      ref: propsRef,
      immediate: p.immediate,
      reset: false
    }, to);

    if (phase == TransitionPhase.ENTER && _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(payload.from)) {
      const _p = propsFn ? propsFn() : props;

      const from = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(_p.initial) || prevTransitions ? _p.from : _p.initial;
      payload.from = callProp(from, t.item, i);
    }

    const {
      onResolve
    } = payload;

    payload.onResolve = result => {
      callProp(onResolve, result);
      const transitions = usedTransitions.current;
      const t = transitions.find(t => t.key === key);
      if (!t) return;

      if (result.cancelled && t.phase != TransitionPhase.UPDATE) {
        return;
      }

      if (t.ctrl.idle) {
        const idle = transitions.every(t => t.ctrl.idle);

        if (t.phase == TransitionPhase.LEAVE) {
          const expiry = callProp(expires, t.item);

          if (expiry !== false) {
            const expiryMs = expiry === true ? 0 : expiry;
            t.expired = true;

            if (!idle && expiryMs > 0) {
              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);
              return;
            }
          }
        }

        if (idle && transitions.some(t => t.expired)) {
          exitingTransitions.current.delete(t);

          if (exitBeforeEnter) {
            forceChange.current = true;
          }

          forceUpdate();
        }
      }
    };

    const springs = getSprings(t.ctrl, payload);

    if (phase === TransitionPhase.LEAVE && exitBeforeEnter) {
      exitingTransitions.current.set(t, {
        phase,
        springs,
        payload
      });
    } else {
      changes.set(t, {
        phase,
        springs,
        payload
      });
    }
  });
  const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SpringContext);
  const prevContext = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.usePrev)(context);
  const hasContext = context !== prevContext && hasProps(context);
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (hasContext) {
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(transitions, t => {
        t.ctrl.start({
          default: context
        });
      });
    }
  }, [context]);
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(changes, (_, t) => {
    if (exitingTransitions.current.size) {
      const ind = transitions.findIndex(state => state.key === t.key);
      transitions.splice(ind, 1);
    }
  });
  (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)(exitingTransitions.current.size ? exitingTransitions.current : changes, ({
      phase,
      payload
    }, t) => {
      const {
        ctrl
      } = t;
      t.phase = phase;
      ref == null ? void 0 : ref.add(ctrl);

      if (hasContext && phase == TransitionPhase.ENTER) {
        ctrl.start({
          default: context
        });
      }

      if (payload) {
        replaceRef(ctrl, payload.ref);

        if (ctrl.ref && !forceChange.current) {
          ctrl.update(payload);
        } else {
          ctrl.start(payload);

          if (forceChange.current) {
            forceChange.current = false;
          }
        }
      }
    });
  }, reset ? void 0 : deps);

  const renderTransitions = render => react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, transitions.map((t, i) => {
    const {
      springs
    } = changes.get(t) || t.ctrl;
    const elem = render(_extends({}, springs), t.item, t, i);
    return elem && elem.type ? react__WEBPACK_IMPORTED_MODULE_1__.createElement(elem.type, _extends({}, elem.props, {
      key: _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.str(t.key) || _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.num(t.key) ? t.key : t.ctrl.id,
      ref: elem.ref
    })) : elem;
  }));

  return ref ? [renderTransitions, ref] : renderTransitions;
}
let nextKey = 1;

function getKeys(items, {
  key,
  keys = key
}, prevTransitions) {
  if (keys === null) {
    const reused = new Set();
    return items.map(item => {
      const t = prevTransitions && prevTransitions.find(t => t.item === item && t.phase !== TransitionPhase.LEAVE && !reused.has(t));

      if (t) {
        reused.add(t);
        return t.key;
      }

      return nextKey++;
    });
  }

  return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.und(keys) ? items : _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(keys) ? items.map(keys) : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(keys);
}

const _excluded$2 = ["children"];
function Spring(_ref) {
  let {
    children
  } = _ref,
      props = _objectWithoutPropertiesLoose(_ref, _excluded$2);

  return children(useSpring(props));
}

const _excluded$1 = ["items", "children"];
function Trail(_ref) {
  let {
    items,
    children
  } = _ref,
      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);

  const trails = useTrail(items.length, props);
  return items.map((item, index) => {
    const result = children(item, index);
    return _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.fun(result) ? result(trails[index]) : result;
  });
}

const _excluded = ["items", "children"];
function Transition(_ref) {
  let {
    items,
    children
  } = _ref,
      props = _objectWithoutPropertiesLoose(_ref, _excluded);

  return useTransition(items, props)(children);
}

class Interpolation extends FrameValue {
  constructor(source, args) {
    super();
    this.key = void 0;
    this.idle = true;
    this.calc = void 0;
    this._active = new Set();
    this.source = source;
    this.calc = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.createInterpolator)(...args);

    const value = this._get();

    const nodeType = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimatedType)(value);
    (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.setAnimated)(this, nodeType.create(value));
  }

  advance(_dt) {
    const value = this._get();

    const oldValue = this.get();

    if (!(0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.isEqual)(value, oldValue)) {
      (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getAnimated)(this).setValue(value);

      this._onChange(value, this.idle);
    }

    if (!this.idle && checkIdle(this._active)) {
      becomeIdle(this);
    }
  }

  _get() {
    const inputs = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.is.arr(this.source) ? this.source.map(_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue) : (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.getFluidValue)(this.source));
    return this.calc(...inputs);
  }

  _start() {
    if (this.idle && !checkIdle(this._active)) {
      this.idle = false;
      (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getPayload)(this), node => {
        node.done = false;
      });

      if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.skipAnimation) {
        _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates(() => this.advance());
        becomeIdle(this);
      } else {
        _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.frameLoop.start(this);
      }
    }
  }

  _attach() {
    let priority = 1;
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.source), source => {
      if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(source)) {
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.addFluidObserver)(source, this);
      }

      if (isFrameValue(source)) {
        if (!source.idle) {
          this._active.add(source);
        }

        priority = Math.max(priority, source.priority + 1);
      }
    });
    this.priority = priority;

    this._start();
  }

  _detach() {
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.source), source => {
      if ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.hasFluidValue)(source)) {
        (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.removeFluidObserver)(source, this);
      }
    });

    this._active.clear();

    becomeIdle(this);
  }

  eventObserved(event) {
    if (event.type == 'change') {
      if (event.idle) {
        this.advance();
      } else {
        this._active.add(event.parent);

        this._start();
      }
    } else if (event.type == 'idle') {
        this._active.delete(event.parent);
      } else if (event.type == 'priority') {
          this.priority = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);
        }
  }

}

function isIdle(source) {
  return source.idle !== false;
}

function checkIdle(active) {
  return !active.size || Array.from(active).every(isIdle);
}

function becomeIdle(self) {
  if (!self.idle) {
    self.idle = true;
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.each)((0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_2__.getPayload)(self), node => {
      node.done = true;
    });
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.callFluidObservers)(self, {
      type: 'idle',
      parent: self
    });
  }
}

const to = (source, ...args) => new Interpolation(source, args);
const interpolate = (source, ...args) => ((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.deprecateInterpolate)(), new Interpolation(source, args));

_react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.Globals.assign({
  createStringInterpolator: _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.createStringInterpolator,
  to: (source, args) => new Interpolation(source, args)
});
const update = _react_spring_shared__WEBPACK_IMPORTED_MODULE_0__.frameLoop.advance;




/***/ }),

/***/ "./node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__raf": () => (/* binding */ __raf),
/* harmony export */   "raf": () => (/* binding */ raf)
/* harmony export */ });
let updateQueue = makeQueue();
const raf = fn => schedule(fn, updateQueue);
let writeQueue = makeQueue();

raf.write = fn => schedule(fn, writeQueue);

let onStartQueue = makeQueue();

raf.onStart = fn => schedule(fn, onStartQueue);

let onFrameQueue = makeQueue();

raf.onFrame = fn => schedule(fn, onFrameQueue);

let onFinishQueue = makeQueue();

raf.onFinish = fn => schedule(fn, onFinishQueue);

let timeouts = [];

raf.setTimeout = (handler, ms) => {
  let time = raf.now() + ms;

  let cancel = () => {
    let i = timeouts.findIndex(t => t.cancel == cancel);
    if (~i) timeouts.splice(i, 1);
    pendingCount -= ~i ? 1 : 0;
  };

  let timeout = {
    time,
    handler,
    cancel
  };
  timeouts.splice(findTimeout(time), 0, timeout);
  pendingCount += 1;
  start();
  return timeout;
};

let findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);

raf.cancel = fn => {
  onStartQueue.delete(fn);
  onFrameQueue.delete(fn);
  updateQueue.delete(fn);
  writeQueue.delete(fn);
  onFinishQueue.delete(fn);
};

raf.sync = fn => {
  sync = true;
  raf.batchedUpdates(fn);
  sync = false;
};

raf.throttle = fn => {
  let lastArgs;

  function queuedFn() {
    try {
      fn(...lastArgs);
    } finally {
      lastArgs = null;
    }
  }

  function throttled(...args) {
    lastArgs = args;
    raf.onStart(queuedFn);
  }

  throttled.handler = fn;

  throttled.cancel = () => {
    onStartQueue.delete(queuedFn);
    lastArgs = null;
  };

  return throttled;
};

let nativeRaf = typeof window != 'undefined' ? window.requestAnimationFrame : () => {};

raf.use = impl => nativeRaf = impl;

raf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now;

raf.batchedUpdates = fn => fn();

raf.catch = console.error;
raf.frameLoop = 'always';

raf.advance = () => {
  if (raf.frameLoop !== 'demand') {
    console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');
  } else {
    update();
  }
};

let ts = -1;
let pendingCount = 0;
let sync = false;

function schedule(fn, queue) {
  if (sync) {
    queue.delete(fn);
    fn(0);
  } else {
    queue.add(fn);
    start();
  }
}

function start() {
  if (ts < 0) {
    ts = 0;

    if (raf.frameLoop !== 'demand') {
      nativeRaf(loop);
    }
  }
}

function stop() {
  ts = -1;
}

function loop() {
  if (~ts) {
    nativeRaf(loop);
    raf.batchedUpdates(update);
  }
}

function update() {
  let prevTs = ts;
  ts = raf.now();
  let count = findTimeout(ts);

  if (count) {
    eachSafely(timeouts.splice(0, count), t => t.handler());
    pendingCount -= count;
  }

  onStartQueue.flush();
  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);
  onFrameQueue.flush();
  writeQueue.flush();
  onFinishQueue.flush();

  if (!pendingCount) {
    stop();
  }
}

function makeQueue() {
  let next = new Set();
  let current = next;
  return {
    add(fn) {
      pendingCount += current == next && !next.has(fn) ? 1 : 0;
      next.add(fn);
    },

    delete(fn) {
      pendingCount -= current == next && next.has(fn) ? 1 : 0;
      return next.delete(fn);
    },

    flush(arg) {
      if (current.size) {
        next = new Set();
        pendingCount -= current.size;
        eachSafely(current, fn => fn(arg) && next.add(fn));
        pendingCount += next.size;
        current = next;
      }
    }

  };
}

function eachSafely(values, each) {
  values.forEach(value => {
    try {
      each(value);
    } catch (e) {
      raf.catch(e);
    }
  });
}

const __raf = {
  count() {
    return pendingCount;
  },

  isRunning() {
    return ts >= 0;
  },

  clear() {
    ts = -1;
    timeouts = [];
    onStartQueue = makeQueue();
    updateQueue = makeQueue();
    onFrameQueue = makeQueue();
    writeQueue = makeQueue();
    onFinishQueue = makeQueue();
    pendingCount = 0;
  }

};




/***/ }),

/***/ "./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "raf": () => (/* reexport safe */ _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf),
/* harmony export */   "FluidValue": () => (/* binding */ FluidValue),
/* harmony export */   "Globals": () => (/* binding */ globals),
/* harmony export */   "addFluidObserver": () => (/* binding */ addFluidObserver),
/* harmony export */   "callFluidObserver": () => (/* binding */ callFluidObserver),
/* harmony export */   "callFluidObservers": () => (/* binding */ callFluidObservers),
/* harmony export */   "colorToRgba": () => (/* binding */ colorToRgba),
/* harmony export */   "colors": () => (/* binding */ colors),
/* harmony export */   "createInterpolator": () => (/* binding */ createInterpolator),
/* harmony export */   "createStringInterpolator": () => (/* binding */ createStringInterpolator),
/* harmony export */   "defineHidden": () => (/* binding */ defineHidden),
/* harmony export */   "deprecateDirectCall": () => (/* binding */ deprecateDirectCall),
/* harmony export */   "deprecateInterpolate": () => (/* binding */ deprecateInterpolate),
/* harmony export */   "each": () => (/* binding */ each),
/* harmony export */   "eachProp": () => (/* binding */ eachProp),
/* harmony export */   "flush": () => (/* binding */ flush),
/* harmony export */   "flushCalls": () => (/* binding */ flushCalls),
/* harmony export */   "frameLoop": () => (/* binding */ frameLoop),
/* harmony export */   "getFluidObservers": () => (/* binding */ getFluidObservers),
/* harmony export */   "getFluidValue": () => (/* binding */ getFluidValue),
/* harmony export */   "hasFluidValue": () => (/* binding */ hasFluidValue),
/* harmony export */   "hex3": () => (/* binding */ hex3),
/* harmony export */   "hex4": () => (/* binding */ hex4),
/* harmony export */   "hex6": () => (/* binding */ hex6),
/* harmony export */   "hex8": () => (/* binding */ hex8),
/* harmony export */   "hsl": () => (/* binding */ hsl),
/* harmony export */   "hsla": () => (/* binding */ hsla),
/* harmony export */   "is": () => (/* binding */ is),
/* harmony export */   "isAnimatedString": () => (/* binding */ isAnimatedString),
/* harmony export */   "isEqual": () => (/* binding */ isEqual),
/* harmony export */   "isSSR": () => (/* binding */ isSSR),
/* harmony export */   "noop": () => (/* binding */ noop),
/* harmony export */   "removeFluidObserver": () => (/* binding */ removeFluidObserver),
/* harmony export */   "rgb": () => (/* binding */ rgb),
/* harmony export */   "rgba": () => (/* binding */ rgba),
/* harmony export */   "setFluidGetter": () => (/* binding */ setFluidGetter),
/* harmony export */   "toArray": () => (/* binding */ toArray),
/* harmony export */   "useForceUpdate": () => (/* binding */ useForceUpdate),
/* harmony export */   "useLayoutEffect": () => (/* binding */ useLayoutEffect),
/* harmony export */   "useMemoOne": () => (/* binding */ useMemoOne),
/* harmony export */   "useOnce": () => (/* binding */ useOnce),
/* harmony export */   "usePrev": () => (/* binding */ usePrev)
/* harmony export */ });
/* harmony import */ var _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/rafz */ "./node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function noop() {}
const defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {
  value,
  writable: true,
  configurable: true
});
const is = {
  arr: Array.isArray,
  obj: a => !!a && a.constructor.name === 'Object',
  fun: a => typeof a === 'function',
  str: a => typeof a === 'string',
  num: a => typeof a === 'number',
  und: a => a === undefined
};
function isEqual(a, b) {
  if (is.arr(a)) {
    if (!is.arr(b) || a.length !== b.length) return false;

    for (let i = 0; i < a.length; i++) {
      if (a[i] !== b[i]) return false;
    }

    return true;
  }

  return a === b;
}
const each = (obj, fn) => obj.forEach(fn);
function eachProp(obj, fn, ctx) {
  if (is.arr(obj)) {
    for (let i = 0; i < obj.length; i++) {
      fn.call(ctx, obj[i], `${i}`);
    }

    return;
  }

  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      fn.call(ctx, obj[key], key);
    }
  }
}
const toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];
function flush(queue, iterator) {
  if (queue.size) {
    const items = Array.from(queue);
    queue.clear();
    each(items, iterator);
  }
}
const flushCalls = (queue, ...args) => flush(queue, fn => fn(...args));
const isSSR = () => typeof window === 'undefined' || !window.navigator || /ServerSideRendering|^Deno\//.test(window.navigator.userAgent);

let createStringInterpolator$1;
let to;
let colors$1 = null;
let skipAnimation = false;
let willAdvance = noop;
const assign = globals => {
  if (globals.to) to = globals.to;
  if (globals.now) _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.now = globals.now;
  if (globals.colors !== undefined) colors$1 = globals.colors;
  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;
  if (globals.createStringInterpolator) createStringInterpolator$1 = globals.createStringInterpolator;
  if (globals.requestAnimationFrame) _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.use(globals.requestAnimationFrame);
  if (globals.batchedUpdates) _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.batchedUpdates = globals.batchedUpdates;
  if (globals.willAdvance) willAdvance = globals.willAdvance;
  if (globals.frameLoop) _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.frameLoop = globals.frameLoop;
};

var globals = /*#__PURE__*/Object.freeze({
  __proto__: null,
  get createStringInterpolator () { return createStringInterpolator$1; },
  get to () { return to; },
  get colors () { return colors$1; },
  get skipAnimation () { return skipAnimation; },
  get willAdvance () { return willAdvance; },
  assign: assign
});

const startQueue = new Set();
let currentFrame = [];
let prevFrame = [];
let priority = 0;
const frameLoop = {
  get idle() {
    return !startQueue.size && !currentFrame.length;
  },

  start(animation) {
    if (priority > animation.priority) {
      startQueue.add(animation);
      _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.onStart(flushStartQueue);
    } else {
      startSafely(animation);
      (0,_react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf)(advance);
    }
  },

  advance,

  sort(animation) {
    if (priority) {
      _react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf.onFrame(() => frameLoop.sort(animation));
    } else {
      const prevIndex = currentFrame.indexOf(animation);

      if (~prevIndex) {
        currentFrame.splice(prevIndex, 1);
        startUnsafely(animation);
      }
    }
  },

  clear() {
    currentFrame = [];
    startQueue.clear();
  }

};

function flushStartQueue() {
  startQueue.forEach(startSafely);
  startQueue.clear();
  (0,_react_spring_rafz__WEBPACK_IMPORTED_MODULE_0__.raf)(advance);
}

function startSafely(animation) {
  if (!currentFrame.includes(animation)) startUnsafely(animation);
}

function startUnsafely(animation) {
  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);
}

function advance(dt) {
  const nextFrame = prevFrame;

  for (let i = 0; i < currentFrame.length; i++) {
    const animation = currentFrame[i];
    priority = animation.priority;

    if (!animation.idle) {
      willAdvance(animation);
      animation.advance(dt);

      if (!animation.idle) {
        nextFrame.push(animation);
      }
    }
  }

  priority = 0;
  prevFrame = currentFrame;
  prevFrame.length = 0;
  currentFrame = nextFrame;
  return currentFrame.length > 0;
}

function findIndex(arr, test) {
  const index = arr.findIndex(test);
  return index < 0 ? arr.length : index;
}

const colors = {
  transparent: 0x00000000,
  aliceblue: 0xf0f8ffff,
  antiquewhite: 0xfaebd7ff,
  aqua: 0x00ffffff,
  aquamarine: 0x7fffd4ff,
  azure: 0xf0ffffff,
  beige: 0xf5f5dcff,
  bisque: 0xffe4c4ff,
  black: 0x000000ff,
  blanchedalmond: 0xffebcdff,
  blue: 0x0000ffff,
  blueviolet: 0x8a2be2ff,
  brown: 0xa52a2aff,
  burlywood: 0xdeb887ff,
  burntsienna: 0xea7e5dff,
  cadetblue: 0x5f9ea0ff,
  chartreuse: 0x7fff00ff,
  chocolate: 0xd2691eff,
  coral: 0xff7f50ff,
  cornflowerblue: 0x6495edff,
  cornsilk: 0xfff8dcff,
  crimson: 0xdc143cff,
  cyan: 0x00ffffff,
  darkblue: 0x00008bff,
  darkcyan: 0x008b8bff,
  darkgoldenrod: 0xb8860bff,
  darkgray: 0xa9a9a9ff,
  darkgreen: 0x006400ff,
  darkgrey: 0xa9a9a9ff,
  darkkhaki: 0xbdb76bff,
  darkmagenta: 0x8b008bff,
  darkolivegreen: 0x556b2fff,
  darkorange: 0xff8c00ff,
  darkorchid: 0x9932ccff,
  darkred: 0x8b0000ff,
  darksalmon: 0xe9967aff,
  darkseagreen: 0x8fbc8fff,
  darkslateblue: 0x483d8bff,
  darkslategray: 0x2f4f4fff,
  darkslategrey: 0x2f4f4fff,
  darkturquoise: 0x00ced1ff,
  darkviolet: 0x9400d3ff,
  deeppink: 0xff1493ff,
  deepskyblue: 0x00bfffff,
  dimgray: 0x696969ff,
  dimgrey: 0x696969ff,
  dodgerblue: 0x1e90ffff,
  firebrick: 0xb22222ff,
  floralwhite: 0xfffaf0ff,
  forestgreen: 0x228b22ff,
  fuchsia: 0xff00ffff,
  gainsboro: 0xdcdcdcff,
  ghostwhite: 0xf8f8ffff,
  gold: 0xffd700ff,
  goldenrod: 0xdaa520ff,
  gray: 0x808080ff,
  green: 0x008000ff,
  greenyellow: 0xadff2fff,
  grey: 0x808080ff,
  honeydew: 0xf0fff0ff,
  hotpink: 0xff69b4ff,
  indianred: 0xcd5c5cff,
  indigo: 0x4b0082ff,
  ivory: 0xfffff0ff,
  khaki: 0xf0e68cff,
  lavender: 0xe6e6faff,
  lavenderblush: 0xfff0f5ff,
  lawngreen: 0x7cfc00ff,
  lemonchiffon: 0xfffacdff,
  lightblue: 0xadd8e6ff,
  lightcoral: 0xf08080ff,
  lightcyan: 0xe0ffffff,
  lightgoldenrodyellow: 0xfafad2ff,
  lightgray: 0xd3d3d3ff,
  lightgreen: 0x90ee90ff,
  lightgrey: 0xd3d3d3ff,
  lightpink: 0xffb6c1ff,
  lightsalmon: 0xffa07aff,
  lightseagreen: 0x20b2aaff,
  lightskyblue: 0x87cefaff,
  lightslategray: 0x778899ff,
  lightslategrey: 0x778899ff,
  lightsteelblue: 0xb0c4deff,
  lightyellow: 0xffffe0ff,
  lime: 0x00ff00ff,
  limegreen: 0x32cd32ff,
  linen: 0xfaf0e6ff,
  magenta: 0xff00ffff,
  maroon: 0x800000ff,
  mediumaquamarine: 0x66cdaaff,
  mediumblue: 0x0000cdff,
  mediumorchid: 0xba55d3ff,
  mediumpurple: 0x9370dbff,
  mediumseagreen: 0x3cb371ff,
  mediumslateblue: 0x7b68eeff,
  mediumspringgreen: 0x00fa9aff,
  mediumturquoise: 0x48d1ccff,
  mediumvioletred: 0xc71585ff,
  midnightblue: 0x191970ff,
  mintcream: 0xf5fffaff,
  mistyrose: 0xffe4e1ff,
  moccasin: 0xffe4b5ff,
  navajowhite: 0xffdeadff,
  navy: 0x000080ff,
  oldlace: 0xfdf5e6ff,
  olive: 0x808000ff,
  olivedrab: 0x6b8e23ff,
  orange: 0xffa500ff,
  orangered: 0xff4500ff,
  orchid: 0xda70d6ff,
  palegoldenrod: 0xeee8aaff,
  palegreen: 0x98fb98ff,
  paleturquoise: 0xafeeeeff,
  palevioletred: 0xdb7093ff,
  papayawhip: 0xffefd5ff,
  peachpuff: 0xffdab9ff,
  peru: 0xcd853fff,
  pink: 0xffc0cbff,
  plum: 0xdda0ddff,
  powderblue: 0xb0e0e6ff,
  purple: 0x800080ff,
  rebeccapurple: 0x663399ff,
  red: 0xff0000ff,
  rosybrown: 0xbc8f8fff,
  royalblue: 0x4169e1ff,
  saddlebrown: 0x8b4513ff,
  salmon: 0xfa8072ff,
  sandybrown: 0xf4a460ff,
  seagreen: 0x2e8b57ff,
  seashell: 0xfff5eeff,
  sienna: 0xa0522dff,
  silver: 0xc0c0c0ff,
  skyblue: 0x87ceebff,
  slateblue: 0x6a5acdff,
  slategray: 0x708090ff,
  slategrey: 0x708090ff,
  snow: 0xfffafaff,
  springgreen: 0x00ff7fff,
  steelblue: 0x4682b4ff,
  tan: 0xd2b48cff,
  teal: 0x008080ff,
  thistle: 0xd8bfd8ff,
  tomato: 0xff6347ff,
  turquoise: 0x40e0d0ff,
  violet: 0xee82eeff,
  wheat: 0xf5deb3ff,
  white: 0xffffffff,
  whitesmoke: 0xf5f5f5ff,
  yellow: 0xffff00ff,
  yellowgreen: 0x9acd32ff
};

const NUMBER = '[-+]?\\d*\\.?\\d+';
const PERCENTAGE = NUMBER + '%';

function call(...parts) {
  return '\\(\\s*(' + parts.join(')\\s*,\\s*(') + ')\\s*\\)';
}

const rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));
const rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));
const hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));
const hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));
const hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
const hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
const hex6 = /^#([0-9a-fA-F]{6})$/;
const hex8 = /^#([0-9a-fA-F]{8})$/;

function normalizeColor(color) {
  let match;

  if (typeof color === 'number') {
    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;
  }

  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;

  if (colors$1 && colors$1[color] !== undefined) {
    return colors$1[color];
  }

  if (match = rgb.exec(color)) {
    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 0x000000ff) >>> 0;
  }

  if (match = rgba.exec(color)) {
    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;
  }

  if (match = hex3.exec(color)) {
    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + 'ff', 16) >>> 0;
  }

  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;

  if (match = hex4.exec(color)) {
    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;
  }

  if (match = hsl.exec(color)) {
    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 0x000000ff) >>> 0;
  }

  if (match = hsla.exec(color)) {
    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;
  }

  return null;
}

function hue2rgb(p, q, t) {
  if (t < 0) t += 1;
  if (t > 1) t -= 1;
  if (t < 1 / 6) return p + (q - p) * 6 * t;
  if (t < 1 / 2) return q;
  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
  return p;
}

function hslToRgb(h, s, l) {
  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
  const p = 2 * l - q;
  const r = hue2rgb(p, q, h + 1 / 3);
  const g = hue2rgb(p, q, h);
  const b = hue2rgb(p, q, h - 1 / 3);
  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;
}

function parse255(str) {
  const int = parseInt(str, 10);
  if (int < 0) return 0;
  if (int > 255) return 255;
  return int;
}

function parse360(str) {
  const int = parseFloat(str);
  return (int % 360 + 360) % 360 / 360;
}

function parse1(str) {
  const num = parseFloat(str);
  if (num < 0) return 0;
  if (num > 1) return 255;
  return Math.round(num * 255);
}

function parsePercentage(str) {
  const int = parseFloat(str);
  if (int < 0) return 0;
  if (int > 100) return 1;
  return int / 100;
}

function colorToRgba(input) {
  let int32Color = normalizeColor(input);
  if (int32Color === null) return input;
  int32Color = int32Color || 0;
  let r = (int32Color & 0xff000000) >>> 24;
  let g = (int32Color & 0x00ff0000) >>> 16;
  let b = (int32Color & 0x0000ff00) >>> 8;
  let a = (int32Color & 0x000000ff) / 255;
  return `rgba(${r}, ${g}, ${b}, ${a})`;
}

const createInterpolator = (range, output, extrapolate) => {
  if (is.fun(range)) {
    return range;
  }

  if (is.arr(range)) {
    return createInterpolator({
      range,
      output: output,
      extrapolate
    });
  }

  if (is.str(range.output[0])) {
    return createStringInterpolator$1(range);
  }

  const config = range;
  const outputRange = config.output;
  const inputRange = config.range || [0, 1];
  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';
  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';

  const easing = config.easing || (t => t);

  return input => {
    const range = findRange(input, inputRange);
    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);
  };
};

function interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {
  let result = map ? map(input) : input;

  if (result < inputMin) {
    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;
  }

  if (result > inputMax) {
    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;
  }

  if (outputMin === outputMax) return outputMin;
  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;
  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);
  result = easing(result);
  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;
  return result;
}

function findRange(input, inputRange) {
  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;

  return i - 1;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

const $get = Symbol.for('FluidValue.get');
const $observers = Symbol.for('FluidValue.observers');

const hasFluidValue = arg => Boolean(arg && arg[$get]);

const getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;

const getFluidObservers = target => target[$observers] || null;

function callFluidObserver(observer, event) {
  if (observer.eventObserved) {
    observer.eventObserved(event);
  } else {
    observer(event);
  }
}

function callFluidObservers(target, event) {
  let observers = target[$observers];

  if (observers) {
    observers.forEach(observer => {
      callFluidObserver(observer, event);
    });
  }
}

class FluidValue {
  constructor(get) {
    this[$get] = void 0;
    this[$observers] = void 0;

    if (!get && !(get = this.get)) {
      throw Error('Unknown getter');
    }

    setFluidGetter(this, get);
  }

}

const setFluidGetter = (target, get) => setHidden(target, $get, get);

function addFluidObserver(target, observer) {
  if (target[$get]) {
    let observers = target[$observers];

    if (!observers) {
      setHidden(target, $observers, observers = new Set());
    }

    if (!observers.has(observer)) {
      observers.add(observer);

      if (target.observerAdded) {
        target.observerAdded(observers.size, observer);
      }
    }
  }

  return observer;
}

function removeFluidObserver(target, observer) {
  let observers = target[$observers];

  if (observers && observers.has(observer)) {
    const count = observers.size - 1;

    if (count) {
      observers.delete(observer);
    } else {
      target[$observers] = null;
    }

    if (target.observerRemoved) {
      target.observerRemoved(count, observer);
    }
  }
}

const setHidden = (target, key, value) => Object.defineProperty(target, key, {
  value,
  writable: true,
  configurable: true
});

const numberRegex = /[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;
const colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;
const unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i');
const rgbaRegex = /rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi;
const cssVariableRegex = /var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;

const variableToRgba = input => {
  const [token, fallback] = parseCSSVariable(input);

  if (!token || isSSR()) {
    return input;
  }

  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);

  if (value) {
    return value.trim();
  } else if (fallback && fallback.startsWith('--')) {
    const _value = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);

    if (_value) {
      return _value;
    } else {
      return input;
    }
  } else if (fallback && cssVariableRegex.test(fallback)) {
    return variableToRgba(fallback);
  } else if (fallback) {
    return fallback;
  }

  return input;
};

const parseCSSVariable = current => {
  const match = cssVariableRegex.exec(current);
  if (!match) return [,];
  const [, token, fallback] = match;
  return [token, fallback];
};

let namedColorRegex;

const rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;

const createStringInterpolator = config => {
  if (!namedColorRegex) namedColorRegex = colors$1 ? new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\w)`, 'g') : /^\b$/;
  const output = config.output.map(value => {
    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);
  });
  const keyframes = output.map(value => value.match(numberRegex).map(Number));
  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {
    if (!(i in values)) {
      throw Error('The arity of each "output" value must be equal');
    }

    return values[i];
  }));
  const interpolators = outputRanges.map(output => createInterpolator(_extends({}, config, {
    output
  })));
  return input => {
    var _output$find;

    const missingUnit = !unitRegex.test(output[0]) && ((_output$find = output.find(value => unitRegex.test(value))) == null ? void 0 : _output$find.replace(numberRegex, ''));
    let i = 0;
    return output[0].replace(numberRegex, () => `${interpolators[i++](input)}${missingUnit || ''}`).replace(rgbaRegex, rgbaRound);
  };
};

const prefix = 'react-spring: ';

const once = fn => {
  const func = fn;
  let called = false;

  if (typeof func != 'function') {
    throw new TypeError(`${prefix}once requires a function parameter`);
  }

  return (...args) => {
    if (!called) {
      func(...args);
      called = true;
    }
  };
};

const warnInterpolate = once(console.warn);
function deprecateInterpolate() {
  warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`);
}
const warnDirectCall = once(console.warn);
function deprecateDirectCall() {
  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);
}

function isAnimatedString(value) {
  return is.str(value) && (value[0] == '#' || /\d/.test(value) || !isSSR() && cssVariableRegex.test(value) || value in (colors$1 || {}));
}

const useOnce = effect => (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(effect, emptyDeps);
const emptyDeps = [];

function useForceUpdate() {
  const update = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)()[1];
  const mounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(makeMountedRef)[0];
  useOnce(mounted.unmount);
  return () => {
    if (mounted.current) {
      update({});
    }
  };
}

function makeMountedRef() {
  const mounted = {
    current: true,
    unmount: () => () => {
      mounted.current = false;
    }
  };
  return mounted;
}

function useMemoOne(getResult, inputs) {
  const [initial] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => ({
    inputs,
    result: getResult()
  }));
  const committed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
  const prevCache = committed.current;
  let cache = prevCache;

  if (cache) {
    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));

    if (!useCache) {
      cache = {
        inputs,
        result: getResult()
      };
    }
  } else {
    cache = initial;
  }

  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    committed.current = cache;

    if (prevCache == initial) {
      initial.inputs = initial.result = undefined;
    }
  }, [cache]);
  return cache.result;
}

function areInputsEqual(next, prev) {
  if (next.length !== prev.length) {
    return false;
  }

  for (let i = 0; i < next.length; i++) {
    if (next[i] !== prev[i]) {
      return false;
    }
  }

  return true;
}

function usePrev(value) {
  const prevRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    prevRef.current = value;
  });
  return prevRef.current;
}

const useLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_1__.useEffect;




/***/ }),

/***/ "./node_modules/@react-spring/types/animated.js":
/*!******************************************************!*\
  !*** ./node_modules/@react-spring/types/animated.js ***!
  \******************************************************/
/***/ (() => {



/***/ }),

/***/ "./node_modules/@react-spring/types/interpolation.js":
/*!***********************************************************!*\
  !*** ./node_modules/@react-spring/types/interpolation.js ***!
  \***********************************************************/
/***/ (() => {



/***/ }),

/***/ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-spring/web/dist/react-spring-web.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ animated),
/* harmony export */   "animated": () => (/* binding */ animated)
/* harmony export */ });
/* harmony import */ var _react_spring_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/core */ "./node_modules/@react-spring/core/dist/react-spring-core.esm.js");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _react_spring_core__WEBPACK_IMPORTED_MODULE_0__) if(["default","a","animated"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _react_spring_core__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/shared */ "./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js");
/* harmony import */ var _react_spring_animated__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-spring/animated */ "./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js");






function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

const _excluded$2 = ["style", "children", "scrollTop", "scrollLeft"];
const isCustomPropRE = /^--/;

function dangerousStyleValue(name, value) {
  if (value == null || typeof value === 'boolean' || value === '') return '';
  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px';
  return ('' + value).trim();
}

const attributeCache = {};
function applyAnimatedValues(instance, props) {
  if (!instance.nodeType || !instance.setAttribute) {
    return false;
  }

  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';

  const _ref = props,
        {
    style,
    children,
    scrollTop,
    scrollLeft
  } = _ref,
        attributes = _objectWithoutPropertiesLoose(_ref, _excluded$2);

  const values = Object.values(attributes);
  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase())));

  if (children !== void 0) {
    instance.textContent = children;
  }

  for (let name in style) {
    if (style.hasOwnProperty(name)) {
      const value = dangerousStyleValue(name, style[name]);

      if (isCustomPropRE.test(name)) {
        instance.style.setProperty(name, value);
      } else {
        instance.style[name] = value;
      }
    }
  }

  names.forEach((name, i) => {
    instance.setAttribute(name, values[i]);
  });

  if (scrollTop !== void 0) {
    instance.scrollTop = scrollTop;
  }

  if (scrollLeft !== void 0) {
    instance.scrollLeft = scrollLeft;
  }
}
let isUnitlessNumber = {
  animationIterationCount: true,
  borderImageOutset: true,
  borderImageSlice: true,
  borderImageWidth: true,
  boxFlex: true,
  boxFlexGroup: true,
  boxOrdinalGroup: true,
  columnCount: true,
  columns: true,
  flex: true,
  flexGrow: true,
  flexPositive: true,
  flexShrink: true,
  flexNegative: true,
  flexOrder: true,
  gridRow: true,
  gridRowEnd: true,
  gridRowSpan: true,
  gridRowStart: true,
  gridColumn: true,
  gridColumnEnd: true,
  gridColumnSpan: true,
  gridColumnStart: true,
  fontWeight: true,
  lineClamp: true,
  lineHeight: true,
  opacity: true,
  order: true,
  orphans: true,
  tabSize: true,
  widows: true,
  zIndex: true,
  zoom: true,
  fillOpacity: true,
  floodOpacity: true,
  stopOpacity: true,
  strokeDasharray: true,
  strokeDashoffset: true,
  strokeMiterlimit: true,
  strokeOpacity: true,
  strokeWidth: true
};

const prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);

const prefixes = ['Webkit', 'Ms', 'Moz', 'O'];
isUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {
  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);
  return acc;
}, isUnitlessNumber);

const _excluded$1 = ["x", "y", "z"];
const domTransforms = /^(matrix|translate|scale|rotate|skew)/;
const pxTransforms = /^(translate)/;
const degTransforms = /^(rotate|skew)/;

const addUnit = (value, unit) => _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.is.num(value) && value !== 0 ? value + unit : value;

const isValueIdentity = (value, id) => _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.is.arr(value) ? value.every(v => isValueIdentity(v, id)) : _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.is.num(value) ? value === id : parseFloat(value) === id;

class AnimatedStyle extends _react_spring_animated__WEBPACK_IMPORTED_MODULE_3__.AnimatedObject {
  constructor(_ref) {
    let {
      x,
      y,
      z
    } = _ref,
        style = _objectWithoutPropertiesLoose(_ref, _excluded$1);

    const inputs = [];
    const transforms = [];

    if (x || y || z) {
      inputs.push([x || 0, y || 0, z || 0]);
      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);
    }

    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.eachProp)(style, (value, key) => {
      if (key === 'transform') {
        inputs.push([value || '']);
        transforms.push(transform => [transform, transform === '']);
      } else if (domTransforms.test(key)) {
        delete style[key];
        if (_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.is.und(value)) return;
        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';
        inputs.push((0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.toArray)(value));
        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);
      }
    });

    if (inputs.length) {
      style.transform = new FluidTransform(inputs, transforms);
    }

    super(style);
  }

}

class FluidTransform extends _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.FluidValue {
  constructor(inputs, transforms) {
    super();
    this._value = null;
    this.inputs = inputs;
    this.transforms = transforms;
  }

  get() {
    return this._value || (this._value = this._get());
  }

  _get() {
    let transform = '';
    let identity = true;
    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.each)(this.inputs, (input, i) => {
      const arg1 = (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.getFluidValue)(input[0]);
      const [t, id] = this.transforms[i](_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.is.arr(arg1) ? arg1 : input.map(_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.getFluidValue));
      transform += ' ' + t;
      identity = identity && id;
    });
    return identity ? 'none' : transform;
  }

  observerAdded(count) {
    if (count == 1) (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.each)(this.inputs, input => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.each)(input, value => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.hasFluidValue)(value) && (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.addFluidObserver)(value, this)));
  }

  observerRemoved(count) {
    if (count == 0) (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.each)(this.inputs, input => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.each)(input, value => (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.hasFluidValue)(value) && (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.removeFluidObserver)(value, this)));
  }

  eventObserved(event) {
    if (event.type == 'change') {
      this._value = null;
    }

    (0,_react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.callFluidObservers)(this, event);
  }

}

const primitives = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', 'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];

const _excluded = ["scrollTop", "scrollLeft"];
_react_spring_core__WEBPACK_IMPORTED_MODULE_0__.Globals.assign({
  batchedUpdates: react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates,
  createStringInterpolator: _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.createStringInterpolator,
  colors: _react_spring_shared__WEBPACK_IMPORTED_MODULE_2__.colors
});
const host = (0,_react_spring_animated__WEBPACK_IMPORTED_MODULE_3__.createHost)(primitives, {
  applyAnimatedValues,
  createAnimatedStyle: style => new AnimatedStyle(style),
  getComponentProps: _ref => {
    let props = _objectWithoutPropertiesLoose(_ref, _excluded);

    return props;
  }
});
const animated = host.animated;




/***/ }),

/***/ "./node_modules/@use-gesture/core/actions/dist/use-gesture-core-actions.esm.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@use-gesture/core/actions/dist/use-gesture-core-actions.esm.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConfigResolverMap": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.C),
/* harmony export */   "EngineMap": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.E),
/* harmony export */   "dragAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.e),
/* harmony export */   "hoverAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.h),
/* harmony export */   "moveAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.m),
/* harmony export */   "pinchAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.p),
/* harmony export */   "registerAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.r),
/* harmony export */   "scrollAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.s),
/* harmony export */   "wheelAction": () => (/* reexport safe */ _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.w)
/* harmony export */ });
/* harmony import */ var _dist_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dist/actions-fd032a26.esm.js */ "./node_modules/@use-gesture/core/dist/actions-fd032a26.esm.js");




/***/ }),

/***/ "./node_modules/@use-gesture/core/dist/actions-fd032a26.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@use-gesture/core/dist/actions-fd032a26.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* binding */ ConfigResolverMap),
/* harmony export */   "E": () => (/* binding */ EngineMap),
/* harmony export */   "S": () => (/* binding */ SUPPORT),
/* harmony export */   "_": () => (/* binding */ _objectSpread2),
/* harmony export */   "a": () => (/* binding */ _defineProperty),
/* harmony export */   "b": () => (/* binding */ touchIds),
/* harmony export */   "c": () => (/* binding */ chain),
/* harmony export */   "d": () => (/* binding */ toHandlerProp),
/* harmony export */   "e": () => (/* binding */ dragAction),
/* harmony export */   "h": () => (/* binding */ hoverAction),
/* harmony export */   "i": () => (/* binding */ isTouch),
/* harmony export */   "m": () => (/* binding */ moveAction),
/* harmony export */   "p": () => (/* binding */ pinchAction),
/* harmony export */   "r": () => (/* binding */ registerAction),
/* harmony export */   "s": () => (/* binding */ scrollAction),
/* harmony export */   "t": () => (/* binding */ toDomEventType),
/* harmony export */   "w": () => (/* binding */ wheelAction)
/* harmony export */ });
/* harmony import */ var _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./maths-b2a210f4.esm.js */ "./node_modules/@use-gesture/core/dist/maths-b2a210f4.esm.js");


function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);

    if (enumerableOnly) {
      symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }

    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

const EVENT_TYPE_MAP = {
  pointer: {
    start: 'down',
    change: 'move',
    end: 'up'
  },
  mouse: {
    start: 'down',
    change: 'move',
    end: 'up'
  },
  touch: {
    start: 'start',
    change: 'move',
    end: 'end'
  },
  gesture: {
    start: 'start',
    change: 'change',
    end: 'end'
  }
};

function capitalize(string) {
  if (!string) return '';
  return string[0].toUpperCase() + string.slice(1);
}

function toHandlerProp(device, action = '', capture = false) {
  const deviceProps = EVENT_TYPE_MAP[device];
  const actionKey = deviceProps ? deviceProps[action] || action : action;
  return 'on' + capitalize(device) + capitalize(actionKey) + (capture ? 'Capture' : '');
}
function toDomEventType(device, action = '') {
  const deviceProps = EVENT_TYPE_MAP[device];
  const actionKey = deviceProps ? deviceProps[action] || action : action;
  return device + actionKey;
}
function isTouch(event) {
  return 'touches' in event;
}

function getCurrentTargetTouchList(event) {
  return Array.from(event.touches).filter(e => {
    var _event$currentTarget, _event$currentTarget$;

    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));
  });
}

function getTouchList(event) {
  return event.type === 'touchend' ? event.changedTouches : event.targetTouches;
}

function getValueEvent(event) {
  return isTouch(event) ? getTouchList(event)[0] : event;
}

function distanceAngle(P1, P2) {
  const dx = P2.clientX - P1.clientX;
  const dy = P2.clientY - P1.clientY;
  const cx = (P2.clientX + P1.clientX) / 2;
  const cy = (P2.clientY + P1.clientY) / 2;
  const distance = Math.hypot(dx, dy);
  const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;
  const origin = [cx, cy];
  return {
    angle,
    distance,
    origin
  };
}
function touchIds(event) {
  return getCurrentTargetTouchList(event).map(touch => touch.identifier);
}
function touchDistanceAngle(event, ids) {
  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));
  return distanceAngle(P1, P2);
}
function pointerId(event) {
  const valueEvent = getValueEvent(event);
  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;
}
function pointerValues(event) {
  const valueEvent = getValueEvent(event);
  return [valueEvent.clientX, valueEvent.clientY];
}
const LINE_HEIGHT = 40;
const PAGE_HEIGHT = 800;
function wheelValues(event) {
  let {
    deltaX,
    deltaY,
    deltaMode
  } = event;

  if (deltaMode === 1) {
    deltaX *= LINE_HEIGHT;
    deltaY *= LINE_HEIGHT;
  } else if (deltaMode === 2) {
    deltaX *= PAGE_HEIGHT;
    deltaY *= PAGE_HEIGHT;
  }

  return [deltaX, deltaY];
}
function scrollValues(event) {
  var _ref, _ref2;

  const {
    scrollX,
    scrollY,
    scrollLeft,
    scrollTop
  } = event.currentTarget;
  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];
}
function getEventDetails(event) {
  const payload = {};
  if ('buttons' in event) payload.buttons = event.buttons;

  if ('shiftKey' in event) {
    const {
      shiftKey,
      altKey,
      metaKey,
      ctrlKey
    } = event;
    Object.assign(payload, {
      shiftKey,
      altKey,
      metaKey,
      ctrlKey
    });
  }

  return payload;
}

function call(v, ...args) {
  if (typeof v === 'function') {
    return v(...args);
  } else {
    return v;
  }
}
function noop() {}
function chain(...fns) {
  if (fns.length === 0) return noop;
  if (fns.length === 1) return fns[0];
  return function () {
    let result;

    for (const fn of fns) {
      result = fn.apply(this, arguments) || result;
    }

    return result;
  };
}
function assignDefault(value, fallback) {
  return Object.assign({}, fallback, value || {});
}

const BEFORE_LAST_KINEMATICS_DELAY = 32;
class Engine {
  constructor(ctrl, args, key) {
    this.ctrl = ctrl;
    this.args = args;
    this.key = key;

    if (!this.state) {
      this.state = {};
      this.computeValues([0, 0]);
      this.computeInitial();
      if (this.init) this.init();
      this.reset();
    }
  }

  get state() {
    return this.ctrl.state[this.key];
  }

  set state(state) {
    this.ctrl.state[this.key] = state;
  }

  get shared() {
    return this.ctrl.state.shared;
  }

  get eventStore() {
    return this.ctrl.gestureEventStores[this.key];
  }

  get timeoutStore() {
    return this.ctrl.gestureTimeoutStores[this.key];
  }

  get config() {
    return this.ctrl.config[this.key];
  }

  get sharedConfig() {
    return this.ctrl.config.shared;
  }

  get handler() {
    return this.ctrl.handlers[this.key];
  }

  reset() {
    const {
      state,
      shared,
      ingKey,
      args
    } = this;
    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;
    state._step = [false, false];
    state.intentional = false;
    state._movement = [0, 0];
    state._distance = [0, 0];
    state._delta = [0, 0];
    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];
    state.args = args;
    state.axis = undefined;
    state.memo = undefined;
    state.elapsedTime = 0;
    state.direction = [0, 0];
    state.distance = [0, 0];
    state.velocity = [0, 0];
    state.movement = [0, 0];
    state.delta = [0, 0];
    state.timeStamp = 0;
  }

  start(event) {
    const state = this.state;
    const config = this.config;

    if (!state._active) {
      this.reset();
      this.computeInitial();
      state._active = true;
      state.target = event.target;
      state.currentTarget = event.currentTarget;
      state.lastOffset = config.from ? call(config.from, state) : state.offset;
      state.offset = state.lastOffset;
    }

    state.startTime = state.timeStamp = event.timeStamp;
  }

  computeValues(values) {
    const state = this.state;
    state._values = values;
    state.values = this.config.transform(values);
  }

  computeInitial() {
    const state = this.state;
    state._initial = state._values;
    state.initial = state.values;
  }

  compute(event) {
    const {
      state,
      config,
      shared
    } = this;
    state.args = this.args;
    let dt = 0;

    if (event) {
      state.event = event;
      if (config.preventDefault && event.cancelable) state.event.preventDefault();
      state.type = event.type;
      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;
      shared.locked = !!document.pointerLockElement;
      Object.assign(shared, getEventDetails(event));
      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;
      dt = event.timeStamp - state.timeStamp;
      state.timeStamp = event.timeStamp;
      state.elapsedTime = state.timeStamp - state.startTime;
    }

    if (state._active) {
      const _absoluteDelta = state._delta.map(Math.abs);

      _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._distance, _absoluteDelta);
    }

    const [_m0, _m1] = state._movement;
    const [t0, t1] = config.threshold;
    const {
      _step,
      values
    } = state;

    if (config.hasCustomTransform) {
      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];
      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];
    } else {
      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;
      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;
    }

    state.intentional = _step[0] !== false || _step[1] !== false;
    if (!state.intentional) return;
    const movement = [0, 0];

    if (config.hasCustomTransform) {
      const [v0, v1] = values;
      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;
      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;
    } else {
      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;
      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;
    }

    if (this.intent) this.intent(movement);

    if (state._active && !state._blocked || state.active) {
      state.first = state._active && !state.active;
      state.last = !state._active && state.active;
      state.active = shared[this.ingKey] = state._active;

      if (event) {
        if (state.first) {
          if ('bounds' in config) state._bounds = call(config.bounds, state);
          if (this.setup) this.setup();
        }

        state.movement = movement;
        const previousOffset = state.offset;
        this.computeOffset();

        if (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY) {
          state.delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(state.offset, previousOffset);
          const absoluteDelta = state.delta.map(Math.abs);
          _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state.distance, absoluteDelta);
          state.direction = state.delta.map(Math.sign);

          if (!state.first && dt > 0) {
            state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];
          }
        }
      }
    }

    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];
    state.offset = (0,_maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.c)(state._bounds, state.offset, rubberband);
    this.computeMovement();
  }

  emit() {
    const state = this.state;
    const shared = this.shared;
    const config = this.config;
    if (!state._active) this.clean();
    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;
    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {
      [this.aliasKey]: state.values
    }));
    if (memo !== undefined) state.memo = memo;
  }

  clean() {
    this.eventStore.clean();
    this.timeoutStore.clean();
  }

}

function selectAxis([dx, dy]) {
  const d = Math.abs(dx) - Math.abs(dy);
  if (d > 0) return 'x';
  if (d < 0) return 'y';
  return undefined;
}

function restrictVectorToAxis(v, axis) {
  switch (axis) {
    case 'x':
      v[1] = 0;
      break;

    case 'y':
      v[0] = 0;
      break;
  }
}

class CoordinatesEngine extends Engine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "aliasKey", 'xy');
  }

  reset() {
    super.reset();
    this.state.axis = undefined;
  }

  init() {
    this.state.offset = [0, 0];
    this.state.lastOffset = [0, 0];
  }

  computeOffset() {
    this.state.offset = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.add(this.state.lastOffset, this.state.movement);
  }

  computeMovement() {
    this.state.movement = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(this.state.offset, this.state.lastOffset);
  }

  intent(v) {
    this.state.axis = this.state.axis || selectAxis(v);
    this.state._blocked = (this.config.lockDirection || !!this.config.axis) && !this.state.axis || !!this.config.axis && this.config.axis !== this.state.axis;
    if (this.state._blocked) return;

    if (this.config.axis || this.config.lockDirection) {
      restrictVectorToAxis(v, this.state.axis);
    }
  }

}

const identity = v => v;
const DEFAULT_RUBBERBAND = 0.15;
const commonConfigResolver = {
  enabled(value = true) {
    return value;
  },

  preventDefault(value = false) {
    return value;
  },

  triggerAllEvents(value = false) {
    return value;
  },

  rubberband(value = 0) {
    switch (value) {
      case true:
        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];

      case false:
        return [0, 0];

      default:
        return _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(value);
    }
  },

  from(value) {
    if (typeof value === 'function') return value;
    if (value != null) return _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(value);
  },

  transform(value, _k, config) {
    const transform = value || config.shared.transform;
    this.hasCustomTransform = !!transform;

    if (true) {
      const originalTransform = transform || identity;
      return v => {
        const r = originalTransform(v);

        if (!isFinite(r[0]) || !isFinite(r[1])) {
          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);
        }

        return r;
      };
    }

    return transform || identity;
  },

  threshold(value) {
    return _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(value, 0);
  }

};

if (true) {
  Object.assign(commonConfigResolver, {
    domTarget(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`domTarget\` option has been renamed to \`target\`.`);
      }

      return NaN;
    },

    lockDirection(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`lockDirection\` option has been merged with \`axis\`. Use it as in \`{ axis: 'lock' }\``);
      }

      return NaN;
    },

    initial(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`initial\` option has been renamed to \`from\`.`);
      }

      return NaN;
    }

  });
}

const coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {
  axis(_v, _k, {
    axis
  }) {
    this.lockDirection = axis === 'lock';
    if (!this.lockDirection) return axis;
  },

  bounds(value = {}) {
    if (typeof value === 'function') {
      return state => coordinatesConfigResolver.bounds(value(state));
    }

    if ('current' in value) {
      return () => value.current;
    }

    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {
      return value;
    }

    const {
      left = -Infinity,
      right = Infinity,
      top = -Infinity,
      bottom = Infinity
    } = value;
    return [[left, right], [top, bottom]];
  }

});

const DISPLACEMENT = 10;
const KEYS_DELTA_MAP = {
  ArrowRight: (factor = 1) => [DISPLACEMENT * factor, 0],
  ArrowLeft: (factor = 1) => [-DISPLACEMENT * factor, 0],
  ArrowUp: (factor = 1) => [0, -DISPLACEMENT * factor],
  ArrowDown: (factor = 1) => [0, DISPLACEMENT * factor]
};
class DragEngine extends CoordinatesEngine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'dragging');
  }

  reset() {
    super.reset();
    const state = this.state;
    state._pointerId = undefined;
    state._pointerActive = false;
    state._keyboardActive = false;
    state._preventScroll = false;
    state._delayed = false;
    state.swipe = [0, 0];
    state.tap = false;
    state.canceled = false;
    state.cancel = this.cancel.bind(this);
  }

  setup() {
    const state = this.state;

    if (state._bounds instanceof HTMLElement) {
      const boundRect = state._bounds.getBoundingClientRect();

      const targetRect = state.currentTarget.getBoundingClientRect();
      const _bounds = {
        left: boundRect.left - targetRect.left + state.offset[0],
        right: boundRect.right - targetRect.right + state.offset[0],
        top: boundRect.top - targetRect.top + state.offset[1],
        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]
      };
      state._bounds = coordinatesConfigResolver.bounds(_bounds);
    }
  }

  cancel() {
    const state = this.state;
    if (state.canceled) return;
    state.canceled = true;
    state._active = false;
    setTimeout(() => {
      this.compute();
      this.emit();
    }, 0);
  }

  setActive() {
    this.state._active = this.state._pointerActive || this.state._keyboardActive;
  }

  clean() {
    this.pointerClean();
    this.state._pointerActive = false;
    this.state._keyboardActive = false;
    super.clean();
  }

  pointerDown(event) {
    const config = this.config;
    const state = this.state;
    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;
    this.ctrl.setEventIds(event);

    if (config.pointerCapture) {
      event.target.setPointerCapture(event.pointerId);
    }

    if (state._pointerActive) return;
    this.start(event);
    this.setupPointer(event);
    state._pointerId = pointerId(event);
    state._pointerActive = true;
    this.computeValues(pointerValues(event));
    this.computeInitial();

    if (config.preventScroll) {
      this.setupScrollPrevention(event);
    } else if (config.delay > 0) {
      this.setupDelayTrigger(event);
    } else {
      this.startPointerDrag(event);
    }
  }

  startPointerDrag(event) {
    const state = this.state;
    state._active = true;
    state._preventScroll = true;
    state._delayed = false;
    this.compute(event);
    this.emit();
  }

  pointerMove(event) {
    const state = this.state;
    const config = this.config;
    if (!state._pointerActive) return;
    if (state.type === event.type && event.timeStamp === state.timeStamp) return;
    const id = pointerId(event);
    if (state._pointerId && id !== state._pointerId) return;

    const _values = pointerValues(event);

    if (document.pointerLockElement === event.target) {
      state._delta = [event.movementX, event.movementY];
    } else {
      state._delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(_values, state._values);
      this.computeValues(_values);
    }

    _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._movement, state._delta);
    this.compute(event);

    if (state._delayed) {
      this.timeoutStore.remove('dragDelay');
      state.active = false;
      this.startPointerDrag(event);
      return;
    }

    if (config.preventScroll && !state._preventScroll) {
      if (state.axis) {
        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {
          state._active = false;
          this.clean();
          return;
        } else {
          this.timeoutStore.remove('startPointerDrag');
          this.startPointerDrag(event);
          return;
        }
      } else {
        return;
      }
    }

    this.emit();
  }

  pointerUp(event) {
    this.ctrl.setEventIds(event);

    try {
      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {
        ;
        event.target.releasePointerCapture(event.pointerId);
      }
    } catch (_unused) {
      if (true) {
        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \`@react-three/fiber\`. \n\nPlease upgrade to the latest version.`);
      }
    }

    const state = this.state;
    const config = this.config;
    if (!state._pointerActive) return;
    const id = pointerId(event);
    if (state._pointerId && id !== state._pointerId) return;
    this.state._pointerActive = false;
    this.setActive();
    this.compute(event);
    const [dx, dy] = state._distance;
    state.tap = dx <= 3 && dy <= 3;

    if (state.tap && config.filterTaps) {
      state._force = true;
    } else {
      const [dirx, diry] = state.direction;
      const [vx, vy] = state.velocity;
      const [mx, my] = state.movement;
      const [svx, svy] = config.swipe.velocity;
      const [sx, sy] = config.swipe.distance;
      const sdt = config.swipe.duration;

      if (state.elapsedTime < sdt) {
        if (Math.abs(vx) > svx && Math.abs(mx) > sx) state.swipe[0] = dirx;
        if (Math.abs(vy) > svy && Math.abs(my) > sy) state.swipe[1] = diry;
      }
    }

    this.emit();
  }

  pointerClick(event) {
    if (!this.state.tap) {
      event.preventDefault();
      event.stopPropagation();
    }
  }

  setupPointer(event) {
    const config = this.config;
    let device = config.device;

    if (true) {
      try {
        if (device === 'pointer') {
          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;
          const style = window.getComputedStyle(currentTarget);

          if (style.touchAction === 'auto') {
            console.warn(`[@use-gesture]: The drag target has its \`touch-action\` style property set to \`auto\`. It is recommended to add \`touch-action: 'none'\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);
          }
        }
      } catch (_unused2) {}
    }

    if (config.pointerLock) {
      event.currentTarget.requestPointerLock();
    }

    if (!config.pointerCapture) {
      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));
      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));
    }
  }

  pointerClean() {
    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {
      document.exitPointerLock();
    }
  }

  preventScroll(event) {
    if (this.state._preventScroll && event.cancelable) {
      event.preventDefault();
    }
  }

  setupScrollPrevention(event) {
    persistEvent(event);
    this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {
      passive: false
    });
    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', this.clean.bind(this), {
      passive: false
    });
    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', this.clean.bind(this), {
      passive: false
    });
    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScroll, event);
  }

  setupDelayTrigger(event) {
    this.state._delayed = true;
    this.timeoutStore.add('dragDelay', this.startPointerDrag.bind(this), this.config.delay, event);
  }

  keyDown(event) {
    const deltaFn = KEYS_DELTA_MAP[event.key];

    if (deltaFn) {
      const state = this.state;
      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;
      state._delta = deltaFn(factor);
      this.start(event);
      state._keyboardActive = true;
      _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._movement, state._delta);
      this.compute(event);
      this.emit();
    }
  }

  keyUp(event) {
    if (!(event.key in KEYS_DELTA_MAP)) return;
    this.state._keyboardActive = false;
    this.setActive();
    this.compute(event);
    this.emit();
  }

  bind(bindFunction) {
    const device = this.config.device;
    bindFunction(device, 'start', this.pointerDown.bind(this));

    if (this.config.pointerCapture) {
      bindFunction(device, 'change', this.pointerMove.bind(this));
      bindFunction(device, 'end', this.pointerUp.bind(this));
      bindFunction(device, 'cancel', this.pointerUp.bind(this));
    }

    bindFunction('key', 'down', this.keyDown.bind(this));
    bindFunction('key', 'up', this.keyUp.bind(this));

    if (this.config.filterTaps) {
      bindFunction('click', '', this.pointerClick.bind(this), {
        capture: true
      });
    }
  }

}

function persistEvent(event) {
  'persist' in event && typeof event.persist === 'function' && event.persist();
}

const isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;

function supportsTouchEvents() {
  return isBrowser && 'ontouchstart' in window;
}

function isTouchScreen() {
  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;
}

function supportsPointerEvents() {
  return isBrowser && 'onpointerdown' in window;
}

function supportsPointerLock() {
  return isBrowser && 'exitPointerLock' in window.document;
}

function supportsGestureEvents() {
  try {
    return 'constructor' in GestureEvent;
  } catch (e) {
    return false;
  }
}

const SUPPORT = {
  isBrowser,
  gesture: supportsGestureEvents(),
  touch: supportsTouchEvents(),
  touchscreen: isTouchScreen(),
  pointer: supportsPointerEvents(),
  pointerLock: supportsPointerLock()
};

const DEFAULT_PREVENT_SCROLL_DELAY = 250;
const DEFAULT_DRAG_DELAY = 180;
const DEFAULT_SWIPE_VELOCITY = 0.5;
const DEFAULT_SWIPE_DISTANCE = 50;
const DEFAULT_SWIPE_DURATION = 250;
const dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {
  pointerLock(_v, _k, {
    pointer: {
      lock = false,
      touch = false
    } = {}
  }) {
    this.useTouch = SUPPORT.touch && touch;
    return SUPPORT.pointerLock && lock;
  },

  device(_v, _k) {
    if (this.useTouch) return 'touch';
    if (this.pointerLock) return 'mouse';
    if (SUPPORT.pointer) return 'pointer';
    if (SUPPORT.touch) return 'touch';
    return 'mouse';
  },

  preventScroll(value = false, _k, {
    preventScrollAxis = 'y'
  }) {
    if (preventScrollAxis) this.preventScrollAxis = preventScrollAxis;
    if (!SUPPORT.touchscreen) return false;
    if (typeof value === 'number') return value;
    return value ? DEFAULT_PREVENT_SCROLL_DELAY : false;
  },

  pointerCapture(_v, _k, {
    pointer: {
      capture = true,
      buttons = 1
    } = {}
  }) {
    this.pointerButtons = buttons;
    return !this.pointerLock && this.device === 'pointer' && capture;
  },

  threshold(value, _k, {
    filterTaps = false,
    axis = undefined
  }) {
    const threshold = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(value, filterTaps ? 3 : axis ? 1 : 0);
    this.filterTaps = filterTaps;
    return threshold;
  },

  swipe({
    velocity = DEFAULT_SWIPE_VELOCITY,
    distance = DEFAULT_SWIPE_DISTANCE,
    duration = DEFAULT_SWIPE_DURATION
  } = {}) {
    return {
      velocity: this.transform(_maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(velocity)),
      distance: this.transform(_maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(distance)),
      duration
    };
  },

  delay(value = 0) {
    switch (value) {
      case true:
        return DEFAULT_DRAG_DELAY;

      case false:
        return 0;

      default:
        return value;
    }
  }

});

if (true) {
  Object.assign(dragConfigResolver, {
    useTouch(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`useTouch\` option has been renamed to \`pointer.touch\`. Use it as in \`{ pointer: { touch: true } }\`.`);
      }

      return NaN;
    },

    experimental_preventWindowScrollY(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`experimental_preventWindowScrollY\` option has been renamed to \`preventScroll\`.`);
      }

      return NaN;
    },

    swipeVelocity(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`swipeVelocity\` option has been renamed to \`swipe.velocity\`. Use it as in \`{ swipe: { velocity: 0.5 } }\`.`);
      }

      return NaN;
    },

    swipeDistance(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`swipeDistance\` option has been renamed to \`swipe.distance\`. Use it as in \`{ swipe: { distance: 50 } }\`.`);
      }

      return NaN;
    },

    swipeDuration(value) {
      if (value !== undefined) {
        throw Error(`[@use-gesture]: \`swipeDuration\` option has been renamed to \`swipe.duration\`. Use it as in \`{ swipe: { duration: 250 } }\`.`);
      }

      return NaN;
    }

  });
}

const SCALE_ANGLE_RATIO_INTENT_DEG = 30;
const PINCH_WHEEL_RATIO = 36;
class PinchEngine extends Engine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'pinching');

    _defineProperty(this, "aliasKey", 'da');
  }

  init() {
    this.state.offset = [1, 0];
    this.state.lastOffset = [1, 0];
    this.state._pointerEvents = new Map();
  }

  reset() {
    super.reset();
    const state = this.state;
    state._touchIds = [];
    state.canceled = false;
    state.cancel = this.cancel.bind(this);
    state.turns = 0;
  }

  computeOffset() {
    const {
      type,
      movement,
      lastOffset
    } = this.state;

    if (type === 'wheel') {
      this.state.offset = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.add(movement, lastOffset);
    } else {
      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];
    }
  }

  computeMovement() {
    const {
      offset,
      lastOffset
    } = this.state;
    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];
  }

  intent(v) {
    const state = this.state;

    if (!state.axis) {
      const axisMovementDifference = Math.abs(v[0]) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(v[1]);
      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';
    }

    if (this.config.lockDirection) {
      if (state.axis === 'scale') v[1] = 0;else if (state.axis === 'angle') v[0] = 0;
    }
  }

  cancel() {
    const state = this.state;
    if (state.canceled) return;
    setTimeout(() => {
      state.canceled = true;
      state._active = false;
      this.compute();
      this.emit();
    }, 0);
  }

  touchStart(event) {
    this.ctrl.setEventIds(event);
    const state = this.state;
    const ctrlTouchIds = this.ctrl.touchIds;

    if (state._active) {
      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;
    }

    if (ctrlTouchIds.size < 2) return;
    this.start(event);
    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);
    const payload = touchDistanceAngle(event, state._touchIds);
    this.pinchStart(event, payload);
  }

  pointerStart(event) {
    if (event.buttons != null && event.buttons % 2 !== 1) return;
    this.ctrl.setEventIds(event);
    event.target.setPointerCapture(event.pointerId);
    const state = this.state;
    const _pointerEvents = state._pointerEvents;
    const ctrlPointerIds = this.ctrl.pointerIds;

    if (state._active) {
      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;
    }

    if (_pointerEvents.size < 2) {
      _pointerEvents.set(event.pointerId, event);
    }

    if (state._pointerEvents.size < 2) return;
    this.start(event);
    const payload = distanceAngle(...Array.from(_pointerEvents.values()));
    this.pinchStart(event, payload);
  }

  pinchStart(event, payload) {
    const state = this.state;
    state.origin = payload.origin;
    this.computeValues([payload.distance, payload.angle]);
    this.computeInitial();
    this.compute(event);
    this.emit();
  }

  touchMove(event) {
    if (!this.state._active) return;
    const payload = touchDistanceAngle(event, this.state._touchIds);
    this.pinchMove(event, payload);
  }

  pointerMove(event) {
    const _pointerEvents = this.state._pointerEvents;

    if (_pointerEvents.has(event.pointerId)) {
      _pointerEvents.set(event.pointerId, event);
    }

    if (!this.state._active) return;
    const payload = distanceAngle(...Array.from(_pointerEvents.values()));
    this.pinchMove(event, payload);
  }

  pinchMove(event, payload) {
    const state = this.state;
    const prev_a = state._values[1];
    const delta_a = payload.angle - prev_a;
    let delta_turns = 0;
    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);
    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);
    state.origin = payload.origin;
    state.turns = delta_turns;
    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];
    this.compute(event);
    this.emit();
  }

  touchEnd(event) {
    this.ctrl.setEventIds(event);
    if (!this.state._active) return;

    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {
      this.state._active = false;
      this.compute(event);
      this.emit();
    }
  }

  pointerEnd(event) {
    const state = this.state;
    this.ctrl.setEventIds(event);

    try {
      event.target.releasePointerCapture(event.pointerId);
    } catch (_unused) {}

    if (state._pointerEvents.has(event.pointerId)) {
      state._pointerEvents.delete(event.pointerId);
    }

    if (!state._active) return;

    if (state._pointerEvents.size < 2) {
      state._active = false;
      this.compute(event);
      this.emit();
    }
  }

  gestureStart(event) {
    if (event.cancelable) event.preventDefault();
    const state = this.state;
    if (state._active) return;
    this.start(event);
    this.computeValues([event.scale, event.rotation]);
    state.origin = [event.clientX, event.clientY];
    this.compute(event);
    this.emit();
  }

  gestureMove(event) {
    if (event.cancelable) event.preventDefault();
    if (!this.state._active) return;
    const state = this.state;
    this.computeValues([event.scale, event.rotation]);
    state.origin = [event.clientX, event.clientY];
    const _previousMovement = state._movement;
    state._movement = [event.scale - 1, event.rotation];
    state._delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(state._movement, _previousMovement);
    this.compute(event);
    this.emit();
  }

  gestureEnd(event) {
    if (!this.state._active) return;
    this.state._active = false;
    this.compute(event);
    this.emit();
  }

  wheel(event) {
    if (!event.ctrlKey) return;
    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);
    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));
  }

  wheelStart(event) {
    this.start(event);
    this.wheelChange(event);
  }

  wheelChange(event) {
    const isR3f = ('uv' in event);

    if (!isR3f) {
      if (event.cancelable) {
        event.preventDefault();
      }

      if ( true && !event.defaultPrevented) {
        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \`target\` option.\n\nThis message will only appear in development mode.`);
      }
    }

    const state = this.state;
    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];
    _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._movement, state._delta);
    this.state.origin = [event.clientX, event.clientY];
    this.compute(event);
    this.emit();
  }

  wheelEnd() {
    if (!this.state._active) return;
    this.state._active = false;
    this.compute();
    this.emit();
  }

  bind(bindFunction) {
    const device = this.config.device;

    if (!!device) {
      bindFunction(device, 'start', this[device + 'Start'].bind(this));
      bindFunction(device, 'change', this[device + 'Move'].bind(this));
      bindFunction(device, 'end', this[device + 'End'].bind(this));
      bindFunction(device, 'cancel', this[device + 'End'].bind(this));
    } else {
      bindFunction('wheel', '', this.wheel.bind(this), {
        passive: false
      });
    }
  }

}

const pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {
  useTouch(_v, _k, {
    pointer: {
      touch = false
    } = {}
  }) {
    return SUPPORT.touch && touch;
  },

  device(_v, _k, config) {
    const sharedConfig = config.shared;
    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';
    if (this.useTouch) return 'touch';

    if (SUPPORT.touchscreen) {
      if (SUPPORT.pointer) return 'pointer';
      if (SUPPORT.touch) return 'touch';
    }
  },

  bounds(_v, _k, {
    scaleBounds = {},
    angleBounds = {}
  }) {
    const _scaleBounds = state => {
      const D = assignDefault(call(scaleBounds, state), {
        min: -Infinity,
        max: Infinity
      });
      return [D.min, D.max];
    };

    const _angleBounds = state => {
      const A = assignDefault(call(angleBounds, state), {
        min: -Infinity,
        max: Infinity
      });
      return [A.min, A.max];
    };

    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];
    return state => [_scaleBounds(state), _angleBounds(state)];
  },

  threshold(value, _k, config) {
    this.lockDirection = config.axis === 'lock';
    const threshold = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.toVector(value, this.lockDirection ? [0.1, 3] : 0);
    return threshold;
  }

});

class MoveEngine extends CoordinatesEngine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'moving');
  }

  move(event) {
    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;
    if (!this.state._active) this.moveStart(event);else this.moveChange(event);
    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));
  }

  moveStart(event) {
    this.start(event);
    this.computeValues(pointerValues(event));
    this.compute(event);
    this.computeInitial();
    this.emit();
  }

  moveChange(event) {
    if (!this.state._active) return;
    const values = pointerValues(event);
    const state = this.state;
    state._delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(values, state._values);
    _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._movement, state._delta);
    this.computeValues(values);
    this.compute(event);
    this.emit();
  }

  moveEnd(event) {
    if (!this.state._active) return;
    this.state._active = false;
    this.compute(event);
    this.emit();
  }

  bind(bindFunction) {
    bindFunction('pointer', 'change', this.move.bind(this));
    bindFunction('pointer', 'leave', this.moveEnd.bind(this));
  }

}

const moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {
  mouseOnly: (value = true) => value
});

class ScrollEngine extends CoordinatesEngine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'scrolling');
  }

  scroll(event) {
    if (!this.state._active) this.start(event);
    this.scrollChange(event);
    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));
  }

  scrollChange(event) {
    if (event.cancelable) event.preventDefault();
    const state = this.state;
    const values = scrollValues(event);
    state._delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(values, state._values);
    _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(state._movement, state._delta);
    this.computeValues(values);
    this.compute(event);
    this.emit();
  }

  scrollEnd() {
    if (!this.state._active) return;
    this.state._active = false;
    this.compute();
    this.emit();
  }

  bind(bindFunction) {
    bindFunction('scroll', '', this.scroll.bind(this));
  }

}

const scrollConfigResolver = coordinatesConfigResolver;

class WheelEngine extends CoordinatesEngine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'wheeling');
  }

  wheel(event) {
    if (!this.state._active) this.start(event);
    this.wheelChange(event);
    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));
  }

  wheelChange(event) {
    const state = this.state;
    state._delta = wheelValues(event);
    _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.addTo(this.state._movement, state._delta);
    this.compute(event);
    this.emit();
  }

  wheelEnd() {
    if (!this.state._active) return;
    this.state._active = false;
    this.compute();
    this.emit();
  }

  bind(bindFunction) {
    bindFunction('wheel', '', this.wheel.bind(this));
  }

}

const wheelConfigResolver = coordinatesConfigResolver;

class HoverEngine extends CoordinatesEngine {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "ingKey", 'hovering');
  }

  enter(event) {
    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;
    this.start(event);
    this.computeValues(pointerValues(event));
    this.compute(event);
    this.emit();
  }

  leave(event) {
    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;
    const state = this.state;
    if (!state._active) return;
    state._active = false;
    const values = pointerValues(event);
    state._movement = state._delta = _maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.V.sub(values, state._values);
    this.computeValues(values);
    this.compute(event);
    state.delta = state.movement;
    this.emit();
  }

  bind(bindFunction) {
    bindFunction('pointer', 'enter', this.enter.bind(this));
    bindFunction('pointer', 'leave', this.leave.bind(this));
  }

}

const hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {
  mouseOnly: (value = true) => value
});

const EngineMap = new Map();
const ConfigResolverMap = new Map();
function registerAction(action) {
  EngineMap.set(action.key, action.engine);
  ConfigResolverMap.set(action.key, action.resolver);
}
const dragAction = {
  key: 'drag',
  engine: DragEngine,
  resolver: dragConfigResolver
};
const hoverAction = {
  key: 'hover',
  engine: HoverEngine,
  resolver: hoverConfigResolver
};
const moveAction = {
  key: 'move',
  engine: MoveEngine,
  resolver: moveConfigResolver
};
const pinchAction = {
  key: 'pinch',
  engine: PinchEngine,
  resolver: pinchConfigResolver
};
const scrollAction = {
  key: 'scroll',
  engine: ScrollEngine,
  resolver: scrollConfigResolver
};
const wheelAction = {
  key: 'wheel',
  engine: WheelEngine,
  resolver: wheelConfigResolver
};




/***/ }),

/***/ "./node_modules/@use-gesture/core/dist/maths-b2a210f4.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@use-gesture/core/dist/maths-b2a210f4.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "V": () => (/* binding */ V),
/* harmony export */   "c": () => (/* binding */ computeRubberband),
/* harmony export */   "r": () => (/* binding */ rubberbandIfOutOfBounds)
/* harmony export */ });
function clamp(v, min, max) {
  return Math.max(min, Math.min(v, max));
}
const V = {
  toVector(v, fallback) {
    if (v === undefined) v = fallback;
    return Array.isArray(v) ? v : [v, v];
  },

  add(v1, v2) {
    return [v1[0] + v2[0], v1[1] + v2[1]];
  },

  sub(v1, v2) {
    return [v1[0] - v2[0], v1[1] - v2[1]];
  },

  addTo(v1, v2) {
    v1[0] += v2[0];
    v1[1] += v2[1];
  },

  subTo(v1, v2) {
    v1[0] -= v2[0];
    v1[1] -= v2[1];
  }

};

function rubberband(distance, dimension, constant) {
  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);
  return distance * dimension * constant / (dimension + constant * distance);
}

function rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {
  if (constant === 0) return clamp(position, min, max);
  if (position < min) return -rubberband(min - position, max - min, constant) + min;
  if (position > max) return +rubberband(position - max, max - min, constant) + max;
  return position;
}
function computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {
  const [[X0, X1], [Y0, Y1]] = bounds;
  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];
}




/***/ }),

/***/ "./node_modules/@use-gesture/core/dist/use-gesture-core.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@use-gesture/core/dist/use-gesture-core.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Controller": () => (/* binding */ Controller),
/* harmony export */   "parseMergedHandlers": () => (/* binding */ parseMergedHandlers)
/* harmony export */ });
/* harmony import */ var _actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions-fd032a26.esm.js */ "./node_modules/@use-gesture/core/dist/actions-fd032a26.esm.js");



function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};
  var target = _objectWithoutPropertiesLoose(source, excluded);
  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

const sharedConfigResolver = {
  target(value) {
    if (value) {
      return () => 'current' in value ? value.current : value;
    }

    return undefined;
  },

  enabled(value = true) {
    return value;
  },

  window(value = _actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.S.isBrowser ? window : undefined) {
    return value;
  },

  eventOptions({
    passive = true,
    capture = false
  } = {}) {
    return {
      passive,
      capture
    };
  },

  transform(value) {
    return value;
  }

};

const _excluded = ["target", "eventOptions", "window", "enabled", "transform"];
function resolveWith(config = {}, resolvers) {
  const result = {};

  for (const [key, resolver] of Object.entries(resolvers)) {
    switch (typeof resolver) {
      case 'function':
        if (true) {
          const r = resolver.call(result, config[key], key, config);
          if (!Number.isNaN(r)) result[key] = r;
        } else {}

        break;

      case 'object':
        result[key] = resolveWith(config[key], resolver);
        break;

      case 'boolean':
        if (resolver) result[key] = config[key];
        break;
    }
  }

  return result;
}
function parse(config, gestureKey) {
  const _ref = config,
        {
    target,
    eventOptions,
    window,
    enabled,
    transform
  } = _ref,
        rest = _objectWithoutProperties(_ref, _excluded);

  const _config = {
    shared: resolveWith({
      target,
      eventOptions,
      window,
      enabled,
      transform
    }, sharedConfigResolver)
  };

  if (gestureKey) {
    const resolver = _actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.C.get(gestureKey);
    _config[gestureKey] = resolveWith((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({
      shared: _config.shared
    }, rest), resolver);
  } else {
    for (const key in rest) {
      const resolver = _actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.C.get(key);

      if (resolver) {
        _config[key] = resolveWith((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({
          shared: _config.shared
        }, rest[key]), resolver);
      } else if (true) {
        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {
          if (key === 'domTarget') {
            throw Error(`[@use-gesture]: \`domTarget\` option has been renamed to \`target\`.`);
          }

          console.warn(`[@use-gesture]: Unknown config key \`${key}\` was used. Please read the documentation for further information.`);
        }
      }
    }
  }

  return _config;
}

class EventStore {
  constructor(ctrl) {
    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "_listeners", []);

    this._ctrl = ctrl;
  }

  add(element, device, action, handler, options) {
    const type = (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.t)(device, action);

    const eventOptions = (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, this._ctrl.config.shared.eventOptions), options);

    element.addEventListener(type, handler, eventOptions);

    this._listeners.push(() => element.removeEventListener(type, handler, eventOptions));
  }

  clean() {
    this._listeners.forEach(remove => remove());

    this._listeners = [];
  }

}

class TimeoutStore {
  constructor() {
    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "_timeouts", new Map());
  }

  add(key, callback, ms = 140, ...args) {
    this.remove(key);

    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));
  }

  remove(key) {
    const timeout = this._timeouts.get(key);

    if (timeout) window.clearTimeout(timeout);
  }

  clean() {
    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));

    this._timeouts.clear();
  }

}

class Controller {
  constructor(handlers) {
    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "gestures", new Set());

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "_targetEventStore", new EventStore(this));

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "gestureEventStores", {});

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "gestureTimeoutStores", {});

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "handlers", {});

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "config", {});

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "pointerIds", new Set());

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "touchIds", new Set());

    (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, "state", {
      shared: {
        shiftKey: false,
        metaKey: false,
        ctrlKey: false,
        altKey: false
      }
    });

    resolveGestures(this, handlers);
  }

  setEventIds(event) {
    if ((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.i)(event)) {
      this.touchIds = new Set((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.b)(event));
    } else if ('pointerId' in event) {
      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);
    }
  }

  applyHandlers(handlers, nativeHandlers) {
    this.handlers = handlers;
    this.nativeHandlers = nativeHandlers;
  }

  applyConfig(config, gestureKey) {
    this.config = parse(config, gestureKey);
  }

  clean() {
    this._targetEventStore.clean();

    for (const key of this.gestures) {
      this.gestureEventStores[key].clean();
      this.gestureTimeoutStores[key].clean();
    }
  }

  effect() {
    if (this.config.shared.target) this.bind();
    return () => this._targetEventStore.clean();
  }

  bind(...args) {
    const sharedConfig = this.config.shared;
    const eventOptions = sharedConfig.eventOptions;
    const props = {};
    let target;

    if (sharedConfig.target) {
      target = sharedConfig.target();
      if (!target) return;
    }

    const bindFunction = bindToProps(props, eventOptions, !!target);

    if (sharedConfig.enabled) {
      for (const gestureKey of this.gestures) {
        if (this.config[gestureKey].enabled) {
          const Engine = _actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.E.get(gestureKey);
          new Engine(this, args, gestureKey).bind(bindFunction);
        }
      }

      for (const eventKey in this.nativeHandlers) {
        bindFunction(eventKey, '', event => this.nativeHandlers[eventKey]((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)((0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, this.state.shared), {}, {
          event,
          args
        })), undefined, true);
      }
    }

    for (const handlerProp in props) {
      props[handlerProp] = (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.c)(...props[handlerProp]);
    }

    if (!target) return props;

    for (const handlerProp in props) {
      let eventKey = handlerProp.substr(2).toLowerCase();
      const capture = !!~eventKey.indexOf('capture');
      const passive = !!~eventKey.indexOf('passive');
      if (capture || passive) eventKey = eventKey.replace(/capture|passive/g, '');

      this._targetEventStore.add(target, eventKey, '', props[handlerProp], {
        capture,
        passive
      });
    }
  }

}

function setupGesture(ctrl, gestureKey) {
  ctrl.gestures.add(gestureKey);
  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl);
  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();
}

function resolveGestures(ctrl, internalHandlers) {
  if (internalHandlers.drag) setupGesture(ctrl, 'drag');
  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');
  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');
  if (internalHandlers.move) setupGesture(ctrl, 'move');
  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');
  if (internalHandlers.hover) setupGesture(ctrl, 'hover');
}

const bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {
  var _options$capture, _options$passive;

  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;
  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;
  let handlerProp = isNative ? device : (0,_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.d)(device, action, capture);
  if (withPassiveOption && passive) handlerProp += 'Passive';
  props[handlerProp] = props[handlerProp] || [];
  props[handlerProp].push(handler);
};

const RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;

function sortHandlers(_handlers) {
  const native = {};
  const handlers = {};
  const actions = new Set();

  for (let key in _handlers) {
    if (RE_NOT_NATIVE.test(key)) {
      actions.add(RegExp.lastMatch);
      handlers[key] = _handlers[key];
    } else {
      native[key] = _handlers[key];
    }
  }

  return [handlers, native, actions];
}

function registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {
  if (!actions.has(handlerKey)) return;

  if (!_actions_fd032a26_esm_js__WEBPACK_IMPORTED_MODULE_0__.E.has(key)) {
    if (true) {
      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \`${key}\` gesture but isn't properly configured.\n\nPlease add \`${key}Action\` when creating your handler.`);
    }

    return;
  }

  const startKey = handlerKey + 'Start';
  const endKey = handlerKey + 'End';

  const fn = state => {
    let memo = undefined;
    if (state.first && startKey in handlers) handlers[startKey](state);
    if (handlerKey in handlers) memo = handlers[handlerKey](state);
    if (state.last && endKey in handlers) handlers[endKey](state);
    return memo;
  };

  internalHandlers[key] = fn;
  config[key] = config[key] || {};
}

function parseMergedHandlers(mergedHandlers, mergedConfig) {
  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);
  const internalHandlers = {};
  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);
  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);
  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);
  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);
  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);
  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);
  return {
    handlers: internalHandlers,
    config: mergedConfig,
    nativeHandlers
  };
}




/***/ }),

/***/ "./node_modules/@use-gesture/core/types/dist/use-gesture-core-types.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@use-gesture/core/types/dist/use-gesture-core-types.esm.js ***!
  \*********************************************************************************/
/***/ (() => {




/***/ }),

/***/ "./node_modules/@use-gesture/core/utils/dist/use-gesture-core-utils.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@use-gesture/core/utils/dist/use-gesture-core-utils.esm.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "rubberbandIfOutOfBounds": () => (/* reexport safe */ _dist_maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__.r)
/* harmony export */ });
/* harmony import */ var _dist_maths_b2a210f4_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dist/maths-b2a210f4.esm.js */ "./node_modules/@use-gesture/core/dist/maths-b2a210f4.esm.js");



/***/ }),

/***/ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConfigResolverMap": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.ConfigResolverMap),
/* harmony export */   "EngineMap": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.EngineMap),
/* harmony export */   "dragAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.dragAction),
/* harmony export */   "hoverAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.hoverAction),
/* harmony export */   "moveAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.moveAction),
/* harmony export */   "pinchAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.pinchAction),
/* harmony export */   "registerAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction),
/* harmony export */   "scrollAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.scrollAction),
/* harmony export */   "wheelAction": () => (/* reexport safe */ _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.wheelAction),
/* harmony export */   "rubberbandIfOutOfBounds": () => (/* reexport safe */ _use_gesture_core_utils__WEBPACK_IMPORTED_MODULE_2__.rubberbandIfOutOfBounds),
/* harmony export */   "createUseGesture": () => (/* binding */ createUseGesture),
/* harmony export */   "useDrag": () => (/* binding */ useDrag),
/* harmony export */   "useGesture": () => (/* binding */ useGesture),
/* harmony export */   "useHover": () => (/* binding */ useHover),
/* harmony export */   "useMove": () => (/* binding */ useMove),
/* harmony export */   "usePinch": () => (/* binding */ usePinch),
/* harmony export */   "useScroll": () => (/* binding */ useScroll),
/* harmony export */   "useWheel": () => (/* binding */ useWheel)
/* harmony export */ });
/* harmony import */ var _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @use-gesture/core/actions */ "./node_modules/@use-gesture/core/actions/dist/use-gesture-core-actions.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _use_gesture_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @use-gesture/core */ "./node_modules/@use-gesture/core/dist/use-gesture-core.esm.js");
/* harmony import */ var _use_gesture_core_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @use-gesture/core/utils */ "./node_modules/@use-gesture/core/utils/dist/use-gesture-core-utils.esm.js");
/* harmony import */ var _use_gesture_core_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @use-gesture/core/types */ "./node_modules/@use-gesture/core/types/dist/use-gesture-core-types.esm.js");
/* harmony import */ var _use_gesture_core_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_use_gesture_core_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _use_gesture_core_types__WEBPACK_IMPORTED_MODULE_3__) if(["default","createUseGesture","useDrag","useGesture","useHover","useMove","usePinch","useScroll","useWheel","ConfigResolverMap","EngineMap","dragAction","hoverAction","moveAction","pinchAction","registerAction","scrollAction","wheelAction","rubberbandIfOutOfBounds"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _use_gesture_core_types__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);







function useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {
  const ctrl = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(() => new _use_gesture_core__WEBPACK_IMPORTED_MODULE_4__.Controller(handlers), []);
  ctrl.applyHandlers(handlers, nativeHandlers);
  ctrl.applyConfig(config, gestureKey);
  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(ctrl.effect.bind(ctrl));
  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {
    return ctrl.clean.bind(ctrl);
  }, []);

  if (config.target === undefined) {
    return ctrl.bind.bind(ctrl);
  }

  return undefined;
}

function useDrag(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.dragAction);
  return useRecognizers({
    drag: handler
  }, config, 'drag');
}

function usePinch(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.pinchAction);
  return useRecognizers({
    pinch: handler
  }, config, 'pinch');
}

function useWheel(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.wheelAction);
  return useRecognizers({
    wheel: handler
  }, config, 'wheel');
}

function useScroll(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.scrollAction);
  return useRecognizers({
    scroll: handler
  }, config, 'scroll');
}

function useMove(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.moveAction);
  return useRecognizers({
    move: handler
  }, config, 'move');
}

function useHover(handler, config = {}) {
  (0,_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction)(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.hoverAction);
  return useRecognizers({
    hover: handler
  }, config, 'hover');
}

function createUseGesture(actions) {
  actions.forEach(_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.registerAction);
  return function useGesture(_handlers, _config = {}) {
    const {
      handlers,
      nativeHandlers,
      config
    } = (0,_use_gesture_core__WEBPACK_IMPORTED_MODULE_4__.parseMergedHandlers)(_handlers, _config);
    return useRecognizers(handlers, config, undefined, nativeHandlers);
  };
}

function useGesture(handlers, config = {}) {
  const hook = createUseGesture([_use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.dragAction, _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.pinchAction, _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.scrollAction, _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.wheelAction, _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.moveAction, _use_gesture_core_actions__WEBPACK_IMPORTED_MODULE_0__.hoverAction]);
  return hook(handlers, config);
}




/***/ }),

/***/ "./node_modules/ahooks/es/createUpdateEffect/index.js":
/*!************************************************************!*\
  !*** ./node_modules/ahooks/es/createUpdateEffect/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createUpdateEffect": () => (/* binding */ createUpdateEffect)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var createUpdateEffect = function createUpdateEffect(hook) {
  return function (effect, deps) {
    var isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // for react-refresh

    hook(function () {
      return function () {
        isMounted.current = false;
      };
    }, []);
    hook(function () {
      if (!isMounted.current) {
        isMounted.current = true;
      } else {
        return effect();
      }
    }, deps);
  };
};

/***/ }),

/***/ "./node_modules/ahooks/es/useClickAway/index.js":
/*!******************************************************!*\
  !*** ./node_modules/ahooks/es/useClickAway/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useClickAway)
/* harmony export */ });
/* harmony import */ var _useLatest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../useLatest */ "./node_modules/ahooks/es/useLatest/index.js");
/* harmony import */ var _utils_domTarget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/domTarget */ "./node_modules/ahooks/es/utils/domTarget.js");
/* harmony import */ var _utils_useEffectWithTarget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/useEffectWithTarget */ "./node_modules/ahooks/es/utils/useEffectWithTarget.js");



function useClickAway(onClickAway, target, eventName) {
  if (eventName === void 0) {
    eventName = 'click';
  }

  var onClickAwayRef = (0,_useLatest__WEBPACK_IMPORTED_MODULE_0__["default"])(onClickAway);
  (0,_utils_useEffectWithTarget__WEBPACK_IMPORTED_MODULE_1__["default"])(function () {
    var handler = function handler(event) {
      var targets = Array.isArray(target) ? target : [target];

      if (targets.some(function (item) {
        var targetElement = (0,_utils_domTarget__WEBPACK_IMPORTED_MODULE_2__.getTargetElement)(item);
        return !targetElement || (targetElement === null || targetElement === void 0 ? void 0 : targetElement.contains(event.target));
      })) {
        return;
      }

      onClickAwayRef.current(event);
    };

    var eventNames = Array.isArray(eventName) ? eventName : [eventName];
    eventNames.forEach(function (event) {
      return document.addEventListener(event, handler);
    });
    return function () {
      eventNames.forEach(function (event) {
        return document.removeEventListener(event, handler);
      });
    };
  }, Array.isArray(eventName) ? eventName : [eventName], target);
}

/***/ }),

/***/ "./node_modules/ahooks/es/useDebounceEffect/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/ahooks/es/useDebounceEffect/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useDebounceFn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../useDebounceFn */ "./node_modules/ahooks/es/useDebounceFn/index.js");
/* harmony import */ var _useUnmount__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../useUnmount */ "./node_modules/ahooks/es/useUnmount/index.js");
/* harmony import */ var _useUpdateEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../useUpdateEffect */ "./node_modules/ahooks/es/useUpdateEffect/index.js");
var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};






function useDebounceEffect(effect, deps, options) {
  var _a = __read((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), 2),
      flag = _a[0],
      setFlag = _a[1];

  var _b = (0,_useDebounceFn__WEBPACK_IMPORTED_MODULE_1__["default"])(function () {
    setFlag({});
  }, options),
      run = _b.run,
      cancel = _b.cancel;

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return run();
  }, deps);
  (0,_useUnmount__WEBPACK_IMPORTED_MODULE_2__["default"])(cancel);
  (0,_useUpdateEffect__WEBPACK_IMPORTED_MODULE_3__["default"])(effect, [flag]);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDebounceEffect);

/***/ }),

/***/ "./node_modules/ahooks/es/useDebounceFn/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ahooks/es/useDebounceFn/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useLatest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../useLatest */ "./node_modules/ahooks/es/useLatest/index.js");
/* harmony import */ var _useUnmount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../useUnmount */ "./node_modules/ahooks/es/useUnmount/index.js");
var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

var __spread = undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read(arguments[i]));
  }

  return ar;
};






function useDebounceFn(fn, options) {
  var _a;

  if (true) {
    if (typeof fn !== 'function') {
      console.error("useDebounceFn expected parameter is a function, got " + typeof fn);
    }
  }

  var fnRef = (0,_useLatest__WEBPACK_IMPORTED_MODULE_2__["default"])(fn);
  var wait = (_a = options === null || options === void 0 ? void 0 : options.wait) !== null && _a !== void 0 ? _a : 1000;
  var debounced = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function () {
      var args = [];

      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }

      return fnRef.current.apply(fnRef, __spread(args));
    }, wait, options);
  }, []);
  (0,_useUnmount__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
    debounced.cancel();
  });
  return {
    run: debounced,
    cancel: debounced.cancel,
    flush: debounced.flush
  };
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDebounceFn);

/***/ }),

/***/ "./node_modules/ahooks/es/useInViewport/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ahooks/es/useInViewport/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js");
/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_domTarget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/domTarget */ "./node_modules/ahooks/es/utils/domTarget.js");
/* harmony import */ var _utils_useEffectWithTarget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/useEffectWithTarget */ "./node_modules/ahooks/es/utils/useEffectWithTarget.js");
var __assign = undefined && undefined.__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign.apply(this, arguments);
};

var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

var __values = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function next() {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};






function useInViewport(target, options) {
  var _a = __read((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(), 2),
      state = _a[0],
      setState = _a[1];

  var _b = __read((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(), 2),
      ratio = _b[0],
      setRatio = _b[1];

  (0,_utils_useEffectWithTarget__WEBPACK_IMPORTED_MODULE_2__["default"])(function () {
    var el = (0,_utils_domTarget__WEBPACK_IMPORTED_MODULE_3__.getTargetElement)(target);

    if (!el) {
      return;
    }

    var observer = new IntersectionObserver(function (entries) {
      var e_1, _a;

      try {
        for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {
          var entry = entries_1_1.value;
          setRatio(entry.intersectionRatio);

          if (entry.isIntersecting) {
            setState(true);
          } else {
            setState(false);
          }
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (entries_1_1 && !entries_1_1.done && (_a = entries_1["return"])) _a.call(entries_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    }, __assign(__assign({}, options), {
      root: (0,_utils_domTarget__WEBPACK_IMPORTED_MODULE_3__.getTargetElement)(options === null || options === void 0 ? void 0 : options.root)
    }));
    observer.observe(el);
    return function () {
      observer.disconnect();
    };
  }, [], target);
  return [state, ratio];
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useInViewport);

/***/ }),

/***/ "./node_modules/ahooks/es/useLatest/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ahooks/es/useLatest/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function useLatest(value) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);
  ref.current = value;
  return ref;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLatest);

/***/ }),

/***/ "./node_modules/ahooks/es/useLockFn/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ahooks/es/useLockFn/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }

  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

var __generator = undefined && undefined.__generator || function (thisArg, body) {
  var _ = {
    label: 0,
    sent: function sent() {
      if (t[0] & 1) throw t[1];
      return t[1];
    },
    trys: [],
    ops: []
  },
      f,
      y,
      t,
      g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
    return this;
  }), g;

  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }

  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");

    while (_) {
      try {
        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
        if (y = 0, t) op = [op[0] & 2, t.value];

        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;

          case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;

          case 7:
            op = _.ops.pop();

            _.trys.pop();

            continue;

          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }

            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }

            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }

            if (t && _.label < t[2]) {
              _.label = t[2];

              _.ops.push(op);

              break;
            }

            if (t[2]) _.ops.pop();

            _.trys.pop();

            continue;
        }

        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    }

    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};

var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

var __spread = undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read(arguments[i]));
  }

  return ar;
};



function useLockFn(fn) {
  var _this = this;

  var lockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    var args = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }

    return __awaiter(_this, void 0, void 0, function () {
      var ret, e_1;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            if (lockRef.current) return [2
            /*return*/
            ];
            lockRef.current = true;
            _a.label = 1;

          case 1:
            _a.trys.push([1, 3,, 4]);

            return [4
            /*yield*/
            , fn.apply(void 0, __spread(args))];

          case 2:
            ret = _a.sent();
            lockRef.current = false;
            return [2
            /*return*/
            , ret];

          case 3:
            e_1 = _a.sent();
            lockRef.current = false;
            throw e_1;

          case 4:
            return [2
            /*return*/
            ];
        }
      });
    });
  }, [fn]);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLockFn);

/***/ }),

/***/ "./node_modules/ahooks/es/useMemoizedFn/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ahooks/es/useMemoizedFn/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function useMemoizedFn(fn) {
  if (true) {
    if (typeof fn !== 'function') {
      console.error("useMemoizedFn expected parameter is a function, got " + typeof fn);
    }
  }

  var fnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(fn); // why not write `fnRef.current = fn`?
  // https://github.com/alibaba/hooks/issues/728

  fnRef.current = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return fn;
  }, [fn]);
  var memoizedFn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();

  if (!memoizedFn.current) {
    memoizedFn.current = function () {
      var args = [];

      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      } // eslint-disable-next-line @typescript-eslint/no-invalid-this


      return fnRef.current.apply(this, args);
    };
  }

  return memoizedFn.current;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMemoizedFn);

/***/ }),

/***/ "./node_modules/ahooks/es/useMount/index.js":
/*!**************************************************!*\
  !*** ./node_modules/ahooks/es/useMount/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


var useMount = function useMount(fn) {
  if (true) {
    if (typeof fn !== 'function') {
      console.error("useMount: parameter `fn` expected to be a function, but got \"" + typeof fn + "\".");
    }
  }

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    fn === null || fn === void 0 ? void 0 : fn();
  }, []);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMount);

/***/ }),

/***/ "./node_modules/ahooks/es/useThrottleFn/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ahooks/es/useThrottleFn/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useLatest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../useLatest */ "./node_modules/ahooks/es/useLatest/index.js");
/* harmony import */ var _useUnmount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../useUnmount */ "./node_modules/ahooks/es/useUnmount/index.js");
var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

var __spread = undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read(arguments[i]));
  }

  return ar;
};






function useThrottleFn(fn, options) {
  var _a;

  if (true) {
    if (typeof fn !== 'function') {
      console.error("useThrottleFn expected parameter is a function, got " + typeof fn);
    }
  }

  var fnRef = (0,_useLatest__WEBPACK_IMPORTED_MODULE_2__["default"])(fn);
  var wait = (_a = options === null || options === void 0 ? void 0 : options.wait) !== null && _a !== void 0 ? _a : 1000;
  var throttled = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default()(function () {
      var args = [];

      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }

      return fnRef.current.apply(fnRef, __spread(args));
    }, wait, options);
  }, []);
  (0,_useUnmount__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
    throttled.cancel();
  });
  return {
    run: throttled,
    cancel: throttled.cancel,
    flush: throttled.flush
  };
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useThrottleFn);

/***/ }),

/***/ "./node_modules/ahooks/es/useTimeout/index.js":
/*!****************************************************!*\
  !*** ./node_modules/ahooks/es/useTimeout/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useLatest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../useLatest */ "./node_modules/ahooks/es/useLatest/index.js");



function useTimeout(fn, delay) {
  var fnRef = (0,_useLatest__WEBPACK_IMPORTED_MODULE_1__["default"])(fn);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (typeof delay !== 'number' || delay <= 0) return;
    var timer = setTimeout(function () {
      fnRef.current();
    }, delay);
    return function () {
      clearTimeout(timer);
    };
  }, [delay]);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTimeout);

/***/ }),

/***/ "./node_modules/ahooks/es/useUnmount/index.js":
/*!****************************************************!*\
  !*** ./node_modules/ahooks/es/useUnmount/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useLatest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../useLatest */ "./node_modules/ahooks/es/useLatest/index.js");



var useUnmount = function useUnmount(fn) {
  if (true) {
    if (typeof fn !== 'function') {
      console.error("useUnmount expected parameter is a function, got " + typeof fn);
    }
  }

  var fnRef = (0,_useLatest__WEBPACK_IMPORTED_MODULE_1__["default"])(fn);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      fnRef.current();
    };
  }, []);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUnmount);

/***/ }),

/***/ "./node_modules/ahooks/es/useUnmountedRef/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/ahooks/es/useUnmountedRef/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


var useUnmountedRef = function useUnmountedRef() {
  var unmountedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    unmountedRef.current = false;
    return function () {
      unmountedRef.current = true;
    };
  }, []);
  return unmountedRef;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUnmountedRef);

/***/ }),

/***/ "./node_modules/ahooks/es/useUpdate/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ahooks/es/useUpdate/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};



var useUpdate = function useUpdate() {
  var _a = __read((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), 2),
      setState = _a[1];

  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    return setState({});
  }, []);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUpdate);

/***/ }),

/***/ "./node_modules/ahooks/es/useUpdateEffect/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/ahooks/es/useUpdateEffect/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _createUpdateEffect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createUpdateEffect */ "./node_modules/ahooks/es/createUpdateEffect/index.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_createUpdateEffect__WEBPACK_IMPORTED_MODULE_1__.createUpdateEffect)(react__WEBPACK_IMPORTED_MODULE_0__.useEffect));

/***/ }),

/***/ "./node_modules/ahooks/es/useUpdateLayoutEffect/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/ahooks/es/useUpdateLayoutEffect/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _createUpdateEffect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createUpdateEffect */ "./node_modules/ahooks/es/createUpdateEffect/index.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_createUpdateEffect__WEBPACK_IMPORTED_MODULE_1__.createUpdateEffect)(react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect));

/***/ }),

/***/ "./node_modules/ahooks/es/utils/createEffectWithTarget.js":
/*!****************************************************************!*\
  !*** ./node_modules/ahooks/es/utils/createEffectWithTarget.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useUnmount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../useUnmount */ "./node_modules/ahooks/es/useUnmount/index.js");
/* harmony import */ var _depsAreSame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./depsAreSame */ "./node_modules/ahooks/es/utils/depsAreSame.js");
/* harmony import */ var _domTarget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./domTarget */ "./node_modules/ahooks/es/utils/domTarget.js");





var createEffectWithTarget = function createEffectWithTarget(useEffectType) {
  /**
   *
   * @param effect
   * @param deps
   * @param target target should compare ref.current vs ref.current, dom vs dom, ()=>dom vs ()=>dom
   */
  var useEffectWithTarget = function useEffectWithTarget(effect, deps, target) {
    var hasInitRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
    var lastElementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
    var lastDepsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
    var unLoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    useEffectType(function () {
      var _a;

      var targets = Array.isArray(target) ? target : [target];
      var els = targets.map(function (item) {
        return (0,_domTarget__WEBPACK_IMPORTED_MODULE_1__.getTargetElement)(item);
      }); // init run

      if (!hasInitRef.current) {
        hasInitRef.current = true;
        lastElementRef.current = els;
        lastDepsRef.current = deps;
        unLoadRef.current = effect();
        return;
      }

      if (els.length !== lastElementRef.current.length || !(0,_depsAreSame__WEBPACK_IMPORTED_MODULE_2__["default"])(els, lastElementRef.current) || !(0,_depsAreSame__WEBPACK_IMPORTED_MODULE_2__["default"])(deps, lastDepsRef.current)) {
        (_a = unLoadRef.current) === null || _a === void 0 ? void 0 : _a.call(unLoadRef);
        lastElementRef.current = els;
        lastDepsRef.current = deps;
        unLoadRef.current = effect();
      }
    });
    (0,_useUnmount__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
      var _a;

      (_a = unLoadRef.current) === null || _a === void 0 ? void 0 : _a.call(unLoadRef); // for react-refresh

      hasInitRef.current = false;
    });
  };

  return useEffectWithTarget;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createEffectWithTarget);

/***/ }),

/***/ "./node_modules/ahooks/es/utils/depsAreSame.js":
/*!*****************************************************!*\
  !*** ./node_modules/ahooks/es/utils/depsAreSame.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ depsAreSame)
/* harmony export */ });
function depsAreSame(oldDeps, deps) {
  if (oldDeps === deps) return true;

  for (var i = 0; i < oldDeps.length; i++) {
    if (!Object.is(oldDeps[i], deps[i])) return false;
  }

  return true;
}

/***/ }),

/***/ "./node_modules/ahooks/es/utils/domTarget.js":
/*!***************************************************!*\
  !*** ./node_modules/ahooks/es/utils/domTarget.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTargetElement": () => (/* binding */ getTargetElement)
/* harmony export */ });
/* harmony import */ var _isBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isBrowser */ "./node_modules/ahooks/es/utils/isBrowser.js");

function getTargetElement(target, defaultElement) {
  if (!_isBrowser__WEBPACK_IMPORTED_MODULE_0__["default"]) {
    return undefined;
  }

  if (!target) {
    return defaultElement;
  }

  var targetElement;

  if (typeof target === 'function') {
    targetElement = target();
  } else if ('current' in target) {
    targetElement = target.current;
  } else {
    targetElement = target;
  }

  return targetElement;
}

/***/ }),

/***/ "./node_modules/ahooks/es/utils/isBrowser.js":
/*!***************************************************!*\
  !*** ./node_modules/ahooks/es/utils/isBrowser.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var isBrowser = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isBrowser);

/***/ }),

/***/ "./node_modules/ahooks/es/utils/useEffectWithTarget.js":
/*!*************************************************************!*\
  !*** ./node_modules/ahooks/es/utils/useEffectWithTarget.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _createEffectWithTarget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createEffectWithTarget */ "./node_modules/ahooks/es/utils/createEffectWithTarget.js");


var useEffectWithTarget = (0,_createEffectWithTarget__WEBPACK_IMPORTED_MODULE_1__["default"])(react__WEBPACK_IMPORTED_MODULE_0__.useEffect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useEffectWithTarget);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/AddOutline.js":
/*!*********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/AddOutline.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function AddOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "33A15659-CFDC-4686-8D0F-7D06C2598A9B@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "AddOutline-AddOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "AddOutline-add"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "AddOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M25.1,6.5 C25.3209139,6.5 25.5,6.6790861 25.5,6.9 L25.5,22.5 L41.1,22.5 C41.3209139,22.5 41.5,22.6790861 41.5,22.9 L41.5,25.1 C41.5,25.3209139 41.3209139,25.5 41.1,25.5 L25.5,25.5 L25.5,41.1 C25.5,41.3209139 25.3209139,41.5 25.1,41.5 L22.9,41.5 C22.6790861,41.5 22.5,41.3209139 22.5,41.1 L22.5,25.5 L6.9,25.5 C6.6790861,25.5 6.5,25.3209139 6.5,25.1 L6.5,22.9 C6.5,22.6790861 6.6790861,22.5 6.9,22.5 L22.5,22.5 L22.5,6.9 C22.5,6.6790861 22.6790861,6.5 22.9,6.5 L25.1,6.5 Z",
    id: "AddOutline-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/CheckCircleFill.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/CheckCircleFill.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function CheckCircleFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "1DC796E9-1605-4FAA-B2F4-350EE27781EB@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CheckCircleFill-CheckCircleFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CheckCircleFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "CheckCircleFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M35.8202936,17 L32.7086692,17 C32.6025922,17 32.500859,17.0421352 32.4258461,17.1171378 L32.4258461,17.1171378 L21.3922352,28.1492247 L16.3591562,23.1163755 C16.2841422,23.0413649 16.1824034,22.9992247 16.0763199,22.9992247 L16.0763199,22.9992247 L12.9653996,22.9992247 C12.859342,22.9992247 12.7576259,23.0413445 12.6826161,23.1163228 C12.5263737,23.2724998 12.5263207,23.5257658 12.6824977,23.6820082 C12.8583452,23.8579294 13.0341927,24.0338505 13.2100402,24.2097716 C13.2577488,24.2575002 13.3065097,24.3063074 13.3562592,24.3561283 L13.6661084,24.6666997 C14.3074913,25.3100963 15.0728595,26.0807873 15.8520136,26.8666654 L16.4372421,27.4571699 C18.2552812,29.2922548 19.9983838,31.0574343 20.2666114,31.3285298 L20.301004,31.3632341 C20.8867904,31.9490205 21.8365379,31.9490205 22.4223243,31.3632341 L22.4223243,31.3632341 L36.1031319,17.6828471 C36.1781492,17.6078322 36.2202936,17.5060887 36.2202936,17.4 C36.2202936,17.1790861 36.0412075,17 35.8202936,17 L35.8202936,17 Z",
    id: "CheckCircleFill-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CheckCircleFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/CheckOutline.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/CheckOutline.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function CheckOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "8DE9ADC3-8191-4F11-910A-FEDD01D8E953@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CheckOutline-CheckOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CheckOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "CheckOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",
    id: "CheckOutline-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CheckOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/ClockCircleFill.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/ClockCircleFill.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function ClockCircleFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "997DEB30-1124-46F5-A386-08D01093C397@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "ClockCircleFill-ClockCircleFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "ClockCircleFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "ClockCircleFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24.6,14 L22.4,14 C22.1790861,14 22,14.1790861 22,14.4 L22,14.4 L22,23.1715729 L22.0065089,23.3850222 C22.0584325,24.2354066 22.4192395,25.0405598 23.0251263,25.6464466 L23.0251263,25.6464466 L31.1564971,33.7778175 C31.3127068,33.9340272 31.5659728,33.9340272 31.7221825,33.7778175 L31.7221825,33.7778175 L33.2778175,32.2221825 C33.4340272,32.0659728 33.4340272,31.8127068 33.2778175,31.6564971 L33.2778175,31.6564971 L25.1464466,23.5251263 L25.0952092,23.4650801 C25.0337142,23.38027 25,23.2776595 25,23.1715729 L25,23.1715729 L25,14.4 C25,14.1790861 24.8209139,14 24.6,14 L24.6,14 Z",
    id: "ClockCircleFill-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClockCircleFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/CloseCircleFill.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/CloseCircleFill.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function CloseCircleFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "C34EBE6F-E3E9-4172-9EC5-B64F0C39B12C@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CloseCircleFill-CloseCircleFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CloseCircleFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "CloseCircleFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",
    id: "CloseCircleFill-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseCircleFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/CloseOutline.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/CloseOutline.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function CloseOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "BE4E7D81-3958-4F2E-9956-E6071199885F@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CloseOutline-CloseOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "CloseOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "CloseOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",
    id: "CloseOutline-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/DownFill.js":
/*!*******************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/DownFill.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function DownFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "8C01EF67-304C-465C-BFE3-6D9C53F88E3D@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "DownFill-DownFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "DownFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "DownFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M40.6640052,13 L7.34128264,13 C6.57572302,13 5.83336217,13.2619065 5.23947349,13.7351762 C3.80578911,14.8838891 3.58308085,16.9699517 4.74301968,18.3897608 L21.404381,38.7725222 C21.5528531,38.9517214 21.7152446,39.1171361 21.9008348,39.2641713 C23.3345192,40.4128842 25.4363283,40.1923313 26.6009069,38.7725222 L43.2576284,18.3897608 C43.740163,17.8016198 44,17.0664436 44,16.3082931 C44.004629,14.4795422 42.505988,13 40.6640052,13 Z",
    id: "DownFill-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DownFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/DownOutline.js":
/*!**********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/DownOutline.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function DownOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "383EF84F-FCBC-4005-AC99-67A89C5A6520@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "DownOutline-DownOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "DownOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z",
    id: "DownOutline-down",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DownOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/ExclamationCircleFill.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/ExclamationCircleFill.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function ExclamationCircleFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "BF303676-47FC-4A83-8A4F-038B11ECC5CC@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "ExclamationCircleFill-ExclamationCircleFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "ExclamationCircleFill-\u77E9\u5F62",
    fill: "#D76060",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M25.1,31 L22.9,31 C22.6790861,31 22.5,31.1790861 22.5,31.4 L22.5,31.4 L22.5,33.6 C22.5,33.8209139 22.6790861,34 22.9,34 L22.9,34 L25.1,34 C25.3209139,34 25.5,33.8209139 25.5,33.6 L25.5,33.6 L25.5,31.4 C25.5,31.1790861 25.3209139,31 25.1,31 L25.1,31 Z M25.1,14 L22.9,14 C22.6790861,14 22.5,14.1790861 22.5,14.4 L22.5,14.4 L22.5,27.6 C22.5,27.8209139 22.6790861,28 22.9,28 L22.9,28 L25.1,28 C25.3209139,28 25.5,27.8209139 25.5,27.6 L25.5,27.6 L25.5,14.4 C25.5,14.1790861 25.3209139,14 25.1,14 L25.1,14 Z",
    id: "ExclamationCircleFill-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExclamationCircleFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/InformationCircleFill.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/InformationCircleFill.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function InformationCircleFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "5261529F-63EB-4005-91AE-DDB2B91C431C@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "InformationCircleFill-InformationCircleFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "InformationCircleFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "InformationCircleFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M25.6,20 L21.4,20 C21.1790861,20 21,20.1790861 21,20.4 L21,20.4 L21,22.6 C21,22.8209139 21.1790861,23 21.4,23 L21.4,23 L22.6,23 C22.8209139,23 23,23.1790861 23,23.4 L23,23.4 L23,34.6 C23,34.8209139 23.1790861,35 23.4,35 L23.4,35 L25.6,35 C25.8209139,35 26,34.8209139 26,34.6 L26,34.6 L26,20.4 C26,20.1790861 25.8209139,20 25.6,20 L25.6,20 Z M25.6,14 L23.4,14 C23.1790861,14 23,14.1790861 23,14.4 L23,14.4 L23,16.6 C23,16.8209139 23.1790861,17 23.4,17 L23.4,17 L25.6,17 C25.8209139,17 26,16.8209139 26,16.6 L26,16.6 L26,14.4 C26,14.1790861 25.8209139,14 25.6,14 L25.6,14 Z",
    id: "InformationCircleFill-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InformationCircleFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/LeftOutline.js":
/*!**********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/LeftOutline.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function LeftOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "A204776C-9DAE-4D2F-806A-362964924114@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "LeftOutline-LeftOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "LeftOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "LeftOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M31.7053818,5.11219264 L13.5234393,22.6612572 L13.5234393,22.6612572 C12.969699,23.2125856 12.9371261,24.0863155 13.4257204,24.6755735 L13.5234393,24.7825775 L31.7045714,42.8834676 C31.7795345,42.9580998 31.8810078,43 31.9867879,43 L35.1135102,43 C35.3344241,43 35.5135102,42.8209139 35.5135102,42.6 C35.5135102,42.4936115 35.4711279,42.391606 35.3957362,42.316542 L16.7799842,23.7816937 L16.7799842,23.7816937 L35.3764658,5.6866816 C35.5347957,5.53262122 35.5382568,5.27937888 35.3841964,5.121049 C35.3088921,5.04365775 35.205497,5 35.0975148,5 L31.9831711,5 C31.8795372,5 31.7799483,5.04022164 31.7053818,5.11219264 Z",
    id: "LeftOutline-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LeftOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/MinusOutline.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/MinusOutline.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function MinusOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "C84A2B90-C120-4EBF-AC70-A852065F273D@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "MinusOutline-MinusOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "MinusOutline-add"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "MinusOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M41.1,22.5 C41.3209139,22.5 41.5,22.6790861 41.5,22.9 L41.5,25.1 C41.5,25.3209139 41.3209139,25.5 41.1,25.5 L6.9,25.5 C6.6790861,25.5 6.5,25.3209139 6.5,25.1 L6.5,22.9 C6.5,22.6790861 6.6790861,22.5 6.9,22.5 L41.1,22.5 Z",
    id: "MinusOutline-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MinusOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/PictureOutline.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/PictureOutline.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function PictureOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "1492DA84-4DEE-4368-967C-5E77B755D70E@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "PictureOutline-PictureOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "PictureOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "PictureOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M38,4 C41.3137085,4 44,6.6862915 44,10 L44,38 C44,41.3137085 41.3137085,44 38,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L38,4 Z M38,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,37.332 L32.7808252,29.1126218 C32.0818755,28.4136721 30.9683937,28.3819016 30.2317592,29.0173105 L30.1291748,29.1126218 L17.242,41.9990101 L13,41.9990101 L28.6265729,26.372583 C30.18867,24.8104858 32.72133,24.8104858 34.2834271,26.372583 L40.3171606,32.4061764 C40.4733721,32.5623843 40.7266381,32.5623814 40.882846,32.4061699 C40.9578585,32.3311556 41,32.2294154 41,32.1233304 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 Z",
    id: "PictureOutline-\u5F62\u72B6",
    fill: "currentColor",
    fillRule: "nonzero"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M16,12 C18.7614237,12 21,14.2385763 21,17 C21,19.7614237 18.7614237,22 16,22 C13.2385763,22 11,19.7614237 11,17 C11,14.2385763 13.2385763,12 16,12 Z M16,15 C14.8954305,15 14,15.8954305 14,17 C14,18.1045695 14.8954305,19 16,19 C17.1045695,19 18,18.1045695 18,17 C18,15.8954305 17.1045695,15 16,15 Z",
    id: "PictureOutline-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PictureOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/PictureWrongOutline.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/PictureWrongOutline.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function PictureWrongOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "E3CC186A-732B-41F7-840F-94DFEB4A19D7@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "PictureWrongOutline-PictureWrongOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "PictureWrongOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "PictureWrongOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M26.6,41 C26.8209139,41 27,41.1790861 27,41.4 L27,43.6 C27,43.8209139 26.8209139,44 26.6,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L38,4 C41.3137085,4 44,6.6862915 44,10 L44,27.593 C44,27.8139139 43.8209139,27.993 43.6,27.993 L41.4,27.993 C41.1790861,27.993 41,27.8139139 41,27.593 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 M40.6719687,31.2652801 L42.2275262,32.8204117 C42.383855,32.9765022 42.3838897,33.2297682 42.2277014,33.3859993 C42.2276688,33.3860319 42.2276362,33.3860645 42.2275059,33.3859993 L38.9039017,36.7082163 C38.7475587,36.8642927 38.7475058,37.1175587 38.903683,37.273801 C38.9037165,37.2738346 38.9037501,37.2738682 38.9038844,37.273801 L42.2275232,40.5964595 C42.3838364,40.7525657 42.3838737,41.0058317 42.2276871,41.1620645 C42.2276603,41.1620913 42.2276334,41.1621181 42.2275262,41.1620645 L40.6719687,42.717196 C40.5156899,42.8732755 40.2624843,42.8732759 40.1062051,42.7171968 L36.7818822,39.3938032 C36.6256468,39.2376241 36.3723857,39.2376567 36.2161905,39.3938759 L32.8937222,42.7171241 C32.7375275,42.8733444 32.4842657,42.8733766 32.3280313,42.717196 L30.7724738,41.1620645 C30.6161986,41.0059202 30.6161639,40.7526542 30.7723523,40.5964231 C30.772367,40.5964084 30.7723817,40.5963938 30.7724404,40.5964231 L34.0951519,37.2738374 C34.2513926,37.1176586 34.2513974,36.8643926 34.0951907,36.70818 C34.0951813,36.7081706 34.095172,36.7081613 34.0951346,36.70818 L30.7724577,33.3860357 C30.6161741,33.2298999 30.6161538,32.9766339 30.772351,32.8204117 C30.7723715,32.8203912 30.7723919,32.8203707 30.7724738,32.8204117 L32.3280313,31.2652801 C32.4843206,31.1092247 32.7375129,31.1092166 32.8938123,31.265262 L36.2171004,34.5872142 C36.3734109,34.7432343 36.6265891,34.7432343 36.7828996,34.5872142 L40.1061877,31.265262 C40.2624871,31.1092166 40.5156794,31.1092247 40.6719687,31.2652801 Z M13,40.9990101 L28.6265729,25.372583 C30.18867,23.8104858 32.72133,23.8104858 34.2834271,25.372583 L36.2211004,27.310141 C36.3773147,27.4663461 36.3773223,27.7196121 36.2211172,27.8758264 C36.1461012,27.9508469 36.0443547,27.992993 35.9382628,27.9929921 L32.6494405,27.9929653 C31.9483786,27.412271 30.9237784,27.4203861 30.2317592,28.0173105 L30.1291748,28.1126218 L17.3591558,40.8818615 C17.284142,40.9568707 17.1824041,40.9990101 17.0763217,40.9990101 L13,40.9990101 L13,40.9990101 Z M16,12 C18.7614237,12 21,14.2385763 21,17 C21,19.7614237 18.7614237,22 16,22 C13.2385763,22 11,19.7614237 11,17 C11,14.2385763 13.2385763,12 16,12 Z M16,15 C14.8954305,15 14,15.8954305 14,17 C14,18.1045695 14.8954305,19 16,19 C17.1045695,19 18,18.1045695 18,17 C18,15.8954305 17.1045695,15 16,15 Z",
    id: "PictureWrongOutline-\u5F62\u72B6",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PictureWrongOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/RightOutline.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/RightOutline.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function RightOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "89BAD3EA-8870-4856-ADA3-DECC08C3B283@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "RightOutline-RightOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "RightOutline-RightOutlined"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "RightOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z",
    id: "RightOutline-right",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RightOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/SearchOutline.js":
/*!************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/SearchOutline.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function SearchOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "1A7F0A7E-6023-4A8C-9C26-4DD5452D0C85@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "SearchOutline-SearchOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "SearchOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "SearchOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M10.2434135,10.1505371 C17.2346315,3.28315429 28.5696354,3.28315429 35.5608534,10.1505371 C42.3159331,16.7859644 42.5440954,27.4048667 36.2453405,34.3093889 L43.7095294,41.6422249 C43.8671196,41.7970419 43.8693677,42.0502979 43.7145508,42.2078881 C43.7128864,42.2095822 43.7112069,42.2112616 43.7095126,42.2129259 L42.1705322,43.7246464 C42.014915,43.8775072 41.7655181,43.8775006 41.6099089,43.7246316 L34.0775268,36.3248916 L34.0775268,36.3248916 C27.0485579,41.8551751 16.7593545,41.4200547 10.2434135,35.0195303 C3.25219551,28.1521474 3.25219551,17.0179199 10.2434135,10.1505371 Z M12.3532001,12.2229532 C6.52718516,17.9457722 6.52718516,27.2242951 12.3532001,32.9471142 C18.1792151,38.6699332 27.6250517,38.6699332 33.4510667,32.9471142 C39.2770817,27.2242951 39.2770817,17.9457722 33.4510667,12.2229532 C27.6250517,6.50013419 18.1792151,6.50013419 12.3532001,12.2229532 Z",
    id: "SearchOutline-\u5F62\u72B6",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/SoundOutline.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/SoundOutline.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function SoundOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "6EAA4F88-9494-422D-955D-F17E4F84E807@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "SoundOutline-SoundOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "SoundOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "SoundOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M28.267333,7.42364522 C28.6217345,7.94869119 28.8108515,8.56559899 28.8108515,9.19662571 L28.8108515,38.803714 C28.8108515,40.568974 27.3619563,42 25.5746535,42 C24.9357472,42 24.311136,41.8132153 23.7795338,41.4631847 L13.5176584,34.7058449 L8.3149307,34.706256 C5.93186028,34.706256 4,32.7982213 4,30.4445413 L4,17.6593971 C4,15.3057171 5.93186028,13.3976824 8.3149307,13.3976824 L13.3601634,13.3972713 L23.7795338,6.53715498 C25.2666597,5.55796489 27.2759158,5.95486009 28.267333,7.42364522 Z M40.4649231,8.99868666 C40.5511218,9.17742383 40.619996,9.32223121 40.6715457,9.43310881 C42.8085201,14.0295034 44,19.1437027 44,24.532755 C44,29.7837404 42.8687892,34.7737758 40.8339269,39.2781083 C40.7469512,39.4706362 40.6237802,39.7330988 40.4644141,40.0654961 C40.3689469,40.2647533 40.1300031,40.3488277 39.9307715,40.2533072 C39.9306414,40.2532448 39.9305113,40.2531824 39.9303812,40.2531198 C39.6706542,40.1282492 39.4751102,40.0342363 39.3437492,39.9710811 C38.9410401,39.777468 38.6130663,39.619786 38.3598279,39.498035 C38.2070716,39.4245934 38.0007263,39.3253875 37.740792,39.2004172 C37.5419104,39.104853 37.4580092,38.8662856 37.5532468,38.6672473 C37.7034937,38.3532445 37.8197479,38.104744 37.9020095,37.9217457 C39.7416376,33.8293278 40.763802,29.2989389 40.763802,24.532755 C40.763802,19.6931433 39.7099001,15.0966478 37.8164042,10.9549334 C37.7526807,10.8155487 37.6652043,10.6300308 37.5539748,10.3983796 C37.4585265,10.1993116 37.5423279,9.96050973 37.7412949,9.8648511 C37.9298799,9.7741839 38.0818373,9.70112639 38.1971671,9.64567856 C38.5403397,9.48068928 39.0100918,9.2548436 39.6064234,8.9681415 C39.6867211,8.9295363 39.7949893,8.87748349 39.9312282,8.81198307 C40.1301627,8.71623553 40.3690201,8.79982709 40.4649231,8.99868666 Z M24.954689,9.60481048 L14.4401642,16.5275765 C14.3748695,16.5705665 14.2984086,16.5934809 14.2202323,16.5934873 L8.3149307,16.5939685 L8.3149307,16.5939685 C7.76171792,16.5939685 7.30576856,17.0052668 7.24345545,17.5351457 L7.23619803,17.6593971 L7.23619803,30.4445413 C7.23619803,30.9909313 7.65263219,31.4412574 8.18892037,31.502802 L8.31467178,31.50997 L14.3775506,31.5094909 C14.4557573,31.5094847 14.5322502,31.5324045 14.5975676,31.5754153 L24.9546682,38.39546 C25.139173,38.5169545 25.3872345,38.4658746 25.508729,38.2813698 C25.5517339,38.2160614 25.5746535,38.1395804 25.5746535,38.0613845 L25.5746535,9.93889975 C25.5746535,9.71798585 25.3955674,9.53889975 25.1746535,9.53889975 C25.0964661,9.53889975 25.019993,9.56181436 24.954689,9.60481048 Z M34.6436115,11.798648 C34.7547335,12.030794 34.8419854,12.2167889 34.9053671,12.3566328 C36.590502,16.0746763 37.5276039,20.1956294 37.5276039,24.532755 C37.5276039,28.7641394 36.635639,32.7897635 35.0272837,36.4362183 C34.9380427,36.6385449 34.8101552,36.9146706 34.6436211,37.2645952 C34.5486602,37.4640326 34.3100191,37.5487723 34.1105639,37.4538487 C34.1101091,37.4536323 34.1096547,37.453415 34.1092007,37.4531968 C33.9190573,37.3618222 33.7721424,37.2912213 33.6684561,37.2413942 C33.186467,37.0097713 32.80073,36.824403 32.5112451,36.6852892 C32.3647538,36.6148919 32.1675294,36.5201144 31.9195719,36.4009569 C31.7210538,36.3055358 31.6370188,36.067582 31.7316042,35.8686644 C31.8690322,35.5796464 31.9753727,35.3500122 32.0506255,35.1797617 C33.4919206,31.9190071 34.2914059,28.3180945 34.2914059,24.532755 C34.2914059,20.6930477 33.46879,17.0431031 31.9881259,13.7454591 C31.9261905,13.6075203 31.840749,13.424362 31.7318014,13.1959842 C31.636885,12.9969991 31.7208632,12.7587263 31.919573,12.6632348 C32.0929373,12.5799233 32.2332164,12.5125112 32.3404102,12.4609985 C32.6888449,12.2935556 33.1655706,12.0644616 33.7705875,11.7737163 C33.8540198,11.7336223 33.9670458,11.6793068 34.1096655,11.6107699 C34.3087736,11.5152168 34.5476881,11.5990382 34.6433466,11.7980956 C34.643435,11.7982797 34.6435233,11.7984638 34.6436115,11.798648 Z",
    id: "SoundOutline-\u5F62\u72B6",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SoundOutline);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/StarFill.js":
/*!*******************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/StarFill.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function StarFill(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "3BB4CD5A-43D5-4503-ACE7-26AF1FEECB07@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "StarFill-StarFill",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "StarFill-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "StarFill-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M25.845596,4.44900551 C26.6681364,4.87129848 27.3339158,5.56388467 27.7398638,6.41954369 L31.6608321,14.6841788 L40.4283838,16.0094747 C42.70793,16.354049 44.2873463,18.5557239 43.9561089,20.9270533 C43.8242084,21.8713291 43.3967517,22.7440386 42.7399141,23.4100762 L36.3956541,29.8431975 L37.8933307,38.9269105 C38.2827237,41.2886581 36.7579187,43.531608 34.4875834,43.9366794 C33.5835239,44.097981 32.6535618,43.9447589 31.8416658,43.5007338 L23.9997292,39.2119863 L16.1577926,43.5007338 C14.1189044,44.6157998 11.5971068,43.8003441 10.5251999,41.6793627 C10.0983609,40.8347767 9.95106936,39.8673708 10.1061277,38.9269105 L11.6038043,29.8431975 L5.25954433,23.4100762 C3.61004918,21.7374773 3.57629754,18.9905481 5.18415792,17.274638 C5.82441637,16.5913537 6.66334736,16.146686 7.57107463,16.0094747 L16.3386263,14.6841788 L20.2595946,6.41954369 C21.2790387,4.27075478 23.7799767,3.38851478 25.845596,4.44900551 Z",
    id: "StarFill-\u8DEF\u5F84",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StarFill);

/***/ }),

/***/ "./node_modules/antd-mobile-icons/es/TextDeletionOutline.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile-icons/es/TextDeletionOutline.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


function TextDeletionOutline(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({
    width: "1em",
    height: "1em",
    viewBox: "0 0 48 48",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink"
  }, props, {
    style: Object.assign({
      verticalAlign: '-0.125em'
    }, props.style),
    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "7753CD2D-D457-43FE-BC07-A115EF61BBA0@2x"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "TextDeletionOutline-TextDeletionOutline",
    stroke: "none",
    strokeWidth: 1,
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    id: "TextDeletionOutline-\u7F16\u7EC4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    id: "TextDeletionOutline-\u77E9\u5F62",
    fill: "#FFFFFF",
    opacity: 0,
    x: 0,
    y: 0,
    width: 48,
    height: 48
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M38.5492302,6 C41.5596051,6 44,8.46240906 44,11.499981 L44,35.5 C44,38.5375742 41.5596051,41.000013 38.54923,41.000013 L17.3058462,41.000013 C14.6665152,41.000013 12.2347138,39.555982 10.9529738,37.2279238 L4.91451284,27.0612608 C3.6951623,24.8464932 3.6951623,22.1535354 4.91451335,19.9387516 L10.9529743,9.77208856 C12.234697,7.44403098 14.6665154,6 17.3058464,6 L38.5492302,6 Z M38.5492273,8.74994707 L17.3058465,8.74994707 C15.7329163,8.74994707 14.2719651,9.57120176 13.4439762,10.9206455 L13.3349608,11.1076457 L7.29739408,21.2743087 C6.57566975,22.5850072 6.53495505,24.1690434 7.18837846,25.5157286 L7.29739386,25.7265623 L13.3349605,35.8932253 C14.0992225,37.2803788 15.5202936,38.1698544 17.0914483,38.2444783 L17.3058454,38.2499783 L38.5492292,38.2499783 C39.9923716,38.2499783 41.1854088,37.114979 41.2700704,35.6613101 L41.2746127,35.4999769 L41.2746127,11.4999513 C41.2746127,10.0436198 40.1496291,8.83987037 38.7089651,8.75452144 L38.5492273,8.74994707 Z M22.3492842,17 C22.4547968,17 22.556036,17.0416892 22.6309531,17.1159883 L26.757,21.208 L30.8830469,17.1159883 C30.957964,17.0416892 31.0592032,17 31.1647158,17 L34.2719196,17 C34.4928335,17 34.6719196,17.1790861 34.6719196,17.4 C34.6719196,17.5067321 34.6292639,17.6090378 34.5534423,17.6841566 L28.879,23.306 L34.8245071,29.1968543 C34.9814364,29.3523411 34.9826059,29.6056044 34.8271191,29.7625337 C34.7520011,29.8383486 34.6497001,29.881 34.5429734,29.881 L31.4366959,29.881 C31.331195,29.881 31.2299662,29.8393201 31.1550512,29.7650357 L26.758,25.405 L22.3599432,29.7650669 C22.2850309,29.8393322 22.1838155,29.881 22.07833,29.881 L18.9720266,29.881 C18.7511127,29.881 18.5720266,29.7019139 18.5720266,29.481 C18.5720266,29.3742733 18.614678,29.2719723 18.6904929,29.1968543 L24.636,23.306 L18.9624269,17.6841345 C18.8055037,17.5286415 18.8043444,17.2753782 18.9598374,17.118455 C19.0349545,17.042647 19.1372506,17 19.2439719,17 L22.3492842,17 Z",
    id: "TextDeletionOutline-\u5F62\u72B6\u7ED3\u5408",
    fill: "currentColor",
    fillRule: "nonzero"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextDeletionOutline);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/action-sheet/action-sheet.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/action-sheet/action-sheet.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActionSheet": () => (/* binding */ ActionSheet),
/* harmony export */   "showActionSheet": () => (/* binding */ showActionSheet)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _safe_area__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../safe-area */ "./node_modules/antd-mobile/es/components/safe-area/index.js");








const classPrefix = `adm-action-sheet`;
const defaultProps = {
  visible: false,
  actions: [],
  cancelText: '',
  closeOnAction: false,
  closeOnMaskClick: true,
  safeArea: true
};
const ActionSheet = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup__WEBPACK_IMPORTED_MODULE_3__["default"], {
    visible: props.visible,
    onMaskClick: () => {
      var _a, _b;

      (_a = props.onMaskClick) === null || _a === void 0 ? void 0 : _a.call(props);

      if (props.closeOnMaskClick) {
        (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
      }
    },
    afterClose: props.afterClose,
    className: `${classPrefix}-popup`,
    getContainer: props.getContainer
  }, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, props.extra && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-extra`
  }, props.extra), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-button-list`
  }, props.actions.map((action, index) => react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: action.key,
    className: `${classPrefix}-button-item-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    block: true,
    fill: 'none',
    shape: 'rectangular',
    disabled: action.disabled,
    onClick: () => {
      var _a, _b, _c;

      (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action);
      (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action, index);

      if (props.closeOnAction) {
        (_c = props.onClose) === null || _c === void 0 ? void 0 : _c.call(props);
      }
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-button-item`, {
      [`${classPrefix}-button-item-danger`]: action.danger
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-button-item-name`
  }, action.text), action.description && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-button-item-description`
  }, action.description))))), props.cancelText && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-cancel`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-button-item-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    block: true,
    fill: 'none',
    shape: 'rectangular',
    className: `${classPrefix}-button-item`,
    onClick: () => {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-button-item-name`
  }, props.cancelText)))), props.safeArea && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_safe_area__WEBPACK_IMPORTED_MODULE_6__["default"], {
    position: 'bottom'
  }))));
};
function showActionSheet(props) {
  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_, ref) => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      setVisible(true);
    }, []);

    function handleClose() {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
      setVisible(false);
    }

    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      close: handleClose
    }));
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionSheet, Object.assign({}, props, {
      visible: visible,
      onClose: handleClose,
      afterClose: () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
        unmount();
      }
    }));
  });
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_7__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, {
    ref: ref
  }));
  return {
    close: () => {
      var _a;

      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();
    }
  };
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/action-sheet/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/action-sheet/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _action_sheet_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action-sheet.css */ "./node_modules/antd-mobile/es/components/action-sheet/action-sheet.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _action_sheet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action-sheet */ "./node_modules/antd-mobile/es/components/action-sheet/action-sheet.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_action_sheet__WEBPACK_IMPORTED_MODULE_2__.ActionSheet, {
  show: _action_sheet__WEBPACK_IMPORTED_MODULE_2__.showActionSheet
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/auto-center/auto-center.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/auto-center/auto-center.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AutoCenter": () => (/* binding */ AutoCenter)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");


const classPrefix = 'adm-auto-center';
const AutoCenter = props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_1__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/auto-center/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/auto-center/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _auto_center_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auto-center.css */ "./node_modules/antd-mobile/es/components/auto-center/auto-center.css");
/* harmony import */ var _auto_center__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auto-center */ "./node_modules/antd-mobile/es/components/auto-center/auto-center.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_auto_center__WEBPACK_IMPORTED_MODULE_1__.AutoCenter);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/avatar/avatar.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/avatar/avatar.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Avatar": () => (/* binding */ Avatar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./node_modules/antd-mobile/es/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _fallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fallback */ "./node_modules/antd-mobile/es/components/avatar/fallback.js");





const classPrefix = 'adm-avatar';
const defaultProps = {
  fallback: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fallback__WEBPACK_IMPORTED_MODULE_2__.Fallback, null),
  fit: 'cover'
};
const Avatar = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index__WEBPACK_IMPORTED_MODULE_1__.Image, {
    className: classPrefix,
    src: props.src,
    fallback: props.fallback,
    placeholder: props.fallback,
    alt: props.alt,
    lazy: props.lazy,
    onClick: props.onClick,
    onError: props.onError
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/avatar/fallback.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/avatar/fallback.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Fallback": () => (/* binding */ Fallback)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const Fallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(() => react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
  className: 'adm-avatar-fallback',
  width: '88px',
  height: '88px',
  viewBox: '0 0 88 88',
  version: '1.1'
}, react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, "\u7F16\u7EC4 3"), react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, react__WEBPACK_IMPORTED_MODULE_0__.createElement("polygon", {
  id: 'path-1',
  points: '0 0 88 0 88 88 0 88'
})), react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
  id: '\u9875\u9762-1',
  stroke: 'none',
  strokeWidth: '1',
  fill: 'none',
  fillRule: 'evenodd'
}, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
  id: '\u8BED\u96C0',
  transform: 'translate(-495.000000, -71.000000)'
}, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
  id: '\u7F16\u7EC4-3',
  transform: 'translate(495.000000, 71.000000)'
}, react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
  id: 'mask-2',
  fill: 'white'
}, react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
  xlinkHref: '#path-1'
})), react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
  id: 'Mask',
  fill: '#EEEEEE',
  fillRule: 'nonzero',
  xlinkHref: '#path-1'
}), react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: 'M44.5707528,16 L43.4292117,16 L42.9575197,16.0086403 L42.9575195,16.0086403 C36.5215787,16.2615464 31.4341803,21.5678078 31.4344832,28.0273864 L31.4344832,34.7776551 L31.4495601,35.3716788 L31.4495593,35.3716628 C31.599687,38.5368723 32.9422041,41.5269327 35.2058513,43.7376716 L38.2147759,46.6775505 L38.4086219,46.8913989 C38.7747759,47.3385365 38.9750835,47.9001589 38.9750835,48.4833848 L38.9750835,48.8938006 L38.9556989,49.1897326 L38.9556989,49.1897325 C38.8577746,49.9812662 38.3754713,50.67284 37.667703,51.036605 L18.7375269,60.7440265 L18.4101421,60.9276334 L18.4101423,60.9276333 C16.9141658,61.8418636 16.0009389,63.4714674 16,65.2283758 L16,66.070809 L16.0129231,66.3948217 C16.1766149,68.4123376 17.860922,70 19.91569,70 L68.0843101,70 L68.08431,70 C70.2460467,70 71.9988087,68.243122 72,66.0751224 L72,65.2326893 C72,63.3382982 70.9446194,61.6037466 69.2624598,60.7440295 L50.3322837,51.036608 L50.3322835,51.0366079 C49.5291218,50.6249082 49.0240448,49.7962466 49.024903,48.8916436 L49.024903,48.4812278 C49.024903,47.8029608 49.3005955,47.1527756 49.7852106,46.6775603 L52.7941352,43.7376813 L52.7941354,43.7376811 C55.204308,41.3832325 56.5636029,38.151975 56.5633606,34.7776456 L56.5633606,28.0273769 L56.5633606,28.0273774 C56.5633606,21.3848531 51.1940878,16 44.5707524,16 L44.5707528,16 Z',
  id: '\u5F62\u72B6',
  fill: '#CCCCCC',
  fillRule: 'nonzero',
  mask: 'url(#mask-2)'
}))))));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/avatar/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/avatar/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _avatar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./avatar.css */ "./node_modules/antd-mobile/es/components/avatar/avatar.css");
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./avatar */ "./node_modules/antd-mobile/es/components/avatar/avatar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_avatar__WEBPACK_IMPORTED_MODULE_1__.Avatar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/badge/badge.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/badge/badge.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dot": () => (/* binding */ dot),
/* harmony export */   "Badge": () => (/* binding */ Badge)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");



const classPrefix = `adm-badge`;
const dot = Symbol();
const Badge = props => {
  const {
    content,
    color,
    children
  } = props;
  const isDot = content === dot;
  const badgeCls = classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
    [`${classPrefix}-fixed`]: !!children,
    [`${classPrefix}-dot`]: isDot
  });
  const element = content ? (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: badgeCls,
    style: {
      '--color': color
    }
  }, !isDot && content)) : null;
  return children ? react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-wrap`
  }, children, element) : element;
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/badge/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/badge/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _badge_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./badge.css */ "./node_modules/antd-mobile/es/components/badge/badge.css");
/* harmony import */ var _badge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./badge */ "./node_modules/antd-mobile/es/components/badge/badge.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_badge__WEBPACK_IMPORTED_MODULE_2__.Badge, {
  dot: _badge__WEBPACK_IMPORTED_MODULE_2__.dot
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/button/button.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/button/button.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Button": () => (/* binding */ Button)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _dot_loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dot-loading */ "./node_modules/antd-mobile/es/components/dot-loading/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");





const classPrefix = `adm-button`;
const defaultProps = {
  color: 'default',
  fill: 'solid',
  block: false,
  loading: false,
  type: 'button',
  shape: 'default',
  size: 'middle'
};
const Button = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const disabled = props.disabled || props.loading;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("button", {
    type: props.type,
    onClick: props.onClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, props.color ? `${classPrefix}-${props.color}` : null, {
      [`${classPrefix}-block`]: props.block,
      [`${classPrefix}-disabled`]: disabled,
      [`${classPrefix}-fill-outline`]: props.fill === 'outline',
      [`${classPrefix}-fill-none`]: props.fill === 'none',
      [`${classPrefix}-mini`]: props.size === 'mini',
      [`${classPrefix}-small`]: props.size === 'small',
      [`${classPrefix}-large`]: props.size === 'large',
      [`${classPrefix}-loading`]: props.loading
    }, `${classPrefix}-shape-${props.shape}`),
    disabled: disabled
  }, props.loading ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-loading-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dot_loading__WEBPACK_IMPORTED_MODULE_4__["default"], {
    color: 'currentColor'
  }), props.loadingText) : props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/button/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/button/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _button_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./button.css */ "./node_modules/antd-mobile/es/components/button/button.css");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./button */ "./node_modules/antd-mobile/es/components/button/button.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_button__WEBPACK_IMPORTED_MODULE_1__.Button);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/calendar/arrow-left-double.js":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/calendar/arrow-left-double.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrowLeftDouble": () => (/* binding */ ArrowLeftDouble)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const ArrowLeftDouble = () => {
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    height: '1em',
    viewBox: '0 0 44 44'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    stroke: 'none',
    strokeWidth: '1',
    fill: 'none',
    fillRule: 'evenodd'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(-24.000000, -22.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(24.000000, 22.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    x: '0',
    y: '0',
    width: '44',
    height: '44'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(7.000000, 4.000000)',
    fill: 'currentColor',
    fillRule: 'nonzero'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: 'M19.4833058,2.71985611 L3.53051139,17.0699744 C3.0173831,17.5315665 2.97522952,18.3220903 3.43630803,18.8357433 L3.43630796,18.8357432 C3.46601289,18.8688164 3.49745845,18.9002801 3.53051133,18.9300007 L19.4833057,33.2801611 C20.1234001,33.8559077 20.1759552,34.8420707 19.6007967,35.4827774 C19.0256382,36.1235263 18.0404824,36.1761351 17.400388,35.6003885 L1.44759367,21.2502703 L1.4475933,21.25027 C1.33208743,21.1463692 1.22220259,21.036372 1.11840792,20.920748 C-0.49302969,19.1256817 -0.345639536,16.3628317 1.4475933,14.7497465 L17.4003877,0.399628282 C18.0404821,-0.176160428 19.0256378,-0.123509422 19.6007963,0.517239417 C20.1759548,1.1579461 20.1233997,2.14410915 19.4833053,2.7198557 L19.4833058,2.71985611 Z'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: 'M19.5305114,17.0699744 C19.0173831,17.5315665 18.9752295,18.3220903 19.436308,18.8357433 C19.4660129,18.8688164 19.4974585,18.9002801 19.5305113,18.9300007 L29.4833057,27.2801611 C30.1234001,27.8559077 30.1759552,28.8420707 29.6007967,29.4827774 C29.0256382,30.1235263 28.0404824,30.1761351 27.400388,29.6003885 L17.4475937,21.2502703 C17.3320874,21.1463692 17.2222026,21.036372 17.1184079,20.920748 C15.5069703,19.1256817 15.6543605,16.3628317 17.4475933,14.7497465 L27.4003877,6.39962828 C28.0404821,5.82383957 29.0256378,5.87649058 29.6007963,6.51723942 C30.1759548,7.1579461 30.1233997,8.14410915 29.4833053,8.7198557 L19.5305114,17.0699744 Z'
  }))))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/calendar/arrow-left.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/calendar/arrow-left.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrowLeft": () => (/* binding */ ArrowLeft)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const ArrowLeft = () => {
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    height: '1em',
    viewBox: '0 0 44 44'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    stroke: 'none',
    strokeWidth: '1',
    fill: 'none',
    fillRule: 'evenodd'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(-100.000000, -22.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(100.000000, 22.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    x: '0',
    y: '0',
    width: '44',
    height: '44'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(12.000000, 4.000000)',
    fill: 'currentColor',
    fillRule: 'nonzero'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: 'M19.4833058,2.71985611 L3.53051139,17.0699744 C3.0173831,17.5315665 2.97522952,18.3220903 3.43630803,18.8357433 L3.43630796,18.8357432 C3.46601289,18.8688164 3.49745845,18.9002801 3.53051133,18.9300007 L19.4833057,33.2801611 C20.1234001,33.8559077 20.1759552,34.8420707 19.6007967,35.4827774 C19.0256382,36.1235263 18.0404824,36.1761351 17.400388,35.6003885 L1.44759367,21.2502703 L1.4475933,21.25027 C1.33208743,21.1463692 1.22220259,21.036372 1.11840792,20.920748 C-0.49302969,19.1256817 -0.345639536,16.3628317 1.4475933,14.7497465 L17.4003877,0.399628282 C18.0404821,-0.176160428 19.0256378,-0.123509422 19.6007963,0.517239417 C20.1759548,1.1579461 20.1233997,2.14410915 19.4833053,2.7198557 L19.4833058,2.71985611 Z'
  }))))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/calendar/calendar.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/calendar/calendar.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Calendar": () => (/* binding */ Calendar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ "./node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _arrow_left__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./arrow-left */ "./node_modules/antd-mobile/es/components/calendar/arrow-left.js");
/* harmony import */ var _arrow_left_double__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./arrow-left-double */ "./node_modules/antd-mobile/es/components/calendar/arrow-left-double.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");








const classPrefix = 'adm-calendar';
const defaultProps = {
  weekStartsOn: 'Sunday'
};
const Calendar = p => {
  const today = dayjs__WEBPACK_IMPORTED_MODULE_1___default()();
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_4__.useConfig)();
  const markItems = [...locale.Calendar.markItems];

  if (props.weekStartsOn === 'Sunday') {
    const item = markItems.pop();
    if (item) markItems.unshift(item);
  }

  const [current, setCurrent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => dayjs__WEBPACK_IMPORTED_MODULE_1___default()().date(1));
  const header = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-arrow-button`,
    onClick: () => {
      setCurrent(current.subtract(1, 'year'));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_arrow_left_double__WEBPACK_IMPORTED_MODULE_5__.ArrowLeftDouble, null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-arrow-button`,
    onClick: () => {
      setCurrent(current.subtract(1, 'month'));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_arrow_left__WEBPACK_IMPORTED_MODULE_6__.ArrowLeft, null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-title`
  }, locale.Calendar.renderYearAndMonth(current.year(), current.month() + 1)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-arrow-button ${classPrefix}-arrow-button-right`,
    onClick: () => {
      setCurrent(current.add(1, 'month'));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_arrow_left__WEBPACK_IMPORTED_MODULE_6__.ArrowLeft, null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-arrow-button ${classPrefix}-arrow-button-right`,
    onClick: () => {
      setCurrent(current.add(1, 'year'));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_arrow_left_double__WEBPACK_IMPORTED_MODULE_5__.ArrowLeftDouble, null)));
  const dateRange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _a, _b, _c, _d;

    if (props.selectionMode === 'single') {
      const value = (_b = (_a = props.value) !== null && _a !== void 0 ? _a : props.defaultValue) !== null && _b !== void 0 ? _b : null;
      return [value, value];
    } else if (props.selectionMode === 'range') {
      return (_d = (_c = props.value) !== null && _c !== void 0 ? _c : props.defaultValue) !== null && _d !== void 0 ? _d : [null, null];
    } else {
      return [null, null];
    }
  }, [props.selectionMode, props.value, props.defaultValue]);
  const [begin, setBegin] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const [end, setEnd] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    setBegin(dateRange[0] ? dayjs__WEBPACK_IMPORTED_MODULE_1___default()(dateRange[0]) : null);
    setEnd(dateRange[1] ? dayjs__WEBPACK_IMPORTED_MODULE_1___default()(dateRange[1]) : null);
  }, [dateRange[0], dateRange[1]]);

  function renderCells() {
    var _a;

    const cells = [];
    let iterator = current.subtract(current.isoWeekday(), 'day');

    if (props.weekStartsOn === 'Monday') {
      iterator = iterator.add(1, 'day');
    }

    while (cells.length < 6 * 7) {
      const d = iterator;

      const isSelect = (() => {
        if (!begin) return false;
        if (d.isSame(begin, 'day')) return true;
        if (!end) return false;
        if (d.isSame(end, 'day')) return true;
        return d.isAfter(begin, 'day') && d.isBefore(end, 'day');
      })();

      const inThisMonth = d.month() === current.month();
      cells.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: d.valueOf(),
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(`${classPrefix}-cell`, inThisMonth ? `${classPrefix}-cell-in` : `${classPrefix}-cell-out`, inThisMonth && {
          [`${classPrefix}-cell-today`]: d.isSame(today, 'day'),
          [`${classPrefix}-cell-selected`]: isSelect,
          [`${classPrefix}-cell-selected-begin`]: isSelect && d.isSame(begin, 'day'),
          [`${classPrefix}-cell-selected-end`]: isSelect && (!end || d.isSame(end, 'day'))
        }),
        onClick: () => {
          var _a, _b, _c;

          if (!props.selectionMode) return;

          if (props.selectionMode === 'single') {
            setBegin(d);
            setEnd(d);
            (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, d.toDate());
          } else if (props.selectionMode === 'range') {
            if (begin !== null && end === null) {
              if (d.isBefore(begin)) {
                setEnd(begin);
                setBegin(d);
                (_b = props.onChange) === null || _b === void 0 ? void 0 : _b.call(props, [d.toDate(), begin.toDate()]);
              } else {
                setEnd(d);
                (_c = props.onChange) === null || _c === void 0 ? void 0 : _c.call(props, [begin.toDate(), d.toDate()]);
              }
            } else {
              setBegin(d);
              setEnd(null);
            }
          }

          if (!inThisMonth) {
            setCurrent(d.clone().date(1));
          }
        }
      }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-cell-top`
      }, d.date()), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-cell-bottom`
      }, (_a = props.renderLabel) === null || _a === void 0 ? void 0 : _a.call(props, d.toDate()))));
      iterator = iterator.add(1, 'day');
    }

    return cells;
  }

  const body = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-cells`
  }, renderCells());
  const mark = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-mark`
  }, markItems.map(item => react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: item,
    className: `${classPrefix}-mark-cell`
  }, item)));
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, header, mark, body));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/calendar/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/calendar/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _calendar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendar.css */ "./node_modules/antd-mobile/es/components/calendar/calendar.css");
/* harmony import */ var _calendar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calendar */ "./node_modules/antd-mobile/es/components/calendar/calendar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_calendar__WEBPACK_IMPORTED_MODULE_1__.Calendar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CapsuleTab": () => (/* binding */ CapsuleTab),
/* harmony export */   "CapsuleTabs": () => (/* binding */ CapsuleTabs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/use-resize-effect */ "./node_modules/antd-mobile/es/utils/use-resize-effect.js");
/* harmony import */ var _utils_use_tab_list_scroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-tab-list-scroll */ "./node_modules/antd-mobile/es/utils/use-tab-list-scroll.js");
/* harmony import */ var _scroll_mask__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scroll-mask */ "./node_modules/antd-mobile/es/components/scroll-mask/index.js");








const classPrefix = `adm-capsule-tabs`;
const CapsuleTab = () => {
  return null;
};
const CapsuleTabs = props => {
  var _a;

  const tabListContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const keyToIndexRecord = {};
  let firstActiveKey = null;
  const panes = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;

    if (index === 0) {
      firstActiveKey = key;
    }

    const length = panes.push(child);
    keyToIndexRecord[key] = length - 1;
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  const {
    scrollLeft,
    animate
  } = (0,_utils_use_tab_list_scroll__WEBPACK_IMPORTED_MODULE_4__.useTabListScroll)(tabListContainerRef, keyToIndexRecord[activeKey]);
  (0,_utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_5__.useResizeEffect)(() => {
    animate(true);
  }, rootRef);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    ref: rootRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_scroll_mask__WEBPACK_IMPORTED_MODULE_7__["default"], {
    scrollTrackRef: tabListContainerRef
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: `${classPrefix}-tab-list`,
    ref: tabListContainerRef,
    scrollLeft: scrollLeft
  }, panes.map(pane => (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(pane.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: pane.key,
    className: `${classPrefix}-tab-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    onClick: () => {
      const {
        key
      } = pane;
      if (pane.props.disabled) return;

      if (key === undefined || key === null) {
        return;
      }

      setActiveKey(key.toString());
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-tab`, {
      [`${classPrefix}-tab-active`]: pane.key === activeKey,
      [`${classPrefix}-tab-disabled`]: pane.props.disabled
    })
  }, pane.props.title)))))), panes.map(pane => {
    if (pane.props.children === undefined) {
      return null;
    }

    if (pane.key === activeKey) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        className: `${classPrefix}-content`
      }, pane.props.children);
    }

    if (pane.props.forceRender) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        style: {
          display: 'none'
        }
      }, pane.props.children);
    }

    return null;
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/capsule-tabs/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/capsule-tabs/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _capsule_tabs_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./capsule-tabs.css */ "./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.css");
/* harmony import */ var _capsule_tabs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./capsule-tabs */ "./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_capsule_tabs__WEBPACK_IMPORTED_MODULE_2__.CapsuleTabs, {
  Tab: _capsule_tabs__WEBPACK_IMPORTED_MODULE_2__.CapsuleTab
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/card/card.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/card/card.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Card": () => (/* binding */ Card)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");



const classPrefix = `adm-card`;
const Card = props => {
  const renderHeader = () => {
    if (!(props.title || props.extra)) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-header`, props.headerClassName),
      style: props.headerStyle,
      onClick: props.onHeaderClick
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-header-title`
    }, props.title), props.extra);
  };

  const renderBody = () => {
    if (!props.children) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-body`, props.bodyClassName),
      style: props.bodyStyle,
      onClick: props.onBodyClick
    }, props.children);
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    onClick: props.onClick
  }, renderHeader(), renderBody()));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/card/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/card/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _card_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card.css */ "./node_modules/antd-mobile/es/components/card/card.css");
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./node_modules/antd-mobile/es/components/card/card.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_card__WEBPACK_IMPORTED_MODULE_1__.Card);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker-view/cascade-picker-view.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker-view/cascade-picker-view.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CascadePickerView": () => (/* binding */ CascadePickerView)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _picker_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../picker-view */ "./node_modules/antd-mobile/es/components/picker-view/index.js");
/* harmony import */ var _cascade_picker_use_cascade_picker_options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cascade-picker/use-cascade-picker-options */ "./node_modules/antd-mobile/es/components/cascade-picker/use-cascade-picker-options.js");
/* harmony import */ var _cascade_picker_cascade_picker_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cascade-picker/cascade-picker-utils */ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker-utils.js");





const CascadePickerView = props => {
  const {
    options
  } = props,
        pickerProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__rest)(props, ["options"]);

  const {
    depth,
    subOptionsRecord
  } = (0,_cascade_picker_use_cascade_picker_options__WEBPACK_IMPORTED_MODULE_2__.useCascadePickerOptions)(options);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker_view__WEBPACK_IMPORTED_MODULE_3__["default"], Object.assign({}, pickerProps, {
    columns: selected => (0,_cascade_picker_cascade_picker_utils__WEBPACK_IMPORTED_MODULE_4__.generateCascadePickerColumns)(selected, options, depth, subOptionsRecord)
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker-view/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker-view/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _cascade_picker_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cascade-picker-view */ "./node_modules/antd-mobile/es/components/cascade-picker-view/cascade-picker-view.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_cascade_picker_view__WEBPACK_IMPORTED_MODULE_0__.CascadePickerView);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker-utils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker-utils.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateCascadePickerColumns": () => (/* binding */ generateCascadePickerColumns)
/* harmony export */ });
function generateCascadePickerColumns(value, options, depth, subOptionsRecord) {
  const columns = [];
  columns.push(options.map(option => ({
    label: option.label,
    value: option.value
  })));

  for (let i = 0; i < depth - 1; i++) {
    const x = value[i];
    const subOptions = subOptionsRecord[x];

    if (!subOptions) {
      columns.push([]);
    } else {
      columns.push(subOptions.map(option => ({
        label: option.label,
        value: option.value
      })));
    }
  }

  return columns;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CascadePicker": () => (/* binding */ CascadePicker)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../picker */ "./node_modules/antd-mobile/es/components/picker/index.js");
/* harmony import */ var _use_cascade_picker_options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-cascade-picker-options */ "./node_modules/antd-mobile/es/components/cascade-picker/use-cascade-picker-options.js");
/* harmony import */ var _cascade_picker_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cascade-picker-utils */ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker-utils.js");





const CascadePicker = props => {
  const {
    options
  } = props,
        pickerProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__rest)(props, ["options"]);

  const {
    depth,
    subOptionsRecord
  } = (0,_use_cascade_picker_options__WEBPACK_IMPORTED_MODULE_2__.useCascadePickerOptions)(options);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker__WEBPACK_IMPORTED_MODULE_3__["default"], Object.assign({}, pickerProps, {
    columns: selected => (0,_cascade_picker_utils__WEBPACK_IMPORTED_MODULE_4__.generateCascadePickerColumns)(selected, options, depth, subOptionsRecord)
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _prompt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompt */ "./node_modules/antd-mobile/es/components/cascade-picker/prompt.js");
/* harmony import */ var _cascade_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cascade-picker */ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_0__.attachPropertiesToComponent)(_cascade_picker__WEBPACK_IMPORTED_MODULE_1__.CascadePicker, {
  prompt: _prompt__WEBPACK_IMPORTED_MODULE_2__.prompt
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker/prompt.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker/prompt.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "prompt": () => (/* binding */ prompt)
/* harmony export */ });
/* harmony import */ var _cascade_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cascade-picker */ "./node_modules/antd-mobile/es/components/cascade-picker/cascade-picker.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");



function prompt(props) {
  return new Promise(resolve => {
    const Wrapper = () => {
      const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
      (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setVisible(true);
      }, []);
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_cascade_picker__WEBPACK_IMPORTED_MODULE_1__.CascadePicker, Object.assign({}, props, {
        visible: visible,
        onConfirm: (val, extend) => {
          var _a;

          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);
          resolve(val);
        },
        onClose: () => {
          var _a;

          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
          setVisible(false);
          resolve(null);
        },
        afterClose: () => {
          var _a;

          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
          unmount();
        }
      }));
    };

    const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, null));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascade-picker/use-cascade-picker-options.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascade-picker/use-cascade-picker-options.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCascadePickerOptions": () => (/* binding */ useCascadePickerOptions)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

function useCascadePickerOptions(options) {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let depth = 1;
    const subOptionsRecord = {};

    function traverse(option, currentDepth) {
      if (!option.children) {
        return;
      }

      subOptionsRecord[option.value] = option.children;
      const nextDepth = currentDepth + 1;

      if (nextDepth > depth) {
        depth = nextDepth;
      }

      option.children.forEach(option => {
        traverse(option, nextDepth);
      });
    }

    options.forEach(option => {
      traverse(option, 1);
    });
    return {
      depth,
      subOptionsRecord
    };
  }, [options]);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader-view/cascader-view.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader-view/cascader-view.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CascaderView": () => (/* binding */ CascaderView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tabs */ "./node_modules/antd-mobile/es/components/tabs/index.js");
/* harmony import */ var _check_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../check-list */ "./node_modules/antd-mobile/es/components/check-list/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _use_cascader_value_extend__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./use-cascader-value-extend */ "./node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");
/* harmony import */ var _option_skeleton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./option-skeleton */ "./node_modules/antd-mobile/es/components/cascader-view/option-skeleton.js");
/* harmony import */ var _skeleton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../skeleton */ "./node_modules/antd-mobile/es/components/skeleton/index.js");











const classPrefix = `adm-cascader-view`;
const defaultProps = {
  defaultValue: []
};
const CascaderView = p => {
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_2__.useConfig)();
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, {
    placeholder: locale.Cascader.placeholder
  }, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)(Object.assign(Object.assign({}, props), {
    onChange: val => {
      var _a;

      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));
    }
  }));
  const [tabActiveKey, setTabActiveKey] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
  const generateValueExtend = (0,_use_cascader_value_extend__WEBPACK_IMPORTED_MODULE_5__.useCascaderValueExtend)(props.options);
  const levels = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const ret = [];
    let currentOptions = props.options;
    let reachedEnd = false;

    for (const v of value) {
      const target = currentOptions.find(option => option.value === v);
      ret.push({
        selected: target,
        options: currentOptions
      });

      if (!target || !target.children) {
        reachedEnd = true;
        break;
      }

      currentOptions = target.children;
    }

    if (!reachedEnd) {
      ret.push({
        selected: undefined,
        options: currentOptions
      });
    }

    return ret;
  }, [value, props.options]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    setTabActiveKey(levels.length - 1);
  }, [value]);

  const onItemSelect = (selectValue, depth) => {
    const next = value.slice(0, depth);

    if (selectValue !== undefined) {
      next[depth] = selectValue;
    }

    setValue(next);
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tabs__WEBPACK_IMPORTED_MODULE_7__["default"], {
    activeKey: tabActiveKey.toString(),
    onChange: key => setTabActiveKey(parseInt(key)),
    stretch: false,
    className: `${classPrefix}-tabs`
  }, levels.map((level, index) => {
    const selected = level.selected;
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tabs__WEBPACK_IMPORTED_MODULE_7__["default"].Tab, {
      key: index,
      title: react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-header-title`
      }, selected ? selected.label : props.placeholder),
      forceRender: true
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-content`
    }, level.options === _option_skeleton__WEBPACK_IMPORTED_MODULE_8__.optionSkeleton ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-skeleton`
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: `${classPrefix}-skeleton-line-1`,
      animated: true
    }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: `${classPrefix}-skeleton-line-2`,
      animated: true
    }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: `${classPrefix}-skeleton-line-3`,
      animated: true
    }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: `${classPrefix}-skeleton-line-4`,
      animated: true
    })) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(_check_list__WEBPACK_IMPORTED_MODULE_10__["default"], {
      value: [value[index]],
      onChange: selectValue => onItemSelect(selectValue[0], index)
    }, level.options.map(option => {
      const active = value[index] === option.value;
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_check_list__WEBPACK_IMPORTED_MODULE_10__["default"].Item, {
        value: option.value,
        key: option.value,
        disabled: option.disabled,
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-item`, {
          [`${classPrefix}-item-active`]: active
        })
      }, option.label);
    }))));
  }))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader-view/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader-view/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _cascader_view_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cascader-view.css */ "./node_modules/antd-mobile/es/components/cascader-view/cascader-view.css");
/* harmony import */ var _cascader_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cascader-view */ "./node_modules/antd-mobile/es/components/cascader-view/cascader-view.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _option_skeleton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./option-skeleton */ "./node_modules/antd-mobile/es/components/cascader-view/option-skeleton.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_cascader_view__WEBPACK_IMPORTED_MODULE_2__.CascaderView, {
  optionSkeleton: _option_skeleton__WEBPACK_IMPORTED_MODULE_3__.optionSkeleton
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader-view/option-skeleton.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader-view/option-skeleton.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "optionSkeleton": () => (/* binding */ optionSkeleton)
/* harmony export */ });
const optionSkeleton = [];

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCascaderValueExtend": () => (/* binding */ useCascaderValueExtend)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_1__);


function useCascaderValueExtend(options) {
  const generateItems = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default()(val => {
      const ret = [];
      let currentOptions = options;

      for (const v of val) {
        const target = currentOptions.find(option => option.value === v);

        if (!target) {
          break;
        }

        ret.push(target);
        if (!target.children) break;
        currentOptions = target.children;
      }

      return ret;
    }, val => JSON.stringify(val));
  }, [options]);

  function generateValueExtend(val) {
    return {
      get items() {
        return generateItems(val);
      }

    };
  }

  return generateValueExtend;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader/cascader.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader/cascader.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Cascader": () => (/* binding */ Cascader)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _cascader_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../cascader-view */ "./node_modules/antd-mobile/es/components/cascader-view/index.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");
/* harmony import */ var _cascader_view_use_cascader_value_extend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cascader-view/use-cascader-value-extend */ "./node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js");








const classPrefix = `adm-cascader`;
const defaultProps = {
  defaultValue: []
};
const Cascader = p => {
  var _a;

  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_1__.useConfig)();
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, {
    confirmText: locale.common.confirm,
    cancelText: locale.common.cancel,
    placeholder: locale.Cascader.placeholder
  }, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(Object.assign(Object.assign({}, props), {
    onChange: val => {
      var _a;

      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));
    }
  }));
  const generateValueExtend = (0,_cascader_view_use_cascader_value_extend__WEBPACK_IMPORTED_MODULE_4__.useCascaderValueExtend)(props.options);
  const [innerValue, setInnerValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props.visible) {
      setInnerValue(value);
    }
  }, [props.visible]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props.visible) {
      setInnerValue(value);
    }
  }, [value]);
  const cascaderElement = (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-header-button`,
    onClick: () => {
      var _a, _b;

      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);
      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
    }
  }, props.cancelText), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header-title`
  }, props.title), react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-header-button`,
    onClick: () => {
      var _a;

      setValue(innerValue);
      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }, props.confirmText)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_cascader_view__WEBPACK_IMPORTED_MODULE_6__["default"], Object.assign({}, props, {
    value: innerValue,
    onChange: (val, ext) => {
      var _a;

      setInnerValue(val);

      if (props.visible) {
        (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);
      }
    }
  })))));
  const popupElement = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup__WEBPACK_IMPORTED_MODULE_7__["default"], {
    visible: props.visible,
    position: 'bottom',
    onMaskClick: () => {
      var _a, _b;

      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);
      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
    },
    getContainer: props.getContainer,
    destroyOnClose: true,
    afterShow: props.afterShow,
    afterClose: props.afterClose,
    onClick: props.onClick,
    stopPropagation: props.stopPropagation
  }, cascaderElement);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _cascader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cascader */ "./node_modules/antd-mobile/es/components/cascader/cascader.js");
/* harmony import */ var _prompt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prompt */ "./node_modules/antd-mobile/es/components/cascader/prompt.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _cascader_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cascader.css */ "./node_modules/antd-mobile/es/components/cascader/cascader.css");
/* harmony import */ var _cascader_view_option_skeleton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cascader-view/option-skeleton */ "./node_modules/antd-mobile/es/components/cascader-view/option-skeleton.js");





/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_cascader__WEBPACK_IMPORTED_MODULE_2__.Cascader, {
  prompt: _prompt__WEBPACK_IMPORTED_MODULE_3__.prompt,
  optionSkeleton: _cascader_view_option_skeleton__WEBPACK_IMPORTED_MODULE_4__.optionSkeleton
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader/prompt.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader/prompt.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "prompt": () => (/* binding */ prompt)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _cascader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cascader */ "./node_modules/antd-mobile/es/components/cascader/cascader.js");



function prompt(props) {
  return new Promise(resolve => {
    const Wrapper = () => {
      const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
      (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setVisible(true);
      }, []);
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_cascader__WEBPACK_IMPORTED_MODULE_1__.Cascader, Object.assign({}, props, {
        visible: visible,
        onConfirm: (val, extend) => {
          var _a;

          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);
          resolve(val);
        },
        onClose: () => {
          var _a;

          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
          setVisible(false);
          resolve(null);
        },
        afterClose: () => {
          var _a;

          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
          unmount();
        }
      }));
    };

    const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, null));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/check-list/check-list-item.js":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/check-list/check-list-item.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckListItem": () => (/* binding */ CheckListItem)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../list */ "./node_modules/antd-mobile/es/components/list/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context */ "./node_modules/antd-mobile/es/components/check-list/context.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);






const classPrefix = `adm-check-list-item`;
const CheckListItem = props => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.CheckListContext);

  if (context === null) {
    (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_3__.devWarning)('CheckList.Item', 'CheckList.Item can only be used inside CheckList.');
    return null;
  }

  const active = context.value.includes(props.value);
  const readOnly = props.readOnly || context.readOnly;
  const extra = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-extra`
  }, active ? context.activeIcon : null);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_5__["default"].Item, {
    title: props.title,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, readOnly && `${classPrefix}-readonly`),
    description: props.description,
    prefix: props.prefix,
    onClick: e => {
      var _a;

      if (readOnly) return;

      if (active) {
        context.uncheck(props.value);
      } else {
        context.check(props.value);
      }

      (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    arrow: false,
    clickable: !readOnly,
    extra: extra,
    disabled: props.disabled || context.disabled
  }, props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/check-list/check-list.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/check-list/check-list.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckList": () => (/* binding */ CheckList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../list */ "./node_modules/antd-mobile/es/components/list/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./context */ "./node_modules/antd-mobile/es/components/check-list/context.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CheckOutline.js");







const classPrefix = 'adm-check-list';
const defaultProps = {
  multiple: false,
  defaultValue: [],
  activeIcon: react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_1__["default"], null)
};
const CheckList = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(props);

  function check(val) {
    if (props.multiple) {
      setValue([...value, val]);
    } else {
      setValue([val]);
    }
  }

  function uncheck(val) {
    setValue(value.filter(item => item !== val));
  }

  const {
    activeIcon,
    disabled,
    readOnly
  } = props;
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context__WEBPACK_IMPORTED_MODULE_4__.CheckListContext.Provider, {
    value: {
      value,
      check,
      uncheck,
      activeIcon,
      disabled,
      readOnly
    }
  }, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_6__["default"], {
    mode: props.mode,
    className: classPrefix
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/check-list/context.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/check-list/context.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckListContext": () => (/* binding */ CheckListContext)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const CheckListContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/check-list/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/check-list/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _check_list_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./check-list.css */ "./node_modules/antd-mobile/es/components/check-list/check-list.css");
/* harmony import */ var _check_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./check-list */ "./node_modules/antd-mobile/es/components/check-list/check-list.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _check_list_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./check-list-item */ "./node_modules/antd-mobile/es/components/check-list/check-list-item.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_check_list__WEBPACK_IMPORTED_MODULE_2__.CheckList, {
  Item: _check_list_item__WEBPACK_IMPORTED_MODULE_3__.CheckListItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/check-icon.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/check-icon.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckIcon": () => (/* binding */ CheckIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");


const CheckIcon = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_1__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    viewBox: '0 0 24 16'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    stroke: 'none',
    strokeWidth: '1',
    fill: 'none',
    fillRule: 'evenodd'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(-35.000000, -40.000000)',
    fill: 'currentColor'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(24.000000, 26.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: 'M18.8574375,25.9363304 L14.4138058,21.4926987 C13.8001225,20.8790154 12.8051453,20.8790154 12.1914621,21.4926987 C11.5777807,22.10638 11.5777807,23.1013541 12.1914621,23.7150354 C12.1914632,23.7150366 12.1914644,23.7150377 12.1914656,23.7150389 L17.4442507,28.9677909 C18.225314,29.7488091 19.4916285,29.7488141 20.2726979,28.9678021 L21.0808125,28.1597054 L21.0808125,28.1597054 L32.5627182,16.6759191 C33.176366,16.0621709 33.1763252,15.0671824 32.5626272,14.4534844 C31.948944,13.8398011 30.9539668,13.8398011 30.3402835,14.4534844 L18.8574375,25.9363304 L18.8574375,25.9363304 Z'
  }))))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/checkbox.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/checkbox.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Checkbox": () => (/* binding */ Checkbox)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _group_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group-context */ "./node_modules/antd-mobile/es/components/checkbox/group-context.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");
/* harmony import */ var _check_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./check-icon */ "./node_modules/antd-mobile/es/components/checkbox/check-icon.js");








const classPrefix = `adm-checkbox`;
const defaultProps = {
  defaultChecked: false,
  indeterminate: false
};
const Checkbox = p => {
  const groupContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_group_context__WEBPACK_IMPORTED_MODULE_2__.CheckboxGroupContext);
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  let [checked, setChecked] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.checked,
    defaultValue: props.defaultChecked,
    onChange: props.onChange
  });
  let disabled = props.disabled;

  const usageWarning = () => {
    if (p.checked !== undefined) {
      (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_5__.devWarning)('Checkbox', 'When used with `Checkbox.Group`, the `checked` prop of `Checkbox` will not work if `value` prop of `Checkbox` is not undefined.');
    }

    if (p.defaultChecked !== undefined) {
      (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_5__.devWarning)('Checkbox', 'When used with `Checkbox.Group`, the `defaultChecked` prop of `Checkbox` will not work if `value` prop of `Checkbox` is not undefined.');
    }
  };

  const {
    value
  } = props;

  if (groupContext && value !== undefined) {
    usageWarning();
    checked = groupContext.value.includes(value);

    setChecked = checked => {
      var _a;

      if (checked) {
        groupContext.check(value);
      } else {
        groupContext.uncheck(value);
      }

      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);
    };

    disabled = disabled || groupContext.disabled;
  }

  const renderIcon = () => {
    if (props.icon) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-custom-icon`
      }, props.icon(checked, props.indeterminate));
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-icon`
    }, props.indeterminate ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-indeterminate-checked`
    }) : checked && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_check_icon__WEBPACK_IMPORTED_MODULE_6__.CheckIcon, {
      className: `${classPrefix}-icon-checked`
    }));
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-checked`]: checked,
      [`${classPrefix}-indeterminate`]: props.indeterminate,
      [`${classPrefix}-disabled`]: disabled,
      [`${classPrefix}-block`]: props.block
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {
    type: 'checkbox',
    checked: checked,
    onChange: e => {
      setChecked(e.target.checked);
    },
    onClick: e => {
      e.stopPropagation();
      e.nativeEvent.stopImmediatePropagation();
    },
    disabled: disabled,
    id: props.id
  }), renderIcon(), props.children && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/group-context.js":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/group-context.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckboxGroupContext": () => (/* binding */ CheckboxGroupContext)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const CheckboxGroupContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/group.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/group.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Group": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _group_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./group-context */ "./node_modules/antd-mobile/es/components/checkbox/group-context.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");




const defaultProps = {
  disabled: false,
  defaultValue: []
};
const Group = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__.usePropsValue)(props);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_group_context__WEBPACK_IMPORTED_MODULE_3__.CheckboxGroupContext.Provider // TODO: 性能优化
  , {
    // TODO: 性能优化
    value: {
      value: value,
      disabled: props.disabled,
      check: v => {
        setValue([...value, v]);
      },
      uncheck: v => {
        setValue(value.filter(item => item !== v));
      }
    }
  }, props.children);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _checkbox_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkbox.css */ "./node_modules/antd-mobile/es/components/checkbox/checkbox.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./group */ "./node_modules/antd-mobile/es/components/checkbox/group.js");
/* harmony import */ var _checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkbox */ "./node_modules/antd-mobile/es/components/checkbox/checkbox.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_checkbox__WEBPACK_IMPORTED_MODULE_2__.Checkbox, {
  Group: _group__WEBPACK_IMPORTED_MODULE_3__.Group
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/collapse/collapse.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/collapse/collapse.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CollapsePanel": () => (/* binding */ CollapsePanel),
/* harmony export */   "Collapse": () => (/* binding */ Collapse)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../list */ "./node_modules/antd-mobile/es/components/list/index.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/DownOutline.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMount/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUpdateLayoutEffect/index.js");
/* harmony import */ var _utils_use_should_render__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-should-render */ "./node_modules/antd-mobile/es/utils/use-should-render.js");









const classPrefix = `adm-collapse`;
const CollapsePanel = () => {
  return null;
};

const CollapsePanelContent = props => {
  const {
    visible
  } = props;
  const innerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const shouldRender = (0,_utils_use_should_render__WEBPACK_IMPORTED_MODULE_3__.useShouldRender)(visible, props.forceRender, props.destroyOnClose);
  const [{
    height
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
    from: {
      height: 0
    }
  }));
  (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (!visible) return;
    const inner = innerRef.current;
    if (!inner) return;
    api.start({
      height: inner.offsetHeight,
      immediate: true
    });
  });
  (0,ahooks__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    const inner = innerRef.current;
    if (!inner) return;

    if (visible) {
      api.start({
        height: inner.offsetHeight
      });
    } else {
      api.start({
        height: inner.offsetHeight,
        immediate: true
      });
      api.start({
        height: 0
      });
    }
  }, [visible]);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: `${classPrefix}-panel-content`,
    style: {
      height: height.to(v => {
        if (height.idle && visible) {
          return 'auto';
        } else {
          return v;
        }
      })
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-panel-content-inner`,
    ref: innerRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_6__["default"].Item, null, shouldRender && props.children)));
};

const Collapse = props => {
  var _a;

  const panels = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, child => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;
    panels.push(child);
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_7__.usePropsValue)(props.accordion ? {
    value: props.activeKey === undefined ? undefined : props.activeKey === null ? [] : [props.activeKey],
    defaultValue: props.defaultActiveKey === undefined || props.defaultActiveKey === null ? [] : [props.defaultActiveKey],
    onChange: v => {
      var _a, _b;

      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, (_b = v[0]) !== null && _b !== void 0 ? _b : null);
    }
  } : {
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : [],
    onChange: props.onChange
  });
  const activeKeyList = activeKey === null ? [] : Array.isArray(activeKey) ? activeKey : [activeKey];
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_8__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_6__["default"], null, panels.map(panel => {
    const key = panel.key;
    const active = activeKeyList.includes(key);

    function handleClick(event) {
      var _a, _b;

      if (props.accordion) {
        if (active) {
          setActiveKey([]);
        } else {
          setActiveKey([key]);
        }
      } else {
        if (active) {
          setActiveKey(activeKeyList.filter(v => v !== key));
        } else {
          setActiveKey([...activeKeyList, key]);
        }
      }

      (_b = (_a = panel.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, event);
    }

    const renderArrow = () => {
      let arrow = react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__["default"], null);

      if (props.arrow !== undefined) {
        arrow = props.arrow;
      }

      if (panel.props.arrow !== undefined) {
        arrow = panel.props.arrow;
      }

      return typeof arrow === 'function' ? arrow(active) : react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-arrow`, {
          [`${classPrefix}-arrow-active`]: active
        })
      }, arrow);
    };

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      key: key
    }, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_8__.withNativeProps)(panel.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_6__["default"].Item, {
      className: `${classPrefix}-panel-header`,
      onClick: handleClick,
      disabled: panel.props.disabled,
      arrow: renderArrow()
    }, panel.props.title)), react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollapsePanelContent, {
      visible: active,
      forceRender: !!panel.props.forceRender,
      destroyOnClose: !!panel.props.destroyOnClose
    }, panel.props.children));
  }))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/collapse/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/collapse/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _collapse_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collapse.css */ "./node_modules/antd-mobile/es/components/collapse/collapse.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _collapse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collapse */ "./node_modules/antd-mobile/es/components/collapse/collapse.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_collapse__WEBPACK_IMPORTED_MODULE_2__.Collapse, {
  Panel: _collapse__WEBPACK_IMPORTED_MODULE_2__.CollapsePanel
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/config-provider/config-provider.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultConfigRef": () => (/* binding */ defaultConfigRef),
/* harmony export */   "setDefaultConfig": () => (/* binding */ setDefaultConfig),
/* harmony export */   "getDefaultConfig": () => (/* binding */ getDefaultConfig),
/* harmony export */   "ConfigProvider": () => (/* binding */ ConfigProvider),
/* harmony export */   "useConfig": () => (/* binding */ useConfig)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _locales_zh_CN__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../locales/zh-CN */ "./node_modules/antd-mobile/es/locales/zh-CN.js");



const defaultConfigRef = {
  current: {
    locale: _locales_zh_CN__WEBPACK_IMPORTED_MODULE_1__["default"]
  }
};
function setDefaultConfig(config) {
  defaultConfigRef.current = config;
}
function getDefaultConfig() {
  return defaultConfigRef.current;
}
const ConfigContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);
const ConfigProvider = props => {
  const {
    children
  } = props,
        config = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__rest)(props, ["children"]);

  const parentConfig = useConfig();
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConfigContext.Provider, {
    value: Object.assign(Object.assign({}, parentConfig), config)
  }, children);
};
function useConfig() {
  var _a;

  return (_a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConfigContext)) !== null && _a !== void 0 ? _a : getDefaultConfig();
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/config-provider/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/config-provider/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useConfig": () => (/* reexport safe */ _config_provider__WEBPACK_IMPORTED_MODULE_0__.useConfig),
/* harmony export */   "setDefaultConfig": () => (/* reexport safe */ _config_provider__WEBPACK_IMPORTED_MODULE_0__.setDefaultConfig),
/* harmony export */   "getDefaultConfig": () => (/* reexport safe */ _config_provider__WEBPACK_IMPORTED_MODULE_0__.getDefaultConfig),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_config_provider__WEBPACK_IMPORTED_MODULE_0__.ConfigProvider);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker-view/date-picker-view.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker-view/date-picker-view.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatePickerView": () => (/* binding */ DatePickerView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _picker_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../picker-view */ "./node_modules/antd-mobile/es/components/picker-view/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _date_picker_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../date-picker/date-picker-utils */ "./node_modules/antd-mobile/es/components/date-picker/date-picker-utils.js");






const thisYear = new Date().getFullYear();
const defaultProps = {
  min: new Date(new Date().setFullYear(thisYear - 10)),
  max: new Date(new Date().setFullYear(thisYear + 10)),
  precision: 'day',
  renderLabel: _date_picker_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.defaultRenderLabel
};
const DatePickerView = p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.value,
    defaultValue: (_a = props.defaultValue) !== null && _a !== void 0 ? _a : null
  });
  const pickerValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_date_picker_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.convertDateToStringArray)(value, props.precision), [value, props.precision]);
  const onChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(val => {
    var _a;

    const date = (0,_date_picker_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.convertStringArrayToDate)(val, props.precision);

    if (date) {
      setValue(date);
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, date);
    }
  }, [props.onChange, props.precision]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker_view__WEBPACK_IMPORTED_MODULE_5__["default"], {
    columns: selected => (0,_date_picker_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.generateDatePickerColumns)(selected, props.min, props.max, props.precision, props.renderLabel, props.filter),
    value: pickerValue,
    onChange: onChange
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker-view/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker-view/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _date_picker_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date-picker-view */ "./node_modules/antd-mobile/es/components/date-picker-view/date-picker-view.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_date_picker_view__WEBPACK_IMPORTED_MODULE_0__.DatePickerView);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/date-picker-date-utils.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/date-picker-date-utils.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultRenderLabel": () => (/* binding */ defaultRenderLabel),
/* harmony export */   "generateDatePickerColumns": () => (/* binding */ generateDatePickerColumns),
/* harmony export */   "convertDateToStringArray": () => (/* binding */ convertDateToStringArray),
/* harmony export */   "convertStringArrayToDate": () => (/* binding */ convertStringArrayToDate)
/* harmony export */ });
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ "./node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "./node_modules/dayjs/plugin/isoWeek.js");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/isoWeeksInYear */ "./node_modules/dayjs/plugin/isoWeeksInYear.js");
/* harmony import */ var dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/isLeapYear */ "./node_modules/dayjs/plugin/isLeapYear.js");
/* harmony import */ var dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3__);




dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1___default()));
dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2___default()));
dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3___default()));
const precisionRankRecord = {
  year: 0,
  month: 1,
  day: 2,
  hour: 3,
  minute: 4,
  second: 5
};
function defaultRenderLabel(type, data) {
  switch (type) {
    case 'minute':
    case 'second':
    case 'hour':
      return ('0' + data.toString()).slice(-2);

    default:
      return data.toString();
  }
}
function generateDatePickerColumns(selected, min, max, precision, renderLabel, filter) {
  const ret = [];
  const minYear = min.getFullYear();
  const minMonth = min.getMonth() + 1;
  const minDay = min.getDate();
  const minHour = min.getHours();
  const minMinute = min.getMinutes();
  const minSecond = min.getSeconds();
  const maxYear = max.getFullYear();
  const maxMonth = max.getMonth() + 1;
  const maxDay = max.getDate();
  const maxHour = max.getHours();
  const maxMinute = max.getMinutes();
  const maxSecond = max.getSeconds();
  const rank = precisionRankRecord[precision];

  if (rank >= precisionRankRecord.year) {
    const years = [];

    for (let i = minYear; i <= maxYear; i++) {
      const value = i.toString();
      years.push({
        label: renderLabel ? renderLabel('year', i) : value,
        value
      });
    }

    ret.push(years);
  }

  const selectedYear = parseInt(selected[0]);
  const firstDayInSelectedMonth = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(convertStringArrayToDate([selected[0], selected[1], '1']));
  const selectedMonth = parseInt(selected[1]);
  const selectedDay = parseInt(selected[2]);
  const selectedHour = parseInt(selected[3]);
  const selectedMinute = parseInt(selected[4]);
  const isInMinYear = selectedYear === minYear;
  const isInMaxYear = selectedYear === maxYear;
  const isInMinMonth = isInMinYear && selectedMonth === minMonth;
  const isInMaxMonth = isInMaxYear && selectedMonth === maxMonth;
  const isInMinDay = isInMinMonth && selectedDay === minDay;
  const isInMaxDay = isInMaxMonth && selectedDay === maxDay;
  const isInMinHour = isInMinDay && selectedHour === minHour;
  const isInMaxHour = isInMaxDay && selectedHour === maxHour;
  const isInMinMinute = isInMinHour && selectedMinute === minMinute;
  const isInMaxMinute = isInMaxHour && selectedMinute === maxMinute;

  const generateColumn = (from, to, precision) => {
    let column = [];

    for (let i = from; i <= to; i++) {
      column.push(i);
    }

    const prefix = selected.slice(0, precisionRankRecord[precision]);
    const currentFilter = filter === null || filter === void 0 ? void 0 : filter[precision];

    if (currentFilter && typeof currentFilter === 'function') {
      column = column.filter(i => currentFilter(i, {
        get date() {
          const stringArray = [...prefix, i.toString()];
          return convertStringArrayToDate(stringArray);
        }

      }));
    }

    return column;
  };

  if (rank >= precisionRankRecord.month) {
    const lower = isInMinYear ? minMonth : 1;
    const upper = isInMaxYear ? maxMonth : 12;
    const months = generateColumn(lower, upper, 'month');
    ret.push(months.map(v => {
      return {
        label: renderLabel('month', v),
        value: v.toString()
      };
    }));
  }

  if (rank >= precisionRankRecord.day) {
    const lower = isInMinMonth ? minDay : 1;
    const upper = isInMaxMonth ? maxDay : firstDayInSelectedMonth.daysInMonth();
    const days = generateColumn(lower, upper, 'day');
    ret.push(days.map(v => {
      return {
        label: renderLabel('day', v),
        value: v.toString()
      };
    }));
  }

  if (rank >= precisionRankRecord.hour) {
    const lower = isInMinDay ? minHour : 0;
    const upper = isInMaxDay ? maxHour : 23;
    const hours = generateColumn(lower, upper, 'hour');
    ret.push(hours.map(v => {
      return {
        label: renderLabel('hour', v),
        value: v.toString()
      };
    }));
  }

  if (rank >= precisionRankRecord.minute) {
    const lower = isInMinHour ? minMinute : 0;
    const upper = isInMaxHour ? maxMinute : 59;
    const minutes = generateColumn(lower, upper, 'minute');
    ret.push(minutes.map(v => {
      return {
        label: renderLabel('minute', v),
        value: v.toString()
      };
    }));
  }

  if (rank >= precisionRankRecord.second) {
    const lower = isInMinMinute ? minSecond : 0;
    const upper = isInMaxMinute ? maxSecond : 59;
    const seconds = generateColumn(lower, upper, 'second');
    ret.push(seconds.map(v => {
      return {
        label: renderLabel('second', v),
        value: v.toString()
      };
    }));
  }

  return ret;
}
function convertDateToStringArray(date) {
  if (!date) return [];
  return [date.getFullYear().toString(), (date.getMonth() + 1).toString(), date.getDate().toString(), date.getHours().toString(), date.getMinutes().toString(), date.getSeconds().toString()];
}
function convertStringArrayToDate(value) {
  var _a, _b, _c, _d, _e, _f;

  const yearString = (_a = value[0]) !== null && _a !== void 0 ? _a : '1900';
  const monthString = (_b = value[1]) !== null && _b !== void 0 ? _b : '1';
  const dateString = (_c = value[2]) !== null && _c !== void 0 ? _c : '1';
  const hourString = (_d = value[3]) !== null && _d !== void 0 ? _d : '0';
  const minuteString = (_e = value[4]) !== null && _e !== void 0 ? _e : '0';
  const secondString = (_f = value[5]) !== null && _f !== void 0 ? _f : '0';
  return new Date(parseInt(yearString), parseInt(monthString) - 1, parseInt(dateString), parseInt(hourString), parseInt(minuteString), parseInt(secondString));
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/date-picker-utils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/date-picker-utils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertDateToStringArray": () => (/* binding */ convertDateToStringArray),
/* harmony export */   "convertStringArrayToDate": () => (/* binding */ convertStringArrayToDate),
/* harmony export */   "generateDatePickerColumns": () => (/* binding */ generateDatePickerColumns),
/* harmony export */   "defaultRenderLabel": () => (/* binding */ defaultRenderLabel)
/* harmony export */ });
/* harmony import */ var _date_picker_date_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date-picker-date-utils */ "./node_modules/antd-mobile/es/components/date-picker/date-picker-date-utils.js");
/* harmony import */ var _date_picker_week_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date-picker-week-utils */ "./node_modules/antd-mobile/es/components/date-picker/date-picker-week-utils.js");


const convertDateToStringArray = (date, precision) => {
  if (precision.includes('week')) {
    return _date_picker_week_utils__WEBPACK_IMPORTED_MODULE_0__.convertDateToStringArray(date);
  } else {
    return _date_picker_date_utils__WEBPACK_IMPORTED_MODULE_1__.convertDateToStringArray(date);
  }
};
const convertStringArrayToDate = (value, precision) => {
  if (precision.includes('week')) {
    return _date_picker_week_utils__WEBPACK_IMPORTED_MODULE_0__.convertStringArrayToDate(value);
  } else {
    return _date_picker_date_utils__WEBPACK_IMPORTED_MODULE_1__.convertStringArrayToDate(value);
  }
};
const generateDatePickerColumns = (selected, min, max, precision, renderLabel, filter) => {
  if (precision.startsWith('week')) {
    return _date_picker_week_utils__WEBPACK_IMPORTED_MODULE_0__.generateDatePickerColumns(selected, min, max, precision, renderLabel, filter);
  } else {
    return _date_picker_date_utils__WEBPACK_IMPORTED_MODULE_1__.generateDatePickerColumns(selected, min, max, precision, renderLabel, filter);
  }
};
const defaultRenderLabel = (precision, data) => {
  if (precision.includes('week')) {
    return _date_picker_week_utils__WEBPACK_IMPORTED_MODULE_0__.defaultRenderLabel(precision, data);
  } else {
    return _date_picker_date_utils__WEBPACK_IMPORTED_MODULE_1__.defaultRenderLabel(precision, data);
  }
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/date-picker-week-utils.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/date-picker-week-utils.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultRenderLabel": () => (/* binding */ defaultRenderLabel),
/* harmony export */   "generateDatePickerColumns": () => (/* binding */ generateDatePickerColumns),
/* harmony export */   "convertDateToStringArray": () => (/* binding */ convertDateToStringArray),
/* harmony export */   "convertStringArrayToDate": () => (/* binding */ convertStringArrayToDate)
/* harmony export */ });
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ "./node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "./node_modules/dayjs/plugin/isoWeek.js");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/isoWeeksInYear */ "./node_modules/dayjs/plugin/isoWeeksInYear.js");
/* harmony import */ var dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/isLeapYear */ "./node_modules/dayjs/plugin/isLeapYear.js");
/* harmony import */ var dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3__);




dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_1___default()));
dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isoWeeksInYear__WEBPACK_IMPORTED_MODULE_2___default()));
dayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_isLeapYear__WEBPACK_IMPORTED_MODULE_3___default()));
const precisionRankRecord = {
  year: 0,
  week: 1,
  'week-day': 2
};
function defaultRenderLabel(type, data) {
  return data.toString();
}
function generateDatePickerColumns(selected, min, max, precision, renderLabel, filter) {
  const ret = [];
  const minYear = min.getFullYear();
  const maxYear = max.getFullYear();
  const rank = precisionRankRecord[precision];

  if (rank >= precisionRankRecord.year) {
    const years = [];

    for (let i = minYear; i <= maxYear; i++) {
      const value = i.toString();
      years.push({
        label: renderLabel ? renderLabel('year', i) : value,
        value
      });
    }

    ret.push(years);
  }

  const selectedYear = parseInt(selected[0]);
  const isInMinYear = selectedYear === minYear;
  const isInMaxYear = selectedYear === maxYear;
  const minDay = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(min);
  const maxDay = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(max);
  const minWeek = minDay.isoWeek();
  const maxWeek = maxDay.isoWeek();
  const minWeekday = minDay.isoWeekday();
  const maxWeekday = maxDay.isoWeekday();
  const selectedWeek = parseInt(selected[1]);
  const isInMinWeek = isInMinYear && selectedWeek === minWeek;
  const isInMaxWeek = isInMaxYear && selectedWeek === maxWeek;
  const selectedYearWeeks = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(`${selectedYear}-01-01`).isoWeeksInYear();

  const generateColumn = (from, to, precision) => {
    let column = [];

    for (let i = from; i <= to; i++) {
      column.push(i);
    }

    const prefix = selected.slice(0, precisionRankRecord[precision]);
    const currentFilter = filter === null || filter === void 0 ? void 0 : filter[precision];

    if (currentFilter && typeof currentFilter === 'function') {
      column = column.filter(i => currentFilter(i, {
        get date() {
          const stringArray = [...prefix, i.toString()];
          return convertStringArrayToDate(stringArray);
        }

      }));
    }

    return column;
  };

  if (rank >= precisionRankRecord.week) {
    const lower = isInMinYear ? minWeek : 1;
    const upper = isInMaxYear ? maxWeek : selectedYearWeeks;
    const weeks = generateColumn(lower, upper, 'week');
    ret.push(weeks.map(v => {
      return {
        label: renderLabel('week', v),
        value: v.toString()
      };
    }));
  }

  if (rank >= precisionRankRecord['week-day']) {
    const lower = isInMinWeek ? minWeekday : 1;
    const upper = isInMaxWeek ? maxWeekday : 7;
    const weeks = generateColumn(lower, upper, 'week-day');
    ret.push(weeks.map(v => {
      return {
        label: renderLabel('week-day', v),
        value: v.toString()
      };
    }));
  }

  return ret;
}
function convertDateToStringArray(date) {
  if (!date) return [];
  const day = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(date);
  return [day.isoWeekYear().toString(), day.isoWeek().toString(), day.isoWeekday().toString()];
}
function convertStringArrayToDate(value) {
  var _a, _b, _c;

  const yearString = (_a = value[0]) !== null && _a !== void 0 ? _a : '1900';
  const weekString = (_b = value[1]) !== null && _b !== void 0 ? _b : '1';
  const weekdayString = (_c = value[2]) !== null && _c !== void 0 ? _c : '1';
  const day = dayjs__WEBPACK_IMPORTED_MODULE_0___default()().year(parseInt(yearString)).isoWeek(parseInt(weekString)).isoWeekday(parseInt(weekdayString)).hour(0).minute(0).second(0);
  return day.toDate();
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/date-picker.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/date-picker.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatePicker": () => (/* binding */ DatePicker)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../picker */ "./node_modules/antd-mobile/es/components/picker/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _date_picker_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date-picker-utils */ "./node_modules/antd-mobile/es/components/date-picker/date-picker-utils.js");







const thisYear = new Date().getFullYear();
const defaultProps = {
  min: new Date(new Date().setFullYear(thisYear - 10)),
  max: new Date(new Date().setFullYear(thisYear + 10)),
  precision: 'day',
  renderLabel: _date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.defaultRenderLabel,
  defaultValue: null
};
const DatePicker = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.value,
    defaultValue: props.defaultValue,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  const now = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => new Date(), []);
  const pickerValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.convertDateToStringArray)(value !== null && value !== void 0 ? value : now, props.precision), [value, props.precision]);
  const onConfirm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(val => {
    setValue((0,_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.convertStringArrayToDate)(val, props.precision));
  }, [setValue, props.precision]);
  const onSelect = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])(val => {
    var _a;

    const date = (0,_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.convertStringArrayToDate)(val, props.precision);
    (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, date);
  });
  const columns = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(selected => (0,_date_picker_utils__WEBPACK_IMPORTED_MODULE_1__.generateDatePickerColumns)(selected, props.min, props.max, props.precision, props.renderLabel, props.filter), [props.min, props.max, props.precision, props.renderLabel]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker__WEBPACK_IMPORTED_MODULE_6__["default"], {
    columns: columns,
    value: pickerValue,
    onCancel: props.onCancel,
    onClose: props.onClose,
    visible: props.visible,
    confirmText: props.confirmText,
    cancelText: props.cancelText,
    onConfirm: onConfirm,
    onSelect: onSelect,
    getContainer: props.getContainer,
    afterShow: props.afterShow,
    afterClose: props.afterClose,
    onClick: props.onClick,
    title: props.title,
    stopPropagation: props.stopPropagation
  }, () => {
    var _a;

    return (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, value);
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _date_picker_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date-picker.css */ "./node_modules/antd-mobile/es/components/date-picker/date-picker.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _date_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./date-picker */ "./node_modules/antd-mobile/es/components/date-picker/date-picker.js");
/* harmony import */ var _prompt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prompt */ "./node_modules/antd-mobile/es/components/date-picker/prompt.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_date_picker__WEBPACK_IMPORTED_MODULE_2__.DatePicker, {
  prompt: _prompt__WEBPACK_IMPORTED_MODULE_3__.prompt
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/prompt.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/prompt.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "prompt": () => (/* binding */ prompt)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _date_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date-picker */ "./node_modules/antd-mobile/es/components/date-picker/date-picker.js");



function prompt(props) {
  return new Promise(resolve => {
    const Wrapper = () => {
      const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
      (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setVisible(true);
      }, []);
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_date_picker__WEBPACK_IMPORTED_MODULE_1__.DatePicker, Object.assign({}, props, {
        visible: visible,
        onConfirm: val => {
          var _a;

          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val);
          resolve(val);
        },
        onClose: () => {
          var _a;

          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
          setVisible(false);
          resolve(null);
        },
        afterClose: () => {
          var _a;

          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
          unmount();
        }
      }));
    };

    const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, null));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/alert.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/alert.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "alert": () => (/* binding */ alert)
/* harmony export */ });
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/dialog/show.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");



function alert(p) {
  const defaultProps = {
    confirmText: (0,_config_provider__WEBPACK_IMPORTED_MODULE_0__.getDefaultConfig)().locale.Dialog.ok
  };
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  return new Promise(resolve => {
    (0,_show__WEBPACK_IMPORTED_MODULE_2__.show)(Object.assign(Object.assign({}, props), {
      closeOnAction: true,
      actions: [{
        key: 'confirm',
        text: props.confirmText
      }],
      onAction: props.onConfirm,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        resolve();
      }
    }));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/confirm.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/confirm.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "confirm": () => (/* binding */ confirm)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/dialog/show.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");



const defaultProps = {
  confirmText: '确认',
  cancelText: '取消'
};
function confirm(p) {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_0__.mergeProps)(defaultProps, p);
  return new Promise(resolve => {
    (0,_show__WEBPACK_IMPORTED_MODULE_1__.show)(Object.assign(Object.assign({}, props), {
      closeOnAction: true,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        resolve(false);
      },
      actions: [[{
        key: 'cancel',
        text: props.cancelText,
        onClick: () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
          var _a;

          yield (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);
          resolve(false);
        })
      }, {
        key: 'confirm',
        text: props.confirmText,
        bold: true,
        onClick: () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
          var _b;

          yield (_b = props.onConfirm) === null || _b === void 0 ? void 0 : _b.call(props);
          resolve(true);
        })
      }]]
    }));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/dialog-action-button.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/dialog-action-button.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DialogActionButton": () => (/* binding */ DialogActionButton)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");





const DialogActionButton = props => {
  const {
    action
  } = props;
  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  function handleClick() {
    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
      setLoading(true);

      try {
        const promise = props.onAction();
        yield promise;
        setLoading(false);
      } catch (e) {
        setLoading(false);
        throw e;
      }
    });
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props.action, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    key: action.key,
    onClick: handleClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('adm-dialog-button', {
      'adm-dialog-button-bold': action.bold
    }),
    fill: 'none',
    block: true,
    color: action.danger ? 'danger' : 'primary',
    loading: loading,
    disabled: action.disabled
  }, action.text));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/dialog.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/dialog.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Dialog": () => (/* binding */ Dialog)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmountedRef/index.js");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _dialog_action_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dialog-action-button */ "./node_modules/antd-mobile/es/components/dialog/dialog-action-button.js");
/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../image */ "./node_modules/antd-mobile/es/components/image/index.js");
/* harmony import */ var _space__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../space */ "./node_modules/antd-mobile/es/components/space/index.js");
/* harmony import */ var _utils_render_to_container__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/render-to-container */ "./node_modules/antd-mobile/es/utils/render-to-container.js");
/* harmony import */ var _utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/with-stop-propagation */ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js");
/* harmony import */ var _auto_center__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../auto-center */ "./node_modules/antd-mobile/es/components/auto-center/index.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");














const classPrefix = `adm-dialog`;
const defaultProps = {
  visible: false,
  actions: [],
  closeOnAction: false,
  closeOnMaskClick: false,
  stopPropagation: ['click'],
  getContainer: null
};
const Dialog = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const unmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const style = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)({
    scale: props.visible ? 1 : 0.8,
    opacity: props.visible ? 1 : 0,
    config: {
      mass: 1,
      tension: 200,
      friction: 30,
      clamp: true
    },
    onStart: () => {
      setActive(true);
    },
    onRest: () => {
      var _a, _b;

      if (unmountedRef.current) return;
      setActive(props.visible);

      if (props.visible) {
        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);
      } else {
        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);
      }
    }
  });
  const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.visible);
  const node = (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    style: {
      display: active ? 'unset' : 'none'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mask__WEBPACK_IMPORTED_MODULE_6__["default"], {
    visible: props.visible,
    onMaskClick: props.closeOnMaskClick ? props.onClose : undefined,
    style: props.maskStyle,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-mask`, props.maskClassName)
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-wrap`,
    style: {
      pointerEvents: props.visible ? 'unset' : 'none'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    style: Object.assign({}, style),
    onClick: e => e.stopPropagation(),
    className: `${classPrefix}-main`
  }, !!props.image && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_image__WEBPACK_IMPORTED_MODULE_7__["default"], {
    src: props.image,
    alt: 'dialog header image',
    width: '100%'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    style: props.bodyStyle,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-body`, props.bodyClassName)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_space__WEBPACK_IMPORTED_MODULE_8__["default"], {
    direction: 'vertical',
    block: true
  }, !!props.header && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-header-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-header`
  }, props.header)), !!props.title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-title`
  }, props.title), !!props.content && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-content`
  }, typeof props.content === 'string' ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auto_center__WEBPACK_IMPORTED_MODULE_9__["default"], null, props.content) : props.content))), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-footer`
  }, props.actions.map((row, index) => {
    const actions = Array.isArray(row) ? row : [row];
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-action-row`,
      key: index
    }, actions.map((action, index) => react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dialog_action_button__WEBPACK_IMPORTED_MODULE_10__.DialogActionButton, {
      key: action.key,
      action: action,
      onAction: () => (0,tslib__WEBPACK_IMPORTED_MODULE_11__.__awaiter)(void 0, void 0, void 0, function* () {
        var _a, _b, _c;

        yield Promise.all([(_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action), (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action, index)]);

        if (props.closeOnAction) {
          (_c = props.onClose) === null || _c === void 0 ? void 0 : _c.call(props);
        }
      })
    })));
  }))))));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_12__.renderToContainer)(props.getContainer, (0,_utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_13__.withStopPropagation)(props.stopPropagation, node));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dialog_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialog.css */ "./node_modules/antd-mobile/es/components/dialog/dialog.css");
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/dialog/show.js");
/* harmony import */ var _alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./alert */ "./node_modules/antd-mobile/es/components/dialog/alert.js");
/* harmony import */ var _confirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./confirm */ "./node_modules/antd-mobile/es/components/dialog/confirm.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dialog */ "./node_modules/antd-mobile/es/components/dialog/dialog.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_dialog__WEBPACK_IMPORTED_MODULE_2__.Dialog, {
  show: _show__WEBPACK_IMPORTED_MODULE_3__.show,
  alert: _alert__WEBPACK_IMPORTED_MODULE_4__.alert,
  confirm: _confirm__WEBPACK_IMPORTED_MODULE_5__.confirm
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/show.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/show.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dialog */ "./node_modules/antd-mobile/es/components/dialog/dialog.js");



function show(props) {
  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_, ref) => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      setVisible(true);
    }, []);

    function handleClose() {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
      setVisible(false);
    }

    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      close: handleClose
    }));
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dialog__WEBPACK_IMPORTED_MODULE_1__.Dialog, Object.assign({}, props, {
      visible: visible,
      onClose: handleClose,
      afterClose: () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
        unmount();
      }
    }));
  });
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, {
    ref: ref
  }));
  return {
    close: () => {
      var _a;

      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();
    }
  };
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/divider/divider.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/divider/divider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Divider": () => (/* binding */ Divider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");




const classPrefix = `adm-divider`;
const defaultProps = {
  contentPosition: 'center'
};
const Divider = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${props.contentPosition}`)
  }, props.children && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/divider/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/divider/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _divider_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./divider.css */ "./node_modules/antd-mobile/es/components/divider/divider.css");
/* harmony import */ var _divider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./divider */ "./node_modules/antd-mobile/es/components/divider/divider.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_divider__WEBPACK_IMPORTED_MODULE_1__.Divider);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dot-loading/dot-loading.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DotLoading": () => (/* binding */ DotLoading)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);




const classPrefix = `adm-dot-loading`;
const colorRecord = {
  default: 'var(--adm-color-weak)',
  primary: 'var(--adm-color-primary)',
  white: 'var(--adm-color-white)'
};
const defaultProps = {
  color: 'default'
};
const DotLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    style: {
      color: (_a = colorRecord[props.color]) !== null && _a !== void 0 ? _a : props.color
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('adm-loading', classPrefix)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    height: '1em',
    viewBox: '0 0 100 40',
    style: {
      verticalAlign: '-0.125em'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    stroke: 'none',
    strokeWidth: '1',
    fill: 'none',
    fillRule: 'evenodd'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(-100.000000, -71.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(95.000000, 71.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(5.000000, 0.000000)'
  }, [0, 1, 2].map(i => react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    key: i,
    fill: 'currentColor',
    x: 20 + i * 26,
    y: '16',
    width: '8',
    height: '8',
    rx: '2'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: 'y',
    from: '16',
    to: '16',
    dur: '2s',
    begin: `${i * 0.2}s`,
    repeatCount: 'indefinite',
    values: '16; 6; 26; 16; 16',
    keyTimes: '0; 0.1; 0.3; 0.4; 1',
    id: 'circ-anim'
  }))))))))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dot-loading/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dot-loading/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dot_loading_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dot-loading.css */ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.css");
/* harmony import */ var _dot_loading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dot-loading */ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_dot_loading__WEBPACK_IMPORTED_MODULE_1__.DotLoading);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dropdown/dropdown.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dropdown/dropdown.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useClickAway/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _item__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./item */ "./node_modules/antd-mobile/es/components/dropdown/item.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");








const classPrefix = `adm-dropdown`;
const defaultProps = {
  defaultActiveKey: null,
  closeOnMaskClick: true,
  closeOnClickAway: false
};
const Dropdown = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.activeKey,
    defaultValue: props.defaultActiveKey,
    onChange: props.onChange
  });
  const navRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const contentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // 点击外部区域，关闭

  (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (!props.closeOnClickAway) return;
    setValue(null);
  }, [navRef, contentRef]); // 计算 navs 的 top 值

  const [top, setTop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();
  const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const container = containerRef.current;
    if (!container) return;

    if (value) {
      const rect = container.getBoundingClientRect();
      setTop(rect.bottom);
    }
  }, [value]);

  const changeActive = key => {
    if (value === key) {
      setValue(null);
    } else {
      setValue(key);
    }
  };

  let popupForceRender = false;
  const items = [];
  const navs = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(props.children, child => {
    if (react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(child)) {
      const childProps = Object.assign(Object.assign({}, child.props), {
        onClick: () => {
          changeActive(child.key);
        },
        active: child.key === value,
        arrow: child.props.arrow === undefined ? props.arrow : child.props.arrow
      });
      items.push(child);
      if (child.props.forceRender) popupForceRender = true;
      return (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(child, childProps);
    } else {
      return child;
    }
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, () => ({
    close: () => {
      setValue(null);
    }
  }), [setValue]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
      [`${classPrefix}-open`]: !!value
    }),
    ref: containerRef
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-nav`,
    ref: navRef
  }, navs), react__WEBPACK_IMPORTED_MODULE_1__.createElement(_popup__WEBPACK_IMPORTED_MODULE_6__["default"], {
    visible: !!value,
    position: 'top',
    className: `${classPrefix}-popup`,
    maskClassName: `${classPrefix}-popup-mask`,
    bodyClassName: `${classPrefix}-popup-body`,
    style: {
      top
    },
    forceRender: popupForceRender,
    onMaskClick: props.closeOnMaskClick ? () => {
      changeActive(null);
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    ref: contentRef
  }, items.map(item => {
    const isActive = item.key === value;
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_item__WEBPACK_IMPORTED_MODULE_7__.ItemChildrenWrap, {
      key: item.key,
      active: isActive,
      forceRender: item.props.forceRender,
      destroyOnClose: item.props.destroyOnClose
    }, item.props.children);
  })))));
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dropdown);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dropdown/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dropdown/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dropdown_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dropdown.css */ "./node_modules/antd-mobile/es/components/dropdown/dropdown.css");
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dropdown */ "./node_modules/antd-mobile/es/components/dropdown/dropdown.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./item */ "./node_modules/antd-mobile/es/components/dropdown/item.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_dropdown__WEBPACK_IMPORTED_MODULE_2__["default"], {
  Item: _item__WEBPACK_IMPORTED_MODULE_3__["default"]
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dropdown/item.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dropdown/item.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "ItemChildrenWrap": () => (/* binding */ ItemChildrenWrap)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_should_render__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-should-render */ "./node_modules/antd-mobile/es/utils/use-should-render.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/DownFill.js");





const classPrefix = `adm-dropdown-item`;

const Item = props => {
  const cls = classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
    [`${classPrefix}-active`]: props.active,
    [`${classPrefix}-highlight`]: props.highlight
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: cls,
    onClick: props.onClick
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-title`
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("span", {
    className: `${classPrefix}-title-text`
  }, props.title), react__WEBPACK_IMPORTED_MODULE_1__.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-title-arrow`, {
      [`${classPrefix}-title-arrow-active`]: props.active
    })
  }, props.arrow === undefined ? react__WEBPACK_IMPORTED_MODULE_1__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__["default"], null) : props.arrow))));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Item);
const ItemChildrenWrap = props => {
  const {
    active = false
  } = props;
  const shouldRender = (0,_utils_use_should_render__WEBPACK_IMPORTED_MODULE_4__.useShouldRender)(active, props.forceRender, props.destroyOnClose);
  const cls = classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-content`, {
    [`${classPrefix}-content-hidden`]: !active
  });
  return shouldRender ? react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: cls,
    onClick: props.onClick
  }, props.children) : null;
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/ellipsis/ellipsis.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/ellipsis/ellipsis.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ellipsis": () => (/* binding */ Ellipsis)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-resize-effect */ "./node_modules/antd-mobile/es/utils/use-resize-effect.js");




const classPrefix = `adm-ellipsis`;
const defaultProps = {
  direction: 'end',
  rows: 1,
  expandText: '',
  collapseText: ''
};
const Ellipsis = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [ellipsised, setEllipsised] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [exceeded, setExceeded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  function calcEllipsised() {
    const root = rootRef.current;
    if (!root) return;
    const originStyle = window.getComputedStyle(root);
    const container = document.createElement('div');
    const styleNames = Array.prototype.slice.apply(originStyle);
    styleNames.forEach(name => {
      container.style.setProperty(name, originStyle.getPropertyValue(name));
    });
    container.style.position = 'fixed';
    container.style.left = '999999px';
    container.style.top = '999999px';
    container.style.zIndex = '-1000';
    container.style.height = 'auto';
    container.style.minHeight = 'auto';
    container.style.maxHeight = 'auto';
    container.style.textOverflow = 'clip';
    container.style.whiteSpace = 'normal';
    container.style.webkitLineClamp = 'unset';
    container.style.webkitBoxOrient = 'unset';
    container.style.display = 'block';
    const lineHeight = pxToNumber(originStyle.lineHeight);
    const maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));
    container.innerText = props.content;
    document.body.appendChild(container);

    if (container.offsetHeight <= maxHeight) {
      setExceeded(false);
    } else {
      setExceeded(true);
      const end = props.content.length;
      const actionText = expanded ? props.collapseText : props.expandText;

      function check(left, right) {
        if (right - left <= 1) {
          if (props.direction === 'end') {
            return {
              leading: props.content.slice(0, left) + '...'
            };
          } else {
            return {
              tailing: '...' + props.content.slice(right, end)
            };
          }
        }

        const middle = Math.round((left + right) / 2);

        if (props.direction === 'end') {
          container.innerText = props.content.slice(0, middle) + '...' + actionText;
        } else {
          container.innerText = actionText + '...' + props.content.slice(middle, end);
        }

        if (container.offsetHeight <= maxHeight) {
          if (props.direction === 'end') {
            return check(middle, right);
          } else {
            return check(left, middle);
          }
        } else {
          if (props.direction === 'end') {
            return check(left, middle);
          } else {
            return check(middle, right);
          }
        }
      }

      function checkMiddle(leftPart, rightPart) {
        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {
          return {
            leading: props.content.slice(0, leftPart[0]) + '...',
            tailing: '...' + props.content.slice(rightPart[1], end)
          };
        }

        const leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);
        const rightPartMiddle = Math.floor((rightPart[0] + rightPart[1]) / 2);
        container.innerText = props.content.slice(0, leftPartMiddle) + '...' + actionText + '...' + props.content.slice(rightPartMiddle, end);

        if (container.offsetHeight <= maxHeight) {
          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);
        } else {
          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);
        }
      }

      const middle = Math.floor((0 + end) / 2);
      const ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);
      setEllipsised(ellipsised);
    }

    document.body.removeChild(container);
  }

  (0,_utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_2__.useResizeEffect)(calcEllipsised, rootRef);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    calcEllipsised();
  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);
  const expandActionElement = exceeded && props.expandText ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    onClick: () => {
      setExpanded(true);
    }
  }, props.expandText) : null;
  const collapseActionElement = exceeded && props.expandText ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    onClick: () => {
      setExpanded(false);
    }
  }, props.collapseText) : null;

  const renderContent = () => {
    if (!exceeded) {
      return props.content;
    }

    if (expanded) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.content, collapseActionElement);
    } else {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);
    }
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: rootRef,
    className: classPrefix
  }, renderContent()));
};

function pxToNumber(value) {
  if (!value) return 0;
  const match = value.match(/^\d*(\.\d*)?/);
  return match ? Number(match[0]) : 0;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/ellipsis/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/ellipsis/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ellipsis_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ellipsis.css */ "./node_modules/antd-mobile/es/components/ellipsis/ellipsis.css");
/* harmony import */ var _ellipsis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ellipsis */ "./node_modules/antd-mobile/es/components/ellipsis/ellipsis.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ellipsis__WEBPACK_IMPORTED_MODULE_1__.Ellipsis);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/empty/empty.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/empty/empty.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Empty": () => (/* binding */ Empty)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _assets_empty_icon_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/empty-icon.svg */ "./node_modules/antd-mobile/es/assets/empty-icon.svg");





const classPrefix = `adm-empty`;
const defaultProps = {
  image: _assets_empty_icon_svg__WEBPACK_IMPORTED_MODULE_2__
};
const Empty = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const imageNode = typeof props.image === 'string' ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
    className: `${classPrefix}-image`,
    style: props.imageStyle,
    src: props.image,
    alt: 'empty'
  }) : props.image;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-image-container`
  }, imageNode), props.description && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-description`)
  }, props.description)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/empty/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/empty/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _empty_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./empty.css */ "./node_modules/antd-mobile/es/components/empty/empty.css");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty */ "./node_modules/antd-mobile/es/components/empty/empty.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_empty__WEBPACK_IMPORTED_MODULE_1__.Empty);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/error-block/error-block.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/error-block/error-block.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ErrorBlock": () => (/* binding */ ErrorBlock)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error */ "./node_modules/antd-mobile/es/components/error-block/error.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");






const classPrefix = `adm-error-block`;
const defaultProps = {
  status: 'default'
};
const ErrorBlock = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const icon = _error__WEBPACK_IMPORTED_MODULE_3__.iconRecord[props.status];
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_4__.useConfig)();
  const contentPack = locale.ErrorBlock[props.status];
  const des = 'description' in props ? props.description : contentPack.description;
  const title = 'title' in props ? props.title : contentPack.title;
  let imageNode = react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
    src: icon
  });

  if (props.image) {
    if (typeof props.image === 'string') {
      imageNode = react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
        src: props.image
      });
    } else {
      imageNode = props.image;
    }
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-full-page`]: props.fullPage
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-image`
  }, imageNode), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description`
  }, title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description-title`
  }, title), des && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description-subtitle`
  }, des)), props.children && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/error-block/error.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/error-block/error.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "iconRecord": () => (/* binding */ iconRecord)
/* harmony export */ });
/* harmony import */ var _assets_default_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets/default.svg */ "./node_modules/antd-mobile/es/assets/default.svg");
/* harmony import */ var _assets_busy_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/busy.svg */ "./node_modules/antd-mobile/es/assets/busy.svg");
/* harmony import */ var _assets_disconnected_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/disconnected.svg */ "./node_modules/antd-mobile/es/assets/disconnected.svg");
/* harmony import */ var _assets_empty_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/empty.svg */ "./node_modules/antd-mobile/es/assets/empty.svg");




const iconRecord = {
  default: _assets_default_svg__WEBPACK_IMPORTED_MODULE_0__,
  busy: _assets_busy_svg__WEBPACK_IMPORTED_MODULE_1__,
  disconnected: _assets_disconnected_svg__WEBPACK_IMPORTED_MODULE_2__,
  empty: _assets_empty_svg__WEBPACK_IMPORTED_MODULE_3__
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/error-block/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/error-block/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _error_block_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error-block.css */ "./node_modules/antd-mobile/es/components/error-block/error-block.css");
/* harmony import */ var _error_block__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error-block */ "./node_modules/antd-mobile/es/components/error-block/error-block.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_error_block__WEBPACK_IMPORTED_MODULE_1__.ErrorBlock);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FloatingBubble": () => (/* binding */ FloatingBubble)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");





const classPrefix = `adm-floating-bubble`;
const defaultProps = {};
const FloatingBubble = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const boundaryRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  /**
   * memoize the `to` function
   * inside a component that renders frequently
   * to prevent an unintended restart
   */

  const [animationStyles, animation] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    y: 0,
    scale: 1,
    opacity: 1
  }));
  const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_3__.useDrag)(state => {
    if (state.down) {
      // be movable in y axis
      animation.start({
        y: state.offset[1]
      });
    } // active status


    animation.start({
      scale: state.active ? 1.1 : 1,
      opacity: state.active ? 0.8 : 1
    });
  }, {
    // only trigger if a movement is detected on the specified axis.
    axis: 'y',
    pointer: {
      touch: true
    },
    // the component won't trigger drag logic if the user just clicked on the component.
    filterTaps: true,
    // set constraints to the user gesture
    bounds: boundaryRef
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-boundary-outer`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-boundary`,
    ref: boundaryRef
  })), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, Object.assign({}, bind(), {
    style: Object.assign({}, animationStyles),
    onClick: props.onClick,
    className: `${classPrefix}-button`
  }), props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-bubble/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-bubble/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _floating_bubble_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./floating-bubble.css */ "./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.css");
/* harmony import */ var _floating_bubble__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./floating-bubble */ "./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_floating_bubble__WEBPACK_IMPORTED_MODULE_1__.FloatingBubble);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-panel/floating-panel.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-panel/floating-panel.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FloatingPanel": () => (/* binding */ FloatingPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_supports_passive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/supports-passive */ "./node_modules/antd-mobile/es/utils/supports-passive.js");
/* harmony import */ var _utils_nearest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/nearest */ "./node_modules/antd-mobile/es/utils/nearest.js");






const FloatingPanel = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref) => {
  var _a;

  const {
    anchors
  } = props;
  const maxHeight = (_a = anchors[anchors.length - 1]) !== null && _a !== void 0 ? _a : window.innerHeight;
  const possibles = anchors.map(x => -x);
  const elementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const headerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const contentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [pulling, setPulling] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const pullingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const bounds = {
    top: possibles[possibles.length - 1],
    bottom: possibles[0]
  };
  const [{
    y
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    y: bounds.bottom,
    config: {
      tension: 300
    }
  }));
  (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_2__.useDrag)(state => {
    const [, offsetY] = state.offset;

    if (state.first) {
      const target = state.event.target;
      const header = headerRef.current;

      if (header === target || (header === null || header === void 0 ? void 0 : header.contains(target))) {
        pullingRef.current = true;
      } else {
        const reachedTop = y.goal <= bounds.top;
        const content = contentRef.current;
        if (!content) return;

        if (reachedTop) {
          if (content.scrollTop <= 0 && state.direction[1] > 0) {
            pullingRef.current = true;
          }
        } else {
          pullingRef.current = true;
        }
      }
    }

    setPulling(pullingRef.current);
    if (!pullingRef.current) return;
    const {
      event
    } = state;

    if (event.cancelable) {
      event.preventDefault();
    }

    event.stopPropagation();
    let nextY = offsetY;

    if (state.last) {
      pullingRef.current = false;
      setPulling(false);
      nextY = (0,_utils_nearest__WEBPACK_IMPORTED_MODULE_3__.nearest)(possibles, offsetY);
    }

    api.start({
      y: nextY
    });
  }, {
    axis: 'y',
    bounds,
    rubberband: true,
    from: () => [0, y.get()],
    pointer: {
      touch: true
    },
    target: elementRef,
    eventOptions: _utils_supports_passive__WEBPACK_IMPORTED_MODULE_4__.supportsPassive ? {
      passive: false
    } : false
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    setHeight: (height, options) => {
      api.start({
        y: -height,
        immediate: options === null || options === void 0 ? void 0 : options.immediate
      });
    }
  }), [api]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    ref: elementRef,
    className: 'adm-floating-panel',
    style: {
      height: maxHeight,
      y
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-floating-panel-mask',
    style: {
      display: pulling ? 'block' : 'none'
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-floating-panel-header',
    ref: headerRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-floating-panel-bar'
  })), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-floating-panel-content',
    ref: contentRef
  }, props.children)));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-panel/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-panel/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _floating_panel_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./floating-panel.css */ "./node_modules/antd-mobile/es/components/floating-panel/floating-panel.css");
/* harmony import */ var _floating_panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./floating-panel */ "./node_modules/antd-mobile/es/components/floating-panel/floating-panel.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_floating_panel__WEBPACK_IMPORTED_MODULE_1__.FloatingPanel);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/context.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/context.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_FORM_CONTEXT": () => (/* binding */ DEFAULT_FORM_CONTEXT),
/* harmony export */   "FormContext": () => (/* binding */ FormContext),
/* harmony export */   "NoStyleItemContext": () => (/* binding */ NoStyleItemContext)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const DEFAULT_FORM_CONTEXT = {
  hasFeedback: true,
  layout: 'vertical'
};
const FormContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(DEFAULT_FORM_CONTEXT);
const NoStyleItemContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/form-item.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/form-item.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormItem": () => (/* binding */ FormItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rc_field_form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rc-field-form */ "./node_modules/rc-field-form/es/index.js");
/* harmony import */ var rc_field_form_lib_FieldContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rc-field-form/lib/FieldContext */ "./node_modules/rc-field-form/lib/FieldContext.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./context */ "./node_modules/antd-mobile/es/components/form/context.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils */ "./node_modules/antd-mobile/es/components/form/utils.js");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../list */ "./node_modules/antd-mobile/es/components/list/index.js");









const NAME_SPLIT = '__SPLIT__';
const classPrefix = `adm-form-item`;
const MemoInput = react__WEBPACK_IMPORTED_MODULE_0__.memo(({
  children
}) => children, (prev, next) => prev.value === next.value && prev.update === next.update);

const FormItemLayout = props => {
  const {
    className,
    style,
    extra,
    label,
    help,
    required,
    disabled,
    children,
    htmlFor,
    hidden,
    errors
  } = props;
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.FormContext);
  const hasFeedback = props.hasFeedback !== undefined ? props.hasFeedback : context.hasFeedback;
  const layout = props.layout || context.layout;
  const feedback = hasFeedback && errors && errors.length > 0 ? errors[0] : null;
  const labelElement = label ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", {
    className: `${classPrefix}-label`,
    htmlFor: htmlFor
  }, label, required && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-label-required`
  }, "*"), help && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-label-help`
  }, help)) : null;
  const descriptionElement = feedback && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-footer`
  }, feedback);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_5__["default"].Item, {
    style: style,
    title: layout === 'vertical' && labelElement,
    prefix: layout === 'horizontal' && labelElement,
    extra: extra,
    description: descriptionElement,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, className, {
      [`${classPrefix}-hidden`]: hidden
    }),
    disabled: disabled,
    onClick: props.onClick
  }, children);
};

const FormItem = props => {
  const {
    // 样式相关
    className,
    style,
    // FormItem 相关
    label,
    help,
    extra,
    hasFeedback,
    name,
    required,
    noStyle,
    hidden,
    layout,
    // Field 相关
    disabled,
    rules,
    children,
    messageVariables,
    trigger = 'onChange',
    validateTrigger,
    onClick,
    shouldUpdate,
    dependencies
  } = props,
        fieldProps = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(props, ["className", "style", "label", "help", "extra", "hasFeedback", "name", "required", "noStyle", "hidden", "layout", "disabled", "rules", "children", "messageVariables", "trigger", "validateTrigger", "onClick", "shouldUpdate", "dependencies"]);

  const {
    validateTrigger: contextValidateTrigger
  } = react__WEBPACK_IMPORTED_MODULE_0__.useContext(rc_field_form_lib_FieldContext__WEBPACK_IMPORTED_MODULE_3__["default"]);
  const mergedValidateTrigger = validateTrigger !== undefined ? validateTrigger : contextValidateTrigger;
  const updateRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);
  updateRef.current += 1;
  const [subMetas, setSubMetas] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const onSubMetaChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((subMeta, namePath) => {
    setSubMetas(prevSubMetas => {
      const nextSubMetas = Object.assign({}, prevSubMetas);
      const nameKey = namePath.join(NAME_SPLIT);

      if (subMeta.destroy) {
        delete nextSubMetas[nameKey];
      } else {
        nextSubMetas[nameKey] = subMeta;
      }

      return nextSubMetas;
    });
  }, [setSubMetas]);

  function renderLayout(baseChildren, fieldId, meta, isRequired) {
    var _a;

    if (noStyle && !hidden) {
      return baseChildren;
    }

    const curErrors = (_a = meta === null || meta === void 0 ? void 0 : meta.errors) !== null && _a !== void 0 ? _a : [];
    const errors = Object.keys(subMetas).reduce((subErrors, key) => {
      var _a, _b;

      const errors = (_b = (_a = subMetas[key]) === null || _a === void 0 ? void 0 : _a.errors) !== null && _b !== void 0 ? _b : [];

      if (errors.length) {
        subErrors = [...subErrors, ...errors];
      }

      return subErrors;
    }, curErrors);
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(FormItemLayout, {
      className: className,
      style: style,
      label: label,
      extra: extra,
      help: help,
      required: isRequired,
      disabled: disabled,
      hasFeedback: hasFeedback,
      htmlFor: fieldId,
      errors: errors,
      onClick: onClick,
      hidden: hidden,
      layout: layout
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context__WEBPACK_IMPORTED_MODULE_4__.NoStyleItemContext.Provider, {
      value: onSubMetaChange
    }, baseChildren));
  }

  const isRenderProps = typeof children === 'function';

  if (!name && !isRenderProps && !props.dependencies) {
    return renderLayout(children);
  }

  let Variables = {};

  if (typeof label === 'string') {
    Variables.label = label;
  }

  if (messageVariables) {
    Variables = Object.assign(Object.assign({}, Variables), messageVariables);
  }

  const notifyParentMetaChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.NoStyleItemContext);

  const onMetaChange = meta => {
    if (noStyle && notifyParentMetaChange) {
      const namePath = meta.name;
      notifyParentMetaChange(meta, namePath);
    }
  };

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(rc_field_form__WEBPACK_IMPORTED_MODULE_2__.Field, Object.assign({}, fieldProps, {
    name: name,
    shouldUpdate: shouldUpdate,
    dependencies: dependencies,
    rules: rules,
    trigger: trigger,
    validateTrigger: mergedValidateTrigger,
    onMetaChange: onMetaChange,
    messageVariables: Variables
  }), (control, meta, context) => {
    let childNode = null;
    const isRequired = required !== undefined ? required : !!(rules && rules.some(rule => {
      if (rule && typeof rule === 'object' && rule.required) {
        return true;
      }

      return false;
    }));
    const fieldId = ((0,_utils__WEBPACK_IMPORTED_MODULE_7__.toArray)(name).length && meta ? meta.name : []).join('_');

    if (shouldUpdate && dependencies) {
      (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', "`shouldUpdate` and `dependencies` shouldn't be used together.");
    }

    if (isRenderProps) {
      if ((shouldUpdate || dependencies) && !name) {
        childNode = children(context);
      } else {
        if (!(shouldUpdate || dependencies)) {
          (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', '`children` of render props only work with `shouldUpdate` or `dependencies`.');
        }

        if (name) {
          (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', "Do not use `name` with `children` of render props since it's not a field.");
        }
      } // not render props

    } else if (dependencies && !name) {
      (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', 'Must set `name` or use render props when `dependencies` is set.');
    } else if (react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)) {
      if (children.props.defaultValue) {
        (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', '`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.');
      }

      const childProps = Object.assign(Object.assign({}, children.props), control);

      if (!childProps.id) {
        childProps.id = fieldId;
      } // We should keep user origin event handler


      const triggers = new Set([...(0,_utils__WEBPACK_IMPORTED_MODULE_7__.toArray)(trigger), ...(0,_utils__WEBPACK_IMPORTED_MODULE_7__.toArray)(mergedValidateTrigger)]);
      triggers.forEach(eventName => {
        childProps[eventName] = (...args) => {
          var _a, _b, _c;

          (_a = control[eventName]) === null || _a === void 0 ? void 0 : _a.call(control, ...args);
          (_c = (_b = children.props)[eventName]) === null || _c === void 0 ? void 0 : _c.call(_b, ...args);
        };
      });
      childNode = react__WEBPACK_IMPORTED_MODULE_0__.createElement(MemoInput, {
        value: control[props.valuePropName || 'value'],
        update: updateRef.current
      }, react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children, childProps));
    } else {
      if (name) {
        (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_8__.devWarning)('Form.Item', '`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead.');
      }

      childNode = children;
    }

    return renderLayout(childNode, fieldId, meta, isRequired);
  });
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/form.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/form.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Form": () => (/* binding */ Form)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../list */ "./node_modules/antd-mobile/es/components/list/index.js");
/* harmony import */ var rc_field_form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rc-field-form */ "./node_modules/rc-field-form/es/index.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./context */ "./node_modules/antd-mobile/es/components/form/context.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./header */ "./node_modules/antd-mobile/es/components/form/header.js");








const classPrefix = 'adm-form';
const defaultProps = {
  hasFeedback: true,
  layout: 'vertical'
};
const Form = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);

  const {
    className,
    style,
    hasFeedback,
    children,
    layout,
    footer,
    mode
  } = props,
        formProps = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__rest)(props, ["className", "style", "hasFeedback", "children", "layout", "footer", "mode"]);

  const lists = [];
  let currentHeader = null;
  let items = [];
  let count = 0;

  function collect() {
    if (items.length === 0) return;
    count += 1;
    lists.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_list__WEBPACK_IMPORTED_MODULE_5__["default"], {
      header: currentHeader,
      key: count,
      mode: mode,
      style: {
        '--prefix-width': '6em',
        '--align-items': 'stretch'
      }
    }, items));
    items = [];
  }

  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child) && child.type === _header__WEBPACK_IMPORTED_MODULE_6__.Header) {
      collect();
      currentHeader = child.props.children;
    } else {
      items.push(child);
    }
  });
  collect();
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(rc_field_form__WEBPACK_IMPORTED_MODULE_2__["default"], Object.assign({
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${layout}`, className),
    style: style,
    ref: ref
  }, formProps), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context__WEBPACK_IMPORTED_MODULE_7__.FormContext.Provider, {
    value: {
      hasFeedback: hasFeedback,
      layout
    }
  }, lists), footer && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-footer`
  }, footer));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/header.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/header.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Header": () => (/* binding */ Header)
/* harmony export */ });
const Header = () => null;

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.css */ "./node_modules/antd-mobile/es/components/form/index.css");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./form */ "./node_modules/antd-mobile/es/components/form/form.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _form_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form-item */ "./node_modules/antd-mobile/es/components/form/form-item.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./header */ "./node_modules/antd-mobile/es/components/form/header.js");
/* harmony import */ var rc_field_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rc-field-form */ "./node_modules/rc-field-form/es/index.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_2__.attachPropertiesToComponent)(_form__WEBPACK_IMPORTED_MODULE_3__.Form, {
  Item: _form_item__WEBPACK_IMPORTED_MODULE_4__.FormItem,
  Header: _header__WEBPACK_IMPORTED_MODULE_5__.Header,
  useForm: rc_field_form__WEBPACK_IMPORTED_MODULE_1__.useForm
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/utils.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/utils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "toArray": () => (/* binding */ toArray)
/* harmony export */ });
function toArray(candidate) {
  if (candidate === undefined || candidate === false) return [];
  return Array.isArray(candidate) ? candidate : [candidate];
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/grid/grid.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/grid/grid.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Grid": () => (/* binding */ Grid),
/* harmony export */   "GridItem": () => (/* binding */ GridItem)
/* harmony export */ });
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_to_css_length__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/to-css-length */ "./node_modules/antd-mobile/es/utils/to-css-length.js");




const classPrefix = `adm-grid`;
const Grid = props => {
  const style = {
    '--columns': props.columns.toString()
  };
  const {
    gap
  } = props;

  if (gap !== undefined) {
    if (Array.isArray(gap)) {
      style['--gap-horizontal'] = (0,_utils_to_css_length__WEBPACK_IMPORTED_MODULE_1__.toCSSLength)(gap[0]);
      style['--gap-vertical'] = (0,_utils_to_css_length__WEBPACK_IMPORTED_MODULE_1__.toCSSLength)(gap[1]);
    } else {
      style['--gap'] = (0,_utils_to_css_length__WEBPACK_IMPORTED_MODULE_1__.toCSSLength)(gap);
    }
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    style: style
  }, props.children));
};
const GridItem = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)({
    span: 1
  }, p);
  const itemStyle = {
    '--item-span': props.span
  };
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-item`,
    style: itemStyle,
    onClick: props.onClick
  }, props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/grid/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/grid/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _grid_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grid.css */ "./node_modules/antd-mobile/es/components/grid/grid.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grid */ "./node_modules/antd-mobile/es/components/grid/grid.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_grid__WEBPACK_IMPORTED_MODULE_2__.Grid, {
  Item: _grid__WEBPACK_IMPORTED_MODULE_2__.GridItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-uploader/image-uploader.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-uploader/image-uploader.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageUploader": () => (/* binding */ ImageUploader)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/AddOutline.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _image_viewer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../image-viewer */ "./node_modules/antd-mobile/es/components/image-viewer/index.js");
/* harmony import */ var _preview_item__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./preview-item */ "./node_modules/antd-mobile/es/components/image-uploader/preview-item.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmount/index.js");
/* harmony import */ var _space__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../space */ "./node_modules/antd-mobile/es/components/space/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");










const classPrefix = `adm-image-uploader`;
const defaultProps = {
  disableUpload: false,
  deletable: true,
  showUpload: true,
  multiple: false,
  maxCount: 0,
  defaultValue: [],
  accept: 'image/*',
  preview: true
};
const ImageUploader = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__.usePropsValue)(props);
  const updateValue = (0,ahooks__WEBPACK_IMPORTED_MODULE_3__["default"])(updater => {
    setValue(updater(value));
  });
  const [tasks, setTasks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    setTasks(prev => prev.filter(task => {
      if (task.url === undefined) return true;
      return !value.some(fileItem => fileItem.url === task.url);
    }));
  }, [value]);
  const idCountRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const {
    maxCount,
    onPreview
  } = props;

  function onChange(e) {
    var _a;

    return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
      e.persist();
      const {
        files: rawFiles
      } = e.target;
      if (!rawFiles) return;
      let files = [].slice.call(rawFiles);

      if (props.beforeUpload) {
        files = yield props.beforeUpload(files);
      }

      if (files.length === 0) {
        return;
      }

      if (maxCount > 0) {
        const exceed = value.length + files.length - maxCount;

        if (exceed > 0) {
          files = files.slice(0, files.length - exceed);
          (_a = props.onCountExceed) === null || _a === void 0 ? void 0 : _a.call(props, exceed);
        }
      }

      const newTasks = files.map(file => ({
        id: idCountRef.current++,
        status: 'pending',
        file
      }));
      setTasks(prev => [...prev, ...newTasks]);
      yield Promise.all(newTasks.map(currentTask => (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
        try {
          const result = yield props.upload(currentTask.file);
          setTasks(prev => {
            return prev.map(task => {
              if (task.id === currentTask.id) {
                return Object.assign(Object.assign({}, task), {
                  url: result.url
                });
              }

              return task;
            });
          });
          updateValue(prev => {
            const newVal = Object.assign({}, result);
            return [...prev, newVal];
          });
        } catch (e) {
          setTasks(prev => {
            return prev.map(task => {
              if (task.id === currentTask.id) {
                return Object.assign(Object.assign({}, task), {
                  status: 'fail'
                });
              }

              return task;
            });
          });
          throw e;
        }
      }))).catch(error => console.error(error));
      e.target.value = ''; // HACK: fix the same file doesn't trigger onChange
    });
  }

  const imageViewerHandlerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  function previewImage(index) {
    imageViewerHandlerRef.current = _image_viewer__WEBPACK_IMPORTED_MODULE_5__["default"].Multi.show({
      images: value.map(fileItem => fileItem.url),
      defaultIndex: index,
      onClose: () => {
        imageViewerHandlerRef.current = null;
      }
    });
  }

  (0,ahooks__WEBPACK_IMPORTED_MODULE_6__["default"])(() => {
    var _a;

    (_a = imageViewerHandlerRef.current) === null || _a === void 0 ? void 0 : _a.close();
  });
  const showUpload = props.showUpload && (maxCount === 0 || value.length + tasks.length < maxCount);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_space__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: `${classPrefix}-space`,
    wrap: true
  }, value.map((fileItem, index) => {
    var _a, _b;

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_preview_item__WEBPACK_IMPORTED_MODULE_9__["default"], {
      key: (_a = fileItem.key) !== null && _a !== void 0 ? _a : index,
      url: (_b = fileItem.thumbnailUrl) !== null && _b !== void 0 ? _b : fileItem.url,
      deletable: props.deletable,
      onClick: () => {
        if (props.preview) {
          previewImage(index);
        }

        onPreview && onPreview(index);
      },
      onDelete: () => (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0, void 0, void 0, function* () {
        var _c;

        const canDelete = yield (_c = props.onDelete) === null || _c === void 0 ? void 0 : _c.call(props, fileItem);
        if (canDelete === false) return;
        setValue(value.filter((x, i) => i !== index));
      })
    });
  }), tasks.map(task => react__WEBPACK_IMPORTED_MODULE_0__.createElement(_preview_item__WEBPACK_IMPORTED_MODULE_9__["default"], {
    key: task.id,
    file: task.file,
    deletable: task.status !== 'pending',
    status: task.status,
    onDelete: () => {
      setTasks(tasks.filter(x => x.id !== task.id));
    }
  })), showUpload && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-upload-button-wrap`
  }, props.children ? props.children : react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-cell ${classPrefix}-upload-button`,
    role: 'button'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-upload-button-icon`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_10__["default"], null))), !props.disableUpload && react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {
    capture: props.capture,
    accept: props.accept,
    multiple: props.multiple,
    type: 'file',
    className: `${classPrefix}-input`,
    onChange: onChange
  })))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-uploader/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-uploader/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _image_uploader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./image-uploader */ "./node_modules/antd-mobile/es/components/image-uploader/image-uploader.js");
/* harmony import */ var _image_uploader_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image-uploader.css */ "./node_modules/antd-mobile/es/components/image-uploader/image-uploader.css");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_image_uploader__WEBPACK_IMPORTED_MODULE_1__.ImageUploader);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-uploader/preview-item.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-uploader/preview-item.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseOutline.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../image */ "./node_modules/antd-mobile/es/components/image/index.js");
/* harmony import */ var _spin_loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../spin-loading */ "./node_modules/antd-mobile/es/components/spin-loading/index.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");






const classPrefix = `adm-image-uploader`;

const PreviewItem = props => {
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_2__.useConfig)();
  const {
    url,
    file,
    deletable,
    onDelete
  } = props;
  const src = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (url) {
      return url;
    }

    if (file) {
      return URL.createObjectURL(file);
    }

    return '';
  }, [url, file]);

  function renderLoading() {
    return props.status === 'pending' && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-cell-mask`
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: `${classPrefix}-cell-loading`
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_spin_loading__WEBPACK_IMPORTED_MODULE_3__["default"], {
      color: 'white'
    }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: `${classPrefix}-cell-mask-message`
    }, locale.ImageUploader.uploading)));
  }

  function renderDelete() {
    return deletable && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: `${classPrefix}-cell-delete`,
      onClick: onDelete
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__["default"], {
      className: `${classPrefix}-cell-delete-icon`
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-cell`, props.status === 'fail' && `${classPrefix}-cell-fail`)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_image__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: `${classPrefix}-cell-image`,
    src: src,
    fit: 'cover',
    onClick: props.onClick
  }), renderLoading(), renderDelete());
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PreviewItem);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/image-viewer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/image-viewer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageViewer": () => (/* binding */ ImageViewer),
/* harmony export */   "MultiImageViewer": () => (/* binding */ MultiImageViewer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_render_to_container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/render-to-container */ "./node_modules/antd-mobile/es/utils/render-to-container.js");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _slide__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slide */ "./node_modules/antd-mobile/es/components/image-viewer/slide.js");
/* harmony import */ var _slides__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./slides */ "./node_modules/antd-mobile/es/components/image-viewer/slides.js");






const classPrefix = `adm-image-viewer`;
const defaultProps = {
  maxZoom: 3,
  getContainer: null,
  visible: false
};
const ImageViewer = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const node = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mask__WEBPACK_IMPORTED_MODULE_2__["default"], {
    visible: props.visible,
    disableBodyScroll: false,
    opacity: 'thick',
    afterClose: props.afterClose
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.image && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_slide__WEBPACK_IMPORTED_MODULE_3__.Slide, {
    image: props.image,
    onTap: () => {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    },
    maxZoom: props.maxZoom
  })));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_4__.renderToContainer)(props.getContainer, node);
};
const multiDefaultProps = Object.assign(Object.assign({}, defaultProps), {
  defaultIndex: 0
});
const MultiImageViewer = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(multiDefaultProps, p);
  const node = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mask__WEBPACK_IMPORTED_MODULE_2__["default"], {
    visible: props.visible,
    disableBodyScroll: false,
    opacity: 'thick',
    afterClose: props.afterClose
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.images && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_slides__WEBPACK_IMPORTED_MODULE_5__.Slides, {
    defaultIndex: props.defaultIndex,
    onIndexChange: props.onIndexChange,
    images: props.images,
    onTap: () => {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    },
    maxZoom: props.maxZoom
  })));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_4__.renderToContainer)(props.getContainer, node);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _image_viewer_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image-viewer.css */ "./node_modules/antd-mobile/es/components/image-viewer/image-viewer.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _image_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./image-viewer */ "./node_modules/antd-mobile/es/components/image-viewer/image-viewer.js");
/* harmony import */ var _methods__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./methods */ "./node_modules/antd-mobile/es/components/image-viewer/methods.js");




const Multi = (0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_image_viewer__WEBPACK_IMPORTED_MODULE_2__.MultiImageViewer, {
  show: _methods__WEBPACK_IMPORTED_MODULE_3__.showMultiImageViewer
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_image_viewer__WEBPACK_IMPORTED_MODULE_2__.ImageViewer, {
  Multi,
  show: _methods__WEBPACK_IMPORTED_MODULE_3__.showImageViewer,
  clear: _methods__WEBPACK_IMPORTED_MODULE_3__.clearImageViewer
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/methods.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/methods.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "showImageViewer": () => (/* binding */ showImageViewer),
/* harmony export */   "showMultiImageViewer": () => (/* binding */ showMultiImageViewer),
/* harmony export */   "clearImageViewer": () => (/* binding */ clearImageViewer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _image_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./image-viewer */ "./node_modules/antd-mobile/es/components/image-viewer/image-viewer.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmountedRef/index.js");




const handlerSet = new Set();
function showImageViewer(props) {
  clearImageViewer();
  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_, ref) => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      setVisible(true);
    }, []);
    const isUnmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      close: () => {
        if (isUnmountedRef.current) return;
        setVisible(false);
      }
    }));
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_image_viewer__WEBPACK_IMPORTED_MODULE_2__.ImageViewer, Object.assign({}, props, {
      visible: visible,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        setVisible(false);
      },
      afterClose: () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
        unmount();
      }
    }));
  });
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_3__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, {
    ref: ref
  }));
  const handler = {
    close: () => {
      var _a;

      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();
    }
  };
  handlerSet.add(handler);
  return handler;
}
function showMultiImageViewer(props) {
  clearImageViewer();
  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_, ref) => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      setVisible(true);
    }, []);
    const isUnmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      close: () => {
        if (isUnmountedRef.current) return;
        setVisible(false);
      }
    }));
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_image_viewer__WEBPACK_IMPORTED_MODULE_2__.MultiImageViewer, Object.assign({}, props, {
      visible: visible,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        setVisible(false);
      },
      afterClose: () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
        unmount();
      }
    }));
  });
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_3__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, {
    ref: ref
  }));
  const handler = {
    close: () => {
      var _a;

      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();
    }
  };
  handlerSet.add(handler);
  return handler;
}
function clearImageViewer() {
  handlerSet.forEach(handler => {
    handler.close();
  });
  handlerSet.clear();
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/slide.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/slide.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Slide": () => (/* binding */ Slide)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");



const classPrefix = `adm-image-viewer`;
const Slide = props => {
  const {
    dragLockRef
  } = props;
  const controlRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [{
    zoom,
    x,
    y
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    zoom: 1,
    x: 0,
    y: 0,
    config: {
      tension: 300
    }
  }));
  const pinchLockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_2__.useGesture)({
    onDrag: state => {
      if (state.tap && state.elapsedTime > 0) {
        // 判断点击时间>0是为了过滤掉非正常操作，例如用户长按选择图片之后的取消操作（也是一次点击）
        props.onTap();
        return;
      }

      const currentZoom = zoom.get();

      if (dragLockRef) {
        dragLockRef.current = currentZoom !== 1;
      }

      if (!pinchLockRef.current && currentZoom <= 1) {
        api.start({
          x: 0,
          y: 0
        });
      } else {
        const [x, y] = state.offset;
        api.start({
          x,
          y,
          immediate: true
        });
      }
    },
    onPinch: state => {
      var _a;

      pinchLockRef.current = !state.last;
      const [d] = state.offset;
      if (d < 0) return; // pinch的rubberband不会自动弹回bound，这里手动实现了

      const zoom = state.last ? Math.max(Math.min(d, props.maxZoom), 1) : d;
      api.start({
        zoom,
        immediate: !state.last
      });
      (_a = props.onZoomChange) === null || _a === void 0 ? void 0 : _a.call(props, zoom);

      if (state.last && zoom <= 1) {
        api.start({
          x: 0,
          y: 0
        });

        if (dragLockRef) {
          dragLockRef.current = false;
        }
      } else {
        if (dragLockRef) {
          dragLockRef.current = true;
        }
      }
    }
  }, {
    target: controlRef,
    drag: {
      // filterTaps: true,
      from: () => [x.get(), y.get()]
    },
    pinch: {
      from: () => [zoom.get(), 0]
    },
    pointer: {
      touch: true
    }
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-slide`,
    onPointerMove: e => {
      if (zoom.get() !== 1) {
        e.stopPropagation();
      }
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-control`,
    ref: controlRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    className: `${classPrefix}-image-wrapper`,
    style: {
      scale: zoom,
      x,
      y
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
    src: props.image,
    draggable: false
  }))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/slides.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/slides.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Slides": () => (/* binding */ Slides)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _slide__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./slide */ "./node_modules/antd-mobile/es/components/image-viewer/slide.js");
/* harmony import */ var _utils_convert_px__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/convert-px */ "./node_modules/antd-mobile/es/utils/convert-px.js");
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");






const classPrefix = `adm-image-viewer`;
const Slides = props => {
  const slideWidth = window.innerWidth + (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_2__.convertPx)(16);
  const [{
    x
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    x: props.defaultIndex * slideWidth,
    config: {
      tension: 250,
      clamp: true
    }
  }));
  const count = props.images.length;
  const dragLockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_3__.useDrag)(state => {
    var _a;

    if (dragLockRef.current) return;
    const [offsetX] = state.offset;

    if (state.last) {
      const minIndex = Math.floor(offsetX / slideWidth);
      const maxIndex = minIndex + 1;
      const velocityOffset = Math.min(state.velocity[0] * 2000, slideWidth) * state.direction[0];
      const index = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_4__.bound)((0,_utils_bound__WEBPACK_IMPORTED_MODULE_4__.bound)(Math.round((offsetX + velocityOffset) / slideWidth), minIndex, maxIndex), 0, count - 1);
      (_a = props.onIndexChange) === null || _a === void 0 ? void 0 : _a.call(props, index);
      api.start({
        x: index * slideWidth
      });
    } else {
      api.start({
        x: offsetX,
        immediate: true
      });
    }
  }, {
    transform: ([x, y]) => [-x, y],
    from: () => [x.get(), 0],
    bounds: () => {
      return {
        left: 0,
        right: (count - 1) * slideWidth
      };
    },
    rubberband: true,
    axis: 'x',
    pointer: {
      touch: true
    }
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", Object.assign({
    className: `${classPrefix}-slides`
  }, bind()), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    className: `${classPrefix}-indicator`
  }, x.to(v => {
    const index = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_4__.bound)(Math.round(v / slideWidth), 0, count - 1);
    return `${index + 1} / ${count}`;
  })), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    className: `${classPrefix}-slides-inner`,
    style: {
      x: x.to(x => -x)
    }
  }, props.images.map(image => react__WEBPACK_IMPORTED_MODULE_0__.createElement(_slide__WEBPACK_IMPORTED_MODULE_5__.Slide, {
    key: image,
    image: image,
    onTap: props.onTap,
    maxZoom: props.maxZoom,
    onZoomChange: zoom => {
      if (zoom !== 1) {
        const index = Math.round(x.get() / slideWidth);
        api.start({
          x: index * slideWidth
        });
      }
    },
    dragLockRef: dragLockRef
  }))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image/image.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image/image.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Image": () => (/* binding */ Image)
/* harmony export */ });
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/PictureOutline.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/PictureWrongOutline.js");
/* harmony import */ var staged_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! staged-components */ "./node_modules/staged-components/index.js");
/* harmony import */ var staged_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(staged_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_to_css_length__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/to-css-length */ "./node_modules/antd-mobile/es/utils/to-css-length.js");
/* harmony import */ var _lazy_detector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lazy-detector */ "./node_modules/antd-mobile/es/components/image/lazy-detector.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUpdateLayoutEffect/index.js");








const classPrefix = `adm-image`;
const defaultProps = {
  fit: 'fill',
  placeholder: react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-tip`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__["default"], null)),
  fallback: react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-tip`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__["default"], null)),
  lazy: false
};
const Image = (0,staged_components__WEBPACK_IMPORTED_MODULE_1__.staged)(p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__.mergeProps)(defaultProps, p);
  const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [failed, setFailed] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  let src = props.src;
  let srcSet = props.srcSet;
  const [initialized, setInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!props.lazy);
  src = initialized ? props.src : undefined;
  srcSet = initialized ? props.srcSet : undefined;
  (0,ahooks__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    setLoaded(false);
    setFailed(false);
  }, [src]);

  function renderInner() {
    if (failed) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.fallback);
    }

    const img = react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
      className: `${classPrefix}-img`,
      src: src,
      alt: props.alt,
      onClick: props.onClick,
      onLoad: () => {
        setLoaded(true);
      },
      onError: e => {
        var _a;

        setFailed(true);
        (_a = props.onError) === null || _a === void 0 ? void 0 : _a.call(props, e);
      },
      style: {
        objectFit: props.fit,
        display: loaded ? 'block' : 'none'
      },
      crossOrigin: props.crossOrigin,
      decoding: props.decoding,
      loading: props.loading,
      referrerPolicy: props.referrerPolicy,
      sizes: props.sizes,
      srcSet: srcSet,
      useMap: props.useMap
    });
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, !loaded && props.placeholder, img);
  }

  const style = {};

  if (props.width) {
    style['--width'] = (0,_utils_to_css_length__WEBPACK_IMPORTED_MODULE_6__.toCSSLength)(props.width);
  }

  if (props.height) {
    style['--height'] = (0,_utils_to_css_length__WEBPACK_IMPORTED_MODULE_6__.toCSSLength)(props.height);
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: ref,
    className: classPrefix,
    style: style
  }, props.lazy && !initialized && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_lazy_detector__WEBPACK_IMPORTED_MODULE_8__.LazyDetector, {
    onActive: () => {
      setInitialized(true);
    }
  }), renderInner()));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _image_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image.css */ "./node_modules/antd-mobile/es/components/image/image.css");
/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./image */ "./node_modules/antd-mobile/es/components/image/image.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_image__WEBPACK_IMPORTED_MODULE_1__.Image);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image/lazy-detector.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image/lazy-detector.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LazyDetector": () => (/* binding */ LazyDetector)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useInViewport/index.js");


const LazyDetector = props => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [inViewport] = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])(ref);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (inViewport) {
      props.onActive();
    }
  }, [inViewport]);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: ref
  });
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/index-bar/index-bar.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/index-bar/index-bar.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IndexBar": () => (/* binding */ IndexBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useThrottleFn/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sidebar */ "./node_modules/antd-mobile/es/components/index-bar/sidebar.js");
/* harmony import */ var _utils_convert_px__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/convert-px */ "./node_modules/antd-mobile/es/utils/convert-px.js");
/* harmony import */ var _panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel */ "./node_modules/antd-mobile/es/components/index-bar/panel.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");









const classPrefix = `adm-index-bar`;
const defaultProps = {
  sticky: true
};
const IndexBar = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const titleHeight = (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_3__.convertPx)(35);
  const bodyRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const indexes = [];
  const panels = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, child => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;

    if (child.type !== _panel__WEBPACK_IMPORTED_MODULE_4__.Panel) {
      (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_5__.devWarning)('IndexBar', 'The children of `IndexBar` must be `IndexBar.Panel` components.');
      return;
    }

    indexes.push(child.props.index);
    panels.push((0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(child.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: child.props.index,
      "data-index": child.props.index,
      className: `${classPrefix}-anchor`
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-anchor-title`
    }, child.props.title || child.props.index), child.props.children)));
  });
  const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(indexes[0]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    scrollTo
  }));

  function scrollTo(index) {
    const body = bodyRef.current;
    if (!body) return;
    const children = body.children;

    for (let i = 0; i < children.length; i++) {
      const panel = children.item(i);
      if (!panel) continue;
      const panelIndex = panel.dataset['index'];

      if (panelIndex === index) {
        body.scrollTop = panel.offsetTop;
        setActiveIndex(index);
        return;
      }
    }
  }

  const {
    run: checkActiveIndex
  } = (0,ahooks__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    const body = bodyRef.current;
    if (!body) return;
    const scrollTop = body.scrollTop;
    const elements = body.getElementsByClassName(`${classPrefix}-anchor`);

    for (let i = 0; i < elements.length; i++) {
      const panel = elements.item(i);
      if (!panel) continue;
      const panelIndex = panel.dataset['index'];
      if (!panelIndex) continue;

      if (panel.offsetTop + panel.clientHeight - titleHeight > scrollTop) {
        setActiveIndex(panelIndex);
        return;
      }
    }
  }, {
    wait: 50,
    trailing: true,
    leading: true
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}`, {
      [`${classPrefix}-sticky`]: props.sticky
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_sidebar__WEBPACK_IMPORTED_MODULE_8__.Sidebar, {
    indexes: indexes,
    activeIndex: activeIndex,
    onActive: index => {
      scrollTo(index);
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body`,
    ref: bodyRef,
    onScroll: checkActiveIndex
  }, panels)));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/index-bar/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/index-bar/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _index_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-bar.css */ "./node_modules/antd-mobile/es/components/index-bar/index-bar.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _panel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./panel */ "./node_modules/antd-mobile/es/components/index-bar/panel.js");
/* harmony import */ var _index_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-bar */ "./node_modules/antd-mobile/es/components/index-bar/index-bar.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_index_bar__WEBPACK_IMPORTED_MODULE_2__.IndexBar, {
  Panel: _panel__WEBPACK_IMPORTED_MODULE_3__.Panel
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/index-bar/panel.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/index-bar/panel.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Panel": () => (/* binding */ Panel)
/* harmony export */ });
const Panel = () => null;

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/index-bar/sidebar.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/index-bar/sidebar.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sidebar": () => (/* binding */ Sidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);


const classPrefix = `adm-index-bar`;
const Sidebar = props => {
  const [interacting, setInteracting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-sidebar`, {
      [`${classPrefix}-sidebar-interacting`]: interacting
    }),
    onMouseDown: () => {
      setInteracting(true);
    },
    onMouseUp: () => {
      setInteracting(false);
    },
    onTouchStart: () => {
      setInteracting(true);
    },
    onTouchEnd: () => {
      setInteracting(false);
    },
    onTouchMove: e => {
      if (!interacting) return;
      const {
        clientX,
        clientY
      } = e.touches[0];
      const target = document.elementFromPoint(clientX, clientY);
      if (!target) return;
      const index = target.dataset['index'];

      if (index) {
        props.onActive(index);
      }
    }
  }, props.indexes.map(index => {
    const active = index === props.activeIndex;
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-sidebar-row`,
      onMouseDown: () => {
        props.onActive(index);
      },
      onTouchStart: () => {
        props.onActive(index);
      },
      onMouseEnter: () => {
        if (interacting) {
          props.onActive(index);
        }
      },
      "data-index": index,
      key: index
    }, interacting && active && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-sidebar-bubble`
    }, index), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-sidebar-item`, {
        [`${classPrefix}-sidebar-item-active`]: active
      }),
      "data-index": index
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, index)));
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/infinite-scroll/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/infinite-scroll/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _infinite_scroll_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./infinite-scroll.css */ "./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.css");
/* harmony import */ var _infinite_scroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./infinite-scroll */ "./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_infinite_scroll__WEBPACK_IMPORTED_MODULE_1__.InfiniteScroll);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InfiniteScroll": () => (/* binding */ InfiniteScroll)
/* harmony export */ });
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useLockFn/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_get_scroll_parent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/get-scroll-parent */ "./node_modules/antd-mobile/es/utils/get-scroll-parent.js");
/* harmony import */ var _dot_loading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dot-loading */ "./node_modules/antd-mobile/es/components/dot-loading/index.js");







function isWindow(element) {
  return element === window;
}

const classPrefix = `adm-infinite-scroll`;

const InfiniteScrollContent = ({
  hasMore
}) => {
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, hasMore ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "\u52A0\u8F7D\u4E2D"), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dot_loading__WEBPACK_IMPORTED_MODULE_1__["default"], null)) : react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "\u6CA1\u6709\u66F4\u591A\u4E86"));
};

const InfiniteScroll = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)({
    threshold: 250
  }, p);
  const doLoadMore = (0,ahooks__WEBPACK_IMPORTED_MODULE_3__["default"])(() => props.loadMore());
  const elementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const checkTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const check = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    window.clearTimeout(checkTimeoutRef.current);
    checkTimeoutRef.current = window.setTimeout(() => {
      if (!props.hasMore) return;
      const element = elementRef.current;
      if (!element) return;
      if (!element.offsetParent) return;
      const parent = (0,_utils_get_scroll_parent__WEBPACK_IMPORTED_MODULE_5__.getScrollParent)(element);
      if (!parent) return;
      const rect = element.getBoundingClientRect();
      const elementTop = rect.top;
      const current = isWindow(parent) ? window.innerHeight : parent.getBoundingClientRect().bottom;

      if (current >= elementTop - props.threshold) {
        doLoadMore();
      }
    });
  }); // 确保在内容不足时会自动触发加载事件

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    check();
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const element = elementRef.current;
    if (!element) return;
    const parent = (0,_utils_get_scroll_parent__WEBPACK_IMPORTED_MODULE_5__.getScrollParent)(element);
    if (!parent) return;

    function onScroll() {
      check();
    }

    parent.addEventListener('scroll', onScroll);
    return () => {
      parent.removeEventListener('scroll', onScroll);
    };
  }, []);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    ref: elementRef
  }, props.children && props.children, !props.children && react__WEBPACK_IMPORTED_MODULE_0__.createElement(InfiniteScrollContent, {
    hasMore: props.hasMore
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/input/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/input/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _input_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.css */ "./node_modules/antd-mobile/es/components/input/input.css");
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input */ "./node_modules/antd-mobile/es/components/input/input.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_input__WEBPACK_IMPORTED_MODULE_1__.Input);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/input/input.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/input/input.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Input": () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseCircleFill.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");





const classPrefix = `adm-input`;
const defaultProps = {
  defaultValue: ''
};
const Input = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__.usePropsValue)(props);
  const [hasFocus, setHasFocus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const nativeInputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    clear: () => {
      setValue('');
    },
    focus: () => {
      var _a;

      (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    },
    blur: () => {
      var _a;

      (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  }));

  const handleKeydown = e => {
    var _a;

    if (props.onEnterPress && (e.code === 'Enter' || e.keyCode === 13)) {
      props.onEnterPress(e);
    }

    (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, e);
  };

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    var _a;

    if (!props.enterKeyHint) return;
    (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.setAttribute('enterkeyhint', props.enterKeyHint);
    return () => {
      var _a;

      (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.removeAttribute('enterkeyhint');
    };
  }, [props.enterKeyHint]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {
    ref: nativeInputRef,
    className: classPrefix,
    value: value,
    onChange: e => {
      setValue(e.target.value);
    },
    onFocus: e => {
      var _a;

      setHasFocus(true);
      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    onBlur: e => {
      var _a;

      setHasFocus(false);
      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    id: props.id,
    placeholder: props.placeholder,
    disabled: props.disabled,
    readOnly: props.readOnly,
    maxLength: props.maxLength,
    minLength: props.minLength,
    max: props.max,
    min: props.min,
    autoComplete: props.autoComplete,
    pattern: props.pattern,
    inputMode: props.inputMode,
    type: props.type,
    autoCapitalize: props.autoCapitalize,
    autoCorrect: props.autoCorrect,
    onKeyDown: handleKeydown,
    onKeyUp: props.onKeyUp
  }), props.clearable && !!value && hasFocus && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-clear`,
    onMouseDown: e => {
      e.preventDefault();
    },
    onClick: () => {
      var _a;

      setValue('');
      (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__["default"], null))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/jumbo-tabs/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/jumbo-tabs/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jumbo_tabs_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jumbo-tabs.css */ "./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.css");
/* harmony import */ var _jumbo_tabs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./jumbo-tabs */ "./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_jumbo_tabs__WEBPACK_IMPORTED_MODULE_2__.JumboTabs, {
  Tab: _jumbo_tabs__WEBPACK_IMPORTED_MODULE_2__.JumboTab
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "JumboTab": () => (/* binding */ JumboTab),
/* harmony export */   "JumboTabs": () => (/* binding */ JumboTabs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/use-resize-effect */ "./node_modules/antd-mobile/es/utils/use-resize-effect.js");
/* harmony import */ var _utils_use_tab_list_scroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-tab-list-scroll */ "./node_modules/antd-mobile/es/utils/use-tab-list-scroll.js");
/* harmony import */ var _scroll_mask__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scroll-mask */ "./node_modules/antd-mobile/es/components/scroll-mask/index.js");








const classPrefix = `adm-jumbo-tabs`;
const JumboTab = () => {
  return null;
};
const JumboTabs = props => {
  var _a;

  const tabListContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const keyToIndexRecord = {};
  let firstActiveKey = null;
  const panes = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;

    if (index === 0) {
      firstActiveKey = key;
    }

    const length = panes.push(child);
    keyToIndexRecord[key] = length - 1;
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  const {
    scrollLeft,
    animate
  } = (0,_utils_use_tab_list_scroll__WEBPACK_IMPORTED_MODULE_4__.useTabListScroll)(tabListContainerRef, keyToIndexRecord[activeKey]);
  (0,_utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_5__.useResizeEffect)(() => {
    animate(true);
  }, rootRef);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    ref: rootRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_scroll_mask__WEBPACK_IMPORTED_MODULE_7__["default"], {
    scrollTrackRef: tabListContainerRef
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: `${classPrefix}-tab-list`,
    ref: tabListContainerRef,
    scrollLeft: scrollLeft
  }, panes.map(pane => (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(pane.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: pane.key,
    className: `${classPrefix}-tab-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    onClick: () => {
      const {
        key
      } = pane;
      if (pane.props.disabled) return;

      if (key === undefined || key === null) {
        return;
      }

      setActiveKey(key.toString());
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-tab`, {
      [`${classPrefix}-tab-active`]: pane.key === activeKey,
      [`${classPrefix}-tab-disabled`]: pane.props.disabled
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-tab-title`
  }, pane.props.title), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-tab-description`
  }, pane.props.description))))))), panes.map(pane => {
    if (pane.props.children === undefined) {
      return null;
    }

    if (pane.key === activeKey) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        className: `${classPrefix}-content`
      }, pane.props.children);
    }

    if (pane.props.forceRender) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        style: {
          display: 'none'
        }
      }, pane.props.children);
    }

    return null;
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/list/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/list/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _list_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./list.css */ "./node_modules/antd-mobile/es/components/list/list.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./list */ "./node_modules/antd-mobile/es/components/list/list.js");
/* harmony import */ var _list_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./list-item */ "./node_modules/antd-mobile/es/components/list/list-item.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_list__WEBPACK_IMPORTED_MODULE_2__.List, {
  Item: _list_item__WEBPACK_IMPORTED_MODULE_3__.ListItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/list/list-item.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/list/list-item.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListItem": () => (/* binding */ ListItem)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/RightOutline.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);




const classPrefix = `adm-list-item`;
const ListItem = props => {
  var _a;

  const clickable = (_a = props.clickable) !== null && _a !== void 0 ? _a : !!props.onClick;
  const arrow = props.arrow === undefined ? clickable : props.arrow;
  const content = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.prefix && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content-prefix`
  }, props.prefix), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-content-main`, (props.title || props.description) && `${classPrefix}-content-main-multi-row`)
  }, props.title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-title`
  }, props.title), props.children, props.description && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description`
  }, props.description)), props.extra && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content-extra`
  }, props.extra), arrow && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content-arrow`
  }, arrow === true ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__["default"], null) : arrow));
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(clickable ? 'a' : 'div', {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}`, clickable ? ['adm-plain-anchor'] : [], props.disabled && `${classPrefix}-disabled`),
    onClick: props.disabled ? undefined : props.onClick
  }, content));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/list/list.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/list/list.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "List": () => (/* binding */ List)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");




const classPrefix = `adm-list`;
const defaultProps = {
  mode: 'default'
};
const List = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${props.mode}`)
  }, props.header && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, props.header), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-inner`
  }, props.children))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/loading/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/loading/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dot_loading_dot_loading_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dot-loading/dot-loading.css */ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.css");
/* harmony import */ var _dot_loading_dot_loading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dot-loading/dot-loading */ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.js");
// Deprecated


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_dot_loading_dot_loading__WEBPACK_IMPORTED_MODULE_1__.DotLoading);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/mask/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/mask/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mask_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mask.css */ "./node_modules/antd-mobile/es/components/mask/mask.css");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mask */ "./node_modules/antd-mobile/es/components/mask/mask.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_mask__WEBPACK_IMPORTED_MODULE_1__.Mask);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/mask/mask.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/mask/mask.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Mask": () => (/* binding */ Mask)
/* harmony export */ });
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmountedRef/index.js");
/* harmony import */ var _utils_use_lock_scroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-lock-scroll */ "./node_modules/antd-mobile/es/utils/use-lock-scroll.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_render_to_container__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/render-to-container */ "./node_modules/antd-mobile/es/utils/render-to-container.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");
/* harmony import */ var _utils_use_should_render__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/use-should-render */ "./node_modules/antd-mobile/es/utils/use-should-render.js");
/* harmony import */ var _utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/with-stop-propagation */ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js");










const classPrefix = `adm-mask`;
const opacityRecord = {
  default: 0.55,
  thin: 0.35,
  thick: 0.75
};
const defaultProps = {
  visible: true,
  destroyOnClose: false,
  forceRender: false,
  color: 'black',
  opacity: 'default',
  disableBodyScroll: true,
  getContainer: null,
  stopPropagation: ['click']
};
const Mask = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_3__.useConfig)();
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_utils_use_lock_scroll__WEBPACK_IMPORTED_MODULE_4__.useLockScroll)(ref, props.visible && props.disableBodyScroll);
  const background = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _a;

    const opacity = (_a = opacityRecord[props.opacity]) !== null && _a !== void 0 ? _a : props.opacity;
    const rgb = props.color === 'white' ? '255, 255, 255' : '0, 0, 0';
    return `rgba(${rgb}, ${opacity})`;
  }, [props.color, props.opacity]);
  const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.visible);
  const unmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const {
    opacity
  } = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)({
    opacity: props.visible ? 1 : 0,
    config: {
      precision: 0.01,
      mass: 1,
      tension: 200,
      friction: 30,
      clamp: true
    },
    onStart: () => {
      setActive(true);
    },
    onRest: () => {
      var _a, _b;

      if (unmountedRef.current) return;
      setActive(props.visible);

      if (props.visible) {
        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);
      } else {
        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);
      }
    }
  });
  const shouldRender = (0,_utils_use_should_render__WEBPACK_IMPORTED_MODULE_6__.useShouldRender)(active, props.forceRender, props.destroyOnClose);
  const node = (0,_utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_7__.withStopPropagation)(props.stopPropagation, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_8__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    className: classPrefix,
    ref: ref,
    style: Object.assign(Object.assign({
      background,
      opacity
    }, props.style), {
      display: active ? 'unset' : 'none'
    })
  }, props.onMaskClick && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-aria-button`,
    role: 'button',
    "aria-label": locale.Mask.name,
    onClick: props.onMaskClick
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, shouldRender && props.children))));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_9__.renderToContainer)(props.getContainer, node);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/alert.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/alert.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "alert": () => (/* binding */ alert)
/* harmony export */ });
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/modal/show.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");



function alert(p) {
  const defaultProps = {
    confirmText: (0,_config_provider__WEBPACK_IMPORTED_MODULE_0__.getDefaultConfig)().locale.Modal.ok
  };
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  return new Promise(resolve => {
    (0,_show__WEBPACK_IMPORTED_MODULE_2__.show)(Object.assign(Object.assign({}, props), {
      closeOnAction: true,
      actions: [{
        key: 'confirm',
        text: props.confirmText,
        primary: true
      }],
      onAction: props.onConfirm,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        resolve();
      }
    }));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/confirm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/confirm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "confirm": () => (/* binding */ confirm)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/modal/show.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");



const defaultProps = {
  confirmText: '确认',
  cancelText: '取消'
};
function confirm(p) {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_0__.mergeProps)(defaultProps, p);
  return new Promise(resolve => {
    (0,_show__WEBPACK_IMPORTED_MODULE_1__.show)(Object.assign(Object.assign({}, props), {
      closeOnAction: true,
      onClose: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
        resolve(false);
      },
      actions: [{
        key: 'confirm',
        text: props.confirmText,
        primary: true,
        onClick: () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
          var _a;

          yield (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props);
          resolve(true);
        })
      }, {
        key: 'cancel',
        text: props.cancelText,
        onClick: () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
          var _b;

          yield (_b = props.onCancel) === null || _b === void 0 ? void 0 : _b.call(props);
          resolve(false);
        })
      }]
    }));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _modal_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal.css */ "./node_modules/antd-mobile/es/components/modal/modal.css");
/* harmony import */ var _show__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./show */ "./node_modules/antd-mobile/es/components/modal/show.js");
/* harmony import */ var _alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./alert */ "./node_modules/antd-mobile/es/components/modal/alert.js");
/* harmony import */ var _confirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./confirm */ "./node_modules/antd-mobile/es/components/modal/confirm.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal */ "./node_modules/antd-mobile/es/components/modal/modal.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_modal__WEBPACK_IMPORTED_MODULE_2__.Modal, {
  show: _show__WEBPACK_IMPORTED_MODULE_3__.show,
  alert: _alert__WEBPACK_IMPORTED_MODULE_4__.alert,
  confirm: _confirm__WEBPACK_IMPORTED_MODULE_5__.confirm
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/modal-action-button.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/modal-action-button.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalActionButton": () => (/* binding */ ModalActionButton)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");





const ModalActionButton = props => {
  const {
    action
  } = props;
  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  function handleClick() {
    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {
      setLoading(true);

      try {
        const promise = props.onAction();
        yield promise;
        setLoading(false);
      } catch (e) {
        setLoading(false);
        throw e;
      }
    });
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props.action, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    key: action.key,
    onClick: handleClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('adm-modal-button', {
      'adm-modal-button-primary': props.action.primary
    }),
    fill: props.action.primary ? 'solid' : 'none',
    size: props.action.primary ? 'large' : 'middle',
    block: true,
    color: action.danger ? 'danger' : 'primary',
    loading: loading,
    disabled: action.disabled
  }, action.text));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/modal.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/modal.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Modal": () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmountedRef/index.js");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _modal_action_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modal-action-button */ "./node_modules/antd-mobile/es/components/modal/modal-action-button.js");
/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../image */ "./node_modules/antd-mobile/es/components/image/index.js");
/* harmony import */ var _space__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../space */ "./node_modules/antd-mobile/es/components/space/index.js");
/* harmony import */ var _utils_render_to_container__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/render-to-container */ "./node_modules/antd-mobile/es/utils/render-to-container.js");
/* harmony import */ var _utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/with-stop-propagation */ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js");
/* harmony import */ var _auto_center__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../auto-center */ "./node_modules/antd-mobile/es/components/auto-center/index.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseOutline.js");















const classPrefix = `adm-modal`;
const defaultProps = {
  visible: false,
  actions: [],
  closeOnAction: false,
  closeOnMaskClick: false,
  stopPropagation: ['click'],
  showCloseButton: false,
  getContainer: null
};
const Modal = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const unmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const style = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)({
    scale: props.visible ? 1 : 0.8,
    opacity: props.visible ? 1 : 0,
    config: {
      mass: 1,
      tension: 200,
      friction: 30,
      clamp: true
    },
    onStart: () => {
      setActive(true);
    },
    onRest: () => {
      var _a, _b;

      if (unmountedRef.current) return;
      setActive(props.visible);

      if (props.visible) {
        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);
      } else {
        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);
      }
    }
  });
  const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.visible);
  const node = (0,_utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_5__.withStopPropagation)(props.stopPropagation, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    style: {
      display: active ? 'unset' : 'none'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mask__WEBPACK_IMPORTED_MODULE_7__["default"], {
    visible: props.visible,
    onMaskClick: props.closeOnMaskClick ? props.onClose : undefined,
    style: props.maskStyle,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-mask`, props.maskClassName)
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-wrap`,
    style: {
      pointerEvents: props.visible ? 'unset' : 'none'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    style: Object.assign({}, style),
    onClick: e => e.stopPropagation(),
    className: `${classPrefix}-main`
  }, !!props.image && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_image__WEBPACK_IMPORTED_MODULE_8__["default"], {
    src: props.image,
    alt: 'modal header image',
    width: '100%'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    style: props.bodyStyle,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-body`, props.bodyClassName)
  }, props.showCloseButton && react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-close`, 'adm-plain-anchor'),
    onClick: props.onClose
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__["default"], null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_space__WEBPACK_IMPORTED_MODULE_10__["default"], {
    direction: 'vertical',
    block: true
  }, !!props.header && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-header-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-header`
  }, props.header)), !!props.title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-title`
  }, props.title), !!props.content && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body-content`
  }, typeof props.content === 'string' ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auto_center__WEBPACK_IMPORTED_MODULE_11__["default"], null, props.content) : props.content))), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-footer`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_space__WEBPACK_IMPORTED_MODULE_10__["default"], {
    direction: 'vertical',
    block: true
  }, props.actions.map((action, index) => {
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_modal_action_button__WEBPACK_IMPORTED_MODULE_12__.ModalActionButton, {
      key: action.key,
      action: action,
      onAction: () => (0,tslib__WEBPACK_IMPORTED_MODULE_13__.__awaiter)(void 0, void 0, void 0, function* () {
        var _a, _b, _c;

        yield Promise.all([(_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action), (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action, index)]);

        if (props.closeOnAction) {
          (_c = props.onClose) === null || _c === void 0 ? void 0 : _c.call(props);
        }
      })
    });
  }))))))));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_14__.renderToContainer)(props.getContainer, node);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/show.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/show.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modal */ "./node_modules/antd-mobile/es/components/modal/modal.js");



function show(props) {
  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_, ref) => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      setVisible(true);
    }, []);

    function handleClose() {
      var _a;

      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
      setVisible(false);
    }

    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      close: handleClose
    }));
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_modal__WEBPACK_IMPORTED_MODULE_1__.Modal, Object.assign({}, props, {
      visible: visible,
      onClose: handleClose,
      afterClose: () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
        unmount();
      }
    }));
  });
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, {
    ref: ref
  }));
  return {
    close: () => {
      var _a;

      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();
    }
  };
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/nav-bar/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/nav-bar/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _nav_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nav-bar.css */ "./node_modules/antd-mobile/es/components/nav-bar/nav-bar.css");
/* harmony import */ var _nav_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nav-bar */ "./node_modules/antd-mobile/es/components/nav-bar/nav-bar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_nav_bar__WEBPACK_IMPORTED_MODULE_1__.NavBar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/nav-bar/nav-bar.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/nav-bar/nav-bar.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NavBar": () => (/* binding */ NavBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/LeftOutline.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");





const classPrefix = `adm-nav-bar`;
const defaultProps = {
  back: '',
  backArrow: true
};
const NavBar = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    back,
    backArrow
  } = props;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-left`,
    role: 'button'
  }, back !== null && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-back`,
    onClick: props.onBack
  }, backArrow && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-back-arrow`
  }, backArrow === true ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__["default"], null) : backArrow), react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    "aria-hidden": 'true'
  }, back)), props.left), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-title`
  }, props.children), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-right`
  }, props.right)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/notice-bar/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/notice-bar/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _notice_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./notice-bar.css */ "./node_modules/antd-mobile/es/components/notice-bar/notice-bar.css");
/* harmony import */ var _notice_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notice-bar */ "./node_modules/antd-mobile/es/components/notice-bar/notice-bar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_notice_bar__WEBPACK_IMPORTED_MODULE_1__.NoticeBar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/notice-bar/notice-bar.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/notice-bar/notice-bar.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoticeBar": () => (/* binding */ NoticeBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/SoundOutline.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseOutline.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useTimeout/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-resize-effect */ "./node_modules/antd-mobile/es/utils/use-resize-effect.js");
/* harmony import */ var _utils_use_mutation_effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/use-mutation-effect */ "./node_modules/antd-mobile/es/utils/use-mutation-effect.js");








const classPrefix = `adm-notice-bar`;
const defaultProps = {
  color: 'default',
  delay: 2000,
  speed: 50
};
const NoticeBar = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const textRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const speed = props.speed;
  const delayLockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  const animatingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);

  function start() {
    if (delayLockRef.current) return;
    const container = containerRef.current;
    const text = textRef.current;
    if (!container || !text) return;

    if (container.offsetWidth >= text.offsetWidth) {
      animatingRef.current = false;
      text.style.removeProperty('transition-duration');
      text.style.removeProperty('transform');
      return;
    }

    if (animatingRef.current) return;
    const initial = !text.style.transform;
    text.style.transitionDuration = '0s';

    if (initial) {
      text.style.transform = 'translateX(0)';
    } else {
      text.style.transform = `translateX(${container.offsetWidth}px)`;
    }

    const distance = initial ? text.offsetWidth : container.offsetWidth + text.offsetWidth;
    animatingRef.current = true;
    text.style.transitionDuration = `${Math.round(distance / speed)}s`;
    text.style.transform = `translateX(-${text.offsetWidth}px)`;
  }

  (0,ahooks__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    delayLockRef.current = false;
    start();
  }, props.delay);
  (0,_utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_4__.useResizeEffect)(text => {
    start();
  }, containerRef);
  (0,_utils_use_mutation_effect__WEBPACK_IMPORTED_MODULE_5__.useMutationEffect)(() => {
    start();
  }, textRef, {
    subtree: true,
    childList: true,
    characterData: true
  });
  if (!visible) return null;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${props.color}`)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-left`
  }, 'icon' in props ? props.icon : react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_7__["default"], null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    ref: containerRef,
    className: `${classPrefix}-content`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    onTransitionEnd: () => {
      animatingRef.current = false;
      start();
    },
    ref: textRef,
    className: `${classPrefix}-content-inner`
  }, props.content)), (props.closeable || props.extra) && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    className: `${classPrefix}-right`
  }, props.extra, props.closeable && react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onClick: () => {
      var _a;

      setVisible(false);
      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/number-keyboard/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/number-keyboard/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _number_keyboard_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number-keyboard.css */ "./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.css");
/* harmony import */ var _number_keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./number-keyboard */ "./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_number_keyboard__WEBPACK_IMPORTED_MODULE_1__.NumberKeyboard);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NumberKeyboard": () => (/* binding */ NumberKeyboard)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/DownOutline.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/TextDeletionOutline.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_shuffle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/shuffle */ "./node_modules/antd-mobile/es/utils/shuffle.js");
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _safe_area__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../safe-area */ "./node_modules/antd-mobile/es/components/safe-area/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");









const classPrefix = 'adm-number-keyboard';
const defaultProps = {
  defaultVisible: false,
  randomOrder: false,
  showCloseButton: true,
  confirmText: null,
  closeOnConfirm: true,
  safeArea: true
};
const NumberKeyboard = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    visible,
    title,
    getContainer,
    confirmText,
    customKey,
    randomOrder,
    showCloseButton,
    onInput
  } = props;
  const keyboardRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const keys = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const defaultKeys = ['1', '2', '3', '4', '5', '6', '7', '8', '9'];
    const keyList = randomOrder ? (0,_utils_shuffle__WEBPACK_IMPORTED_MODULE_3__.shuffle)(defaultKeys) : defaultKeys;
    keyList.push('0');

    if (confirmText) {
      keyList.push(customKey || '');
    } else {
      keyList.splice(9, 0, customKey || '');
      keyList.push('BACKSPACE');
    }

    return keyList;
  }, [customKey, confirmText, randomOrder, randomOrder && visible]);
  const timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(-1);
  const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(-1);
  const onDelete = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    var _a;

    (_a = props.onDelete) === null || _a === void 0 ? void 0 : _a.call(props);
  });

  const onBackspacePressStart = () => {
    timeoutRef.current = window.setTimeout(() => {
      onDelete();
      intervalRef.current = window.setInterval(onDelete, 150);
    }, 700);
  };

  const onBackspacePressEnd = () => {
    clearTimeout(timeoutRef.current);
    clearInterval(intervalRef.current);
  }; // 点击键盘按键


  const onKeyPress = (e, key) => {
    var _a, _b;

    e.preventDefault();

    switch (key) {
      case 'BACKSPACE':
        onDelete === null || onDelete === void 0 ? void 0 : onDelete();
        break;

      case 'OK':
        (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props);

        if (props.closeOnConfirm) {
          (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
        }

        break;

      default:
        // 当 customKey 不存在时，点击该键不应该触发 onInput
        if (key !== '') onInput === null || onInput === void 0 ? void 0 : onInput(key);
        break;
    }
  }; // 渲染 title 和 close button


  const renderHeader = () => {
    if (!showCloseButton && !title) return null;
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-header`, {
        'with-title': !!title
      })
    }, title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-title`
    }, title), showCloseButton && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: `${classPrefix}-header-close-button`,
      onClick: () => {
        var _a;

        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
      },
      role: 'button',
      title: 'CLOSE'
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__["default"], null)));
  }; // 渲染基础键盘按键


  const renderKey = (key, index) => {
    const isNumberKey = /^\d$/.test(key);
    const className = classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-key`, {
      'number-key': isNumberKey,
      'sign-key': !isNumberKey && key,
      'mid-key': index === 9 && !!confirmText
    });
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: key,
      className: className,
      onTouchStart: () => {
        if (key === 'BACKSPACE') {
          onBackspacePressStart();
        }
      },
      onTouchEnd: e => {
        onKeyPress(e, key);

        if (key === 'BACKSPACE') {
          onBackspacePressEnd();
        }
      },
      onMouseUp: e => {
        onKeyPress(e, key);
      },
      title: key,
      role: 'button'
    }, key === 'BACKSPACE' ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_6__["default"], null) : key);
  };

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup__WEBPACK_IMPORTED_MODULE_7__["default"], {
    visible: visible,
    getContainer: getContainer,
    mask: false,
    afterClose: props.afterClose,
    afterShow: props.afterShow,
    className: `${classPrefix}-popup`,
    stopPropagation: props.stopPropagation
  }, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_8__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: keyboardRef,
    className: classPrefix,
    onMouseDown: e => {
      e.preventDefault();
    }
  }, renderHeader(), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-wrapper`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-main`, {
      'confirmed-style': !!confirmText
    })
  }, keys.map(renderKey)), !!confirmText && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-confirm`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-key extra-key bs-key`,
    onTouchStart: () => {
      onBackspacePressStart();
    },
    onTouchEnd: e => {
      onKeyPress(e, 'BACKSPACE');
      onBackspacePressEnd();
    },
    onMouseUp: e => onKeyPress(e, 'BACKSPACE'),
    title: 'BACKSPACE',
    role: 'button'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_6__["default"], null)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-key extra-key ok-key`,
    onTouchEnd: e => onKeyPress(e, 'OK'),
    onMouseUp: e => onKeyPress(e, 'OK'),
    role: 'button'
  }, confirmText))), props.safeArea && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-footer`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_safe_area__WEBPACK_IMPORTED_MODULE_9__["default"], {
    position: 'bottom'
  })))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/page-indicator/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/page-indicator/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _page_indicator_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-indicator.css */ "./node_modules/antd-mobile/es/components/page-indicator/page-indicator.css");
/* harmony import */ var _page_indicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page-indicator */ "./node_modules/antd-mobile/es/components/page-indicator/page-indicator.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_page_indicator__WEBPACK_IMPORTED_MODULE_1__.PageIndicator);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/page-indicator/page-indicator.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/page-indicator/page-indicator.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageIndicator": () => (/* binding */ PageIndicator)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");




const classPrefix = `adm-page-indicator`;
const defaultProps = {
  color: 'primary',
  direction: 'horizontal'
};
const PageIndicator = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const dots = [];

  for (let i = 0; i < props.total; i++) {
    dots.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: i,
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-dot`, {
        [`${classPrefix}-dot-active`]: props.current === i
      })
    }));
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${props.direction}`, `${classPrefix}-color-${props.color}`)
  }, dots));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/passcode-input/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/passcode-input/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _passcode_input_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./passcode-input.css */ "./node_modules/antd-mobile/es/components/passcode-input/passcode-input.css");
/* harmony import */ var _passcode_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./passcode-input */ "./node_modules/antd-mobile/es/components/passcode-input/passcode-input.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_passcode_input__WEBPACK_IMPORTED_MODULE_1__.PasscodeInput);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/passcode-input/passcode-input.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/passcode-input/passcode-input.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasscodeInput": () => (/* binding */ PasscodeInput)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");






const classPrefix = 'adm-passcode-input';
const defaultProps = {
  defaultValue: '',
  length: 6,
  plain: false,
  error: false,
  seperated: false,
  caret: true
};
const PasscodeInput = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p); // 防止 length 值不合法

  const cellLength = props.length > 0 && props.length < Infinity ? Math.floor(props.length) : defaultProps.length;
  const [focused, setFocused] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(props);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const nativeInputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    var _a;

    if (value.length >= cellLength) {
      (_a = props.onFill) === null || _a === void 0 ? void 0 : _a.call(props, value);
    }
  }, [props.onFill, value, cellLength]);

  const onFocus = () => {
    var _a, _b;

    if (!props.keyboard) {
      (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    }

    setFocused(true);
    (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props);
  };

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!focused) return;
    const timeout = window.setTimeout(() => {
      var _a;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView({
        block: 'center',
        inline: 'center',
        behavior: 'smooth'
      });
    }, 100);
    return () => {
      window.clearTimeout(timeout);
    };
  }, [focused]);

  const onBlur = () => {
    var _a;

    setFocused(false);
    (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props);
  };

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    focus: () => {
      var _a;

      return (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    },
    blur: () => {
      var _a, _b;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.blur();
      (_b = nativeInputRef.current) === null || _b === void 0 ? void 0 : _b.blur();
    }
  }));

  const renderCells = () => {
    const cells = [];
    const chars = value.split('');
    const caretIndex = chars.length; // 光标位置index等于当前文字长度

    const focusedIndex = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_4__.bound)(chars.length, 0, cellLength - 1);

    for (let i = 0; i < cellLength; i++) {
      cells.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-cell`, {
          caret: props.caret && caretIndex === i && focused,
          focused: focusedIndex === i && focused,
          dot: !props.plain && chars[i]
        }),
        key: i
      }, chars[i] && props.plain ? chars[i] : ''));
    }

    return cells;
  };

  const cls = classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
    focused: focused,
    error: props.error,
    seperated: props.seperated
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: rootRef,
    tabIndex: 0,
    className: cls,
    onFocus: onFocus,
    onBlur: onBlur
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-cell-container`
  }, renderCells()), react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {
    ref: nativeInputRef,
    className: `${classPrefix}-native-input`,
    value: value,
    type: 'text',
    pattern: '[0-9]*',
    inputMode: 'numeric',
    onChange: e => {
      setValue(e.target.value.slice(0, props.length));
    }
  }))), props.keyboard && react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(props.keyboard, {
    visible: focused,
    onInput: v => {
      if (value.length < cellLength) {
        setValue((value + v).slice(0, props.length));
      }
    },
    onDelete: () => {
      setValue(value.slice(0, -1));
    },
    onClose: () => {
      var _a;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  }));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _picker_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./picker-view */ "./node_modules/antd-mobile/es/components/picker-view/picker-view.js");
/* harmony import */ var _picker_view_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker-view.css */ "./node_modules/antd-mobile/es/components/picker-view/picker-view.css");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_picker_view__WEBPACK_IMPORTED_MODULE_1__.PickerView);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/picker-view.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/picker-view.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PickerView": () => (/* binding */ PickerView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _wheel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./wheel */ "./node_modules/antd-mobile/es/components/picker-view/wheel.js");
/* harmony import */ var _use_columns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-columns */ "./node_modules/antd-mobile/es/components/picker-view/use-columns.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _use_picker_value_extend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-picker-value-extend */ "./node_modules/antd-mobile/es/components/picker-view/use-picker-value-extend.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useDebounceEffect/index.js");







const classPrefix = `adm-picker-view`;
const defaultProps = {
  defaultValue: []
};
const PickerView = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const [innerValue, setInnerValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.value === undefined ? props.defaultValue : props.value);
  (0,ahooks__WEBPACK_IMPORTED_MODULE_2__["default"])(() => {
    var _a;

    if (props.value === innerValue) return;
    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, innerValue, generateValueExtend(innerValue));
  }, [innerValue], {
    wait: 0,
    leading: false,
    trailing: true
  }); // Sync `value` to `innerValue`

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (props.value === undefined) return; // Uncontrolled mode

    if (props.value === innerValue) return;
    setInnerValue(props.value);
  }, [props.value]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (props.value === innerValue) return;
    const timeout = window.setTimeout(() => {
      if (props.value !== undefined && props.value !== innerValue) {
        setInnerValue(props.value);
      }
    }, 1000);
    return () => {
      window.clearTimeout(timeout);
    };
  }, [props.value, innerValue]);
  const columns = (0,_use_columns__WEBPACK_IMPORTED_MODULE_3__.useColumns)(props.columns, innerValue);
  const generateValueExtend = (0,_use_picker_value_extend__WEBPACK_IMPORTED_MODULE_4__.usePickerValueExtend)(columns);
  const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((val, index) => {
    setInnerValue(prev => {
      const next = [...prev];
      next[index] = val;
      return next;
    });
  }, []);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}`
  }, columns.map((column, index) => react__WEBPACK_IMPORTED_MODULE_0__.createElement(_wheel__WEBPACK_IMPORTED_MODULE_6__.Wheel, {
    key: index,
    index: index,
    column: column,
    value: innerValue[index],
    onSelect: handleSelect
  })), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-mask`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-mask-top`
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-mask-middle`
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-mask-bottom`
  }))));
});
PickerView.displayName = 'PickerView';

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/use-columns.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/use-columns.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useColumns": () => (/* binding */ useColumns)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

function useColumns(rawColumns, value) {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const columns = typeof rawColumns === 'function' ? rawColumns(value) : rawColumns;
    return columns.map(column => column.map(item => typeof item === 'string' ? {
      label: item,
      value: item
    } : item));
  }, [rawColumns, value]);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/use-picker-value-extend.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/use-picker-value-extend.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "usePickerValueExtend": () => (/* binding */ usePickerValueExtend)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_1__);


function usePickerValueExtend(columns) {
  const generateItems = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default()(val => {
      return val.map((v, index) => {
        var _a;

        const column = columns[index];
        if (!column) return null;
        return (_a = column.find(item => item.value === v)) !== null && _a !== void 0 ? _a : null;
      });
    }, val => JSON.stringify(val));
  }, [columns]);

  function generateValueExtend(val) {
    return {
      get items() {
        return generateItems(val);
      }

    };
  }

  return generateValueExtend;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/wheel.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/wheel.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Wheel": () => (/* binding */ Wheel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _utils_convert_px__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/convert-px */ "./node_modules/antd-mobile/es/utils/convert-px.js");
/* harmony import */ var _utils_rubberband__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/rubberband */ "./node_modules/antd-mobile/es/utils/rubberband.js");
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__);







const classPrefix = `adm-picker-view`;
const Wheel = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(props => {
  const itemHeight = (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_3__.convertPx)(34);
  const {
    value,
    column
  } = props;

  function onSelect(val) {
    props.onSelect(val, props.index);
  }

  const [{
    y
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    from: {
      y: 0
    },
    config: {
      tension: 400,
      mass: 0.8
    }
  }));
  const draggingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (draggingRef.current) return;
    if (!value) return;
    const targetIndex = column.findIndex(item => item.value === value);
    if (targetIndex < 0) return;
    const finalPosition = targetIndex * -itemHeight;
    api.start({
      y: finalPosition,
      immediate: y.goal !== finalPosition
    });
  }, [value, column]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (column.length === 0) {
      if (value !== null) {
        onSelect(null);
      }
    } else {
      if (!column.some(item => item.value === value)) {
        const firstItem = column[0];
        onSelect(firstItem.value);
      }
    }
  }, [column, value]);

  function scrollSelect(index) {
    const finalPosition = index * -itemHeight;
    api.start({
      y: finalPosition
    });
    const item = column[index];
    if (!item) return;
    onSelect(item.value);
  }

  const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_4__.useDrag)(state => {
    draggingRef.current = true;
    const min = -((column.length - 1) * itemHeight);
    const max = 0;

    if (state.last) {
      draggingRef.current = false;
      const position = state.offset[1] + state.velocity[1] * state.direction[1] * 50;
      const targetIndex = min < max ? -Math.round((0,_utils_bound__WEBPACK_IMPORTED_MODULE_5__.bound)(position, min, max) / itemHeight) : 0;
      scrollSelect(targetIndex);
    } else {
      const position = state.offset[1];
      api.start({
        y: (0,_utils_rubberband__WEBPACK_IMPORTED_MODULE_6__.rubberbandIfOutOfBounds)(position, min, max, itemHeight * 50, 0.2)
      });
    }
  }, {
    axis: 'y',
    from: () => [0, y.get()],
    filterTaps: true,
    pointer: {
      touch: true
    }
  });
  let selectedIndex = null;

  function renderAccessible() {
    if (selectedIndex === null) {
      return null;
    }

    const current = column[selectedIndex];
    const previousIndex = selectedIndex - 1;
    const nextIndex = selectedIndex + 1;
    const previous = column[previousIndex];
    const next = column[nextIndex];
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: 'adm-picker-view-column-accessible'
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: 'adm-picker-view-column-accessible-current',
      role: 'button',
      "aria-label": current ? `当前选择的是：${current.label}` : '当前未选择'
    }, "-"), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, previous && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: 'adm-picker-view-column-accessible-button',
      onClick: () => {
        scrollSelect(previousIndex);
      },
      role: 'button',
      "aria-label": `选择上一项：${previous.label}`
    }, "-")), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, next && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: 'adm-picker-view-column-accessible-button',
      onClick: () => {
        scrollSelect(nextIndex);
      },
      role: 'button',
      "aria-label": `选择下一项：${next.label}`
    }, "-")));
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", Object.assign({
    className: `${classPrefix}-column`
  }, bind()), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    style: {
      y
    },
    className: `${classPrefix}-column-wheel`,
    "aria-hidden": true
  }, column.map((item, index) => {
    const selected = props.value === item.value;
    if (selected) selectedIndex = index;

    function handleClick() {
      draggingRef.current = false;
      scrollSelect(index);
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: item.value,
      "data-selected": item.value === value,
      className: `${classPrefix}-column-item`,
      onClick: handleClick,
      "aria-hidden": !selected,
      "aria-label": selected ? 'active' : ''
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-column-item-label`
    }, item.label));
  })), renderAccessible());
}, (prev, next) => {
  if (prev.index !== next.index) return false;
  if (prev.value !== next.value) return false;
  if (prev.onSelect !== next.onSelect) return false;

  if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(prev.column, next.column)) {
    return false;
  }

  return true;
});
Wheel.displayName = 'Wheel';

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _picker_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker.css */ "./node_modules/antd-mobile/es/components/picker/picker.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./picker */ "./node_modules/antd-mobile/es/components/picker/picker.js");
/* harmony import */ var _prompt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prompt */ "./node_modules/antd-mobile/es/components/picker/prompt.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_picker__WEBPACK_IMPORTED_MODULE_2__.Picker, {
  prompt: _prompt__WEBPACK_IMPORTED_MODULE_3__.prompt
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker/picker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker/picker.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Picker": () => (/* binding */ Picker)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _picker_view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../picker-view */ "./node_modules/antd-mobile/es/components/picker-view/index.js");
/* harmony import */ var _picker_view_use_columns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../picker-view/use-columns */ "./node_modules/antd-mobile/es/components/picker-view/use-columns.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");
/* harmony import */ var _picker_view_use_picker_value_extend__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../picker-view/use-picker-value-extend */ "./node_modules/antd-mobile/es/components/picker-view/use-picker-value-extend.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");
/* harmony import */ var _safe_area__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../safe-area */ "./node_modules/antd-mobile/es/components/safe-area/index.js");











const classPrefix = `adm-picker`;
const defaultProps = {
  defaultValue: []
};
const Picker = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  var _a;

  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_1__.useConfig)();
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, {
    confirmText: locale.common.confirm,
    cancelText: locale.common.cancel
  }, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(Object.assign(Object.assign({}, props), {
    onChange: val => {
      var _a;

      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));
    }
  })); // TODO: columns generated twice in Picker and PickerView, which can be improved

  const columns = (0,_picker_view_use_columns__WEBPACK_IMPORTED_MODULE_4__.useColumns)(props.columns, value);
  const generateValueExtend = (0,_picker_view_use_picker_value_extend__WEBPACK_IMPORTED_MODULE_5__.usePickerValueExtend)(columns);
  const [innerValue, setInnerValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (innerValue !== value) {
      setInnerValue(value);
    }
  }, [props.visible]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props.visible) {
      setInnerValue(value);
    }
  }, [value]);
  const onChange = (0,ahooks__WEBPACK_IMPORTED_MODULE_6__["default"])((val, ext) => {
    var _a;

    setInnerValue(val);

    if (props.visible) {
      (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);
    }
  });
  const pickerElement = (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-header-button`,
    onClick: () => {
      var _a, _b;

      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);
      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
    }
  }, props.cancelText), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header-title`
  }, props.title), react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {
    className: `${classPrefix}-header-button`,
    onClick: () => {
      var _a;

      setValue(innerValue);
      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }, props.confirmText)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-body`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker_view__WEBPACK_IMPORTED_MODULE_8__["default"], {
    columns: props.columns,
    value: innerValue,
    onChange: onChange
  }))));
  const popupElement = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup__WEBPACK_IMPORTED_MODULE_9__["default"], {
    visible: props.visible,
    position: 'bottom',
    onMaskClick: () => {
      var _a, _b;

      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);
      (_b = props.onClose) === null || _b === void 0 ? void 0 : _b.call(props);
    },
    getContainer: props.getContainer,
    destroyOnClose: true,
    afterShow: props.afterShow,
    afterClose: props.afterClose,
    onClick: props.onClick,
    forceRender: true,
    stopPropagation: props.stopPropagation
  }, pickerElement, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_safe_area__WEBPACK_IMPORTED_MODULE_10__["default"], {
    position: 'bottom'
  }));
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items));
});
Picker.displayName = 'Picker';

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker/prompt.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker/prompt.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "prompt": () => (/* binding */ prompt)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/render-to-body */ "./node_modules/antd-mobile/es/utils/render-to-body.js");
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./picker */ "./node_modules/antd-mobile/es/components/picker/picker.js");



function prompt(props) {
  return new Promise(resolve => {
    const Wrapper = () => {
      const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
      (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setVisible(true);
      }, []);
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_picker__WEBPACK_IMPORTED_MODULE_1__.Picker, Object.assign({}, props, {
        visible: visible,
        onConfirm: (val, extend) => {
          var _a;

          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);
          resolve(val);
        },
        onClose: () => {
          var _a;

          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);
          setVisible(false);
          resolve(null);
        },
        afterClose: () => {
          var _a;

          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
          unmount();
        }
      }));
    };

    const unmount = (0,_utils_render_to_body__WEBPACK_IMPORTED_MODULE_2__.renderToBody)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, null));
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popover/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popover/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _popover_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./popover.css */ "./node_modules/antd-mobile/es/components/popover/popover.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _pop_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pop-menu */ "./node_modules/antd-mobile/es/components/popover/pop-menu.js");
/* harmony import */ var _popover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./popover */ "./node_modules/antd-mobile/es/components/popover/popover.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_popover__WEBPACK_IMPORTED_MODULE_2__.Popover, {
  Menu: _pop_menu__WEBPACK_IMPORTED_MODULE_3__.PopMenu
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popover/pop-menu.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popover/pop-menu.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PopMenu": () => (/* binding */ PopMenu)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _popover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./popover */ "./node_modules/antd-mobile/es/components/popover/popover.js");




const classPrefix = `adm-popover`;
const PopMenu = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref) => {
  const innerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => innerRef.current, []);
  const onClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    var _a;

    const {
      onAction
    } = props;

    if (onAction) {
      onAction(e);
    }

    (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.hide();
  }, [props.onAction]);
  const overlay = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (props.actions || []).map((ele, index) => {
      var _a;

      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-inner-menu`, {
          [`${classPrefix}-inner-menu-with-icon`]: !!ele.icon
        }),
        key: (_a = ele.key) !== null && _a !== void 0 ? _a : index
      }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
        disabled: ele.disabled,
        onClick: () => {
          var _a;

          if (!ele.disabled) {
            onClick(ele);
            (_a = ele.onClick) === null || _a === void 0 ? void 0 : _a.call(ele);
          }
        },
        fill: 'none',
        block: true
      }, ele.icon && react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
        className: `${classPrefix}-inner-menu-icon`
      }, ele.icon), ele.text));
    }));
  }, [props.actions, onClick]);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, Object.assign({
    ref: innerRef
  }, props, {
    overlayClassName: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-menu`, props.overlayClassName),
    content: overlay
  }), props.children);
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popover/popover.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popover/popover.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Popover": () => (/* binding */ Popover)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var rc_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rc-tooltip */ "./node_modules/rc-tooltip/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/with-stop-propagation */ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js");






const classPrefix = `adm-popover`;
const enterClassName = 'entering';
const leaveClassName = 'leaving';
const defaultProps = {
  defaultVisible: false,
  stopPropagation: ['click']
};
const Popover = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const {
    mode = 'light'
  } = props;
  const [visible, setVisible] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.visible,
    defaultValue: props.defaultVisible,
    onChange: props.onVisibleChange
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return {
      show: () => setVisible(true),
      hide: () => setVisible(false),
      visible
    };
  }, [visible]);
  return (0,_utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_5__.withStopPropagation)(props.stopPropagation, react__WEBPACK_IMPORTED_MODULE_0__.createElement(rc_tooltip__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({}, props, {
    overlayClassName: classnames__WEBPACK_IMPORTED_MODULE_2___default()(`${classPrefix}-${mode}`, props.overlayClassName),
    destroyTooltipOnHide: props.destroyOnHide,
    prefixCls: classPrefix,
    getTooltipContainer: props.getContainer || (() => document.body),
    visible: visible,
    arrowContent: react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: `${classPrefix}-arrow-content`
    }),
    onVisibleChange: setVisible,
    trigger: (_a = props.trigger) !== null && _a !== void 0 ? _a : [],
    motion: {
      motionName: {
        appear: enterClassName,
        appearActive: enterClassName,
        enter: enterClassName,
        enterActive: enterClassName,
        leaveActive: leaveClassName,
        leave: leaveClassName
      },
      motionDeadline: 200
    },
    overlay: react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-inner-content`
    }, props.content)
  }), props.children));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popup/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popup/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _popup_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./popup.css */ "./node_modules/antd-mobile/es/components/popup/popup.css");
/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./popup */ "./node_modules/antd-mobile/es/components/popup/popup.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_popup__WEBPACK_IMPORTED_MODULE_1__.Popup);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popup/popup.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popup/popup.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Popup": () => (/* binding */ Popup)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUnmountedRef/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _utils_use_lock_scroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-lock-scroll */ "./node_modules/antd-mobile/es/utils/use-lock-scroll.js");
/* harmony import */ var _utils_render_to_container__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/render-to-container */ "./node_modules/antd-mobile/es/utils/render-to-container.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_use_should_render__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/use-should-render */ "./node_modules/antd-mobile/es/utils/use-should-render.js");
/* harmony import */ var _utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/with-stop-propagation */ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js");











const classPrefix = `adm-popup`;
const defaultProps = {
  position: 'bottom',
  visible: false,
  getContainer: () => document.body,
  mask: true,
  stopPropagation: ['click']
};
const Popup = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const bodyCls = classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-body`, props.bodyClassName, `${classPrefix}-body-position-${props.position}`);
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.visible);
  (0,_utils_use_lock_scroll__WEBPACK_IMPORTED_MODULE_4__.useLockScroll)(ref, active);
  const shouldRender = (0,_utils_use_should_render__WEBPACK_IMPORTED_MODULE_5__.useShouldRender)(active, props.forceRender, props.destroyOnClose);
  const unmountedRef = (0,ahooks__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const {
    percent
  } = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)({
    percent: props.visible ? 0 : 100,
    config: {
      precision: 0.1,
      mass: 0.4,
      tension: 300,
      friction: 30
    },
    onStart: () => {
      setActive(true);
    },
    onRest: () => {
      var _a, _b;

      if (unmountedRef.current) return;
      setActive(props.visible);

      if (props.visible) {
        (_a = props.afterShow) === null || _a === void 0 ? void 0 : _a.call(props);
      } else {
        (_b = props.afterClose) === null || _b === void 0 ? void 0 : _b.call(props);
      }
    }
  });
  const node = (0,_utils_with_stop_propagation__WEBPACK_IMPORTED_MODULE_7__.withStopPropagation)(props.stopPropagation, (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_8__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classPrefix,
    onClick: props.onClick,
    style: {
      display: active ? 'unset' : 'none'
    }
  }, props.mask && react__WEBPACK_IMPORTED_MODULE_1__.createElement(_mask__WEBPACK_IMPORTED_MODULE_9__["default"], {
    visible: props.visible,
    onMaskClick: props.onMaskClick,
    className: props.maskClassName,
    style: props.maskStyle,
    disableBodyScroll: false,
    stopPropagation: props.stopPropagation
  }), react__WEBPACK_IMPORTED_MODULE_1__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: bodyCls,
    style: Object.assign(Object.assign({}, props.bodyStyle), {
      transform: percent.to(v => {
        if (props.position === 'bottom') {
          return `translate(0, ${v}%)`;
        }

        if (props.position === 'top') {
          return `translate(0, -${v}%)`;
        }

        if (props.position === 'left') {
          return `translate(-${v}%, 0)`;
        }

        if (props.position === 'right') {
          return `translate(${v}%, 0)`;
        }

        return 'none';
      })
    }),
    ref: ref
  }, shouldRender && props.children))));
  return (0,_utils_render_to_container__WEBPACK_IMPORTED_MODULE_10__.renderToContainer)(props.getContainer, node);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-bar/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-bar/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _progress_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./progress-bar.css */ "./node_modules/antd-mobile/es/components/progress-bar/progress-bar.css");
/* harmony import */ var _progress_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./progress-bar */ "./node_modules/antd-mobile/es/components/progress-bar/progress-bar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_progress_bar__WEBPACK_IMPORTED_MODULE_1__.ProgressBar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-bar/progress-bar.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-bar/progress-bar.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProgressBar": () => (/* binding */ ProgressBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");



const classPrefix = `adm-progress-bar`;
const ProgressBar = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)({
    percent: 0
  }, p);
  const fillStyle = {
    width: `${props.percent}%`
  };
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-trail`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-fill`,
    style: fillStyle
  }))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-circle/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-circle/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _progress_circle_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./progress-circle.css */ "./node_modules/antd-mobile/es/components/progress-circle/progress-circle.css");
/* harmony import */ var _progress_circle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./progress-circle */ "./node_modules/antd-mobile/es/components/progress-circle/progress-circle.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_progress_circle__WEBPACK_IMPORTED_MODULE_1__.ProgressCircle);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-circle/progress-circle.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-circle/progress-circle.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProgressCircle": () => (/* binding */ ProgressCircle)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");



const classPrefix = `adm-progress-circle`;
const ProgressCircle = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)({
    percent: 0,
    strokeColor: '#1677FF'
  }, p);
  const style = {
    '--percent': props.percent.toString()
  };
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}`,
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    className: `${classPrefix}-svg`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    className: `${classPrefix}-track`,
    fill: 'transparent'
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    className: `${classPrefix}-fill`,
    fill: 'transparent'
  })), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-info`
  }, props.children))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/pull-to-refresh/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/pull-to-refresh/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _pull_to_refresh_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pull-to-refresh.css */ "./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.css");
/* harmony import */ var _pull_to_refresh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pull-to-refresh */ "./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_pull_to_refresh__WEBPACK_IMPORTED_MODULE_1__.PullToRefresh);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultProps": () => (/* binding */ defaultProps),
/* harmony export */   "PullToRefresh": () => (/* binding */ PullToRefresh)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _utils_get_scroll_parent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/get-scroll-parent */ "./node_modules/antd-mobile/es/utils/get-scroll-parent.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_supports_passive__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/supports-passive */ "./node_modules/antd-mobile/es/utils/supports-passive.js");
/* harmony import */ var _utils_convert_px__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/convert-px */ "./node_modules/antd-mobile/es/utils/convert-px.js");
/* harmony import */ var _utils_rubberband__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/rubberband */ "./node_modules/antd-mobile/es/utils/rubberband.js");
/* harmony import */ var _utils_sleep__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/sleep */ "./node_modules/antd-mobile/es/utils/sleep.js");










const classPrefix = `adm-pull-to-refresh`;
const defaultProps = {
  pullingText: '下拉刷新',
  canReleaseText: '释放立即刷新',
  refreshingText: '加载中……',
  completeText: '刷新成功',
  completeDelay: 500,
  disabled: false,
  onRefresh: () => {}
};
const PullToRefresh = p => {
  var _a, _b;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const headHeight = (_a = props.headHeight) !== null && _a !== void 0 ? _a : (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_3__.convertPx)(40);
  const threshold = (_b = props.threshold) !== null && _b !== void 0 ? _b : (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_3__.convertPx)(60);
  const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('pulling');
  const [springStyles, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.useSpring)(() => ({
    from: {
      height: 0
    },
    config: {
      tension: 300,
      friction: 30,
      clamp: true
    }
  }));
  const elementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const pullingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);

  function doRefresh() {
    return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
      api.start({
        height: headHeight
      });
      setStatus('refreshing');

      try {
        yield props.onRefresh();
        setStatus('complete');
      } catch (e) {
        api.start({
          to: next => (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
            yield next({
              height: 0
            });
            setStatus('pulling');
          })
        });
        throw e;
      }

      if (props.completeDelay > 0) {
        yield (0,_utils_sleep__WEBPACK_IMPORTED_MODULE_5__.sleep)(props.completeDelay);
      }

      api.start({
        to: next => (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
          yield next({
            height: 0
          });
          setStatus('pulling');
        })
      });
    });
  }

  (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_6__.useDrag)(state => {
    if (status === 'refreshing' || status === 'complete') return;
    const {
      event
    } = state;

    if (state.last) {
      pullingRef.current = false;

      if (status === 'canRelease') {
        doRefresh();
      } else {
        api.start({
          height: 0
        });
      }

      return;
    }

    const [, y] = state.movement;

    if (state.first) {
      const element = elementRef.current;
      if (!element) return;
      const scrollParent = (0,_utils_get_scroll_parent__WEBPACK_IMPORTED_MODULE_7__.getScrollParent)(element);
      if (!scrollParent) return;
      const top = 'scrollTop' in scrollParent ? scrollParent.scrollTop : scrollParent.pageYOffset;

      if (top <= 0 && y > 0) {
        pullingRef.current = true;
      }
    }

    if (!pullingRef.current) return;

    if (event.cancelable) {
      event.preventDefault();
    }

    event.stopPropagation();
    const height = Math.max((0,_utils_rubberband__WEBPACK_IMPORTED_MODULE_8__.rubberbandIfOutOfBounds)(y, 0, 0, headHeight * 5, 0.5), 0);
    api.start({
      height
    });
    setStatus(height > threshold ? 'canRelease' : 'pulling');
  }, {
    pointer: {
      touch: true
    },
    axis: 'y',
    target: elementRef,
    enabled: !props.disabled,
    eventOptions: _utils_supports_passive__WEBPACK_IMPORTED_MODULE_9__.supportsPassive ? {
      passive: false
    } : false
  });

  const renderStatusText = () => {
    var _a;

    if (props.renderText) {
      return (_a = props.renderText) === null || _a === void 0 ? void 0 : _a.call(props, status);
    }

    if (status === 'pulling') return props.pullingText;
    if (status === 'canRelease') return props.canReleaseText;
    if (status === 'refreshing') return props.refreshingText;
    if (status === 'complete') return props.completeText;
  };

  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.animated.div, {
    ref: elementRef,
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.animated.div, {
    style: springStyles,
    className: `${classPrefix}-head`
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-head-content`,
    style: {
      height: headHeight
    }
  }, renderStatusText())), react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/radio/group-context.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/radio/group-context.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RadioGroupContext": () => (/* binding */ RadioGroupContext)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const RadioGroupContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/radio/group.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/radio/group.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Group": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _group_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./group-context */ "./node_modules/antd-mobile/es/components/radio/group-context.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");




const defaultProps = {
  disabled: false,
  defaultValue: null
};
const Group = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__.usePropsValue)({
    value: props.value,
    defaultValue: props.defaultValue,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_group_context__WEBPACK_IMPORTED_MODULE_3__.RadioGroupContext.Provider // TODO: 性能优化
  , {
    // TODO: 性能优化
    value: {
      value: value === null ? [] : [value],
      check: v => {
        setValue(v);
      },
      uncheck: () => {},
      disabled: props.disabled
    }
  }, props.children);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/radio/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/radio/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _radio_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./radio.css */ "./node_modules/antd-mobile/es/components/radio/radio.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./group */ "./node_modules/antd-mobile/es/components/radio/group.js");
/* harmony import */ var _radio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./radio */ "./node_modules/antd-mobile/es/components/radio/radio.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_radio__WEBPACK_IMPORTED_MODULE_2__.Radio, {
  Group: _group__WEBPACK_IMPORTED_MODULE_3__.Group
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/radio/radio.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/radio/radio.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Radio": () => (/* binding */ Radio)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _group_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./group-context */ "./node_modules/antd-mobile/es/components/radio/group-context.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _checkbox_check_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../checkbox/check-icon */ "./node_modules/antd-mobile/es/components/checkbox/check-icon.js");







const classPrefix = `adm-radio`;
const defaultProps = {
  defaultChecked: false
};
const Radio = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const groupContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_group_context__WEBPACK_IMPORTED_MODULE_3__.RadioGroupContext);
  let [checked, setChecked] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.checked,
    defaultValue: props.defaultChecked,
    onChange: props.onChange
  });
  let disabled = props.disabled;
  const {
    value
  } = props;

  if (groupContext && value !== undefined) {
    checked = groupContext.value.includes(value);

    setChecked = checked => {
      var _a;

      if (checked) {
        groupContext.check(value);
      } else {
        groupContext.uncheck(value);
      }

      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);
    };

    disabled = disabled || groupContext.disabled;
  }

  const renderIcon = () => {
    if (props.icon) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-custom-icon`
      }, props.icon(checked));
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-icon`
    }, checked && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_checkbox_check_icon__WEBPACK_IMPORTED_MODULE_5__.CheckIcon, {
      className: `${classPrefix}-icon-checked`
    }));
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, props.className, {
      [`${classPrefix}-checked`]: checked,
      [`${classPrefix}-disabled`]: disabled,
      [`${classPrefix}-block`]: props.block
    }),
    style: props.style
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {
    type: 'radio',
    checked: checked,
    onChange: e => {
      setChecked(e.target.checked);
    },
    onClick: e => {
      e.stopPropagation();
      e.nativeEvent.stopImmediatePropagation();
    },
    disabled: disabled,
    id: props.id
  }), renderIcon(), props.children && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, props.children)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/rate/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/rate/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rate_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rate.css */ "./node_modules/antd-mobile/es/components/rate/rate.css");
/* harmony import */ var _rate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rate */ "./node_modules/antd-mobile/es/components/rate/rate.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_rate__WEBPACK_IMPORTED_MODULE_1__.Rate);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/rate/rate.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/rate/rate.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Rate": () => (/* binding */ Rate)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/StarFill.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");






const classPrefix = `adm-rate`;
const defaultProps = {
  count: 5,
  allowHalf: false,
  character: react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__["default"], null),
  defaultValue: 0,
  readOnly: false,
  allowClear: true
};
const Rate = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)(props);
  const starList = Array(props.count).fill(null);

  function renderStar(v, half) {
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-star`, {
        [`${classPrefix}-star-active`]: value >= v,
        [`${classPrefix}-star-half`]: half,
        [`${classPrefix}-star-readonly`]: props.readOnly
      }),
      onClick: () => {
        if (props.readOnly) return;

        if (props.allowClear && value === v) {
          setValue(0);
        } else {
          setValue(v);
        }
      }
    }, props.character);
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, starList.map((_, i) => react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: i,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-box`)
  }, props.allowHalf && renderStar(i + 0.5, true), renderStar(i + 1, false)))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/result/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/result/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _result_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./result.css */ "./node_modules/antd-mobile/es/components/result/result.css");
/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./result */ "./node_modules/antd-mobile/es/components/result/result.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_result__WEBPACK_IMPORTED_MODULE_1__.Result);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/result/result.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/result/result.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Result": () => (/* binding */ Result)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CheckCircleFill.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseCircleFill.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/InformationCircleFill.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/ClockCircleFill.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/ExclamationCircleFill.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");




const classPrefix = `adm-result`;
const iconRecord = {
  success: antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__["default"],
  error: antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__["default"],
  info: antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__["default"],
  waiting: antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__["default"],
  warning: antd_mobile_icons__WEBPACK_IMPORTED_MODULE_6__["default"]
};
const Result = props => {
  const {
    status,
    title,
    description,
    icon
  } = props;
  if (!status) return null;
  const resultIcon = icon || react__WEBPACK_IMPORTED_MODULE_0__.createElement(iconRecord[status]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${status}`)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-icon`
  }, resultIcon), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-title`
  }, title), description ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description`
  }, description) : null));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/safe-area/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/safe-area/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _safe_area_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./safe-area.css */ "./node_modules/antd-mobile/es/components/safe-area/safe-area.css");
/* harmony import */ var _safe_area__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./safe-area */ "./node_modules/antd-mobile/es/components/safe-area/safe-area.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_safe_area__WEBPACK_IMPORTED_MODULE_1__.SafeArea);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/safe-area/safe-area.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/safe-area/safe-area.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SafeArea": () => (/* binding */ SafeArea)
/* harmony export */ });
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);



const classPrefix = 'adm-safe-area';
const SafeArea = props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-position-${props.position}`)
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/scroll-mask/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/scroll-mask/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _scroll_mask_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scroll-mask.css */ "./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.css");
/* harmony import */ var _scroll_mask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scroll-mask */ "./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_scroll_mask__WEBPACK_IMPORTED_MODULE_1__.ScrollMask);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScrollMask": () => (/* binding */ ScrollMask)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useThrottleFn/index.js");




const classPrefix = `adm-scroll-mask`;
const ScrollMask = props => {
  const maskRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [{
    leftMaskOpacity,
    rightMaskOpacity
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
    leftMaskOpacity: 0,
    rightMaskOpacity: 0,
    config: {
      clamp: true
    }
  }));
  const {
    run: updateMask
  } = (0,ahooks__WEBPACK_IMPORTED_MODULE_3__["default"])((immediate = false) => {
    const mask = maskRef.current;
    if (!mask) return;
    const scrollEl = props.scrollTrackRef.current;
    if (!scrollEl) return;
    const scrollLeft = scrollEl.scrollLeft;
    const showLeftMask = scrollLeft > 0;
    const showRightMask = scrollLeft + scrollEl.offsetWidth < scrollEl.scrollWidth;
    api.start({
      leftMaskOpacity: showLeftMask ? 1 : 0,
      rightMaskOpacity: showRightMask ? 1 : 0,
      immediate
    });
  }, {
    wait: 100,
    trailing: true,
    leading: true
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    updateMask(true);
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const scrollEl = props.scrollTrackRef.current;
    if (!scrollEl) return;
    scrollEl.addEventListener('scroll', updateMask);
    return () => scrollEl.removeEventListener('scroll', updateMask);
  }, []);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    ref: maskRef,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-left`),
    style: {
      opacity: leftMaskOpacity
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-right`),
    style: {
      opacity: rightMaskOpacity
    }
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/search-bar/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/search-bar/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _search_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./search-bar.css */ "./node_modules/antd-mobile/es/components/search-bar/search-bar.css");
/* harmony import */ var _search_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-bar */ "./node_modules/antd-mobile/es/components/search-bar/search-bar.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_search_bar__WEBPACK_IMPORTED_MODULE_1__.SearchBar);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/search-bar/search-bar.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/search-bar/search-bar.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchBar": () => (/* binding */ SearchBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../input */ "./node_modules/antd-mobile/es/components/input/index.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/SearchOutline.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _config_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");









const classPrefix = `adm-search-bar`;
const defaultProps = {
  clearable: true,
  showCancelButton: false,
  defaultValue: '',
  clearOnCancel: true,
  icon: react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_2__["default"], null)
};
const SearchBar = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const {
    locale
  } = (0,_config_provider__WEBPACK_IMPORTED_MODULE_3__.useConfig)();
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__.mergeProps)(defaultProps, {
    cancelText: locale.common.cancel
  }, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_5__.usePropsValue)(props);
  const [hasFocus, setHasFocus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    clear: () => {
      var _a;

      return (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.clear();
    },
    focus: () => {
      var _a;

      return (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    },
    blur: () => {
      var _a;

      return (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  }));

  const renderCancelButton = () => {
    let isShowCancel = false;

    if (typeof props.showCancelButton === 'function') {
      isShowCancel = props.showCancelButton(hasFocus, value);
    } else {
      isShowCancel = props.showCancelButton && hasFocus;
    }

    return isShowCancel && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-suffix`,
      onMouseDown: e => {
        e.preventDefault();
      },
      onTouchStart: e => {
        e.preventDefault();
      }
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
      fill: 'none',
      className: `${classPrefix}-cancel-button`,
      onClick: () => {
        var _a, _b, _c;

        if (props.clearOnCancel) {
          (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.clear();
        }

        (_b = inputRef.current) === null || _b === void 0 ? void 0 : _b.blur();
        (_c = props.onCancel) === null || _c === void 0 ? void 0 : _c.call(props);
      }
    }, props.cancelText));
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-active`]: hasFocus
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-input-box`
  }, props.icon && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-input-box-icon`
  }, props.icon), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_input__WEBPACK_IMPORTED_MODULE_8__["default"], {
    ref: inputRef,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-input`, {
      [`${classPrefix}-input-without-icon`]: !props.icon
    }),
    value: value,
    onChange: setValue,
    maxLength: props.maxLength,
    placeholder: props.placeholder,
    clearable: props.clearable,
    onFocus: e => {
      var _a;

      setHasFocus(true);
      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    onBlur: e => {
      var _a;

      setHasFocus(false);
      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    onClear: props.onClear,
    type: 'search',
    enterKeyHint: 'search',
    onEnterPress: () => {
      var _a, _b;

      (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.blur();
      (_b = props.onSearch) === null || _b === void 0 ? void 0 : _b.call(props, value);
    }
  })), renderCancelButton()));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/selector/check-mark.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/selector/check-mark.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckMark": () => (/* binding */ CheckMark)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const CheckMark = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(() => {
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    width: '17px',
    height: '13px',
    viewBox: '0 0 17 13',
    version: '1.1',
    xmlns: 'http://www.w3.org/2000/svg'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    stroke: 'none',
    strokeWidth: '1',
    fill: 'none',
    fillRule: 'evenodd',
    strokeLinecap: 'round',
    strokeLinejoin: 'round'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(-2832.000000, -1103.000000)',
    stroke: '#FFFFFF',
    strokeWidth: '3'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(2610.000000, 955.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(24.000000, 91.000000)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: 'translate(179.177408, 36.687816)'
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("polyline", {
    points: '34.2767388 22 24.797043 31.4796958 21 27.6826527'
  })))))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/selector/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/selector/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _selector_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./selector.css */ "./node_modules/antd-mobile/es/components/selector/selector.css");
/* harmony import */ var _selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selector */ "./node_modules/antd-mobile/es/components/selector/selector.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_selector__WEBPACK_IMPORTED_MODULE_1__.Selector);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/selector/selector.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/selector/selector.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Selector": () => (/* binding */ Selector)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _space__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../space */ "./node_modules/antd-mobile/es/components/space/index.js");
/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../grid */ "./node_modules/antd-mobile/es/components/grid/index.js");
/* harmony import */ var _utils_convert_px__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/convert-px */ "./node_modules/antd-mobile/es/utils/convert-px.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _check_mark__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./check-mark */ "./node_modules/antd-mobile/es/components/selector/check-mark.js");









const classPrefix = `adm-selector`;
const defaultProps = {
  multiple: false,
  defaultValue: []
};
const Selector = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.value,
    defaultValue: props.defaultValue,
    onChange: val => {
      var _a;

      const extend = {
        get items() {
          return props.options.filter(option => val.includes(option.value));
        }

      };
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);
    }
  });
  const items = props.options.map(option => {
    const active = (value || []).includes(option.value);
    const disabled = option.disabled || props.disabled;
    const itemCls = classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-item`, {
      [`${classPrefix}-item-active`]: active && !props.multiple,
      [`${classPrefix}-item-multiple-active`]: active && props.multiple,
      [`${classPrefix}-item-disabled`]: disabled
    });
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      key: option.value,
      className: itemCls,
      onClick: () => {
        if (disabled) {
          return;
        }

        if (props.multiple) {
          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];
          setValue(val);
        } else {
          const val = active ? [] : [option.value];
          setValue(val);
        }
      }
    }, option.label, option.description && react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      className: `${classPrefix}-item-description`
    }, option.description), active && react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      className: `${classPrefix}-check-mark-wrapper`
    }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_check_mark__WEBPACK_IMPORTED_MODULE_4__.CheckMark, null)));
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classPrefix
  }, !props.columns && react__WEBPACK_IMPORTED_MODULE_1__.createElement(_space__WEBPACK_IMPORTED_MODULE_6__["default"], {
    wrap: true
  }, items), props.columns && react__WEBPACK_IMPORTED_MODULE_1__.createElement(_grid__WEBPACK_IMPORTED_MODULE_7__["default"], {
    columns: props.columns,
    gap: (0,_utils_convert_px__WEBPACK_IMPORTED_MODULE_8__.convertPx)(8)
  }, items)));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/side-bar/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/side-bar/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _side_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./side-bar.css */ "./node_modules/antd-mobile/es/components/side-bar/side-bar.css");
/* harmony import */ var _side_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./side-bar */ "./node_modules/antd-mobile/es/components/side-bar/side-bar.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_side_bar__WEBPACK_IMPORTED_MODULE_2__.SideBar, {
  Item: _side_bar__WEBPACK_IMPORTED_MODULE_2__.SideBarItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/side-bar/side-bar.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/side-bar/side-bar.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SideBarItem": () => (/* binding */ SideBarItem),
/* harmony export */   "SideBar": () => (/* binding */ SideBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _badge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../badge */ "./node_modules/antd-mobile/es/components/badge/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");





const classPrefix = `adm-side-bar`;
const SideBarItem = () => {
  return null;
};
const SideBar = props => {
  var _a;

  let firstActiveKey = null;
  const items = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;

    if (index === 0) {
      firstActiveKey = key;
    }

    items.push(child);
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_2__.usePropsValue)({
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix)
  }, items.map(item => {
    const active = item.key === activeKey;
    return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(item.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: item.key,
      onClick: () => {
        const {
          key
        } = item;
        if (key === undefined || key === null || item.props.disabled) return;
        setActiveKey(key.toString());
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-item`, {
        [`${classPrefix}-item-active`]: active,
        [`${classPrefix}-item-disabled`]: item.props.disabled
      })
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_badge__WEBPACK_IMPORTED_MODULE_4__["default"], {
      content: item.props.badge
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-item-title`
    }, active && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-item-highlight`
    }), item.props.title))));
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/skeleton/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/skeleton/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _skeleton_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./skeleton.css */ "./node_modules/antd-mobile/es/components/skeleton/skeleton.css");
/* harmony import */ var _skeleton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./skeleton */ "./node_modules/antd-mobile/es/components/skeleton/skeleton.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_skeleton__WEBPACK_IMPORTED_MODULE_2__.Skeleton, {
  Title: _skeleton__WEBPACK_IMPORTED_MODULE_2__.SkeletonTitle,
  Paragraph: _skeleton__WEBPACK_IMPORTED_MODULE_2__.SkeletonParagraph
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/skeleton/skeleton.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/skeleton/skeleton.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Skeleton": () => (/* binding */ Skeleton),
/* harmony export */   "SkeletonTitle": () => (/* binding */ SkeletonTitle),
/* harmony export */   "SkeletonParagraph": () => (/* binding */ SkeletonParagraph)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_generate_int_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/generate-int-array */ "./node_modules/antd-mobile/es/utils/generate-int-array.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");





const classPrefix = 'adm-skeleton';
const Skeleton = props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-animated`]: props.animated
    })
  }));
};
const SkeletonTitle = props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement(Skeleton, {
    animated: props.animated,
    className: `${classPrefix}-title`
  }));
};
const defaultSkeletonParagraphProps = {
  lineCount: 3
};
const SkeletonParagraph = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultSkeletonParagraphProps, p);
  const keys = (0,_utils_generate_int_array__WEBPACK_IMPORTED_MODULE_4__.generateIntArray)(1, props.lineCount);
  const node = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-paragraph`
  }, keys.map(key => react__WEBPACK_IMPORTED_MODULE_0__.createElement(Skeleton, {
    key: key,
    animated: props.animated,
    className: `${classPrefix}-paragraph-line`
  })));
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, node);
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _slider_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./slider.css */ "./node_modules/antd-mobile/es/components/slider/slider.css");
/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slider */ "./node_modules/antd-mobile/es/components/slider/slider.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_slider__WEBPACK_IMPORTED_MODULE_1__.Slider);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/marks.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/marks.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);


const classPrefix = `adm-slider-mark`;

const Marks = ({
  marks,
  upperBound,
  lowerBound,
  max,
  min
}) => {
  const marksKeys = Object.keys(marks);
  const range = max - min;
  const elements = marksKeys.map(parseFloat).sort((a, b) => a - b).filter(point => point >= min && point <= max).map(point => {
    const markPoint = marks[point];

    if (!markPoint && markPoint !== 0) {
      return null;
    }

    const isActive = point <= upperBound && point >= lowerBound;
    const markClassName = classnames__WEBPACK_IMPORTED_MODULE_1___default()({
      [`${classPrefix}-text`]: true,
      [`${classPrefix}-text-active`]: isActive
    });
    const style = {
      left: `${(point - min) / range * 100}%`
    };
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: markClassName,
      style: style,
      key: point
    }, markPoint);
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, elements);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Marks);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/slider.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/slider.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Slider": () => (/* binding */ Slider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ticks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ticks */ "./node_modules/antd-mobile/es/components/slider/ticks.js");
/* harmony import */ var _marks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./marks */ "./node_modules/antd-mobile/es/components/slider/marks.js");
/* harmony import */ var _thumb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./thumb */ "./node_modules/antd-mobile/es/components/slider/thumb.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_nearest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/nearest */ "./node_modules/antd-mobile/es/utils/nearest.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");









const classPrefix = `adm-slider`;
const defaultProps = {
  min: 0,
  max: 100,
  step: 1,
  ticks: false,
  range: false,
  disabled: false
};
const Slider = p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    min,
    max,
    disabled,
    marks,
    ticks,
    step
  } = props;

  function sortValue(val) {
    return val.sort((a, b) => a - b);
  }

  function convertValue(value) {
    return props.range ? value : [props.min, value];
  }

  function reverseValue(value) {
    return props.range ? value : value[1];
  }

  function onAfterChange(value) {
    var _a;

    (_a = props.onAfterChange) === null || _a === void 0 ? void 0 : _a.call(props, reverseValue(value));
  }

  const [rawValue, setRawValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.value,
    defaultValue: (_a = props.defaultValue) !== null && _a !== void 0 ? _a : props.range ? [min, min] : min,
    onChange: props.onChange
  });
  const sliderValue = sortValue(convertValue(rawValue));

  function setSliderValue(value) {
    const next = sortValue(value);
    const current = sliderValue;
    if (next[0] === current[0] && next[1] === current[1]) return;
    setRawValue(reverseValue(next));
  }

  const trackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const fillSize = `${100 * (sliderValue[1] - sliderValue[0]) / (max - min)}%`;
  const fillStart = `${100 * (sliderValue[0] - min) / (max - min)}%`; // 计算要显示的点

  const pointList = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (marks) {
      return Object.keys(marks).map(parseFloat).sort((a, b) => a - b);
    } else {
      const points = [];

      for (let i = min; i <= max; i += step) {
        points.push(i);
      }

      return points;
    }
  }, [marks, ticks, step, min, max]);

  function getValueByPosition(position) {
    const newPosition = position < min ? min : position > max ? max : position;
    let value = min; // 显示了刻度点，就只能移动到点上

    if (pointList.length) {
      value = (0,_utils_nearest__WEBPACK_IMPORTED_MODULE_4__.nearest)(pointList, newPosition);
    } else {
      const lengthPerStep = 100 / ((max - min) / step);
      const steps = Math.round(newPosition / lengthPerStep);
      value = steps * lengthPerStep * (max - min) * 0.01 + min;
    }

    return value;
  }

  const dragLockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);

  const onTrackClick = event => {
    if (dragLockRef.current > 0) return;
    event.stopPropagation();
    if (disabled) return;
    const track = trackRef.current;
    if (!track) return;
    const sliderOffsetLeft = track.getBoundingClientRect().left;
    const position = (event.clientX - sliderOffsetLeft) / Math.ceil(track.offsetWidth) * (max - min) + min;
    const targetValue = getValueByPosition(position);
    let nextSliderValue;

    if (props.range) {
      // 移动的滑块采用就近原则
      if (Math.abs(targetValue - sliderValue[0]) > Math.abs(targetValue - sliderValue[1])) {
        nextSliderValue = [sliderValue[0], targetValue];
      } else {
        nextSliderValue = [targetValue, sliderValue[1]];
      }
    } else {
      nextSliderValue = [props.min, targetValue];
    }

    setSliderValue(nextSliderValue);
    onAfterChange(nextSliderValue);
  };

  const valueBeforeDragRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();

  const renderThumb = index => {
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_thumb__WEBPACK_IMPORTED_MODULE_5__["default"], {
      key: index,
      value: sliderValue[index],
      min: min,
      max: max,
      disabled: disabled,
      trackRef: trackRef,
      onDrag: (position, first, last) => {
        if (first) {
          dragLockRef.current += 1;
          valueBeforeDragRef.current = sliderValue;
        }

        const val = getValueByPosition(position);
        const valueBeforeDrag = valueBeforeDragRef.current;
        if (!valueBeforeDrag) return;
        const next = [...valueBeforeDrag];
        next[index] = val;
        setSliderValue(next);

        if (last) {
          onAfterChange(next);
          window.setTimeout(() => {
            dragLockRef.current -= 1;
          }, 100);
        }
      }
    });
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-disabled`]: disabled
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-track-container`,
    onClick: onTrackClick
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-track`,
    onClick: onTrackClick,
    ref: trackRef
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-fill`,
    style: {
      width: fillSize,
      left: fillStart
    }
  }), props.ticks && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ticks__WEBPACK_IMPORTED_MODULE_7__["default"], {
    points: pointList,
    min: min,
    max: max,
    lowerBound: sliderValue[0],
    upperBound: sliderValue[1]
  }), props.range && renderThumb(0), renderThumb(1))), marks && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_marks__WEBPACK_IMPORTED_MODULE_8__["default"], {
    min: min,
    max: max,
    marks: marks,
    lowerBound: sliderValue[0],
    upperBound: sliderValue[1]
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/thumb.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/thumb.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");


const classPrefix = `adm-slider`;

const Thumb = props => {
  const {
    value,
    min,
    max,
    disabled,
    onDrag
  } = props;
  const prevValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);

  const currentPosition = () => {
    return {
      left: `${(value - min) / (max - min) * 100}%`,
      right: 'auto'
    };
  };

  const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_1__.useDrag)(state => {
    var _a;

    if (disabled) return;

    if (state.first) {
      prevValue.current = value;
    }

    const x = state.xy[0] - state.initial[0];
    const sliderOffsetWith = (_a = props.trackRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth;
    if (!sliderOffsetWith) return;
    const diff = x / Math.ceil(sliderOffsetWith) * (max - min);
    onDrag(prevValue.current + diff, state.first, state.last);
  }, {
    axis: 'x',
    pointer: {
      touch: true
    }
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", Object.assign({
    className: `${classPrefix}-thumb-container`,
    style: currentPosition()
  }, bind()), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-thumb`
  }));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Thumb);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/ticks.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/ticks.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);


const classPrefix = `adm-slider`;

const Ticks = ({
  points,
  max,
  min,
  upperBound,
  lowerBound
}) => {
  const range = max - min;
  const elements = points.map(point => {
    const offset = `${Math.abs(point - min) / range * 100}%`;
    const isActived = point <= upperBound && point >= lowerBound;
    const style = {
      left: offset
    };
    const pointClassName = classnames__WEBPACK_IMPORTED_MODULE_1___default()({
      [`${classPrefix}-tick`]: true,
      [`${classPrefix}-tick-active`]: isActived
    });
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: pointClassName,
      style: style,
      key: point
    });
  });
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-ticks`
  }, elements);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ticks);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/space/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/space/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _space_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./space.css */ "./node_modules/antd-mobile/es/components/space/space.css");
/* harmony import */ var _space__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./space */ "./node_modules/antd-mobile/es/components/space/space.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_space__WEBPACK_IMPORTED_MODULE_1__.Space);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/space/space.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/space/space.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Space": () => (/* binding */ Space)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");




const classPrefix = `adm-space`;
const defaultProps = {
  direction: 'horizontal'
};
const Space = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    direction,
    onClick
  } = props;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-wrap`]: props.wrap,
      [`${classPrefix}-block`]: props.block,
      [`${classPrefix}-${direction}`]: true,
      [`${classPrefix}-align-${props.align}`]: !!props.align,
      [`${classPrefix}-justify-${props.justify}`]: !!props.justify
    }),
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(props.children, child => {
    return child !== null && child !== undefined && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-item`
    }, child);
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/spin-loading/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/spin-loading/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _spin_loading_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./spin-loading.css */ "./node_modules/antd-mobile/es/components/spin-loading/spin-loading.css");
/* harmony import */ var _spin_loading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./spin-loading */ "./node_modules/antd-mobile/es/components/spin-loading/spin-loading.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_spin_loading__WEBPACK_IMPORTED_MODULE_1__.SpinLoading);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/spin-loading/spin-loading.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/spin-loading/spin-loading.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpinLoading": () => (/* binding */ SpinLoading)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");



const classPrefix = 'adm-spin-loading';
const colorRecord = {
  default: 'var(--adm-color-weak)',
  primary: 'var(--adm-color-primary)',
  white: 'var(--adm-color-white)'
};
const defaultProps = {
  color: 'default'
};
const SpinLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_1__.mergeProps)(defaultProps, p);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix,
    style: {
      '--color': (_a = colorRecord[props.color]) !== null && _a !== void 0 ? _a : props.color
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {
    className: `${classPrefix}-svg`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    className: `${classPrefix}-fill`,
    fill: 'transparent'
  }))));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/stepper/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/stepper/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _stepper_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stepper.css */ "./node_modules/antd-mobile/es/components/stepper/stepper.css");
/* harmony import */ var _stepper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stepper */ "./node_modules/antd-mobile/es/components/stepper/stepper.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_stepper__WEBPACK_IMPORTED_MODULE_1__.Stepper);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/stepper/stepper.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/stepper/stepper.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stepper": () => (/* binding */ Stepper)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/MinusOutline.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/AddOutline.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../input */ "./node_modules/antd-mobile/es/components/input/index.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");









const classPrefix = `adm-stepper`;
const defaultProps = {
  defaultValue: 0,
  step: 1,
  disabled: false
};
const Stepper = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    disabled,
    step,
    max,
    min,
    inputReadOnly
  } = props;
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(props);
  const [inputValue, setInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => value.toString());

  function setValueWithCheck(v) {
    if (isNaN(v)) return;
    let target = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_4__.bound)(v, props.min, props.max);

    if (props.digits || props.digits === 0) {
      target = parseFloat(target.toFixed(props.digits));
    }

    setValue(target);
  }

  const [hasFocus, setHasFocus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!hasFocus) {
      setInputValue(value.toString());
    }
  }, [hasFocus]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!hasFocus) {
      setInputValue(value.toString());
    }
  }, [value]);

  const handleInputChange = v => {
    setInputValue(v);
    setValueWithCheck(parseFloat(v));
  };

  const handleMinus = () => {
    setValueWithCheck(value - step);
  };

  const handlePlus = () => {
    setValueWithCheck(value + step);
  };

  const minusDisabled = () => {
    if (min === undefined) {
      return disabled;
    } else {
      return disabled || value <= min;
    }
  };

  const plusDisabled = () => {
    if (max === undefined) {
      return disabled;
    } else {
      return disabled || value >= max;
    }
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
      [`${classPrefix}-disabled`]: disabled,
      [`${classPrefix}-active`]: hasFocus
    })
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: `${classPrefix}-minus`,
    onClick: handleMinus,
    disabled: minusDisabled(),
    fill: 'none',
    color: 'primary'
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_7__["default"], null)), react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-middle`
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_input__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: `${classPrefix}-input`,
    onFocus: e => {
      var _a;

      setHasFocus(true);
      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    value: inputValue,
    onChange: val => {
      disabled || handleInputChange(val);
    },
    disabled: disabled,
    onBlur: e => {
      var _a;

      setHasFocus(false);
      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    readOnly: inputReadOnly
  })), react__WEBPACK_IMPORTED_MODULE_1__.createElement(_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: `${classPrefix}-plus`,
    onClick: handlePlus,
    disabled: plusDisabled(),
    fill: 'none',
    color: 'primary'
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_9__["default"], null))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/steps/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/steps/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _steps_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./steps.css */ "./node_modules/antd-mobile/es/components/steps/steps.css");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _step__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./step */ "./node_modules/antd-mobile/es/components/steps/step.js");
/* harmony import */ var _steps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./steps */ "./node_modules/antd-mobile/es/components/steps/steps.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_steps__WEBPACK_IMPORTED_MODULE_2__.Steps, {
  Step: _step__WEBPACK_IMPORTED_MODULE_3__.Step
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/steps/step.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/steps/step.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Step": () => (/* binding */ Step)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");



const classPrefix = `adm-step`;
const Step = props => {
  const {
    title,
    description,
    icon,
    status = 'wait'
  } = props;
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_2__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}`, `${classPrefix}-status-${status}`)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-indicator`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-icon-container`
  }, icon)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-title`
  }, title), !!description && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-description`
  }, description))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/steps/steps.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/steps/steps.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Steps": () => (/* binding */ Steps)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");




const classPrefix = `adm-steps`;
const stepClassPrefix = `adm-step`;
const defaultIcon = react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
  className: `${stepClassPrefix}-icon-dot`
});
const defaultProps = {
  current: 0,
  direction: 'horizontal'
};
const Steps = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    direction,
    current
  } = props;
  const classString = classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, `${classPrefix}-${direction}`);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classString
  }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(props.children, (child, index) => {
    var _a;

    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) {
      return child;
    }

    const props = child.props;
    let status = props.status || 'wait';

    if (index < current) {
      status = props.status || 'finish';
    } else if (index === current) {
      status = props.status || 'process';
    }

    const icon = (_a = props.icon) !== null && _a !== void 0 ? _a : defaultIcon;
    return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
      status,
      icon
    });
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swipe-action/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swipe-action/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _swipe_action_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./swipe-action.css */ "./node_modules/antd-mobile/es/components/swipe-action/swipe-action.css");
/* harmony import */ var _swipe_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./swipe-action */ "./node_modules/antd-mobile/es/components/swipe-action/swipe-action.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_swipe_action__WEBPACK_IMPORTED_MODULE_1__.SwipeAction);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swipe-action/swipe-action.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swipe-action/swipe-action.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SwipeAction": () => (/* binding */ SwipeAction)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _utils_nearest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/nearest */ "./node_modules/antd-mobile/es/utils/nearest.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");







const defaultProps = {
  rightActions: [],
  leftActions: [],
  closeOnTouchOutside: true,
  closeOnAction: true
};
const SwipeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const leftRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const rightRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  function getWidth(ref) {
    const element = ref.current;
    if (!element) return 0;
    return element.offsetWidth;
  }

  function getLeftWidth() {
    return getWidth(leftRef);
  }

  function getRightWidth() {
    return getWidth(rightRef);
  }

  const [{
    x
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    x: 0,
    config: {
      tension: 200,
      friction: 30
    }
  }), []);
  const draggingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_3__.useDrag)(state => {
    draggingRef.current = true;
    const [offsetX] = state.offset;

    if (state.last) {
      const leftWidth = getLeftWidth();
      const rightWidth = getRightWidth();
      let position = offsetX + state.velocity[0] * state.direction[0] * 50;

      if (offsetX > 0) {
        position = Math.max(0, position);
      } else if (offsetX < 0) {
        position = Math.min(0, position);
      } else {
        position = 0;
      }

      api.start({
        x: (0,_utils_nearest__WEBPACK_IMPORTED_MODULE_4__.nearest)([-rightWidth, 0, leftWidth], position)
      });
      window.setTimeout(() => {
        draggingRef.current = false;
      });
    } else {
      api.start({
        x: offsetX,
        immediate: true
      });
    }
  }, {
    from: () => [x.get(), 0],
    bounds: () => {
      const leftWidth = getLeftWidth();
      const rightWidth = getRightWidth();
      return {
        left: -rightWidth,
        right: leftWidth
      };
    },
    // rubberband: true,
    axis: 'x',
    preventScroll: true,
    pointer: {
      touch: true
    }
  });

  function close() {
    api.start({
      x: 0
    });
  }

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    show: (side = 'right') => {
      if (side === 'right') {
        api.start({
          x: -getRightWidth()
        });
      } else if (side === 'left') {
        api.start({
          x: getLeftWidth()
        });
      }
    },
    close
  }));
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props.closeOnTouchOutside) return;

    function handle(e) {
      if (x.get() === 0) {
        return;
      }

      const root = rootRef.current;

      if (root && !root.contains(e.target)) {
        close();
      }
    }

    document.addEventListener('touchstart', handle);
    return () => {
      document.removeEventListener('touchstart', handle);
    };
  }, [props.closeOnTouchOutside]);

  function renderAction(action) {
    var _a, _b;

    const color = (_a = action.color) !== null && _a !== void 0 ? _a : 'light';
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
      key: action.key,
      className: 'adm-swipe-action-action-button',
      style: {
        '--background-color': (_b = colorRecord[color]) !== null && _b !== void 0 ? _b : color
      },
      onClick: e => {
        var _a, _b;

        if (props.closeOnAction) {
          close();
        }

        (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action, e);
        (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action);
      }
    }, action.text);
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_6__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", Object.assign({
    className: 'adm-swipe-action'
  }, bind(), {
    ref: rootRef,
    onClickCapture: e => {
      if (draggingRef.current) {
        e.stopPropagation();
        e.preventDefault();
      }
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    className: 'adm-swipe-action-track',
    style: {
      x
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-swipe-action-actions adm-swipe-action-actions-left',
    ref: leftRef
  }, props.leftActions.map(renderAction)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-swipe-action-content',
    onClickCapture: e => {
      if (x.goal !== 0) {
        e.preventDefault();
        e.stopPropagation();
        api.start({
          x: 0
        });
      }
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.animated.div, {
    style: {
      pointerEvents: x.to(v => v !== 0 && x.goal !== 0 ? 'none' : 'unset')
    }
  }, props.children)), react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-swipe-action-actions adm-swipe-action-actions-right',
    ref: rightRef
  }, props.rightActions.map(renderAction)))));
});
const colorRecord = {
  light: 'var(--adm-color-light)',
  weak: 'var(--adm-color-weak)',
  primary: 'var(--adm-color-primary)',
  success: 'var(--adm-color-success)',
  warning: 'var(--adm-color-warning)',
  danger: 'var(--adm-color-danger)'
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swiper/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swiper/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _swiper_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./swiper.css */ "./node_modules/antd-mobile/es/components/swiper/swiper.css");
/* harmony import */ var _swiper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./swiper */ "./node_modules/antd-mobile/es/components/swiper/swiper.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _swiper_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./swiper-item */ "./node_modules/antd-mobile/es/components/swiper/swiper-item.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_swiper__WEBPACK_IMPORTED_MODULE_2__.Swiper, {
  Item: _swiper_item__WEBPACK_IMPORTED_MODULE_3__.SwiperItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swiper/swiper-item.js":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swiper/swiper-item.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SwiperItem": () => (/* binding */ SwiperItem)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");


const SwiperItem = props => {
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_1__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: 'adm-swiper-item',
    onClick: props.onClick
  }, props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swiper/swiper.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swiper/swiper.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Swiper": () => (/* binding */ Swiper)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _swiper_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./swiper-item */ "./node_modules/antd-mobile/es/components/swiper/swiper-item.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_gesture_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @use-gesture/react */ "./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");
/* harmony import */ var _page_indicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../page-indicator */ "./node_modules/antd-mobile/es/components/page-indicator/index.js");
/* harmony import */ var staged_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! staged-components */ "./node_modules/staged-components/index.js");
/* harmony import */ var staged_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(staged_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_use_ref_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/use-ref-state */ "./node_modules/antd-mobile/es/utils/use-ref-state.js");
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");












const defaultProps = {
  defaultIndex: 0,
  allowTouchMove: true,
  autoplay: false,
  autoplayInterval: 3000,
  loop: false,
  direction: 'horizontal',
  slideSize: 100,
  trackOffset: 0,
  stuckAtBoundary: true,
  rubberband: true
};
const Swiper = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((0,staged_components__WEBPACK_IMPORTED_MODULE_3__.staged)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_4__.mergeProps)(defaultProps, p);
  const isVertical = props.direction === 'vertical';
  const slideRatio = props.slideSize / 100;
  const offsetRatio = props.trackOffset / 100;
  const {
    validChildren,
    count
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let count = 0;
    const validChildren = react__WEBPACK_IMPORTED_MODULE_0__.Children.map(props.children, child => {
      if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return null;

      if (child.type !== _swiper_item__WEBPACK_IMPORTED_MODULE_5__.SwiperItem) {
        (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_6__.devWarning)('Swiper', 'The children of `Swiper` must be `Swiper.Item` components.');
        return null;
      }

      count++;
      return child;
    });
    return {
      validChildren,
      count
    };
  }, [props.children]);

  if (count === 0 || !validChildren) {
    (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_6__.devWarning)('Swiper', '`Swiper` needs at least one child.');
    return null;
  }

  return () => {
    let loop = props.loop;

    if (slideRatio * (count - 1) < 1) {
      loop = false;
    }

    const trackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

    function getSlidePixels() {
      const track = trackRef.current;
      if (!track) return 0;
      const trackPixels = isVertical ? track.offsetHeight : track.offsetWidth;
      return trackPixels * props.slideSize / 100;
    }

    const [current, setCurrent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.defaultIndex);
    const [dragging, setDragging, draggingRef] = (0,_utils_use_ref_state__WEBPACK_IMPORTED_MODULE_7__.useRefState)(false);

    function boundIndex(current) {
      let min = 0;
      let max = count - 1;

      if (props.stuckAtBoundary) {
        min += offsetRatio / slideRatio;
        max -= (1 - slideRatio - offsetRatio) / slideRatio;
      }

      return (0,_utils_bound__WEBPACK_IMPORTED_MODULE_8__.bound)(current, min, max);
    }

    const [{
      position
    }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
      position: boundIndex(current) * 100,
      config: {
        tension: 200,
        friction: 30
      },
      onRest: () => {
        if (draggingRef.current) return;
        const rawX = position.get();
        const totalWidth = 100 * count;
        const standardPosition = modulus(rawX, totalWidth);
        if (standardPosition === rawX) return;
        api.start({
          position: standardPosition,
          immediate: true
        });
      }
    }), [count]);
    const bind = (0,_use_gesture_react__WEBPACK_IMPORTED_MODULE_9__.useDrag)(state => {
      const slidePixels = getSlidePixels();
      if (!slidePixels) return;
      const paramIndex = isVertical ? 1 : 0;
      const offset = state.offset[paramIndex];
      const direction = state.direction[paramIndex];
      const velocity = state.velocity[paramIndex];
      setDragging(true);

      if (!state.last) {
        api.start({
          position: offset * 100 / slidePixels,
          immediate: true
        });
      } else {
        const minIndex = Math.floor(offset / slidePixels);
        const maxIndex = minIndex + 1;
        const index = Math.round((offset + velocity * 2000 * direction) / slidePixels);
        swipeTo((0,_utils_bound__WEBPACK_IMPORTED_MODULE_8__.bound)(index, minIndex, maxIndex));
        window.setTimeout(() => {
          setDragging(false);
        });
      }
    }, {
      transform: ([x, y]) => [-x, -y],
      from: () => {
        const slidePixels = getSlidePixels();
        return [position.get() / 100 * slidePixels, position.get() / 100 * slidePixels];
      },
      bounds: () => {
        if (loop) return {};
        const slidePixels = getSlidePixels();
        const lowerBound = boundIndex(0) * slidePixels;
        const upperBound = boundIndex(count - 1) * slidePixels;
        return isVertical ? {
          top: lowerBound,
          bottom: upperBound
        } : {
          left: lowerBound,
          right: upperBound
        };
      },
      rubberband: props.rubberband,
      axis: isVertical ? 'y' : 'x',
      preventScroll: !isVertical,
      pointer: {
        touch: true
      }
    });

    function swipeTo(index, immediate = false) {
      var _a, _b;

      if (loop) {
        const i = modulus(index, count);
        setCurrent(i);
        (_a = props.onIndexChange) === null || _a === void 0 ? void 0 : _a.call(props, i);
        api.start({
          position: index * 100,
          immediate
        });
      } else {
        const i = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_8__.bound)(index, 0, count - 1);
        setCurrent(i);
        (_b = props.onIndexChange) === null || _b === void 0 ? void 0 : _b.call(props, i);
        api.start({
          position: boundIndex(i) * 100,
          immediate
        });
      }
    }

    function swipeNext() {
      swipeTo(Math.round(position.get() / 100) + 1);
    }

    function swipePrev() {
      swipeTo(Math.round(position.get() / 100) - 1);
    }

    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
      swipeTo,
      swipeNext,
      swipePrev
    }));
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      const maxIndex = validChildren.length - 1;

      if (current > maxIndex) {
        swipeTo(maxIndex, true);
      }
    });
    const {
      autoplay,
      autoplayInterval
    } = props;
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      if (!autoplay || dragging) return;
      const interval = window.setInterval(() => {
        swipeNext();
      }, autoplayInterval);
      return () => {
        window.clearInterval(interval);
      };
    }, [autoplay, autoplayInterval, dragging]);

    function renderTrackInner() {
      if (loop) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
          className: 'adm-swiper-track-inner'
        }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(validChildren, (child, index) => {
          return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
            className: 'adm-swiper-slide',
            style: {
              [isVertical ? 'y' : 'x']: position.to(position => {
                let finalPosition = -position + index * 100;
                const totalWidth = count * 100;
                const flagWidth = totalWidth / 2;
                finalPosition = modulus(finalPosition + flagWidth, totalWidth) - flagWidth;
                return `${finalPosition}%`;
              }),
              [isVertical ? 'top' : 'left']: `-${index * 100}%`
            }
          }, child);
        }));
      } else {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
          className: 'adm-swiper-track-inner',
          style: {
            [isVertical ? 'y' : 'x']: position.to(position => `${-position}%`)
          }
        }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(validChildren, (child, index) => {
          return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
            className: 'adm-swiper-slide'
          }, child);
        }));
      }
    }

    const style = {
      '--slide-size': `${props.slideSize}%`,
      '--track-offset': `${props.trackOffset}%`
    };
    return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_10__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('adm-swiper', `adm-swiper-${props.direction}`),
      style: style
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", Object.assign({
      ref: trackRef,
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('adm-swiper-track', {
        'adm-swiper-track-allow-touch-move': props.allowTouchMove
      }),
      onClickCapture: e => {
        if (draggingRef.current) {
          e.stopPropagation();
        }
      }
    }, props.allowTouchMove ? bind() : {}), renderTrackInner()), props.indicator === undefined ? react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: 'adm-swiper-indicator'
    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_page_indicator__WEBPACK_IMPORTED_MODULE_11__["default"], Object.assign({}, props.indicatorProps, {
      total: count,
      current: current,
      direction: props.direction
    }))) : props.indicator(count, current)));
  };
}));

function modulus(value, division) {
  const remainder = value % division;
  return remainder < 0 ? remainder + division : remainder;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/switch/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/switch/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _switch_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switch.css */ "./node_modules/antd-mobile/es/components/switch/switch.css");
/* harmony import */ var _switch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./switch */ "./node_modules/antd-mobile/es/components/switch/switch.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_switch__WEBPACK_IMPORTED_MODULE_1__.Switch);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/switch/switch.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/switch/switch.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Switch": () => (/* binding */ Switch)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _assets_spin_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../assets/spin.svg */ "./node_modules/antd-mobile/es/assets/spin.svg");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");







const classPrefix = `adm-switch`;
const defaultProps = {
  defaultChecked: false
};
const Switch = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const disabled = props.disabled || props.loading || false;
  const [changing, setChanging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [checked, setChecked] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.checked,
    defaultValue: props.defaultChecked,
    onChange: props.onChange
  });

  function onClick() {
    return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
      if (disabled || props.loading || changing) {
        return;
      }

      const nextChecked = !checked;

      if (props.beforeChange) {
        setChanging(true);

        try {
          yield props.beforeChange(nextChecked);
          setChecked(nextChecked);
          setChanging(false);
        } catch (e) {
          setChanging(false);
          throw e;
        }
      } else {
        setChecked(nextChecked);
      }
    });
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    onClick: onClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
      [`${classPrefix}-checked`]: checked,
      [`${classPrefix}-disabled`]: disabled || changing
    })
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-checkbox`
  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-handle`
  }, (props.loading || changing) && react__WEBPACK_IMPORTED_MODULE_1__.createElement("img", {
    src: _assets_spin_svg__WEBPACK_IMPORTED_MODULE_6__,
    className: `${classPrefix}-icon`,
    alt: 'switch-handle'
  })), react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: `${classPrefix}-inner`
  }, checked ? props.checkedText : props.uncheckedText))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tab-bar/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tab-bar/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tab_bar_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tab-bar.css */ "./node_modules/antd-mobile/es/components/tab-bar/tab-bar.css");
/* harmony import */ var _tab_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tab-bar */ "./node_modules/antd-mobile/es/components/tab-bar/tab-bar.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_tab_bar__WEBPACK_IMPORTED_MODULE_2__.TabBar, {
  Item: _tab_bar__WEBPACK_IMPORTED_MODULE_2__.TabBarItem
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tab-bar/tab-bar.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tab-bar/tab-bar.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TabBarItem": () => (/* binding */ TabBarItem),
/* harmony export */   "TabBar": () => (/* binding */ TabBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../badge */ "./node_modules/antd-mobile/es/components/badge/index.js");
/* harmony import */ var _safe_area__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../safe-area */ "./node_modules/antd-mobile/es/components/safe-area/index.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");







const TabBarItem = () => {
  return null;
};
const classPrefix = `adm-tab-bar`;
const defaultProps = {
  safeArea: false
};
const TabBar = p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  let firstActiveKey = null;
  const items = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;

    if (index === 0) {
      firstActiveKey = key;
    }

    items.push(child);
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-wrap`
  }, items.map(item => {
    const active = item.key === activeKey;

    function renderContent() {
      const iconElement = item.props.icon && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-item-icon`
      }, typeof item.props.icon === 'function' ? item.props.icon(active) : item.props.icon);
      const titleElement = item.props.title && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        className: `${classPrefix}-item-title`
      }, item.props.title);

      if (iconElement) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_badge__WEBPACK_IMPORTED_MODULE_5__["default"], {
          content: item.props.badge,
          className: `${classPrefix}-icon-badge`
        }, iconElement), titleElement);
      } else if (titleElement) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_badge__WEBPACK_IMPORTED_MODULE_5__["default"], {
          content: item.props.badge,
          className: `${classPrefix}-title-badge`
        }, titleElement);
      }

      return null;
    }

    return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(item.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      key: item.key,
      onClick: () => {
        const {
          key
        } = item;
        if (key === undefined || key === null) return;
        setActiveKey(key.toString());
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-item`, {
        [`${classPrefix}-item-active`]: active
      })
    }, renderContent()));
  })), props.safeArea && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_safe_area__WEBPACK_IMPORTED_MODULE_6__["default"], {
    position: 'bottom'
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tabs/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tabs/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tabs_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tabs.css */ "./node_modules/antd-mobile/es/components/tabs/tabs.css");
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tabs */ "./node_modules/antd-mobile/es/components/tabs/tabs.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_tabs__WEBPACK_IMPORTED_MODULE_2__.Tabs, {
  Tab: _tabs__WEBPACK_IMPORTED_MODULE_2__.Tab
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tabs/tabs.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tabs/tabs.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tab": () => (/* binding */ Tab),
/* harmony export */   "Tabs": () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_bound__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/bound */ "./node_modules/antd-mobile/es/utils/bound.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUpdateLayoutEffect/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useThrottleFn/index.js");
/* harmony import */ var _utils_use_mutation_effect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/use-mutation-effect */ "./node_modules/antd-mobile/es/utils/use-mutation-effect.js");
/* harmony import */ var _utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/use-resize-effect */ "./node_modules/antd-mobile/es/utils/use-resize-effect.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");










const classPrefix = `adm-tabs`;
const Tab = () => {
  return null;
};
const defaultProps = {
  activeLineMode: 'auto',
  stretch: true
};
const Tabs = p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_3__.mergeProps)(defaultProps, p);
  const tabListContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const activeLineRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const keyToIndexRecord = {};
  let firstActiveKey = null;
  const panes = [];
  react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(props.children, (child, index) => {
    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)) return;
    const key = child.key;
    if (typeof key !== 'string') return;

    if (index === 0) {
      firstActiveKey = key;
    }

    const length = panes.push(child);
    keyToIndexRecord[key] = length - 1;
  });
  const [activeKey, setActiveKey] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.activeKey,
    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,
    onChange: v => {
      var _a;

      if (v === null) return;
      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);
    }
  });
  const [{
    x,
    width
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
    x: 0,
    width: 0,
    config: {
      tension: 300,
      clamp: true
    }
  }));
  const [{
    scrollLeft
  }, scrollApi] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
    scrollLeft: 0,
    config: {
      tension: 300,
      clamp: true
    }
  }));
  const [{
    leftMaskOpacity,
    rightMaskOpacity
  }, maskApi] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(() => ({
    leftMaskOpacity: 0,
    rightMaskOpacity: 0,
    config: {
      clamp: true
    }
  }));

  function animate(immediate = false) {
    const container = tabListContainerRef.current;
    if (!container) return;
    const activeIndex = keyToIndexRecord[activeKey];

    if (activeIndex === undefined) {
      api.start({
        x: 0,
        width: 0,
        immediate: true
      });
      return;
    }

    const activeLine = activeLineRef.current;
    if (!activeLine) return;
    const activeTabWrapper = container.children.item(activeIndex + 1);
    const activeTab = activeTabWrapper.children.item(0);
    const activeTabLeft = activeTab.offsetLeft;
    const activeTabWidth = activeTab.offsetWidth;
    const activeTabWrapperLeft = activeTabWrapper.offsetLeft;
    const activeTabWrapperWidth = activeTabWrapper.offsetWidth;
    const containerWidth = container.offsetWidth;
    const containerScrollWidth = container.scrollWidth;
    const containerScrollLeft = container.scrollLeft;
    const activeLineWidth = activeLine.offsetWidth;
    let x = 0;
    let width = 0;

    if (props.activeLineMode === 'auto') {
      x = activeTabLeft;
      width = activeTabWidth;
    } else if (props.activeLineMode === 'full') {
      x = activeTabWrapperLeft;
      width = activeTabWrapperWidth;
    } else {
      x = activeTabLeft + (activeTabWidth - activeLineWidth) / 2;
    }

    api.start({
      x,
      width,
      immediate
    });
    const maxScrollDistance = containerScrollWidth - containerWidth;
    if (maxScrollDistance <= 0) return;
    const nextScrollLeft = (0,_utils_bound__WEBPACK_IMPORTED_MODULE_5__.bound)(activeTabLeft - (containerWidth - activeTabWidth) / 2, 0, containerScrollWidth - containerWidth);
    scrollApi.start({
      scrollLeft: nextScrollLeft,
      from: {
        scrollLeft: containerScrollLeft
      },
      immediate
    });
  }

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    animate(true);
  }, []);
  (0,ahooks__WEBPACK_IMPORTED_MODULE_6__["default"])(() => {
    animate();
  }, [activeKey]);
  (0,_utils_use_resize_effect__WEBPACK_IMPORTED_MODULE_7__.useResizeEffect)(() => {
    animate(true);
  }, tabListContainerRef);
  (0,_utils_use_mutation_effect__WEBPACK_IMPORTED_MODULE_8__.useMutationEffect)(() => {
    animate(true);
  }, tabListContainerRef, {
    subtree: true,
    childList: true,
    characterData: true
  });
  const {
    run: updateMask
  } = (0,ahooks__WEBPACK_IMPORTED_MODULE_9__["default"])((immediate = false) => {
    const container = tabListContainerRef.current;
    if (!container) return;
    const scrollLeft = container.scrollLeft;
    const showLeftMask = scrollLeft > 0;
    const showRightMask = scrollLeft + container.offsetWidth < container.scrollWidth;
    maskApi.start({
      leftMaskOpacity: showLeftMask ? 1 : 0,
      rightMaskOpacity: showRightMask ? 1 : 0,
      immediate
    });
  }, {
    wait: 100,
    trailing: true,
    leading: true
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    updateMask(true);
  }, []);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_10__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classPrefix
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-header`
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-header-mask`, `${classPrefix}-header-mask-left`),
    style: {
      opacity: leftMaskOpacity
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-header-mask`, `${classPrefix}-header-mask-right`),
    style: {
      opacity: rightMaskOpacity
    }
  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    className: `${classPrefix}-tab-list`,
    ref: tabListContainerRef,
    scrollLeft: scrollLeft,
    onScroll: updateMask
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {
    ref: activeLineRef,
    className: `${classPrefix}-tab-line`,
    style: {
      width: props.activeLineMode === 'fixed' ? 'var(--fixed-active-line-width, 30px)' : width,
      x
    }
  }), panes.map(pane => (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_10__.withNativeProps)(pane.props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: pane.key,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-tab-wrapper`, {
      [`${classPrefix}-tab-wrapper-stretch`]: props.stretch
    })
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    onClick: () => {
      const {
        key
      } = pane;
      if (pane.props.disabled) return;

      if (key === undefined || key === null) {
        return;
      }

      setActiveKey(key.toString());
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-tab`, {
      [`${classPrefix}-tab-active`]: pane.key === activeKey,
      [`${classPrefix}-tab-disabled`]: pane.props.disabled
    })
  }, pane.props.title)))))), panes.map(pane => {
    if (pane.props.children === undefined) {
      return null;
    }

    if (pane.key === activeKey) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        className: `${classPrefix}-content`
      }, pane.props.children);
    }

    if (pane.props.forceRender) {
      return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        key: pane.key,
        className: `${classPrefix}-content`,
        style: {
          display: 'none'
        }
      }, pane.props.children);
    }

    return null;
  })));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tag/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tag/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tag_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tag.css */ "./node_modules/antd-mobile/es/components/tag/tag.css");
/* harmony import */ var _tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tag */ "./node_modules/antd-mobile/es/components/tag/tag.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_tag__WEBPACK_IMPORTED_MODULE_1__.Tag);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tag/tag.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tag/tag.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tag": () => (/* binding */ Tag)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);




const classPrefix = `adm-tag`;
const colorRecord = {
  default: '#666666',
  primary: 'var(--adm-color-primary, #1677ff)',
  success: 'var(--adm-color-success, #00b578)',
  warning: 'var(--adm-color-warning, #ff8f1f)',
  danger: 'var(--adm-color-danger, #ff3141)'
};
const defaultProps = {
  color: 'default',
  fill: 'solid',
  round: false
};
const Tag = p => {
  var _a;

  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const color = (_a = colorRecord[props.color]) !== null && _a !== void 0 ? _a : props.color;
  const style = {
    '--border-color': color,
    '--text-color': props.fill === 'outline' ? color : '#ffffff',
    '--background-color': props.fill === 'outline' ? 'transparent' : color
  };
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    style: style,
    onClick: props.onClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-round`]: props.round
    })
  }, props.children));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/text-area/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/text-area/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _text_area_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text-area.css */ "./node_modules/antd-mobile/es/components/text-area/text-area.css");
/* harmony import */ var _text_area__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text-area */ "./node_modules/antd-mobile/es/components/text-area/text-area.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_text_area__WEBPACK_IMPORTED_MODULE_1__.TextArea);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/text-area/text-area.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/text-area/text-area.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextArea": () => (/* binding */ TextArea)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");





const classPrefix = 'adm-text-area';
const defaultProps = {
  rows: 2,
  showCount: false,
  autoSize: false,
  defaultValue: ''
};
const TextArea = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);

  const {
    className,
    style,
    defaultValue: outerDefaultValue,
    value: outerValue,
    onChange: outerOnChange,
    rows: rows,
    autoSize: autoSize,
    showCount
  } = props,
        textAreaProps = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__rest)(props, ["className", "style", "defaultValue", "value", "onChange", "rows", "autoSize", "showCount"]);

  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)(props);
  const nativeTextAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    clear: () => {
      setValue('');
    },
    focus: () => {
      var _a;

      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    },
    blur: () => {
      var _a;

      (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  }));
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!autoSize) return;
    const textArea = nativeTextAreaRef.current;
    if (!textArea) return;
    textArea.style.height = 'auto';
    let height = textArea.scrollHeight;

    if (typeof autoSize === 'object') {
      const computedStyle = window.getComputedStyle(textArea);
      const lineHeight = parseFloat(computedStyle.lineHeight);

      if (autoSize.minRows) {
        height = Math.max(height, autoSize.minRows * lineHeight);
      }

      if (autoSize.maxRows) {
        height = Math.min(height, autoSize.maxRows * lineHeight);
      }
    }

    textArea.style.height = `${height}px`;
  }, [value, autoSize]);
  let count;

  if (typeof showCount === 'function') {
    count = showCount(value.length, props.maxLength);
  } else if (showCount) {
    count = react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
      className: `${classPrefix}-count`
    }, props.maxLength === undefined ? value.length : value.length + '/' + props.maxLength);
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-wrapper`, className),
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea", Object.assign({
    ref: nativeTextAreaRef
  }, textAreaProps, {
    className: classPrefix,
    rows: rows,
    value: value,
    onChange: e => {
      setValue(e.target.value);
    },
    onFocus: e => {
      var _a;

      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    onBlur: e => {
      var _a;

      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
    },
    id: props.id
  })), count);
});
TextArea.defaultProps = defaultProps;

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/toast/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/toast/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toast_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toast.css */ "./node_modules/antd-mobile/es/components/toast/toast.css");
/* harmony import */ var _methods__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods */ "./node_modules/antd-mobile/es/components/toast/methods.js");


const Toast = {
  show: _methods__WEBPACK_IMPORTED_MODULE_1__.show,
  clear: _methods__WEBPACK_IMPORTED_MODULE_1__.clear,
  config: _methods__WEBPACK_IMPORTED_MODULE_1__.config
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Toast);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/toast/methods.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/toast/methods.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "show": () => (/* binding */ show),
/* harmony export */   "clear": () => (/* binding */ clear),
/* harmony export */   "config": () => (/* binding */ config)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_get_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/get-container */ "./node_modules/antd-mobile/es/utils/get-container.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var _toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toast */ "./node_modules/antd-mobile/es/components/toast/toast.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");





const containers = [];

function unmount(container) {
  const unmountResult = react_dom__WEBPACK_IMPORTED_MODULE_1__.unmountComponentAtNode(container);

  if (unmountResult && container.parentNode) {
    container.parentNode.removeChild(container);
  }
}

const defaultProps = {
  duration: 2000,
  position: 'center',
  maskClickable: true
};
function show(p) {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, typeof p === 'string' ? {
    content: p
  } : p);
  let timer = 0;
  const {
    getContainer = () => document.body
  } = props;
  const container = document.createElement('div');
  const bodyContainer = (0,_utils_get_container__WEBPACK_IMPORTED_MODULE_3__.resolveContainer)(getContainer);
  bodyContainer.appendChild(container);
  clear();
  containers.push(container);

  const TempToast = () => {
    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      return () => {
        var _a;

        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);
      };
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
      if (props.duration === 0) {
        return;
      }

      timer = window.setTimeout(() => {
        setVisible(false);
      }, props.duration);
      return () => {
        window.clearTimeout(timer);
      };
    }, []);
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_toast__WEBPACK_IMPORTED_MODULE_4__.InternalToast, Object.assign({}, props, {
      getContainer: () => container,
      visible: visible,
      afterClose: () => {
        unmount(container);
      }
    }));
  };

  react_dom__WEBPACK_IMPORTED_MODULE_1__.render(react__WEBPACK_IMPORTED_MODULE_0__.createElement(TempToast, null), container);
}
function clear() {
  while (true) {
    const container = containers.pop();
    if (!container) break;
    unmount(container);
  }
}
function config(val) {
  if (val.duration !== undefined) {
    defaultProps.duration = val.duration;
  }

  if (val.position !== undefined) {
    defaultProps.position = val.position;
  }

  if (val.maskClickable !== undefined) {
    defaultProps.maskClickable = val.maskClickable;
  }
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/toast/toast.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/toast/toast.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InternalToast": () => (/* binding */ InternalToast)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CheckOutline.js");
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseOutline.js");
/* harmony import */ var _mask__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _auto_center__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../auto-center */ "./node_modules/antd-mobile/es/components/auto-center/index.js");
/* harmony import */ var _spin_loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../spin-loading */ "./node_modules/antd-mobile/es/components/spin-loading/index.js");







const classPrefix = `adm-toast`;
const defaultProps = {
  maskClickable: true,
  stopPropagation: ['click']
};
const InternalToast = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    maskClickable,
    content,
    icon,
    position
  } = props;
  const iconElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (icon === null || icon === undefined) return null;

    switch (icon) {
      case 'success':
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_3__["default"], null);

      case 'fail':
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_4__["default"], null);

      case 'loading':
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_spin_loading__WEBPACK_IMPORTED_MODULE_5__["default"], {
          color: 'white',
          className: `${classPrefix}-loading`
        });

      default:
        return icon;
    }
  }, [icon]);
  const top = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    switch (position) {
      case 'top':
        return '20%';

      case 'bottom':
        return '80%';

      default:
        return '50%';
    }
  }, [position]);
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mask__WEBPACK_IMPORTED_MODULE_6__["default"], {
    visible: props.visible,
    destroyOnClose: true,
    opacity: 0,
    disableBodyScroll: !maskClickable,
    getContainer: props.getContainer,
    afterClose: props.afterClose,
    style: Object.assign({
      pointerEvents: maskClickable ? 'none' : 'auto'
    }, props.maskStyle),
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-mask`, props.maskClassName),
    stopPropagation: props.stopPropagation
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-wrap`)
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    style: {
      top
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${classPrefix}-main`, icon ? `${classPrefix}-main-icon` : `${classPrefix}-main-text`)
  }, iconElement && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-icon`
  }, iconElement), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auto_center__WEBPACK_IMPORTED_MODULE_7__["default"], null, content))));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tree-select/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tree-select/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tree_select_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tree-select.css */ "./node_modules/antd-mobile/es/components/tree-select/tree-select.css");
/* harmony import */ var _tree_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tree-select */ "./node_modules/antd-mobile/es/components/tree-select/tree-select.js");
/* harmony import */ var _utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/attach-properties-to-component */ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js");
/* harmony import */ var _multiple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./multiple */ "./node_modules/antd-mobile/es/components/tree-select/multiple.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_attach_properties_to_component__WEBPACK_IMPORTED_MODULE_1__.attachPropertiesToComponent)(_tree_select__WEBPACK_IMPORTED_MODULE_2__.TreeSelect, {
  Multiple: _multiple__WEBPACK_IMPORTED_MODULE_3__.Multiple
}));

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tree-select/multiple.js":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tree-select/multiple.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Multiple": () => (/* binding */ Multiple)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_tree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/tree */ "./node_modules/antd-mobile/es/utils/tree.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _checkbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../checkbox */ "./node_modules/antd-mobile/es/components/checkbox/index.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var _utils_dev_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");








const classPrefix = `adm-tree-select-multiple`;
const Multiple = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)({
    options: [],
    fieldNames: {},
    allSelectText: [],
    defaultExpandKeys: [],
    defaultValue: []
  }, p);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    (0,_utils_dev_log__WEBPACK_IMPORTED_MODULE_3__.devWarning)('TreeSelect', 'TreeSelect.Multiple has been deprecated.');
  }, []);
  const labelName = props.fieldNames.label || 'label';
  const valueName = props.fieldNames.value || 'value';
  const childrenName = props.fieldNames.children || 'children'; // 打开的 keys

  const [expandKeys, setExpandKeys] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.expandKeys,
    defaultValue: props.defaultExpandKeys
  }); // 选中的 value（聚合后）

  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_4__.usePropsValue)({
    value: props.value,
    defaultValue: props.defaultValue
  }); // 获取目标所有叶子节点 key 集合

  const getLeafKeys = option => {
    const keys = [];

    const walker = op => {
      var _a;

      if (!op) {
        return;
      }

      if ((_a = op[childrenName]) === null || _a === void 0 ? void 0 : _a.length) {
        op[childrenName].forEach(i => walker(i));
      } else {
        keys.push(op[valueName]);
      }
    };

    walker(option);
    return keys;
  };

  const [deep, optionsMap, optionsParentMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const deep = (0,_utils_tree__WEBPACK_IMPORTED_MODULE_5__.getTreeDeep)(props.options, childrenName);
    const optionsMap = new Map();
    const optionsParentMap = new Map();

    function traverse(current, children) {
      children.forEach(item => {
        optionsParentMap.set(item[valueName], current);
        optionsMap.set(item[valueName], item);

        if (item[childrenName]) {
          traverse(item, item[childrenName]);
        }
      });
    }

    traverse(undefined, props.options);
    return [deep, optionsMap, optionsParentMap];
  }, [props.options]); // 将聚合的 value 拆分开，获得叶子节点的 value 集合

  const allSelectedLeafKeys = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    let leafKeys = [];
    value.forEach(v => {
      const option = optionsMap.get(v);
      leafKeys = leafKeys.concat(getLeafKeys(option));
    });
    return leafKeys;
  }, [value, optionsMap]); // 子级有被选中的节点集合

  const dotMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const map = new Map(); // 遍历 allChildrenValues, 向上递归

    const walker = key => {
      const parentOption = optionsParentMap.get(key);

      if (!parentOption) {
        return;
      }

      map.set(parentOption[valueName], true);
      walker(parentOption[valueName]);
    };

    allSelectedLeafKeys.forEach(key => {
      map.set(key, true);
      walker(key);
    });
    return map;
  }, [optionsParentMap, value]);

  const onChange = targetKeys => {
    var _a;

    let groupKeys = [...targetKeys];
    let unusedKeys = [];

    const walker = keys => {
      keys.forEach(key => {
        var _a;

        if (unusedKeys.includes(key)) {
          return;
        }

        const parent = optionsParentMap.get(key);

        if (!parent) {
          return;
        }

        const childrenKeys = ((_a = parent[childrenName]) === null || _a === void 0 ? void 0 : _a.map(i => i[valueName])) || [];

        if (childrenKeys.every(i => groupKeys.includes(i))) {
          groupKeys.push(parent[valueName]);
          unusedKeys = unusedKeys.concat(childrenKeys);
        }
      });
    }; // 遍历 deep 次 groupKeys，每次往上聚合一层


    for (let i = 0; i < deep; i++) {
      walker(groupKeys);
    }

    groupKeys = groupKeys.filter(i => !unusedKeys.includes(i));
    const groupOptions = groupKeys.map(i => optionsMap.get(i));
    setValue(groupKeys);
    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, groupKeys, groupOptions);
  };

  const onItemSelect = option => {
    var _a;

    const parentNodes = [];
    let current = option;

    while (current) {
      parentNodes.unshift(current);
      const next = optionsParentMap.get(current[valueName]);
      current = next;
    }

    const keys = parentNodes.map(i => i[valueName]);
    setExpandKeys(keys);
    (_a = props.onExpand) === null || _a === void 0 ? void 0 : _a.call(props, keys, parentNodes);
  }; // 渲染全选节点


  const renderSelectAllItem = (columnOptions, index) => {
    var _a;

    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];

    if (!text) {
      return;
    }

    let currentLeafKeys = [];
    columnOptions.forEach(option => {
      currentLeafKeys = currentLeafKeys.concat(getLeafKeys(option));
    });
    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      onClick: () => {
        if (allSelected) {
          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));
        } else {
          onChange(allSelectedLeafKeys.concat(currentLeafKeys));
        }
      },
      className: `${classPrefix}-item`
    }, text);
  }; // 渲染


  const renderSelectAllLeafItem = (columnOptions, index) => {
    var _a;

    const text = (_a = props.selectAllText) === null || _a === void 0 ? void 0 : _a[index];

    if (!text) {
      return;
    }

    const currentLeafKeys = columnOptions.map(i => i[valueName]);
    const allSelected = currentLeafKeys.every(i => allSelectedLeafKeys.includes(i));
    const halfSelected = allSelected ? false : currentLeafKeys.some(i => allSelectedLeafKeys.includes(i));
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      onClick: () => {
        if (allSelected) {
          onChange(allSelectedLeafKeys.filter(i => !currentLeafKeys.includes(i)));
        } else {
          onChange(allSelectedLeafKeys.concat(currentLeafKeys));
        }
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-item`, `${classPrefix}-item-leaf`)
    }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_checkbox__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: `${classPrefix}-item-checkbox`,
      checked: allSelected,
      indeterminate: halfSelected
    }), text);
  }; // 渲染节点


  const renderItem = option => {
    const isExpand = expandKeys.includes(option[valueName]);
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      key: option[valueName],
      onClick: () => {
        if (!isExpand) {
          onItemSelect(option);
        }
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-item`, {
        [`${classPrefix}-item-expand`]: isExpand
      })
    }, option[labelName], !!dotMap.get(option[valueName]) && react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      className: `${classPrefix}-dot`
    }));
  }; // 渲染叶子节点


  const renderLeafItem = option => {
    const isSelected = allSelectedLeafKeys.includes(option[valueName]);
    return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
      key: option[valueName],
      onClick: () => {
        if (isSelected) {
          onChange(allSelectedLeafKeys.filter(val => val !== option[valueName]));
        } else {
          onChange([...allSelectedLeafKeys, option[valueName]]);
        }
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-item`, `${classPrefix}-item-leaf`)
    }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_checkbox__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: `${classPrefix}-item-checkbox`,
      checked: isSelected
    }), option[labelName]);
  };

  const renderItems = (columnOptions = [], index) => {
    if (columnOptions.length === 0) {
      return;
    }

    const isLeaf = deep === index + 1;

    if (isLeaf) {
      return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, renderSelectAllLeafItem(columnOptions, index), columnOptions.map(option => {
        return renderLeafItem(option);
      }));
    }

    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, renderSelectAllItem(columnOptions, index), columnOptions.map(option => {
      return renderItem(option);
    }));
  };

  const renderColumns = () => {
    var _a;

    const columns = [];

    for (let i = 0; i < deep; i++) {
      let width = `${100 / deep}%`; // 两列的第一列宽度为 33.33，两列的第二列为 66.67%

      if (deep === 2 && i === 0) {
        width = `33.33%`;
      }

      if (deep === 2 && i === 1) {
        width = `66.67%`;
      }

      const column = react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
        key: i,
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-column`),
        style: {
          width
        }
      }, renderItems(i === 0 ? props.options : (_a = optionsMap.get(expandKeys[i - 1])) === null || _a === void 0 ? void 0 : _a[childrenName], i));
      columns.push(column);
    }

    return columns;
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_7__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classPrefix
  }, renderColumns()));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tree-select/tree-select.js":
/*!***************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tree-select/tree-select.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TreeSelect": () => (/* binding */ TreeSelect)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/tree */ "./node_modules/antd-mobile/es/utils/tree.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");






const classPrefix = `adm-tree-select`;
const defaultProps = {
  options: [],
  fieldNames: {},
  defaultValue: []
};
const TreeSelect = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const labelName = props.fieldNames.label || 'label';
  const valueName = props.fieldNames.value || 'value';
  const childrenName = props.fieldNames.children || 'children';
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)({
    value: props.value,
    defaultValue: props.defaultValue
  });
  const [deep, optionsMap, optionsParentMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const deep = (0,_utils_tree__WEBPACK_IMPORTED_MODULE_4__.getTreeDeep)(props.options, childrenName);
    const optionsMap = new Map();
    const optionsParentMap = new Map();

    function traverse(current, children) {
      children.forEach(item => {
        optionsParentMap.set(item[valueName], current);
        optionsMap.set(item[valueName], item);

        if (item[childrenName]) {
          traverse(item, item[childrenName]);
        }
      });
    }

    traverse(undefined, props.options);
    return [deep, optionsMap, optionsParentMap];
  }, [props.options]);

  const onItemSelect = node => {
    var _a; // 找到父级节点


    const parentNodes = [];
    let current = node;

    while (current) {
      parentNodes.unshift(current);
      const next = optionsParentMap.get(current[valueName]);
      current = next;
    }

    const values = parentNodes.map(i => i[valueName]);
    setValue(values);
    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, values, {
      options: parentNodes
    });
  };

  const renderItems = (columnOptions = [], index) => {
    return columnOptions.map(item => {
      const isActive = item[valueName] === value[index];
      return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
        key: item[valueName],
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-item`, {
          [`${classPrefix}-item-active`]: isActive
        }),
        onClick: () => {
          if (!isActive) {
            onItemSelect(item);
          }
        }
      }, item[labelName]);
    });
  };

  const renderColumns = () => {
    var _a;

    const columns = [];

    for (let i = 0; i < deep; i++) {
      let width = `${100 / deep}%`; // 两列的第一列宽度为 33.33，两列的第二列为 66.67%

      if (deep === 2 && i === 0) {
        width = `33.33%`;
      }

      if (deep === 2 && i === 1) {
        width = `66.67%`;
      }

      const column = react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
        key: i,
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${classPrefix}-column`),
        style: {
          width
        }
      }, renderItems(i === 0 ? props.options : (_a = optionsMap.get(value[i - 1])) === null || _a === void 0 ? void 0 : _a[childrenName], i));
      columns.push(column);
    }

    return columns;
  };

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_5__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classPrefix
  }, renderColumns()));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/virtual-input/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/virtual-input/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _virtual_input_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./virtual-input.css */ "./node_modules/antd-mobile/es/components/virtual-input/virtual-input.css");
/* harmony import */ var _virtual_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./virtual-input */ "./node_modules/antd-mobile/es/components/virtual-input/virtual-input.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_virtual_input__WEBPACK_IMPORTED_MODULE_1__.VirtualInput);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/virtual-input/virtual-input.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/virtual-input/virtual-input.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VirtualInput": () => (/* binding */ VirtualInput)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");
/* harmony import */ var _utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/use-props-value */ "./node_modules/antd-mobile/es/utils/use-props-value.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd-mobile-icons */ "./node_modules/antd-mobile-icons/es/CloseCircleFill.js");






const classPrefix = 'adm-virtual-input';
const defaultProps = {
  defaultValue: ''
};
const VirtualInput = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((p, ref) => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const [value, setValue] = (0,_utils_use_props_value__WEBPACK_IMPORTED_MODULE_3__.usePropsValue)(props);
  const rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const contentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [hasFocus, setHasFocus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  function scrollToEnd() {
    const root = rootRef.current;
    if (!root) return;

    if (document.activeElement !== root) {
      return;
    }

    const content = contentRef.current;
    if (!content) return;
    content.scrollLeft = content.clientWidth;
  }

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    scrollToEnd();
  }, [value]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (hasFocus) {
      scrollToEnd();
    }
  }, [hasFocus]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({
    focus: () => {
      var _a;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.focus();
    },
    blur: () => {
      var _a;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  }));

  function onFocus() {
    var _a;

    setHasFocus(true);
    (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props);
  }

  function onBlur() {
    var _a;

    setHasFocus(false);
    (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props);
  }

  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_4__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: rootRef,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classPrefix, {
      [`${classPrefix}-disabled`]: props.disabled
    }),
    tabIndex: props.disabled ? undefined : 0,
    onFocus: onFocus,
    onBlur: onBlur,
    onClick: props.onClick
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-content`,
    ref: contentRef
  }, value, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-caret-container`
  }, hasFocus && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-caret`
  }))), props.clearable && !!value && hasFocus && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-clear`,
    onClick: e => {
      var _a;

      e.stopPropagation();
      setValue('');
      (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd_mobile_icons__WEBPACK_IMPORTED_MODULE_5__["default"], null)), !value && react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    className: `${classPrefix}-placeholder`
  }, props.placeholder), props.keyboard && react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(props.keyboard, {
    onInput: v => {
      setValue(value + v);
    },
    onDelete: () => {
      setValue(value.slice(0, -1));
    },
    visible: hasFocus,
    onClose: () => {
      var _a;

      (_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.blur();
    }
  })));
});

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/water-mark/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/water-mark/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _water_mark_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./water-mark.css */ "./node_modules/antd-mobile/es/components/water-mark/water-mark.css");
/* harmony import */ var _water_mark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./water-mark */ "./node_modules/antd-mobile/es/components/water-mark/water-mark.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_water_mark__WEBPACK_IMPORTED_MODULE_1__.WaterMark);

/***/ }),

/***/ "./node_modules/antd-mobile/es/components/water-mark/water-mark.js":
/*!*************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/water-mark/water-mark.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaterMark": () => (/* binding */ WaterMark)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_native_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/native-props */ "./node_modules/antd-mobile/es/utils/native-props.js");
/* harmony import */ var _utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/with-default-props */ "./node_modules/antd-mobile/es/utils/with-default-props.js");




const classPrefix = `adm-water-mark`;
const defaultProps = {
  fullPage: true
};
const WaterMark = p => {
  const props = (0,_utils_with_default_props__WEBPACK_IMPORTED_MODULE_2__.mergeProps)(defaultProps, p);
  const {
    zIndex = 2000,
    gapX = 24,
    gapY = 48,
    width = 120,
    height = 64,
    rotate = -22,
    image,
    imageWidth = 120,
    imageHeight = 64,
    content,
    fontStyle = 'normal',
    fontWeight = 'normal',
    fontColor = 'rgba(0,0,0,.15)',
    fontSize = 14,
    fontFamily = 'sans-serif'
  } = props;
  const [base64Url, setBase64Url] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const canvas = document.createElement('canvas');
    const ratio = window.devicePixelRatio;
    const ctx = canvas.getContext('2d');
    const canvasWidth = `${(gapX + width) * ratio}px`;
    const canvasHeight = `${(gapY + height) * ratio}px`;
    const markWidth = width * ratio;
    const markHeight = height * ratio;
    canvas.setAttribute('width', canvasWidth);
    canvas.setAttribute('height', canvasHeight);

    if (ctx) {
      if (image) {
        ctx.translate(markWidth / 2, markHeight / 2);
        ctx.rotate(Math.PI / 180 * Number(rotate));
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.referrerPolicy = 'no-referrer';
        img.src = image;

        img.onload = () => {
          ctx.drawImage(img, -imageWidth * ratio / 2, -imageHeight * ratio / 2, imageWidth * ratio, imageHeight * ratio);
          ctx.restore();
          setBase64Url(canvas.toDataURL());
        };
      } else if (content) {
        ctx.textBaseline = 'middle';
        ctx.textAlign = 'center'; // 文字绕中间旋转

        ctx.translate(markWidth / 2, markHeight / 2);
        ctx.rotate(Math.PI / 180 * Number(rotate));
        const markSize = Number(fontSize) * ratio;
        ctx.font = `${fontStyle} normal ${fontWeight} ${markSize}px/${markHeight}px ${fontFamily}`;
        ctx.fillStyle = fontColor;
        ctx.fillText(content, 0, 0);
        ctx.restore();
        setBase64Url(canvas.toDataURL());
      }
    } else {
      throw new Error('当前环境不支持Canvas');
    }
  }, [gapX, gapY, rotate, fontStyle, fontWeight, width, height, fontFamily, fontColor, image, content, fontSize]);
  return (0,_utils_native_props__WEBPACK_IMPORTED_MODULE_3__.withNativeProps)(props, react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(classPrefix, {
      [`${classPrefix}-full-page`]: props.fullPage
    }),
    style: {
      zIndex,
      backgroundSize: `${gapX + width}px`,
      backgroundImage: `url('${base64Url}')`
    }
  }));
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/global/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/antd-mobile/es/global/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _global_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global.css */ "./node_modules/antd-mobile/es/global/global.css");
/* harmony import */ var _utils_can_use_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/can-use-dom */ "./node_modules/antd-mobile/es/utils/can-use-dom.js");



if (_utils_can_use_dom__WEBPACK_IMPORTED_MODULE_1__.canUseDom) {
  document.addEventListener('touchstart', () => {}, true);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/index.js":
/*!**********************************************!*\
  !*** ./node_modules/antd-mobile/es/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setDefaultConfig": () => (/* reexport safe */ _components_config_provider__WEBPACK_IMPORTED_MODULE_1__.setDefaultConfig),
/* harmony export */   "ActionSheet": () => (/* reexport safe */ _components_action_sheet__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "AutoCenter": () => (/* reexport safe */ _components_auto_center__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "Avatar": () => (/* reexport safe */ _components_avatar__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "Badge": () => (/* reexport safe */ _components_badge__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "Button": () => (/* reexport safe */ _components_button__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   "Calendar": () => (/* reexport safe */ _components_calendar__WEBPACK_IMPORTED_MODULE_7__["default"]),
/* harmony export */   "CapsuleTabs": () => (/* reexport safe */ _components_capsule_tabs__WEBPACK_IMPORTED_MODULE_8__["default"]),
/* harmony export */   "Card": () => (/* reexport safe */ _components_card__WEBPACK_IMPORTED_MODULE_9__["default"]),
/* harmony export */   "CascadePicker": () => (/* reexport safe */ _components_cascade_picker__WEBPACK_IMPORTED_MODULE_10__["default"]),
/* harmony export */   "CascadePickerView": () => (/* reexport safe */ _components_cascade_picker_view__WEBPACK_IMPORTED_MODULE_11__["default"]),
/* harmony export */   "Cascader": () => (/* reexport safe */ _components_cascader__WEBPACK_IMPORTED_MODULE_12__["default"]),
/* harmony export */   "CascaderView": () => (/* reexport safe */ _components_cascader_view__WEBPACK_IMPORTED_MODULE_13__["default"]),
/* harmony export */   "CheckList": () => (/* reexport safe */ _components_check_list__WEBPACK_IMPORTED_MODULE_14__["default"]),
/* harmony export */   "Checkbox": () => (/* reexport safe */ _components_checkbox__WEBPACK_IMPORTED_MODULE_15__["default"]),
/* harmony export */   "Collapse": () => (/* reexport safe */ _components_collapse__WEBPACK_IMPORTED_MODULE_16__["default"]),
/* harmony export */   "ConfigProvider": () => (/* reexport safe */ _components_config_provider__WEBPACK_IMPORTED_MODULE_17__["default"]),
/* harmony export */   "DatePicker": () => (/* reexport safe */ _components_date_picker__WEBPACK_IMPORTED_MODULE_18__["default"]),
/* harmony export */   "DatePickerView": () => (/* reexport safe */ _components_date_picker_view__WEBPACK_IMPORTED_MODULE_19__["default"]),
/* harmony export */   "Dialog": () => (/* reexport safe */ _components_dialog__WEBPACK_IMPORTED_MODULE_20__["default"]),
/* harmony export */   "Divider": () => (/* reexport safe */ _components_divider__WEBPACK_IMPORTED_MODULE_21__["default"]),
/* harmony export */   "DotLoading": () => (/* reexport safe */ _components_dot_loading__WEBPACK_IMPORTED_MODULE_22__["default"]),
/* harmony export */   "Dropdown": () => (/* reexport safe */ _components_dropdown__WEBPACK_IMPORTED_MODULE_23__["default"]),
/* harmony export */   "Ellipsis": () => (/* reexport safe */ _components_ellipsis__WEBPACK_IMPORTED_MODULE_24__["default"]),
/* harmony export */   "Empty": () => (/* reexport safe */ _components_empty__WEBPACK_IMPORTED_MODULE_25__["default"]),
/* harmony export */   "ErrorBlock": () => (/* reexport safe */ _components_error_block__WEBPACK_IMPORTED_MODULE_26__["default"]),
/* harmony export */   "FloatingBubble": () => (/* reexport safe */ _components_floating_bubble__WEBPACK_IMPORTED_MODULE_27__["default"]),
/* harmony export */   "FloatingPanel": () => (/* reexport safe */ _components_floating_panel__WEBPACK_IMPORTED_MODULE_28__["default"]),
/* harmony export */   "Form": () => (/* reexport safe */ _components_form__WEBPACK_IMPORTED_MODULE_29__["default"]),
/* harmony export */   "Grid": () => (/* reexport safe */ _components_grid__WEBPACK_IMPORTED_MODULE_30__["default"]),
/* harmony export */   "Image": () => (/* reexport safe */ _components_image__WEBPACK_IMPORTED_MODULE_31__["default"]),
/* harmony export */   "ImageUploader": () => (/* reexport safe */ _components_image_uploader__WEBPACK_IMPORTED_MODULE_32__["default"]),
/* harmony export */   "ImageViewer": () => (/* reexport safe */ _components_image_viewer__WEBPACK_IMPORTED_MODULE_33__["default"]),
/* harmony export */   "IndexBar": () => (/* reexport safe */ _components_index_bar__WEBPACK_IMPORTED_MODULE_34__["default"]),
/* harmony export */   "InfiniteScroll": () => (/* reexport safe */ _components_infinite_scroll__WEBPACK_IMPORTED_MODULE_35__["default"]),
/* harmony export */   "Input": () => (/* reexport safe */ _components_input__WEBPACK_IMPORTED_MODULE_36__["default"]),
/* harmony export */   "JumboTabs": () => (/* reexport safe */ _components_jumbo_tabs__WEBPACK_IMPORTED_MODULE_37__["default"]),
/* harmony export */   "List": () => (/* reexport safe */ _components_list__WEBPACK_IMPORTED_MODULE_38__["default"]),
/* harmony export */   "Loading": () => (/* reexport safe */ _components_loading__WEBPACK_IMPORTED_MODULE_39__["default"]),
/* harmony export */   "Mask": () => (/* reexport safe */ _components_mask__WEBPACK_IMPORTED_MODULE_40__["default"]),
/* harmony export */   "Modal": () => (/* reexport safe */ _components_modal__WEBPACK_IMPORTED_MODULE_41__["default"]),
/* harmony export */   "NavBar": () => (/* reexport safe */ _components_nav_bar__WEBPACK_IMPORTED_MODULE_42__["default"]),
/* harmony export */   "NoticeBar": () => (/* reexport safe */ _components_notice_bar__WEBPACK_IMPORTED_MODULE_43__["default"]),
/* harmony export */   "NumberKeyboard": () => (/* reexport safe */ _components_number_keyboard__WEBPACK_IMPORTED_MODULE_44__["default"]),
/* harmony export */   "PageIndicator": () => (/* reexport safe */ _components_page_indicator__WEBPACK_IMPORTED_MODULE_45__["default"]),
/* harmony export */   "PasscodeInput": () => (/* reexport safe */ _components_passcode_input__WEBPACK_IMPORTED_MODULE_46__["default"]),
/* harmony export */   "Picker": () => (/* reexport safe */ _components_picker__WEBPACK_IMPORTED_MODULE_47__["default"]),
/* harmony export */   "PickerView": () => (/* reexport safe */ _components_picker_view__WEBPACK_IMPORTED_MODULE_48__["default"]),
/* harmony export */   "Popover": () => (/* reexport safe */ _components_popover__WEBPACK_IMPORTED_MODULE_49__["default"]),
/* harmony export */   "Popup": () => (/* reexport safe */ _components_popup__WEBPACK_IMPORTED_MODULE_50__["default"]),
/* harmony export */   "ProgressBar": () => (/* reexport safe */ _components_progress_bar__WEBPACK_IMPORTED_MODULE_51__["default"]),
/* harmony export */   "ProgressCircle": () => (/* reexport safe */ _components_progress_circle__WEBPACK_IMPORTED_MODULE_52__["default"]),
/* harmony export */   "PullToRefresh": () => (/* reexport safe */ _components_pull_to_refresh__WEBPACK_IMPORTED_MODULE_53__["default"]),
/* harmony export */   "Radio": () => (/* reexport safe */ _components_radio__WEBPACK_IMPORTED_MODULE_54__["default"]),
/* harmony export */   "Rate": () => (/* reexport safe */ _components_rate__WEBPACK_IMPORTED_MODULE_55__["default"]),
/* harmony export */   "Result": () => (/* reexport safe */ _components_result__WEBPACK_IMPORTED_MODULE_56__["default"]),
/* harmony export */   "SafeArea": () => (/* reexport safe */ _components_safe_area__WEBPACK_IMPORTED_MODULE_57__["default"]),
/* harmony export */   "ScrollMask": () => (/* reexport safe */ _components_scroll_mask__WEBPACK_IMPORTED_MODULE_58__["default"]),
/* harmony export */   "SearchBar": () => (/* reexport safe */ _components_search_bar__WEBPACK_IMPORTED_MODULE_59__["default"]),
/* harmony export */   "Selector": () => (/* reexport safe */ _components_selector__WEBPACK_IMPORTED_MODULE_60__["default"]),
/* harmony export */   "SideBar": () => (/* reexport safe */ _components_side_bar__WEBPACK_IMPORTED_MODULE_61__["default"]),
/* harmony export */   "Skeleton": () => (/* reexport safe */ _components_skeleton__WEBPACK_IMPORTED_MODULE_62__["default"]),
/* harmony export */   "Slider": () => (/* reexport safe */ _components_slider__WEBPACK_IMPORTED_MODULE_63__["default"]),
/* harmony export */   "Space": () => (/* reexport safe */ _components_space__WEBPACK_IMPORTED_MODULE_64__["default"]),
/* harmony export */   "SpinLoading": () => (/* reexport safe */ _components_spin_loading__WEBPACK_IMPORTED_MODULE_65__["default"]),
/* harmony export */   "Stepper": () => (/* reexport safe */ _components_stepper__WEBPACK_IMPORTED_MODULE_66__["default"]),
/* harmony export */   "Steps": () => (/* reexport safe */ _components_steps__WEBPACK_IMPORTED_MODULE_67__["default"]),
/* harmony export */   "SwipeAction": () => (/* reexport safe */ _components_swipe_action__WEBPACK_IMPORTED_MODULE_68__["default"]),
/* harmony export */   "Swiper": () => (/* reexport safe */ _components_swiper__WEBPACK_IMPORTED_MODULE_69__["default"]),
/* harmony export */   "Switch": () => (/* reexport safe */ _components_switch__WEBPACK_IMPORTED_MODULE_70__["default"]),
/* harmony export */   "TabBar": () => (/* reexport safe */ _components_tab_bar__WEBPACK_IMPORTED_MODULE_71__["default"]),
/* harmony export */   "Tabs": () => (/* reexport safe */ _components_tabs__WEBPACK_IMPORTED_MODULE_72__["default"]),
/* harmony export */   "Tag": () => (/* reexport safe */ _components_tag__WEBPACK_IMPORTED_MODULE_73__["default"]),
/* harmony export */   "TextArea": () => (/* reexport safe */ _components_text_area__WEBPACK_IMPORTED_MODULE_74__["default"]),
/* harmony export */   "Toast": () => (/* reexport safe */ _components_toast__WEBPACK_IMPORTED_MODULE_75__["default"]),
/* harmony export */   "TreeSelect": () => (/* reexport safe */ _components_tree_select__WEBPACK_IMPORTED_MODULE_76__["default"]),
/* harmony export */   "VirtualInput": () => (/* reexport safe */ _components_virtual_input__WEBPACK_IMPORTED_MODULE_77__["default"]),
/* harmony export */   "WaterMark": () => (/* reexport safe */ _components_water_mark__WEBPACK_IMPORTED_MODULE_78__["default"])
/* harmony export */ });
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global */ "./node_modules/antd-mobile/es/global/index.js");
/* harmony import */ var _components_config_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/config-provider */ "./node_modules/antd-mobile/es/components/config-provider/config-provider.js");
/* harmony import */ var _components_action_sheet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/action-sheet */ "./node_modules/antd-mobile/es/components/action-sheet/index.js");
/* harmony import */ var _components_auto_center__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/auto-center */ "./node_modules/antd-mobile/es/components/auto-center/index.js");
/* harmony import */ var _components_avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/avatar */ "./node_modules/antd-mobile/es/components/avatar/index.js");
/* harmony import */ var _components_badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/badge */ "./node_modules/antd-mobile/es/components/badge/index.js");
/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/button */ "./node_modules/antd-mobile/es/components/button/index.js");
/* harmony import */ var _components_calendar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/calendar */ "./node_modules/antd-mobile/es/components/calendar/index.js");
/* harmony import */ var _components_capsule_tabs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/capsule-tabs */ "./node_modules/antd-mobile/es/components/capsule-tabs/index.js");
/* harmony import */ var _components_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/card */ "./node_modules/antd-mobile/es/components/card/index.js");
/* harmony import */ var _components_cascade_picker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/cascade-picker */ "./node_modules/antd-mobile/es/components/cascade-picker/index.js");
/* harmony import */ var _components_cascade_picker_view__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/cascade-picker-view */ "./node_modules/antd-mobile/es/components/cascade-picker-view/index.js");
/* harmony import */ var _components_cascader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/cascader */ "./node_modules/antd-mobile/es/components/cascader/index.js");
/* harmony import */ var _components_cascader_view__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/cascader-view */ "./node_modules/antd-mobile/es/components/cascader-view/index.js");
/* harmony import */ var _components_check_list__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/check-list */ "./node_modules/antd-mobile/es/components/check-list/index.js");
/* harmony import */ var _components_checkbox__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/checkbox */ "./node_modules/antd-mobile/es/components/checkbox/index.js");
/* harmony import */ var _components_collapse__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/collapse */ "./node_modules/antd-mobile/es/components/collapse/index.js");
/* harmony import */ var _components_config_provider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/config-provider */ "./node_modules/antd-mobile/es/components/config-provider/index.js");
/* harmony import */ var _components_date_picker__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/date-picker */ "./node_modules/antd-mobile/es/components/date-picker/index.js");
/* harmony import */ var _components_date_picker_view__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/date-picker-view */ "./node_modules/antd-mobile/es/components/date-picker-view/index.js");
/* harmony import */ var _components_dialog__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/dialog */ "./node_modules/antd-mobile/es/components/dialog/index.js");
/* harmony import */ var _components_divider__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/divider */ "./node_modules/antd-mobile/es/components/divider/index.js");
/* harmony import */ var _components_dot_loading__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/dot-loading */ "./node_modules/antd-mobile/es/components/dot-loading/index.js");
/* harmony import */ var _components_dropdown__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/dropdown */ "./node_modules/antd-mobile/es/components/dropdown/index.js");
/* harmony import */ var _components_ellipsis__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/ellipsis */ "./node_modules/antd-mobile/es/components/ellipsis/index.js");
/* harmony import */ var _components_empty__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/empty */ "./node_modules/antd-mobile/es/components/empty/index.js");
/* harmony import */ var _components_error_block__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/error-block */ "./node_modules/antd-mobile/es/components/error-block/index.js");
/* harmony import */ var _components_floating_bubble__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/floating-bubble */ "./node_modules/antd-mobile/es/components/floating-bubble/index.js");
/* harmony import */ var _components_floating_panel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/floating-panel */ "./node_modules/antd-mobile/es/components/floating-panel/index.js");
/* harmony import */ var _components_form__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/form */ "./node_modules/antd-mobile/es/components/form/index.js");
/* harmony import */ var _components_grid__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/grid */ "./node_modules/antd-mobile/es/components/grid/index.js");
/* harmony import */ var _components_image__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/image */ "./node_modules/antd-mobile/es/components/image/index.js");
/* harmony import */ var _components_image_uploader__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/image-uploader */ "./node_modules/antd-mobile/es/components/image-uploader/index.js");
/* harmony import */ var _components_image_viewer__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/image-viewer */ "./node_modules/antd-mobile/es/components/image-viewer/index.js");
/* harmony import */ var _components_index_bar__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/index-bar */ "./node_modules/antd-mobile/es/components/index-bar/index.js");
/* harmony import */ var _components_infinite_scroll__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/infinite-scroll */ "./node_modules/antd-mobile/es/components/infinite-scroll/index.js");
/* harmony import */ var _components_input__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/input */ "./node_modules/antd-mobile/es/components/input/index.js");
/* harmony import */ var _components_jumbo_tabs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/jumbo-tabs */ "./node_modules/antd-mobile/es/components/jumbo-tabs/index.js");
/* harmony import */ var _components_list__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/list */ "./node_modules/antd-mobile/es/components/list/index.js");
/* harmony import */ var _components_loading__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/loading */ "./node_modules/antd-mobile/es/components/loading/index.js");
/* harmony import */ var _components_mask__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/mask */ "./node_modules/antd-mobile/es/components/mask/index.js");
/* harmony import */ var _components_modal__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/modal */ "./node_modules/antd-mobile/es/components/modal/index.js");
/* harmony import */ var _components_nav_bar__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/nav-bar */ "./node_modules/antd-mobile/es/components/nav-bar/index.js");
/* harmony import */ var _components_notice_bar__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/notice-bar */ "./node_modules/antd-mobile/es/components/notice-bar/index.js");
/* harmony import */ var _components_number_keyboard__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/number-keyboard */ "./node_modules/antd-mobile/es/components/number-keyboard/index.js");
/* harmony import */ var _components_page_indicator__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/page-indicator */ "./node_modules/antd-mobile/es/components/page-indicator/index.js");
/* harmony import */ var _components_passcode_input__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/passcode-input */ "./node_modules/antd-mobile/es/components/passcode-input/index.js");
/* harmony import */ var _components_picker__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/picker */ "./node_modules/antd-mobile/es/components/picker/index.js");
/* harmony import */ var _components_picker_view__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/picker-view */ "./node_modules/antd-mobile/es/components/picker-view/index.js");
/* harmony import */ var _components_popover__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./components/popover */ "./node_modules/antd-mobile/es/components/popover/index.js");
/* harmony import */ var _components_popup__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./components/popup */ "./node_modules/antd-mobile/es/components/popup/index.js");
/* harmony import */ var _components_progress_bar__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./components/progress-bar */ "./node_modules/antd-mobile/es/components/progress-bar/index.js");
/* harmony import */ var _components_progress_circle__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./components/progress-circle */ "./node_modules/antd-mobile/es/components/progress-circle/index.js");
/* harmony import */ var _components_pull_to_refresh__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./components/pull-to-refresh */ "./node_modules/antd-mobile/es/components/pull-to-refresh/index.js");
/* harmony import */ var _components_radio__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./components/radio */ "./node_modules/antd-mobile/es/components/radio/index.js");
/* harmony import */ var _components_rate__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./components/rate */ "./node_modules/antd-mobile/es/components/rate/index.js");
/* harmony import */ var _components_result__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./components/result */ "./node_modules/antd-mobile/es/components/result/index.js");
/* harmony import */ var _components_safe_area__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./components/safe-area */ "./node_modules/antd-mobile/es/components/safe-area/index.js");
/* harmony import */ var _components_scroll_mask__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./components/scroll-mask */ "./node_modules/antd-mobile/es/components/scroll-mask/index.js");
/* harmony import */ var _components_search_bar__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./components/search-bar */ "./node_modules/antd-mobile/es/components/search-bar/index.js");
/* harmony import */ var _components_selector__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./components/selector */ "./node_modules/antd-mobile/es/components/selector/index.js");
/* harmony import */ var _components_side_bar__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./components/side-bar */ "./node_modules/antd-mobile/es/components/side-bar/index.js");
/* harmony import */ var _components_skeleton__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./components/skeleton */ "./node_modules/antd-mobile/es/components/skeleton/index.js");
/* harmony import */ var _components_slider__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./components/slider */ "./node_modules/antd-mobile/es/components/slider/index.js");
/* harmony import */ var _components_space__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./components/space */ "./node_modules/antd-mobile/es/components/space/index.js");
/* harmony import */ var _components_spin_loading__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./components/spin-loading */ "./node_modules/antd-mobile/es/components/spin-loading/index.js");
/* harmony import */ var _components_stepper__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./components//stepper */ "./node_modules/antd-mobile/es/components/stepper/index.js");
/* harmony import */ var _components_steps__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./components/steps */ "./node_modules/antd-mobile/es/components/steps/index.js");
/* harmony import */ var _components_swipe_action__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./components/swipe-action */ "./node_modules/antd-mobile/es/components/swipe-action/index.js");
/* harmony import */ var _components_swiper__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./components/swiper */ "./node_modules/antd-mobile/es/components/swiper/index.js");
/* harmony import */ var _components_switch__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./components/switch */ "./node_modules/antd-mobile/es/components/switch/index.js");
/* harmony import */ var _components_tab_bar__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./components/tab-bar */ "./node_modules/antd-mobile/es/components/tab-bar/index.js");
/* harmony import */ var _components_tabs__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./components/tabs */ "./node_modules/antd-mobile/es/components/tabs/index.js");
/* harmony import */ var _components_tag__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./components/tag */ "./node_modules/antd-mobile/es/components/tag/index.js");
/* harmony import */ var _components_text_area__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./components/text-area */ "./node_modules/antd-mobile/es/components/text-area/index.js");
/* harmony import */ var _components_toast__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./components/toast */ "./node_modules/antd-mobile/es/components/toast/index.js");
/* harmony import */ var _components_tree_select__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./components/tree-select */ "./node_modules/antd-mobile/es/components/tree-select/index.js");
/* harmony import */ var _components_virtual_input__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./components/virtual-input */ "./node_modules/antd-mobile/es/components/virtual-input/index.js");
/* harmony import */ var _components_water_mark__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./components/water-mark */ "./node_modules/antd-mobile/es/components/water-mark/index.js");
















































































/***/ }),

/***/ "./node_modules/antd-mobile/es/locales/base.js":
/*!*****************************************************!*\
  !*** ./node_modules/antd-mobile/es/locales/base.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "base": () => (/* binding */ base)
/* harmony export */ });
const base = {
  common: {
    confirm: 'Confirm',
    cancel: 'Cancel'
  },
  Calendar: {
    markItems: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    renderYearAndMonth: (year, month) => `${year}/${month}`
  },
  Cascader: {
    placeholder: 'Selecting'
  },
  Dialog: {
    ok: 'OK'
  },
  ErrorBlock: {
    default: {
      title: 'Oops, something went wrong',
      description: 'Please wait a minute and try again'
    },
    busy: {
      title: 'Oops, not loading',
      description: 'Try to refresh the page'
    },
    disconnected: {
      title: 'Network is busy',
      description: 'Try to refresh the page'
    },
    empty: {
      title: "Hmm, couldn't find that...",
      description: 'Want to try a new search?'
    }
  },
  ImageUploader: {
    uploading: 'Uploading...'
  },
  Mask: {
    name: 'Mask'
  },
  Modal: {
    ok: 'OK'
  }
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/locales/en-US.js":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/locales/en-US.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_merge_locale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/merge-locale */ "./node_modules/antd-mobile/es/utils/merge-locale.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./node_modules/antd-mobile/es/locales/base.js");


const enUS = (0,_utils_merge_locale__WEBPACK_IMPORTED_MODULE_0__.mergeLocale)(_base__WEBPACK_IMPORTED_MODULE_1__.base, {});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (enUS);

/***/ }),

/***/ "./node_modules/antd-mobile/es/locales/zh-CN.js":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/locales/zh-CN.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_merge_locale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/merge-locale */ "./node_modules/antd-mobile/es/utils/merge-locale.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./node_modules/antd-mobile/es/locales/base.js");


const zhCN = (0,_utils_merge_locale__WEBPACK_IMPORTED_MODULE_0__.mergeLocale)(_base__WEBPACK_IMPORTED_MODULE_1__.base, {
  common: {
    confirm: '确定',
    cancel: '取消'
  },
  Calendar: {
    markItems: ['一', '二', '三', '四', '五', '六', '日'],
    renderYearAndMonth: (year, month) => `${year}年${month}月`
  },
  Cascader: {
    placeholder: '请选择'
  },
  Dialog: {
    ok: '我知道了'
  },
  ErrorBlock: {
    default: {
      title: '页面遇到一些小问题',
      description: '待会来试试'
    },
    busy: {
      title: '前方拥堵',
      description: '刷新试试'
    },
    disconnected: {
      title: '网络有点忙',
      description: '动动手指帮忙修复'
    },
    empty: {
      title: '没有找到你需要的东西',
      description: '找找其他的吧'
    }
  },
  ImageUploader: {
    uploading: '上传中...'
  },
  Mask: {
    name: '遮罩层'
  },
  Modal: {
    ok: '我知道了'
  }
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (zhCN);

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/attach-properties-to-component.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/attach-properties-to-component.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "attachPropertiesToComponent": () => (/* binding */ attachPropertiesToComponent)
/* harmony export */ });
function attachPropertiesToComponent(component, properties) {
  const ret = component;

  for (const key in properties) {
    if (properties.hasOwnProperty(key)) {
      ret[key] = properties[key];
    }
  }

  return ret;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/bound.js":
/*!****************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/bound.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bound": () => (/* binding */ bound)
/* harmony export */ });
function bound(position, min, max) {
  let ret = position;

  if (min !== undefined) {
    ret = Math.max(position, min);
  }

  if (max !== undefined) {
    ret = Math.min(ret, max);
  }

  return ret;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/can-use-dom.js":
/*!**********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/can-use-dom.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "canUseDom": () => (/* binding */ canUseDom)
/* harmony export */ });
const canUseDom = !!(typeof window !== 'undefined' && typeof document !== 'undefined' && window.document && window.document.createElement);

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/convert-px.js":
/*!*********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/convert-px.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertPx": () => (/* binding */ convertPx)
/* harmony export */ });
/* harmony import */ var _can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./can-use-dom */ "./node_modules/antd-mobile/es/utils/can-use-dom.js");
/* harmony import */ var _is_dev__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is-dev */ "./node_modules/antd-mobile/es/utils/is-dev.js");
/* harmony import */ var _dev_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dev-log */ "./node_modules/antd-mobile/es/utils/dev-log.js");



let tenPxTester = null;
let tester = null;

if (_can_use_dom__WEBPACK_IMPORTED_MODULE_0__.canUseDom) {
  tenPxTester = document.createElement('div');
  tenPxTester.className = 'adm-px-tester';
  tenPxTester.style.setProperty('--size', '10');
  document.body.appendChild(tenPxTester);
  tester = document.createElement('div');
  tester.className = 'adm-px-tester';
  document.body.appendChild(tester);

  if (_is_dev__WEBPACK_IMPORTED_MODULE_1__.isDev) {
    if (window.getComputedStyle(tester).position !== 'fixed') {
      (0,_dev_log__WEBPACK_IMPORTED_MODULE_2__.devError)('Global', 'The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.');
    }
  }
}

function convertPx(px) {
  if (tenPxTester === null || tester === null) return px;

  if (tenPxTester.getBoundingClientRect().height === 10) {
    return px;
  }

  tester.style.setProperty('--size', px.toString());
  return tester.getBoundingClientRect().height;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/dev-log.js":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/dev-log.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "devWarning": () => (/* binding */ devWarning),
/* harmony export */   "devError": () => (/* binding */ devError)
/* harmony export */ });
/* harmony import */ var _is_dev__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is-dev */ "./node_modules/antd-mobile/es/utils/is-dev.js");

function devWarning(component, message) {
  if (_is_dev__WEBPACK_IMPORTED_MODULE_0__.isDev) {
    console.warn(`[antd-mobile: ${component}] ${message}`);
  }
}
function devError(component, message) {
  if (_is_dev__WEBPACK_IMPORTED_MODULE_0__.isDev) {
    console.error(`[antd-mobile: ${component}] ${message}`);
  }
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/generate-int-array.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/generate-int-array.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateIntArray": () => (/* binding */ generateIntArray)
/* harmony export */ });
function generateIntArray(from, to) {
  const array = [];

  for (let i = from; i <= to; i++) {
    array.push(i);
  }

  return array;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/get-container.js":
/*!************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/get-container.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveContainer": () => (/* binding */ resolveContainer)
/* harmony export */ });
function resolveContainer(getContainer) {
  const container = typeof getContainer === 'function' ? getContainer() : getContainer;
  return container || document.body;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/get-scroll-parent.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/get-scroll-parent.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getScrollParent": () => (/* binding */ getScrollParent)
/* harmony export */ });
/* harmony import */ var _can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./can-use-dom */ "./node_modules/antd-mobile/es/utils/can-use-dom.js");

const overflowScrollReg = /scroll|auto/i;
const defaultRoot = _can_use_dom__WEBPACK_IMPORTED_MODULE_0__.canUseDom ? window : undefined;

function isElement(node) {
  const ELEMENT_NODE_TYPE = 1;
  return node.tagName !== 'HTML' && node.tagName !== 'BODY' && node.nodeType === ELEMENT_NODE_TYPE;
} // https://github.com/youzan/vant/issues/3823


function getScrollParent(el, root = defaultRoot) {
  let node = el;

  while (node && node !== root && isElement(node)) {
    const {
      overflowY
    } = window.getComputedStyle(node);

    if (overflowScrollReg.test(overflowY)) {
      return node;
    }

    node = node.parentNode;
  }

  return root;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/is-dev.js":
/*!*****************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/is-dev.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isDev": () => (/* binding */ isDev)
/* harmony export */ });
const isDev = "development" === 'development';

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/merge-locale.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/merge-locale.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mergeLocale": () => (/* binding */ mergeLocale)
/* harmony export */ });
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/cloneDeep */ "./node_modules/lodash/cloneDeep.js");
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);


function mergeLocale(base, patch) {
  return lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_0___default()(base), patch);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/native-props.js":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/native-props.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "withNativeProps": () => (/* binding */ withNativeProps)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);


function withNativeProps(props, element) {
  const p = Object.assign({}, element.props);

  if (props.className) {
    p.className = classnames__WEBPACK_IMPORTED_MODULE_1___default()(element.props.className, props.className);
  }

  if (props.style) {
    p.style = Object.assign(Object.assign({}, p.style), props.style);
  }

  if (props.tabIndex !== undefined) {
    p.tabIndex = props.tabIndex;
  }

  for (const key in props) {
    if (!props.hasOwnProperty(key)) continue;

    if (key.startsWith('data-') || key.startsWith('aria-')) {
      p[key] = props[key];
    }
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(element, p);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/nearest.js":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/nearest.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "nearest": () => (/* binding */ nearest)
/* harmony export */ });
function nearest(arr, target) {
  return arr.reduce((pre, cur) => {
    return Math.abs(pre - target) < Math.abs(cur - target) ? pre : cur;
  });
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/render-to-body.js":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/render-to-body.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "renderToBody": () => (/* binding */ renderToBody)
/* harmony export */ });
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");

function renderToBody(element) {
  const container = document.createElement('div');
  document.body.appendChild(container);

  function unmount() {
    const unmountResult = react_dom__WEBPACK_IMPORTED_MODULE_0__.unmountComponentAtNode(container);

    if (unmountResult && container.parentNode) {
      container.parentNode.removeChild(container);
    }
  }

  react_dom__WEBPACK_IMPORTED_MODULE_0__.render(element, container);
  return unmount;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/render-to-container.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/render-to-container.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "renderToContainer": () => (/* binding */ renderToContainer)
/* harmony export */ });
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var _get_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-container */ "./node_modules/antd-mobile/es/utils/get-container.js");
/* harmony import */ var _can_use_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./can-use-dom */ "./node_modules/antd-mobile/es/utils/can-use-dom.js");



function renderToContainer(getContainer, node) {
  if (_can_use_dom__WEBPACK_IMPORTED_MODULE_1__.canUseDom && getContainer) {
    const container = (0,_get_container__WEBPACK_IMPORTED_MODULE_2__.resolveContainer)(getContainer);
    return (0,react_dom__WEBPACK_IMPORTED_MODULE_0__.createPortal)(node, container);
  }

  return node;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/rubberband.js":
/*!*********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/rubberband.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "rubberband": () => (/* binding */ rubberband),
/* harmony export */   "rubberbandIfOutOfBounds": () => (/* binding */ rubberbandIfOutOfBounds)
/* harmony export */ });
/* harmony import */ var _bound__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bound */ "./node_modules/antd-mobile/es/utils/bound.js");

function rubberband(distance, dimension, constant) {
  return distance * dimension * constant / (dimension + constant * distance);
}
function rubberbandIfOutOfBounds(position, min, max, dimension, constant = 0.15) {
  if (constant === 0) return (0,_bound__WEBPACK_IMPORTED_MODULE_0__.bound)(position, min, max);
  if (position < min) return -rubberband(min - position, dimension, constant) + min;
  if (position > max) return +rubberband(position - max, dimension, constant) + max;
  return position;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/shuffle.js":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/shuffle.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "shuffle": () => (/* binding */ shuffle)
/* harmony export */ });
/**
 * 数组打乱
 * @param array 任意数组
 * @returns any[] 打乱后的数组
 */
function shuffle(array) {
  const result = [...array];

  for (let i = result.length; i > 0; i--) {
    const j = Math.floor(Math.random() * i);
    [result[i - 1], result[j]] = [result[j], result[i - 1]];
  }

  return result;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/sleep.js":
/*!****************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/sleep.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sleep": () => (/* binding */ sleep)
/* harmony export */ });
const sleep = time => new Promise(resolve => setTimeout(resolve, time));

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/supports-passive.js":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/supports-passive.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "supportsPassive": () => (/* binding */ supportsPassive)
/* harmony export */ });
/* harmony import */ var _can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./can-use-dom */ "./node_modules/antd-mobile/es/utils/can-use-dom.js");

let supportsPassive = false;

if (_can_use_dom__WEBPACK_IMPORTED_MODULE_0__.canUseDom) {
  try {
    const opts = {};
    Object.defineProperty(opts, 'passive', {
      get() {
        supportsPassive = true;
      }

    });
    window.addEventListener('test-passive', null, opts);
  } catch (e) {}
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/to-css-length.js":
/*!************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/to-css-length.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "toCSSLength": () => (/* binding */ toCSSLength)
/* harmony export */ });
function toCSSLength(val) {
  return typeof val === 'number' ? `${val}px` : val;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/tree.js":
/*!***************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/tree.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTreeDeep": () => (/* binding */ getTreeDeep)
/* harmony export */ });
// 找到树的深度
function getTreeDeep(treeData, childrenName = 'children') {
  const walker = tree => {
    let deep = 0;
    tree.forEach(item => {
      if (item[childrenName]) {
        deep = Math.max(deep, walker(item[childrenName]) + 1);
      } else {
        deep = Math.max(deep, 1);
      }
    });
    return deep;
  };

  return walker(treeData);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-initialized.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-initialized.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useInitialized": () => (/* binding */ useInitialized)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

function useInitialized(check) {
  const initializedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(check);

  if (check) {
    initializedRef.current = true;
  }

  return !!initializedRef.current;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-lock-scroll.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-lock-scroll.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useLockScroll": () => (/* binding */ useLockScroll)
/* harmony export */ });
/* harmony import */ var _use_touch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-touch */ "./node_modules/antd-mobile/es/utils/use-touch.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _get_scroll_parent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-scroll-parent */ "./node_modules/antd-mobile/es/utils/get-scroll-parent.js");
/* harmony import */ var _supports_passive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./supports-passive */ "./node_modules/antd-mobile/es/utils/supports-passive.js");




let totalLockCount = 0;
const BODY_LOCK_CLASS = 'adm-overflow-hidden'; // 移植自vant：https://github.com/youzan/vant/blob/HEAD/src/composables/use-lock-scroll.ts

function useLockScroll(rootRef, shouldLock) {
  const touch = (0,_use_touch__WEBPACK_IMPORTED_MODULE_1__.useTouch)();

  const onTouchMove = event => {
    touch.move(event);
    const direction = touch.deltaY.current > 0 ? '10' : '01';
    const el = (0,_get_scroll_parent__WEBPACK_IMPORTED_MODULE_2__.getScrollParent)(event.target, rootRef.current);
    if (!el) return;
    const {
      scrollHeight,
      offsetHeight,
      scrollTop
    } = el;
    let status = '11';

    if (scrollTop === 0) {
      status = offsetHeight >= scrollHeight ? '00' : '01';
    } else if (scrollTop + offsetHeight >= scrollHeight) {
      status = '10';
    }

    if (status !== '11' && touch.isVertical() && !(parseInt(status, 2) & parseInt(direction, 2))) {
      if (event.cancelable) {
        event.preventDefault();
      }
    }
  };

  const lock = () => {
    document.addEventListener('touchstart', touch.start);
    document.addEventListener('touchmove', onTouchMove, _supports_passive__WEBPACK_IMPORTED_MODULE_3__.supportsPassive ? {
      passive: false
    } : false);

    if (!totalLockCount) {
      document.body.classList.add(BODY_LOCK_CLASS);
    }

    totalLockCount++;
  };

  const unlock = () => {
    if (totalLockCount) {
      document.removeEventListener('touchstart', touch.start);
      document.removeEventListener('touchmove', onTouchMove);
      totalLockCount--;

      if (!totalLockCount) {
        document.body.classList.remove(BODY_LOCK_CLASS);
      }
    }
  };

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (shouldLock) {
      lock();
      return () => {
        unlock();
      };
    }
  }, [shouldLock]);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-mutation-effect.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-mutation-effect.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useMutationEffect": () => (/* binding */ useMutationEffect)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");


function useMutationEffect(effect, targetRef, options) {
  const fn = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])(effect);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const observer = new MutationObserver(() => {
      fn();
    });
    if (!targetRef.current) return;
    observer.observe(targetRef.current, options);
    return () => {
      observer.disconnect();
    };
  }, [targetRef]);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-props-value.js":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-props-value.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "usePropsValue": () => (/* binding */ usePropsValue)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUpdate/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");


function usePropsValue(options) {
  const {
    value,
    defaultValue,
    onChange
  } = options;
  const update = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])();
  const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value !== undefined ? value : defaultValue);

  if (value !== undefined) {
    stateRef.current = value;
  }

  const setState = (0,ahooks__WEBPACK_IMPORTED_MODULE_2__["default"])(v => {
    if (value === undefined) {
      stateRef.current = v;
      update();
    }

    onChange === null || onChange === void 0 ? void 0 : onChange(v);
  });
  return [stateRef.current, setState];
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-ref-state.js":
/*!************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-ref-state.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useRefState": () => (/* binding */ useRefState)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

function useRefState(initialState) {
  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState);
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    ref.current = state;
  }, [state]);
  return [state, setState, ref];
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-resize-effect.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-resize-effect.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useResizeEffect": () => (/* binding */ useResizeEffect)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useMemoizedFn/index.js");


function useResizeEffect(effect, targetRef) {
  const fn = (0,ahooks__WEBPACK_IMPORTED_MODULE_1__["default"])(effect);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const target = targetRef.current;
    if (!target) return;

    if (window.ResizeObserver) {
      const observer = new ResizeObserver(() => {
        fn(target);
      });
      observer.observe(target);
      return () => {
        observer.disconnect();
      };
    } else {
      fn(target);
    }
  }, [targetRef]);
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-should-render.js":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-should-render.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useShouldRender": () => (/* binding */ useShouldRender)
/* harmony export */ });
/* harmony import */ var _use_initialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-initialized */ "./node_modules/antd-mobile/es/utils/use-initialized.js");

function useShouldRender(active, forceRender, destroyOnClose) {
  const initialized = (0,_use_initialized__WEBPACK_IMPORTED_MODULE_0__.useInitialized)(active);
  if (forceRender) return true;
  if (active) return true;
  if (!initialized) return false;
  return !destroyOnClose;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-tab-list-scroll.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-tab-list-scroll.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useTabListScroll": () => (/* binding */ useTabListScroll)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-spring/web */ "./node_modules/@react-spring/web/dist/react-spring-web.esm.js");
/* harmony import */ var _use_mutation_effect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-mutation-effect */ "./node_modules/antd-mobile/es/utils/use-mutation-effect.js");
/* harmony import */ var _bound__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bound */ "./node_modules/antd-mobile/es/utils/bound.js");
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ahooks */ "./node_modules/ahooks/es/useUpdateLayoutEffect/index.js");





const useTabListScroll = (targetRef, activeIndex) => {
  const [{
    scrollLeft
  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_1__.useSpring)(() => ({
    scrollLeft: 0,
    config: {
      tension: 300,
      clamp: true
    }
  }));

  function animate(immediate = false) {
    const container = targetRef.current;
    if (!container) return;
    if (activeIndex === undefined) return;
    const activeTabWrapper = container.children.item(activeIndex);
    const activeTab = activeTabWrapper.children.item(0);
    const activeTabLeft = activeTab.offsetLeft;
    const activeTabWidth = activeTab.offsetWidth;
    const containerWidth = container.offsetWidth;
    const containerScrollWidth = container.scrollWidth;
    const containerScrollLeft = container.scrollLeft;
    const maxScrollDistance = containerScrollWidth - containerWidth;
    if (maxScrollDistance <= 0) return;
    const nextScrollLeft = (0,_bound__WEBPACK_IMPORTED_MODULE_2__.bound)(activeTabLeft - (containerWidth - activeTabWidth) / 2, 0, containerScrollWidth - containerWidth);
    api.start({
      scrollLeft: nextScrollLeft,
      from: {
        scrollLeft: containerScrollLeft
      },
      immediate
    });
  }

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    animate(true);
  }, []);
  (0,ahooks__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    animate();
  }, [activeIndex]);
  (0,_use_mutation_effect__WEBPACK_IMPORTED_MODULE_4__.useMutationEffect)(() => {
    animate(true);
  }, targetRef, {
    subtree: true,
    childList: true,
    characterData: true
  });
  return {
    scrollLeft,
    animate
  };
};

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/use-touch.js":
/*!********************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/use-touch.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useTouch": () => (/* binding */ useTouch)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const MIN_DISTANCE = 10;

function getDirection(x, y) {
  if (x > y && x > MIN_DISTANCE) {
    return 'horizontal';
  }

  if (y > x && y > MIN_DISTANCE) {
    return 'vertical';
  }

  return '';
}

function useTouch() {
  const startX = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const startY = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const deltaX = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const deltaY = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const offsetX = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const offsetY = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const direction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('');

  const isVertical = () => direction.current === 'vertical';

  const isHorizontal = () => direction.current === 'horizontal';

  const reset = () => {
    deltaX.current = 0;
    deltaY.current = 0;
    offsetX.current = 0;
    offsetY.current = 0;
    direction.current = '';
  };

  const start = event => {
    reset();
    startX.current = event.touches[0].clientX;
    startY.current = event.touches[0].clientY;
  };

  const move = event => {
    const touch = event.touches[0]; // Fix: Safari back will set clientX to negative number

    deltaX.current = touch.clientX < 0 ? 0 : touch.clientX - startX.current;
    deltaY.current = touch.clientY - startY.current;
    offsetX.current = Math.abs(deltaX.current);
    offsetY.current = Math.abs(deltaY.current);

    if (!direction.current) {
      direction.current = getDirection(offsetX.current, offsetY.current);
    }
  };

  return {
    move,
    start,
    reset,
    startX,
    startY,
    deltaX,
    deltaY,
    offsetX,
    offsetY,
    direction,
    isVertical,
    isHorizontal
  };
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/with-default-props.js":
/*!*****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/with-default-props.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mergeProps": () => (/* binding */ mergeProps)
/* harmony export */ });
/* harmony import */ var lodash_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/assign */ "./node_modules/lodash/assign.js");
/* harmony import */ var lodash_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_assignWith__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/assignWith */ "./node_modules/lodash/assignWith.js");
/* harmony import */ var lodash_assignWith__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_assignWith__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/isUndefined */ "./node_modules/lodash/isUndefined.js");
/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isUndefined__WEBPACK_IMPORTED_MODULE_2__);



function mergeProps(...items) {
  function customizer(objValue, srcValue) {
    return lodash_isUndefined__WEBPACK_IMPORTED_MODULE_2___default()(srcValue) ? objValue : srcValue;
  }

  let ret = lodash_assign__WEBPACK_IMPORTED_MODULE_0___default()({}, items[0]);

  for (let i = 1; i < items.length; i++) {
    ret = lodash_assignWith__WEBPACK_IMPORTED_MODULE_1___default()(ret, items[i], customizer);
  }

  return ret;
}

/***/ }),

/***/ "./node_modules/antd-mobile/es/utils/with-stop-propagation.js":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/utils/with-stop-propagation.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "withStopPropagation": () => (/* binding */ withStopPropagation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

const eventToPropRecord = {
  'click': 'onClick'
};
function withStopPropagation(events, element) {
  const props = Object.assign({}, element.props);

  for (const key of events) {
    const prop = eventToPropRecord[key];

    props[prop] = function (e) {
      var _a, _b;

      e.stopPropagation();
      (_b = (_a = element.props)[prop]) === null || _b === void 0 ? void 0 : _b.call(_a, e);
    };
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(element, props);
}

/***/ }),

/***/ "./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/node_modules/tslib/tslib.es6.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./node_modules/core-js/internals/array-for-each.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/array-for-each.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $forEach = (__webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js").forEach);
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "./node_modules/core-js/internals/array-method-is-strict.js");

var STRICT_METHOD = arrayMethodIsStrict('forEach');

// `Array.prototype.forEach` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.foreach
module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
} : [].forEach;


/***/ }),

/***/ "./node_modules/core-js/modules/es.array.for-each.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/modules/es.array.for-each.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var forEach = __webpack_require__(/*! ../internals/array-for-each */ "./node_modules/core-js/internals/array-for-each.js");

// `Array.prototype.forEach` method
// https://tc39.es/ecma262/#sec-array.prototype.foreach
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {
  forEach: forEach
});


/***/ }),

/***/ "./node_modules/core-js/modules/es.array.join.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/modules/es.array.join.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "./node_modules/core-js/internals/array-method-is-strict.js");

var un$Join = uncurryThis([].join);

var ES3_STRINGS = IndexedObject != Object;
var STRICT_METHOD = arrayMethodIsStrict('join', ',');

// `Array.prototype.join` method
// https://tc39.es/ecma262/#sec-array.prototype.join
$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {
  join: function join(separator) {
    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);
  }
});


/***/ }),

/***/ "./node_modules/core-js/modules/es.object.define-properties.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.define-properties.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");
var defineProperties = (__webpack_require__(/*! ../internals/object-define-properties */ "./node_modules/core-js/internals/object-define-properties.js").f);

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es/no-object-defineproperties -- safe
$({ target: 'Object', stat: true, forced: Object.defineProperties !== defineProperties, sham: !DESCRIPTORS }, {
  defineProperties: defineProperties
});


/***/ }),

/***/ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");
var nativeGetOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f);
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");

var FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });
var FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {
  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);
  }
});


/***/ }),

/***/ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js":
/*!********************************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");
var ownKeys = __webpack_require__(/*! ../internals/own-keys */ "./node_modules/core-js/internals/own-keys.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");
var getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "./node_modules/core-js/internals/create-property.js");

// `Object.getOwnPropertyDescriptors` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {
  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
    var O = toIndexedObject(object);
    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
    var keys = ownKeys(O);
    var result = {};
    var index = 0;
    var key, descriptor;
    while (keys.length > index) {
      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
      if (descriptor !== undefined) createProperty(result, key, descriptor);
    }
    return result;
  }
});


/***/ }),

/***/ "./node_modules/core-js/modules/es.string.match.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/modules/es.string.match.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");
var fixRegExpWellKnownSymbolLogic = __webpack_require__(/*! ../internals/fix-regexp-well-known-symbol-logic */ "./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");
var toLength = __webpack_require__(/*! ../internals/to-length */ "./node_modules/core-js/internals/to-length.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");
var advanceStringIndex = __webpack_require__(/*! ../internals/advance-string-index */ "./node_modules/core-js/internals/advance-string-index.js");
var regExpExec = __webpack_require__(/*! ../internals/regexp-exec-abstract */ "./node_modules/core-js/internals/regexp-exec-abstract.js");

// @@match logic
fixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function match(regexp) {
      var O = requireObjectCoercible(this);
      var matcher = regexp == undefined ? undefined : getMethod(regexp, MATCH);
      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeMatch, rx, S);

      if (res.done) return res.value;

      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
      rx.lastIndex = 0;
      var A = [];
      var n = 0;
      var result;
      while ((result = regExpExec(rx, S)) !== null) {
        var matchStr = toString(result[0]);
        A[n] = matchStr;
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        n++;
      }
      return n === 0 ? null : A;
    }
  ];
});


/***/ }),

/***/ "./node_modules/core-js/modules/web.dom-collections.for-each.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/modules/web.dom-collections.for-each.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");
var DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "./node_modules/core-js/internals/dom-iterables.js");
var DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "./node_modules/core-js/internals/dom-token-list-prototype.js");
var forEach = __webpack_require__(/*! ../internals/array-for-each */ "./node_modules/core-js/internals/array-for-each.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");

var handlePrototype = function (CollectionPrototype) {
  // some Chrome versions have non-configurable methods on DOMTokenList
  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);
  } catch (error) {
    CollectionPrototype.forEach = forEach;
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  if (DOMIterables[COLLECTION_NAME]) {
    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);
  }
}

handlePrototype(DOMTokenListPrototype);


/***/ }),

/***/ "./node_modules/dayjs/dayjs.min.js":
/*!*****************************************!*\
  !*** ./node_modules/dayjs/dayjs.min.js ***!
  \*****************************************/
/***/ (function(module) {

!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",f="month",h="quarter",c="year",d="date",$="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},D="en",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+"Hours",0);case u:return l(g+"Minutes",1);case s:return l(g+"Seconds",2);case i:return l(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h="set"+(this.$u?"UTC":""),$=(n={},n[a]=h+"Date",n[d]=h+"Date",n[f]=h+"Month",n[c]=h+"FullYear",n[u]=h+"Hours",n[s]=h+"Minutes",n[i]=h+"Seconds",n[r]=h+"Milliseconds",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,"0"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,"0"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",f],["$y",c],["$D",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));

/***/ }),

/***/ "./node_modules/dayjs/plugin/isLeapYear.js":
/*!*************************************************!*\
  !*** ./node_modules/dayjs/plugin/isLeapYear.js ***!
  \*************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){"use strict";return function(e,t){t.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}));

/***/ }),

/***/ "./node_modules/dayjs/plugin/isoWeek.js":
/*!**********************************************!*\
  !*** ./node_modules/dayjs/plugin/isoWeek.js ***!
  \**********************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){"use strict";var e="day";return function(t,i,s){var a=function(t){return t.add(4-t.isoWeekday(),e)},d=i.prototype;d.isoWeekYear=function(){return a(this).year()},d.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var i,d,n,o,r=a(this),u=(i=this.isoWeekYear(),d=this.$u,n=(d?s.utc:s)().year(i).startOf("year"),o=4-n.isoWeekday(),n.isoWeekday()>4&&(o+=7),n.add(o,e));return r.diff(u,"week")+1},d.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var n=d.startOf;d.startOf=function(e,t){var i=this.$utils(),s=!!i.u(t)||t;return"isoweek"===i.p(e)?s?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):n.bind(this)(e,t)}}}));

/***/ }),

/***/ "./node_modules/dayjs/plugin/isoWeeksInYear.js":
/*!*****************************************************!*\
  !*** ./node_modules/dayjs/plugin/isoWeeksInYear.js ***!
  \*****************************************************/
/***/ (function(module) {

!function(e,n){ true?module.exports=n():0}(this,(function(){"use strict";return function(e,n){n.prototype.isoWeeksInYear=function(){var e=this.isLeapYear(),n=this.endOf("y").day();return 4===n||e&&5===n?53:52}}}));

/***/ }),

/***/ "./node_modules/intersection-observer/intersection-observer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/intersection-observer/intersection-observer.js ***!
  \*********************************************************************/
/***/ (() => {

/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
(function() {
'use strict';

// Exit early if we're not running in a browser.
if (typeof window !== 'object') {
  return;
}

// Exit early if all IntersectionObserver and IntersectionObserverEntry
// features are natively supported.
if ('IntersectionObserver' in window &&
    'IntersectionObserverEntry' in window &&
    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {

  // Minimal polyfill for Edge 15's lack of `isIntersecting`
  // See: https://github.com/w3c/IntersectionObserver/issues/211
  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {
    Object.defineProperty(window.IntersectionObserverEntry.prototype,
      'isIntersecting', {
      get: function () {
        return this.intersectionRatio > 0;
      }
    });
  }
  return;
}

/**
 * Returns the embedding frame element, if any.
 * @param {!Document} doc
 * @return {!Element}
 */
function getFrameElement(doc) {
  try {
    return doc.defaultView && doc.defaultView.frameElement || null;
  } catch (e) {
    // Ignore the error.
    return null;
  }
}

/**
 * A local reference to the root document.
 */
var document = (function(startDoc) {
  var doc = startDoc;
  var frame = getFrameElement(doc);
  while (frame) {
    doc = frame.ownerDocument;
    frame = getFrameElement(doc);
  }
  return doc;
})(window.document);

/**
 * An IntersectionObserver registry. This registry exists to hold a strong
 * reference to IntersectionObserver instances currently observing a target
 * element. Without this registry, instances without another reference may be
 * garbage collected.
 */
var registry = [];

/**
 * The signal updater for cross-origin intersection. When not null, it means
 * that the polyfill is configured to work in a cross-origin mode.
 * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}
 */
var crossOriginUpdater = null;

/**
 * The current cross-origin intersection. Only used in the cross-origin mode.
 * @type {DOMRect|ClientRect}
 */
var crossOriginRect = null;


/**
 * Creates the global IntersectionObserverEntry constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry
 * @param {Object} entry A dictionary of instance properties.
 * @constructor
 */
function IntersectionObserverEntry(entry) {
  this.time = entry.time;
  this.target = entry.target;
  this.rootBounds = ensureDOMRect(entry.rootBounds);
  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);
  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());
  this.isIntersecting = !!entry.intersectionRect;

  // Calculates the intersection ratio.
  var targetRect = this.boundingClientRect;
  var targetArea = targetRect.width * targetRect.height;
  var intersectionRect = this.intersectionRect;
  var intersectionArea = intersectionRect.width * intersectionRect.height;

  // Sets intersection ratio.
  if (targetArea) {
    // Round the intersection ratio to avoid floating point math issues:
    // https://github.com/w3c/IntersectionObserver/issues/324
    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));
  } else {
    // If area is zero and is intersecting, sets to 1, otherwise to 0
    this.intersectionRatio = this.isIntersecting ? 1 : 0;
  }
}


/**
 * Creates the global IntersectionObserver constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface
 * @param {Function} callback The function to be invoked after intersection
 *     changes have queued. The function is not invoked if the queue has
 *     been emptied by calling the `takeRecords` method.
 * @param {Object=} opt_options Optional configuration options.
 * @constructor
 */
function IntersectionObserver(callback, opt_options) {

  var options = opt_options || {};

  if (typeof callback != 'function') {
    throw new Error('callback must be a function');
  }

  if (
    options.root &&
    options.root.nodeType != 1 &&
    options.root.nodeType != 9
  ) {
    throw new Error('root must be a Document or Element');
  }

  // Binds and throttles `this._checkForIntersections`.
  this._checkForIntersections = throttle(
      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);

  // Private properties.
  this._callback = callback;
  this._observationTargets = [];
  this._queuedEntries = [];
  this._rootMarginValues = this._parseRootMargin(options.rootMargin);

  // Public properties.
  this.thresholds = this._initThresholds(options.threshold);
  this.root = options.root || null;
  this.rootMargin = this._rootMarginValues.map(function(margin) {
    return margin.value + margin.unit;
  }).join(' ');

  /** @private @const {!Array<!Document>} */
  this._monitoringDocuments = [];
  /** @private @const {!Array<function()>} */
  this._monitoringUnsubscribes = [];
}


/**
 * The minimum interval within which the document will be checked for
 * intersection changes.
 */
IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;


/**
 * The frequency in which the polyfill polls for intersection changes.
 * this can be updated on a per instance basis and must be set prior to
 * calling `observe` on the first target.
 */
IntersectionObserver.prototype.POLL_INTERVAL = null;

/**
 * Use a mutation observer on the root element
 * to detect intersection changes.
 */
IntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;


/**
 * Sets up the polyfill in the cross-origin mode. The result is the
 * updater function that accepts two arguments: `boundingClientRect` and
 * `intersectionRect` - just as these fields would be available to the
 * parent via `IntersectionObserverEntry`. This function should be called
 * each time the iframe receives intersection information from the parent
 * window, e.g. via messaging.
 * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}
 */
IntersectionObserver._setupCrossOriginUpdater = function() {
  if (!crossOriginUpdater) {
    /**
     * @param {DOMRect|ClientRect} boundingClientRect
     * @param {DOMRect|ClientRect} intersectionRect
     */
    crossOriginUpdater = function(boundingClientRect, intersectionRect) {
      if (!boundingClientRect || !intersectionRect) {
        crossOriginRect = getEmptyRect();
      } else {
        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);
      }
      registry.forEach(function(observer) {
        observer._checkForIntersections();
      });
    };
  }
  return crossOriginUpdater;
};


/**
 * Resets the cross-origin mode.
 */
IntersectionObserver._resetCrossOriginUpdater = function() {
  crossOriginUpdater = null;
  crossOriginRect = null;
};


/**
 * Starts observing a target element for intersection changes based on
 * the thresholds values.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.observe = function(target) {
  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {
    return item.element == target;
  });

  if (isTargetAlreadyObserved) {
    return;
  }

  if (!(target && target.nodeType == 1)) {
    throw new Error('target must be an Element');
  }

  this._registerInstance();
  this._observationTargets.push({element: target, entry: null});
  this._monitorIntersections(target.ownerDocument);
  this._checkForIntersections();
};


/**
 * Stops observing a target element for intersection changes.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.unobserve = function(target) {
  this._observationTargets =
      this._observationTargets.filter(function(item) {
        return item.element != target;
      });
  this._unmonitorIntersections(target.ownerDocument);
  if (this._observationTargets.length == 0) {
    this._unregisterInstance();
  }
};


/**
 * Stops observing all target elements for intersection changes.
 */
IntersectionObserver.prototype.disconnect = function() {
  this._observationTargets = [];
  this._unmonitorAllIntersections();
  this._unregisterInstance();
};


/**
 * Returns any queue entries that have not yet been reported to the
 * callback and clears the queue. This can be used in conjunction with the
 * callback to obtain the absolute most up-to-date intersection information.
 * @return {Array} The currently queued entries.
 */
IntersectionObserver.prototype.takeRecords = function() {
  var records = this._queuedEntries.slice();
  this._queuedEntries = [];
  return records;
};


/**
 * Accepts the threshold value from the user configuration object and
 * returns a sorted array of unique threshold values. If a value is not
 * between 0 and 1 and error is thrown.
 * @private
 * @param {Array|number=} opt_threshold An optional threshold value or
 *     a list of threshold values, defaulting to [0].
 * @return {Array} A sorted list of unique and valid threshold values.
 */
IntersectionObserver.prototype._initThresholds = function(opt_threshold) {
  var threshold = opt_threshold || [0];
  if (!Array.isArray(threshold)) threshold = [threshold];

  return threshold.sort().filter(function(t, i, a) {
    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {
      throw new Error('threshold must be a number between 0 and 1 inclusively');
    }
    return t !== a[i - 1];
  });
};


/**
 * Accepts the rootMargin value from the user configuration object
 * and returns an array of the four margin values as an object containing
 * the value and unit properties. If any of the values are not properly
 * formatted or use a unit other than px or %, and error is thrown.
 * @private
 * @param {string=} opt_rootMargin An optional rootMargin value,
 *     defaulting to '0px'.
 * @return {Array<Object>} An array of margin objects with the keys
 *     value and unit.
 */
IntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {
  var marginString = opt_rootMargin || '0px';
  var margins = marginString.split(/\s+/).map(function(margin) {
    var parts = /^(-?\d*\.?\d+)(px|%)$/.exec(margin);
    if (!parts) {
      throw new Error('rootMargin must be specified in pixels or percent');
    }
    return {value: parseFloat(parts[1]), unit: parts[2]};
  });

  // Handles shorthand.
  margins[1] = margins[1] || margins[0];
  margins[2] = margins[2] || margins[0];
  margins[3] = margins[3] || margins[1];

  return margins;
};


/**
 * Starts polling for intersection changes if the polling is not already
 * happening, and if the page's visibility state is visible.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._monitorIntersections = function(doc) {
  var win = doc.defaultView;
  if (!win) {
    // Already destroyed.
    return;
  }
  if (this._monitoringDocuments.indexOf(doc) != -1) {
    // Already monitoring.
    return;
  }

  // Private state for monitoring.
  var callback = this._checkForIntersections;
  var monitoringInterval = null;
  var domObserver = null;

  // If a poll interval is set, use polling instead of listening to
  // resize and scroll events or DOM mutations.
  if (this.POLL_INTERVAL) {
    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);
  } else {
    addEvent(win, 'resize', callback, true);
    addEvent(doc, 'scroll', callback, true);
    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {
      domObserver = new win.MutationObserver(callback);
      domObserver.observe(doc, {
        attributes: true,
        childList: true,
        characterData: true,
        subtree: true
      });
    }
  }

  this._monitoringDocuments.push(doc);
  this._monitoringUnsubscribes.push(function() {
    // Get the window object again. When a friendly iframe is destroyed, it
    // will be null.
    var win = doc.defaultView;

    if (win) {
      if (monitoringInterval) {
        win.clearInterval(monitoringInterval);
      }
      removeEvent(win, 'resize', callback, true);
    }

    removeEvent(doc, 'scroll', callback, true);
    if (domObserver) {
      domObserver.disconnect();
    }
  });

  // Also monitor the parent.
  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;
  if (doc != rootDoc) {
    var frame = getFrameElement(doc);
    if (frame) {
      this._monitorIntersections(frame.ownerDocument);
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._unmonitorIntersections = function(doc) {
  var index = this._monitoringDocuments.indexOf(doc);
  if (index == -1) {
    return;
  }

  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;

  // Check if any dependent targets are still remaining.
  var hasDependentTargets =
      this._observationTargets.some(function(item) {
        var itemDoc = item.element.ownerDocument;
        // Target is in this context.
        if (itemDoc == doc) {
          return true;
        }
        // Target is nested in this context.
        while (itemDoc && itemDoc != rootDoc) {
          var frame = getFrameElement(itemDoc);
          itemDoc = frame && frame.ownerDocument;
          if (itemDoc == doc) {
            return true;
          }
        }
        return false;
      });
  if (hasDependentTargets) {
    return;
  }

  // Unsubscribe.
  var unsubscribe = this._monitoringUnsubscribes[index];
  this._monitoringDocuments.splice(index, 1);
  this._monitoringUnsubscribes.splice(index, 1);
  unsubscribe();

  // Also unmonitor the parent.
  if (doc != rootDoc) {
    var frame = getFrameElement(doc);
    if (frame) {
      this._unmonitorIntersections(frame.ownerDocument);
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._unmonitorAllIntersections = function() {
  var unsubscribes = this._monitoringUnsubscribes.slice(0);
  this._monitoringDocuments.length = 0;
  this._monitoringUnsubscribes.length = 0;
  for (var i = 0; i < unsubscribes.length; i++) {
    unsubscribes[i]();
  }
};


/**
 * Scans each observation target for intersection changes and adds them
 * to the internal entries queue. If new entries are found, it
 * schedules the callback to be invoked.
 * @private
 */
IntersectionObserver.prototype._checkForIntersections = function() {
  if (!this.root && crossOriginUpdater && !crossOriginRect) {
    // Cross origin monitoring, but no initial data available yet.
    return;
  }

  var rootIsInDom = this._rootIsInDom();
  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();

  this._observationTargets.forEach(function(item) {
    var target = item.element;
    var targetRect = getBoundingClientRect(target);
    var rootContainsTarget = this._rootContainsTarget(target);
    var oldEntry = item.entry;
    var intersectionRect = rootIsInDom && rootContainsTarget &&
        this._computeTargetAndRootIntersection(target, targetRect, rootRect);

    var rootBounds = null;
    if (!this._rootContainsTarget(target)) {
      rootBounds = getEmptyRect();
    } else if (!crossOriginUpdater || this.root) {
      rootBounds = rootRect;
    }

    var newEntry = item.entry = new IntersectionObserverEntry({
      time: now(),
      target: target,
      boundingClientRect: targetRect,
      rootBounds: rootBounds,
      intersectionRect: intersectionRect
    });

    if (!oldEntry) {
      this._queuedEntries.push(newEntry);
    } else if (rootIsInDom && rootContainsTarget) {
      // If the new entry intersection ratio has crossed any of the
      // thresholds, add a new entry.
      if (this._hasCrossedThreshold(oldEntry, newEntry)) {
        this._queuedEntries.push(newEntry);
      }
    } else {
      // If the root is not in the DOM or target is not contained within
      // root but the previous entry for this target had an intersection,
      // add a new record indicating removal.
      if (oldEntry && oldEntry.isIntersecting) {
        this._queuedEntries.push(newEntry);
      }
    }
  }, this);

  if (this._queuedEntries.length) {
    this._callback(this.takeRecords(), this);
  }
};


/**
 * Accepts a target and root rect computes the intersection between then
 * following the algorithm in the spec.
 * TODO(philipwalton): at this time clip-path is not considered.
 * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo
 * @param {Element} target The target DOM element
 * @param {Object} targetRect The bounding rect of the target.
 * @param {Object} rootRect The bounding rect of the root after being
 *     expanded by the rootMargin value.
 * @return {?Object} The final intersection rect object or undefined if no
 *     intersection is found.
 * @private
 */
IntersectionObserver.prototype._computeTargetAndRootIntersection =
    function(target, targetRect, rootRect) {
  // If the element isn't displayed, an intersection can't happen.
  if (window.getComputedStyle(target).display == 'none') return;

  var intersectionRect = targetRect;
  var parent = getParentNode(target);
  var atRoot = false;

  while (!atRoot && parent) {
    var parentRect = null;
    var parentComputedStyle = parent.nodeType == 1 ?
        window.getComputedStyle(parent) : {};

    // If the parent isn't displayed, an intersection can't happen.
    if (parentComputedStyle.display == 'none') return null;

    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {
      atRoot = true;
      if (parent == this.root || parent == document) {
        if (crossOriginUpdater && !this.root) {
          if (!crossOriginRect ||
              crossOriginRect.width == 0 && crossOriginRect.height == 0) {
            // A 0-size cross-origin intersection means no-intersection.
            parent = null;
            parentRect = null;
            intersectionRect = null;
          } else {
            parentRect = crossOriginRect;
          }
        } else {
          parentRect = rootRect;
        }
      } else {
        // Check if there's a frame that can be navigated to.
        var frame = getParentNode(parent);
        var frameRect = frame && getBoundingClientRect(frame);
        var frameIntersect =
            frame &&
            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);
        if (frameRect && frameIntersect) {
          parent = frame;
          parentRect = convertFromParentRect(frameRect, frameIntersect);
        } else {
          parent = null;
          intersectionRect = null;
        }
      }
    } else {
      // If the element has a non-visible overflow, and it's not the <body>
      // or <html> element, update the intersection rect.
      // Note: <body> and <html> cannot be clipped to a rect that's not also
      // the document rect, so no need to compute a new intersection.
      var doc = parent.ownerDocument;
      if (parent != doc.body &&
          parent != doc.documentElement &&
          parentComputedStyle.overflow != 'visible') {
        parentRect = getBoundingClientRect(parent);
      }
    }

    // If either of the above conditionals set a new parentRect,
    // calculate new intersection data.
    if (parentRect) {
      intersectionRect = computeRectIntersection(parentRect, intersectionRect);
    }
    if (!intersectionRect) break;
    parent = parent && getParentNode(parent);
  }
  return intersectionRect;
};


/**
 * Returns the root rect after being expanded by the rootMargin value.
 * @return {ClientRect} The expanded root rect.
 * @private
 */
IntersectionObserver.prototype._getRootRect = function() {
  var rootRect;
  if (this.root && !isDoc(this.root)) {
    rootRect = getBoundingClientRect(this.root);
  } else {
    // Use <html>/<body> instead of window since scroll bars affect size.
    var doc = isDoc(this.root) ? this.root : document;
    var html = doc.documentElement;
    var body = doc.body;
    rootRect = {
      top: 0,
      left: 0,
      right: html.clientWidth || body.clientWidth,
      width: html.clientWidth || body.clientWidth,
      bottom: html.clientHeight || body.clientHeight,
      height: html.clientHeight || body.clientHeight
    };
  }
  return this._expandRectByRootMargin(rootRect);
};


/**
 * Accepts a rect and expands it by the rootMargin value.
 * @param {DOMRect|ClientRect} rect The rect object to expand.
 * @return {ClientRect} The expanded rect.
 * @private
 */
IntersectionObserver.prototype._expandRectByRootMargin = function(rect) {
  var margins = this._rootMarginValues.map(function(margin, i) {
    return margin.unit == 'px' ? margin.value :
        margin.value * (i % 2 ? rect.width : rect.height) / 100;
  });
  var newRect = {
    top: rect.top - margins[0],
    right: rect.right + margins[1],
    bottom: rect.bottom + margins[2],
    left: rect.left - margins[3]
  };
  newRect.width = newRect.right - newRect.left;
  newRect.height = newRect.bottom - newRect.top;

  return newRect;
};


/**
 * Accepts an old and new entry and returns true if at least one of the
 * threshold values has been crossed.
 * @param {?IntersectionObserverEntry} oldEntry The previous entry for a
 *    particular target element or null if no previous entry exists.
 * @param {IntersectionObserverEntry} newEntry The current entry for a
 *    particular target element.
 * @return {boolean} Returns true if a any threshold has been crossed.
 * @private
 */
IntersectionObserver.prototype._hasCrossedThreshold =
    function(oldEntry, newEntry) {

  // To make comparing easier, an entry that has a ratio of 0
  // but does not actually intersect is given a value of -1
  var oldRatio = oldEntry && oldEntry.isIntersecting ?
      oldEntry.intersectionRatio || 0 : -1;
  var newRatio = newEntry.isIntersecting ?
      newEntry.intersectionRatio || 0 : -1;

  // Ignore unchanged ratios
  if (oldRatio === newRatio) return;

  for (var i = 0; i < this.thresholds.length; i++) {
    var threshold = this.thresholds[i];

    // Return true if an entry matches a threshold or if the new ratio
    // and the old ratio are on the opposite sides of a threshold.
    if (threshold == oldRatio || threshold == newRatio ||
        threshold < oldRatio !== threshold < newRatio) {
      return true;
    }
  }
};


/**
 * Returns whether or not the root element is an element and is in the DOM.
 * @return {boolean} True if the root element is an element and is in the DOM.
 * @private
 */
IntersectionObserver.prototype._rootIsInDom = function() {
  return !this.root || containsDeep(document, this.root);
};


/**
 * Returns whether or not the target element is a child of root.
 * @param {Element} target The target element to check.
 * @return {boolean} True if the target element is a child of root.
 * @private
 */
IntersectionObserver.prototype._rootContainsTarget = function(target) {
  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;
  return (
    containsDeep(rootDoc, target) &&
    (!this.root || rootDoc == target.ownerDocument)
  );
};


/**
 * Adds the instance to the global IntersectionObserver registry if it isn't
 * already present.
 * @private
 */
IntersectionObserver.prototype._registerInstance = function() {
  if (registry.indexOf(this) < 0) {
    registry.push(this);
  }
};


/**
 * Removes the instance from the global IntersectionObserver registry.
 * @private
 */
IntersectionObserver.prototype._unregisterInstance = function() {
  var index = registry.indexOf(this);
  if (index != -1) registry.splice(index, 1);
};


/**
 * Returns the result of the performance.now() method or null in browsers
 * that don't support the API.
 * @return {number} The elapsed time since the page was requested.
 */
function now() {
  return window.performance && performance.now && performance.now();
}


/**
 * Throttles a function and delays its execution, so it's only called at most
 * once within a given time period.
 * @param {Function} fn The function to throttle.
 * @param {number} timeout The amount of time that must pass before the
 *     function can be called again.
 * @return {Function} The throttled function.
 */
function throttle(fn, timeout) {
  var timer = null;
  return function () {
    if (!timer) {
      timer = setTimeout(function() {
        fn();
        timer = null;
      }, timeout);
    }
  };
}


/**
 * Adds an event handler to a DOM node ensuring cross-browser compatibility.
 * @param {Node} node The DOM node to add the event handler to.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to add.
 * @param {boolean} opt_useCapture Optionally adds the even to the capture
 *     phase. Note: this only works in modern browsers.
 */
function addEvent(node, event, fn, opt_useCapture) {
  if (typeof node.addEventListener == 'function') {
    node.addEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.attachEvent == 'function') {
    node.attachEvent('on' + event, fn);
  }
}


/**
 * Removes a previously added event handler from a DOM node.
 * @param {Node} node The DOM node to remove the event handler from.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to remove.
 * @param {boolean} opt_useCapture If the event handler was added with this
 *     flag set to true, it should be set to true here in order to remove it.
 */
function removeEvent(node, event, fn, opt_useCapture) {
  if (typeof node.removeEventListener == 'function') {
    node.removeEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.detatchEvent == 'function') {
    node.detatchEvent('on' + event, fn);
  }
}


/**
 * Returns the intersection between two rect objects.
 * @param {Object} rect1 The first rect.
 * @param {Object} rect2 The second rect.
 * @return {?Object|?ClientRect} The intersection rect or undefined if no
 *     intersection is found.
 */
function computeRectIntersection(rect1, rect2) {
  var top = Math.max(rect1.top, rect2.top);
  var bottom = Math.min(rect1.bottom, rect2.bottom);
  var left = Math.max(rect1.left, rect2.left);
  var right = Math.min(rect1.right, rect2.right);
  var width = right - left;
  var height = bottom - top;

  return (width >= 0 && height >= 0) && {
    top: top,
    bottom: bottom,
    left: left,
    right: right,
    width: width,
    height: height
  } || null;
}


/**
 * Shims the native getBoundingClientRect for compatibility with older IE.
 * @param {Element} el The element whose bounding rect to get.
 * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.
 */
function getBoundingClientRect(el) {
  var rect;

  try {
    rect = el.getBoundingClientRect();
  } catch (err) {
    // Ignore Windows 7 IE11 "Unspecified error"
    // https://github.com/w3c/IntersectionObserver/pull/205
  }

  if (!rect) return getEmptyRect();

  // Older IE
  if (!(rect.width && rect.height)) {
    rect = {
      top: rect.top,
      right: rect.right,
      bottom: rect.bottom,
      left: rect.left,
      width: rect.right - rect.left,
      height: rect.bottom - rect.top
    };
  }
  return rect;
}


/**
 * Returns an empty rect object. An empty rect is returned when an element
 * is not in the DOM.
 * @return {ClientRect} The empty rect.
 */
function getEmptyRect() {
  return {
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    width: 0,
    height: 0
  };
}


/**
 * Ensure that the result has all of the necessary fields of the DOMRect.
 * Specifically this ensures that `x` and `y` fields are set.
 *
 * @param {?DOMRect|?ClientRect} rect
 * @return {?DOMRect}
 */
function ensureDOMRect(rect) {
  // A `DOMRect` object has `x` and `y` fields.
  if (!rect || 'x' in rect) {
    return rect;
  }
  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case
  // for internally calculated Rect objects. For the purposes of
  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`
  // for these fields.
  return {
    top: rect.top,
    y: rect.top,
    bottom: rect.bottom,
    left: rect.left,
    x: rect.left,
    right: rect.right,
    width: rect.width,
    height: rect.height
  };
}


/**
 * Inverts the intersection and bounding rect from the parent (frame) BCR to
 * the local BCR space.
 * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.
 * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.
 * @return {ClientRect} The local root bounding rect for the parent's children.
 */
function convertFromParentRect(parentBoundingRect, parentIntersectionRect) {
  var top = parentIntersectionRect.top - parentBoundingRect.top;
  var left = parentIntersectionRect.left - parentBoundingRect.left;
  return {
    top: top,
    left: left,
    height: parentIntersectionRect.height,
    width: parentIntersectionRect.width,
    bottom: top + parentIntersectionRect.height,
    right: left + parentIntersectionRect.width
  };
}


/**
 * Checks to see if a parent element contains a child element (including inside
 * shadow DOM).
 * @param {Node} parent The parent element.
 * @param {Node} child The child element.
 * @return {boolean} True if the parent node contains the child node.
 */
function containsDeep(parent, child) {
  var node = child;
  while (node) {
    if (node == parent) return true;

    node = getParentNode(node);
  }
  return false;
}


/**
 * Gets the parent node of an element or its host element if the parent node
 * is a shadow root.
 * @param {Node} node The node whose parent to get.
 * @return {Node|null} The parent node or null if no parent exists.
 */
function getParentNode(node) {
  var parent = node.parentNode;

  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {
    // If this node is a document node, look for the embedding frame.
    return getFrameElement(node);
  }

  // If the parent has element that is assigned through shadow root slot
  if (parent && parent.assignedSlot) {
    parent = parent.assignedSlot.parentNode
  }

  if (parent && parent.nodeType == 11 && parent.host) {
    // If the parent is a shadow root, return the host element.
    return parent.host;
  }

  return parent;
}

/**
 * Returns true if `node` is a Document.
 * @param {!Node} node
 * @returns {boolean}
 */
function isDoc(node) {
  return node && node.nodeType === 9;
}


// Exposes the constructors globally.
window.IntersectionObserver = IntersectionObserver;
window.IntersectionObserverEntry = IntersectionObserverEntry;

}());


/***/ }),

/***/ "./node_modules/lodash/_apply.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/_apply.js ***!
  \***************************************/
/***/ ((module) => {

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

module.exports = apply;


/***/ }),

/***/ "./node_modules/lodash/_arrayEach.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_arrayEach.js ***!
  \*******************************************/
/***/ ((module) => {

/**
 * A specialized version of `_.forEach` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns `array`.
 */
function arrayEach(array, iteratee) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (iteratee(array[index], index, array) === false) {
      break;
    }
  }
  return array;
}

module.exports = arrayEach;


/***/ }),

/***/ "./node_modules/lodash/_assignMergeValue.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/_assignMergeValue.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ "./node_modules/lodash/_baseAssignValue.js"),
    eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js");

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

module.exports = assignMergeValue;


/***/ }),

/***/ "./node_modules/lodash/_assignValue.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_assignValue.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ "./node_modules/lodash/_baseAssignValue.js"),
    eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

module.exports = assignValue;


/***/ }),

/***/ "./node_modules/lodash/_baseAssign.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseAssign.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    keys = __webpack_require__(/*! ./keys */ "./node_modules/lodash/keys.js");

/**
 * The base implementation of `_.assign` without support for multiple sources
 * or `customizer` functions.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @returns {Object} Returns `object`.
 */
function baseAssign(object, source) {
  return object && copyObject(source, keys(source), object);
}

module.exports = baseAssign;


/***/ }),

/***/ "./node_modules/lodash/_baseAssignIn.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseAssignIn.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/**
 * The base implementation of `_.assignIn` without support for multiple sources
 * or `customizer` functions.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @returns {Object} Returns `object`.
 */
function baseAssignIn(object, source) {
  return object && copyObject(source, keysIn(source), object);
}

module.exports = baseAssignIn;


/***/ }),

/***/ "./node_modules/lodash/_baseAssignValue.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_baseAssignValue.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var defineProperty = __webpack_require__(/*! ./_defineProperty */ "./node_modules/lodash/_defineProperty.js");

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

module.exports = baseAssignValue;


/***/ }),

/***/ "./node_modules/lodash/_baseClone.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseClone.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Stack = __webpack_require__(/*! ./_Stack */ "./node_modules/lodash/_Stack.js"),
    arrayEach = __webpack_require__(/*! ./_arrayEach */ "./node_modules/lodash/_arrayEach.js"),
    assignValue = __webpack_require__(/*! ./_assignValue */ "./node_modules/lodash/_assignValue.js"),
    baseAssign = __webpack_require__(/*! ./_baseAssign */ "./node_modules/lodash/_baseAssign.js"),
    baseAssignIn = __webpack_require__(/*! ./_baseAssignIn */ "./node_modules/lodash/_baseAssignIn.js"),
    cloneBuffer = __webpack_require__(/*! ./_cloneBuffer */ "./node_modules/lodash/_cloneBuffer.js"),
    copyArray = __webpack_require__(/*! ./_copyArray */ "./node_modules/lodash/_copyArray.js"),
    copySymbols = __webpack_require__(/*! ./_copySymbols */ "./node_modules/lodash/_copySymbols.js"),
    copySymbolsIn = __webpack_require__(/*! ./_copySymbolsIn */ "./node_modules/lodash/_copySymbolsIn.js"),
    getAllKeys = __webpack_require__(/*! ./_getAllKeys */ "./node_modules/lodash/_getAllKeys.js"),
    getAllKeysIn = __webpack_require__(/*! ./_getAllKeysIn */ "./node_modules/lodash/_getAllKeysIn.js"),
    getTag = __webpack_require__(/*! ./_getTag */ "./node_modules/lodash/_getTag.js"),
    initCloneArray = __webpack_require__(/*! ./_initCloneArray */ "./node_modules/lodash/_initCloneArray.js"),
    initCloneByTag = __webpack_require__(/*! ./_initCloneByTag */ "./node_modules/lodash/_initCloneByTag.js"),
    initCloneObject = __webpack_require__(/*! ./_initCloneObject */ "./node_modules/lodash/_initCloneObject.js"),
    isArray = __webpack_require__(/*! ./isArray */ "./node_modules/lodash/isArray.js"),
    isBuffer = __webpack_require__(/*! ./isBuffer */ "./node_modules/lodash/isBuffer.js"),
    isMap = __webpack_require__(/*! ./isMap */ "./node_modules/lodash/isMap.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isSet = __webpack_require__(/*! ./isSet */ "./node_modules/lodash/isSet.js"),
    keys = __webpack_require__(/*! ./keys */ "./node_modules/lodash/keys.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1,
    CLONE_FLAT_FLAG = 2,
    CLONE_SYMBOLS_FLAG = 4;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    objectTag = '[object Object]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/** Used to identify `toStringTag` values supported by `_.clone`. */
var cloneableTags = {};
cloneableTags[argsTag] = cloneableTags[arrayTag] =
cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =
cloneableTags[boolTag] = cloneableTags[dateTag] =
cloneableTags[float32Tag] = cloneableTags[float64Tag] =
cloneableTags[int8Tag] = cloneableTags[int16Tag] =
cloneableTags[int32Tag] = cloneableTags[mapTag] =
cloneableTags[numberTag] = cloneableTags[objectTag] =
cloneableTags[regexpTag] = cloneableTags[setTag] =
cloneableTags[stringTag] = cloneableTags[symbolTag] =
cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =
cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
cloneableTags[errorTag] = cloneableTags[funcTag] =
cloneableTags[weakMapTag] = false;

/**
 * The base implementation of `_.clone` and `_.cloneDeep` which tracks
 * traversed objects.
 *
 * @private
 * @param {*} value The value to clone.
 * @param {boolean} bitmask The bitmask flags.
 *  1 - Deep clone
 *  2 - Flatten inherited properties
 *  4 - Clone symbols
 * @param {Function} [customizer] The function to customize cloning.
 * @param {string} [key] The key of `value`.
 * @param {Object} [object] The parent object of `value`.
 * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
 * @returns {*} Returns the cloned value.
 */
function baseClone(value, bitmask, customizer, key, object, stack) {
  var result,
      isDeep = bitmask & CLONE_DEEP_FLAG,
      isFlat = bitmask & CLONE_FLAT_FLAG,
      isFull = bitmask & CLONE_SYMBOLS_FLAG;

  if (customizer) {
    result = object ? customizer(value, key, object, stack) : customizer(value);
  }
  if (result !== undefined) {
    return result;
  }
  if (!isObject(value)) {
    return value;
  }
  var isArr = isArray(value);
  if (isArr) {
    result = initCloneArray(value);
    if (!isDeep) {
      return copyArray(value, result);
    }
  } else {
    var tag = getTag(value),
        isFunc = tag == funcTag || tag == genTag;

    if (isBuffer(value)) {
      return cloneBuffer(value, isDeep);
    }
    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {
      result = (isFlat || isFunc) ? {} : initCloneObject(value);
      if (!isDeep) {
        return isFlat
          ? copySymbolsIn(value, baseAssignIn(result, value))
          : copySymbols(value, baseAssign(result, value));
      }
    } else {
      if (!cloneableTags[tag]) {
        return object ? value : {};
      }
      result = initCloneByTag(value, tag, isDeep);
    }
  }
  // Check for circular references and return its corresponding clone.
  stack || (stack = new Stack);
  var stacked = stack.get(value);
  if (stacked) {
    return stacked;
  }
  stack.set(value, result);

  if (isSet(value)) {
    value.forEach(function(subValue) {
      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
    });
  } else if (isMap(value)) {
    value.forEach(function(subValue, key) {
      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));
    });
  }

  var keysFunc = isFull
    ? (isFlat ? getAllKeysIn : getAllKeys)
    : (isFlat ? keysIn : keys);

  var props = isArr ? undefined : keysFunc(value);
  arrayEach(props || value, function(subValue, key) {
    if (props) {
      key = subValue;
      subValue = value[key];
    }
    // Recursively populate clone (susceptible to call stack limits).
    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
  });
  return result;
}

module.exports = baseClone;


/***/ }),

/***/ "./node_modules/lodash/_baseCreate.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseCreate.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js");

/** Built-in value references. */
var objectCreate = Object.create;

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

module.exports = baseCreate;


/***/ }),

/***/ "./node_modules/lodash/_baseFor.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_baseFor.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var createBaseFor = __webpack_require__(/*! ./_createBaseFor */ "./node_modules/lodash/_createBaseFor.js");

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

module.exports = baseFor;


/***/ }),

/***/ "./node_modules/lodash/_baseIsMap.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseIsMap.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getTag = __webpack_require__(/*! ./_getTag */ "./node_modules/lodash/_getTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** `Object#toString` result references. */
var mapTag = '[object Map]';

/**
 * The base implementation of `_.isMap` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a map, else `false`.
 */
function baseIsMap(value) {
  return isObjectLike(value) && getTag(value) == mapTag;
}

module.exports = baseIsMap;


/***/ }),

/***/ "./node_modules/lodash/_baseIsSet.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseIsSet.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getTag = __webpack_require__(/*! ./_getTag */ "./node_modules/lodash/_getTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** `Object#toString` result references. */
var setTag = '[object Set]';

/**
 * The base implementation of `_.isSet` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a set, else `false`.
 */
function baseIsSet(value) {
  return isObjectLike(value) && getTag(value) == setTag;
}

module.exports = baseIsSet;


/***/ }),

/***/ "./node_modules/lodash/_baseKeysIn.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseKeysIn.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isPrototype = __webpack_require__(/*! ./_isPrototype */ "./node_modules/lodash/_isPrototype.js"),
    nativeKeysIn = __webpack_require__(/*! ./_nativeKeysIn */ "./node_modules/lodash/_nativeKeysIn.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

module.exports = baseKeysIn;


/***/ }),

/***/ "./node_modules/lodash/_baseMerge.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseMerge.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Stack = __webpack_require__(/*! ./_Stack */ "./node_modules/lodash/_Stack.js"),
    assignMergeValue = __webpack_require__(/*! ./_assignMergeValue */ "./node_modules/lodash/_assignMergeValue.js"),
    baseFor = __webpack_require__(/*! ./_baseFor */ "./node_modules/lodash/_baseFor.js"),
    baseMergeDeep = __webpack_require__(/*! ./_baseMergeDeep */ "./node_modules/lodash/_baseMergeDeep.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js"),
    safeGet = __webpack_require__(/*! ./_safeGet */ "./node_modules/lodash/_safeGet.js");

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    stack || (stack = new Stack);
    if (isObject(srcValue)) {
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

module.exports = baseMerge;


/***/ }),

/***/ "./node_modules/lodash/_baseMergeDeep.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_baseMergeDeep.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignMergeValue = __webpack_require__(/*! ./_assignMergeValue */ "./node_modules/lodash/_assignMergeValue.js"),
    cloneBuffer = __webpack_require__(/*! ./_cloneBuffer */ "./node_modules/lodash/_cloneBuffer.js"),
    cloneTypedArray = __webpack_require__(/*! ./_cloneTypedArray */ "./node_modules/lodash/_cloneTypedArray.js"),
    copyArray = __webpack_require__(/*! ./_copyArray */ "./node_modules/lodash/_copyArray.js"),
    initCloneObject = __webpack_require__(/*! ./_initCloneObject */ "./node_modules/lodash/_initCloneObject.js"),
    isArguments = __webpack_require__(/*! ./isArguments */ "./node_modules/lodash/isArguments.js"),
    isArray = __webpack_require__(/*! ./isArray */ "./node_modules/lodash/isArray.js"),
    isArrayLikeObject = __webpack_require__(/*! ./isArrayLikeObject */ "./node_modules/lodash/isArrayLikeObject.js"),
    isBuffer = __webpack_require__(/*! ./isBuffer */ "./node_modules/lodash/isBuffer.js"),
    isFunction = __webpack_require__(/*! ./isFunction */ "./node_modules/lodash/isFunction.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isPlainObject = __webpack_require__(/*! ./isPlainObject */ "./node_modules/lodash/isPlainObject.js"),
    isTypedArray = __webpack_require__(/*! ./isTypedArray */ "./node_modules/lodash/isTypedArray.js"),
    safeGet = __webpack_require__(/*! ./_safeGet */ "./node_modules/lodash/_safeGet.js"),
    toPlainObject = __webpack_require__(/*! ./toPlainObject */ "./node_modules/lodash/toPlainObject.js");

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || isFunction(objValue)) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

module.exports = baseMergeDeep;


/***/ }),

/***/ "./node_modules/lodash/_baseRest.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_baseRest.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var identity = __webpack_require__(/*! ./identity */ "./node_modules/lodash/identity.js"),
    overRest = __webpack_require__(/*! ./_overRest */ "./node_modules/lodash/_overRest.js"),
    setToString = __webpack_require__(/*! ./_setToString */ "./node_modules/lodash/_setToString.js");

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

module.exports = baseRest;


/***/ }),

/***/ "./node_modules/lodash/_baseSetToString.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_baseSetToString.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var constant = __webpack_require__(/*! ./constant */ "./node_modules/lodash/constant.js"),
    defineProperty = __webpack_require__(/*! ./_defineProperty */ "./node_modules/lodash/_defineProperty.js"),
    identity = __webpack_require__(/*! ./identity */ "./node_modules/lodash/identity.js");

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

module.exports = baseSetToString;


/***/ }),

/***/ "./node_modules/lodash/_cloneArrayBuffer.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/_cloneArrayBuffer.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Uint8Array = __webpack_require__(/*! ./_Uint8Array */ "./node_modules/lodash/_Uint8Array.js");

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

module.exports = cloneArrayBuffer;


/***/ }),

/***/ "./node_modules/lodash/_cloneBuffer.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_cloneBuffer.js ***!
  \*********************************************/
/***/ ((module, exports, __webpack_require__) => {

/* module decorator */ module = __webpack_require__.nmd(module);
var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && "object" == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

module.exports = cloneBuffer;


/***/ }),

/***/ "./node_modules/lodash/_cloneDataView.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_cloneDataView.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var cloneArrayBuffer = __webpack_require__(/*! ./_cloneArrayBuffer */ "./node_modules/lodash/_cloneArrayBuffer.js");

/**
 * Creates a clone of `dataView`.
 *
 * @private
 * @param {Object} dataView The data view to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned data view.
 */
function cloneDataView(dataView, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
}

module.exports = cloneDataView;


/***/ }),

/***/ "./node_modules/lodash/_cloneRegExp.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_cloneRegExp.js ***!
  \*********************************************/
/***/ ((module) => {

/** Used to match `RegExp` flags from their coerced string values. */
var reFlags = /\w*$/;

/**
 * Creates a clone of `regexp`.
 *
 * @private
 * @param {Object} regexp The regexp to clone.
 * @returns {Object} Returns the cloned regexp.
 */
function cloneRegExp(regexp) {
  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
  result.lastIndex = regexp.lastIndex;
  return result;
}

module.exports = cloneRegExp;


/***/ }),

/***/ "./node_modules/lodash/_cloneSymbol.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_cloneSymbol.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;

/**
 * Creates a clone of the `symbol` object.
 *
 * @private
 * @param {Object} symbol The symbol object to clone.
 * @returns {Object} Returns the cloned symbol object.
 */
function cloneSymbol(symbol) {
  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
}

module.exports = cloneSymbol;


/***/ }),

/***/ "./node_modules/lodash/_cloneTypedArray.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_cloneTypedArray.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var cloneArrayBuffer = __webpack_require__(/*! ./_cloneArrayBuffer */ "./node_modules/lodash/_cloneArrayBuffer.js");

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

module.exports = cloneTypedArray;


/***/ }),

/***/ "./node_modules/lodash/_copyArray.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_copyArray.js ***!
  \*******************************************/
/***/ ((module) => {

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

module.exports = copyArray;


/***/ }),

/***/ "./node_modules/lodash/_copyObject.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_copyObject.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignValue = __webpack_require__(/*! ./_assignValue */ "./node_modules/lodash/_assignValue.js"),
    baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ "./node_modules/lodash/_baseAssignValue.js");

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

module.exports = copyObject;


/***/ }),

/***/ "./node_modules/lodash/_copySymbols.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_copySymbols.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    getSymbols = __webpack_require__(/*! ./_getSymbols */ "./node_modules/lodash/_getSymbols.js");

/**
 * Copies own symbols of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy symbols from.
 * @param {Object} [object={}] The object to copy symbols to.
 * @returns {Object} Returns `object`.
 */
function copySymbols(source, object) {
  return copyObject(source, getSymbols(source), object);
}

module.exports = copySymbols;


/***/ }),

/***/ "./node_modules/lodash/_copySymbolsIn.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_copySymbolsIn.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    getSymbolsIn = __webpack_require__(/*! ./_getSymbolsIn */ "./node_modules/lodash/_getSymbolsIn.js");

/**
 * Copies own and inherited symbols of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy symbols from.
 * @param {Object} [object={}] The object to copy symbols to.
 * @returns {Object} Returns `object`.
 */
function copySymbolsIn(source, object) {
  return copyObject(source, getSymbolsIn(source), object);
}

module.exports = copySymbolsIn;


/***/ }),

/***/ "./node_modules/lodash/_createAssigner.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_createAssigner.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseRest = __webpack_require__(/*! ./_baseRest */ "./node_modules/lodash/_baseRest.js"),
    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ "./node_modules/lodash/_isIterateeCall.js");

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

module.exports = createAssigner;


/***/ }),

/***/ "./node_modules/lodash/_createBaseFor.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_createBaseFor.js ***!
  \***********************************************/
/***/ ((module) => {

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

module.exports = createBaseFor;


/***/ }),

/***/ "./node_modules/lodash/_defineProperty.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_defineProperty.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getNative = __webpack_require__(/*! ./_getNative */ "./node_modules/lodash/_getNative.js");

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

module.exports = defineProperty;


/***/ }),

/***/ "./node_modules/lodash/_getAllKeysIn.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_getAllKeysIn.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseGetAllKeys = __webpack_require__(/*! ./_baseGetAllKeys */ "./node_modules/lodash/_baseGetAllKeys.js"),
    getSymbolsIn = __webpack_require__(/*! ./_getSymbolsIn */ "./node_modules/lodash/_getSymbolsIn.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/**
 * Creates an array of own and inherited enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeysIn(object) {
  return baseGetAllKeys(object, keysIn, getSymbolsIn);
}

module.exports = getAllKeysIn;


/***/ }),

/***/ "./node_modules/lodash/_getPrototype.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_getPrototype.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var overArg = __webpack_require__(/*! ./_overArg */ "./node_modules/lodash/_overArg.js");

/** Built-in value references. */
var getPrototype = overArg(Object.getPrototypeOf, Object);

module.exports = getPrototype;


/***/ }),

/***/ "./node_modules/lodash/_getSymbolsIn.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_getSymbolsIn.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arrayPush = __webpack_require__(/*! ./_arrayPush */ "./node_modules/lodash/_arrayPush.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    getSymbols = __webpack_require__(/*! ./_getSymbols */ "./node_modules/lodash/_getSymbols.js"),
    stubArray = __webpack_require__(/*! ./stubArray */ "./node_modules/lodash/stubArray.js");

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols;

/**
 * Creates an array of the own and inherited enumerable symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
  var result = [];
  while (object) {
    arrayPush(result, getSymbols(object));
    object = getPrototype(object);
  }
  return result;
};

module.exports = getSymbolsIn;


/***/ }),

/***/ "./node_modules/lodash/_initCloneArray.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_initCloneArray.js ***!
  \************************************************/
/***/ ((module) => {

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Initializes an array clone.
 *
 * @private
 * @param {Array} array The array to clone.
 * @returns {Array} Returns the initialized clone.
 */
function initCloneArray(array) {
  var length = array.length,
      result = new array.constructor(length);

  // Add properties assigned by `RegExp#exec`.
  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {
    result.index = array.index;
    result.input = array.input;
  }
  return result;
}

module.exports = initCloneArray;


/***/ }),

/***/ "./node_modules/lodash/_initCloneByTag.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_initCloneByTag.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var cloneArrayBuffer = __webpack_require__(/*! ./_cloneArrayBuffer */ "./node_modules/lodash/_cloneArrayBuffer.js"),
    cloneDataView = __webpack_require__(/*! ./_cloneDataView */ "./node_modules/lodash/_cloneDataView.js"),
    cloneRegExp = __webpack_require__(/*! ./_cloneRegExp */ "./node_modules/lodash/_cloneRegExp.js"),
    cloneSymbol = __webpack_require__(/*! ./_cloneSymbol */ "./node_modules/lodash/_cloneSymbol.js"),
    cloneTypedArray = __webpack_require__(/*! ./_cloneTypedArray */ "./node_modules/lodash/_cloneTypedArray.js");

/** `Object#toString` result references. */
var boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Initializes an object clone based on its `toStringTag`.
 *
 * **Note:** This function only supports cloning values with tags of
 * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.
 *
 * @private
 * @param {Object} object The object to clone.
 * @param {string} tag The `toStringTag` of the object to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneByTag(object, tag, isDeep) {
  var Ctor = object.constructor;
  switch (tag) {
    case arrayBufferTag:
      return cloneArrayBuffer(object);

    case boolTag:
    case dateTag:
      return new Ctor(+object);

    case dataViewTag:
      return cloneDataView(object, isDeep);

    case float32Tag: case float64Tag:
    case int8Tag: case int16Tag: case int32Tag:
    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:
      return cloneTypedArray(object, isDeep);

    case mapTag:
      return new Ctor;

    case numberTag:
    case stringTag:
      return new Ctor(object);

    case regexpTag:
      return cloneRegExp(object);

    case setTag:
      return new Ctor;

    case symbolTag:
      return cloneSymbol(object);
  }
}

module.exports = initCloneByTag;


/***/ }),

/***/ "./node_modules/lodash/_initCloneObject.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_initCloneObject.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseCreate = __webpack_require__(/*! ./_baseCreate */ "./node_modules/lodash/_baseCreate.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    isPrototype = __webpack_require__(/*! ./_isPrototype */ "./node_modules/lodash/_isPrototype.js");

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

module.exports = initCloneObject;


/***/ }),

/***/ "./node_modules/lodash/_isIterateeCall.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_isIterateeCall.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js"),
    isArrayLike = __webpack_require__(/*! ./isArrayLike */ "./node_modules/lodash/isArrayLike.js"),
    isIndex = __webpack_require__(/*! ./_isIndex */ "./node_modules/lodash/_isIndex.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js");

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

module.exports = isIterateeCall;


/***/ }),

/***/ "./node_modules/lodash/_nativeKeysIn.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_nativeKeysIn.js ***!
  \**********************************************/
/***/ ((module) => {

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

module.exports = nativeKeysIn;


/***/ }),

/***/ "./node_modules/lodash/_overRest.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_overRest.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var apply = __webpack_require__(/*! ./_apply */ "./node_modules/lodash/_apply.js");

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

module.exports = overRest;


/***/ }),

/***/ "./node_modules/lodash/_safeGet.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_safeGet.js ***!
  \*****************************************/
/***/ ((module) => {

/**
 * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  if (key === 'constructor' && typeof object[key] === 'function') {
    return;
  }

  if (key == '__proto__') {
    return;
  }

  return object[key];
}

module.exports = safeGet;


/***/ }),

/***/ "./node_modules/lodash/_setToString.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_setToString.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseSetToString = __webpack_require__(/*! ./_baseSetToString */ "./node_modules/lodash/_baseSetToString.js"),
    shortOut = __webpack_require__(/*! ./_shortOut */ "./node_modules/lodash/_shortOut.js");

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

module.exports = setToString;


/***/ }),

/***/ "./node_modules/lodash/_shortOut.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_shortOut.js ***!
  \******************************************/
/***/ ((module) => {

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeNow = Date.now;

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

module.exports = shortOut;


/***/ }),

/***/ "./node_modules/lodash/assign.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/assign.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignValue = __webpack_require__(/*! ./_assignValue */ "./node_modules/lodash/_assignValue.js"),
    copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    createAssigner = __webpack_require__(/*! ./_createAssigner */ "./node_modules/lodash/_createAssigner.js"),
    isArrayLike = __webpack_require__(/*! ./isArrayLike */ "./node_modules/lodash/isArrayLike.js"),
    isPrototype = __webpack_require__(/*! ./_isPrototype */ "./node_modules/lodash/_isPrototype.js"),
    keys = __webpack_require__(/*! ./keys */ "./node_modules/lodash/keys.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns own enumerable string keyed properties of source objects to the
 * destination object. Source objects are applied from left to right.
 * Subsequent sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object` and is loosely based on
 * [`Object.assign`](https://mdn.io/Object/assign).
 *
 * @static
 * @memberOf _
 * @since 0.10.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @see _.assignIn
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * function Bar() {
 *   this.c = 3;
 * }
 *
 * Foo.prototype.b = 2;
 * Bar.prototype.d = 4;
 *
 * _.assign({ 'a': 0 }, new Foo, new Bar);
 * // => { 'a': 1, 'c': 3 }
 */
var assign = createAssigner(function(object, source) {
  if (isPrototype(source) || isArrayLike(source)) {
    copyObject(source, keys(source), object);
    return;
  }
  for (var key in source) {
    if (hasOwnProperty.call(source, key)) {
      assignValue(object, key, source[key]);
    }
  }
});

module.exports = assign;


/***/ }),

/***/ "./node_modules/lodash/assignWith.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/assignWith.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    createAssigner = __webpack_require__(/*! ./_createAssigner */ "./node_modules/lodash/_createAssigner.js"),
    keys = __webpack_require__(/*! ./keys */ "./node_modules/lodash/keys.js");

/**
 * This method is like `_.assign` except that it accepts `customizer`
 * which is invoked to produce the assigned values. If `customizer` returns
 * `undefined`, assignment is handled by the method instead. The `customizer`
 * is invoked with five arguments: (objValue, srcValue, key, object, source).
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} sources The source objects.
 * @param {Function} [customizer] The function to customize assigned values.
 * @returns {Object} Returns `object`.
 * @see _.assignInWith
 * @example
 *
 * function customizer(objValue, srcValue) {
 *   return _.isUndefined(objValue) ? srcValue : objValue;
 * }
 *
 * var defaults = _.partialRight(_.assignWith, customizer);
 *
 * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
 * // => { 'a': 1, 'b': 2 }
 */
var assignWith = createAssigner(function(object, source, srcIndex, customizer) {
  copyObject(source, keys(source), object, customizer);
});

module.exports = assignWith;


/***/ }),

/***/ "./node_modules/lodash/cloneDeep.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/cloneDeep.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseClone = __webpack_require__(/*! ./_baseClone */ "./node_modules/lodash/_baseClone.js");

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1,
    CLONE_SYMBOLS_FLAG = 4;

/**
 * This method is like `_.clone` except that it recursively clones `value`.
 *
 * @static
 * @memberOf _
 * @since 1.0.0
 * @category Lang
 * @param {*} value The value to recursively clone.
 * @returns {*} Returns the deep cloned value.
 * @see _.clone
 * @example
 *
 * var objects = [{ 'a': 1 }, { 'b': 2 }];
 *
 * var deep = _.cloneDeep(objects);
 * console.log(deep[0] === objects[0]);
 * // => false
 */
function cloneDeep(value) {
  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
}

module.exports = cloneDeep;


/***/ }),

/***/ "./node_modules/lodash/constant.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/constant.js ***!
  \*****************************************/
/***/ ((module) => {

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

module.exports = constant;


/***/ }),

/***/ "./node_modules/lodash/identity.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/identity.js ***!
  \*****************************************/
/***/ ((module) => {

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

module.exports = identity;


/***/ }),

/***/ "./node_modules/lodash/isArrayLikeObject.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/isArrayLikeObject.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isArrayLike = __webpack_require__(/*! ./isArrayLike */ "./node_modules/lodash/isArrayLike.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

module.exports = isArrayLikeObject;


/***/ }),

/***/ "./node_modules/lodash/isMap.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/isMap.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseIsMap = __webpack_require__(/*! ./_baseIsMap */ "./node_modules/lodash/_baseIsMap.js"),
    baseUnary = __webpack_require__(/*! ./_baseUnary */ "./node_modules/lodash/_baseUnary.js"),
    nodeUtil = __webpack_require__(/*! ./_nodeUtil */ "./node_modules/lodash/_nodeUtil.js");

/* Node.js helper references. */
var nodeIsMap = nodeUtil && nodeUtil.isMap;

/**
 * Checks if `value` is classified as a `Map` object.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a map, else `false`.
 * @example
 *
 * _.isMap(new Map);
 * // => true
 *
 * _.isMap(new WeakMap);
 * // => false
 */
var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;

module.exports = isMap;


/***/ }),

/***/ "./node_modules/lodash/isPlainObject.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/isPlainObject.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** `Object#toString` result references. */
var objectTag = '[object Object]';

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

module.exports = isPlainObject;


/***/ }),

/***/ "./node_modules/lodash/isSet.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/isSet.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseIsSet = __webpack_require__(/*! ./_baseIsSet */ "./node_modules/lodash/_baseIsSet.js"),
    baseUnary = __webpack_require__(/*! ./_baseUnary */ "./node_modules/lodash/_baseUnary.js"),
    nodeUtil = __webpack_require__(/*! ./_nodeUtil */ "./node_modules/lodash/_nodeUtil.js");

/* Node.js helper references. */
var nodeIsSet = nodeUtil && nodeUtil.isSet;

/**
 * Checks if `value` is classified as a `Set` object.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a set, else `false`.
 * @example
 *
 * _.isSet(new Set);
 * // => true
 *
 * _.isSet(new WeakSet);
 * // => false
 */
var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;

module.exports = isSet;


/***/ }),

/***/ "./node_modules/lodash/isUndefined.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/isUndefined.js ***!
  \********************************************/
/***/ ((module) => {

/**
 * Checks if `value` is `undefined`.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
 * @example
 *
 * _.isUndefined(void 0);
 * // => true
 *
 * _.isUndefined(null);
 * // => false
 */
function isUndefined(value) {
  return value === undefined;
}

module.exports = isUndefined;


/***/ }),

/***/ "./node_modules/lodash/keysIn.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/keysIn.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arrayLikeKeys = __webpack_require__(/*! ./_arrayLikeKeys */ "./node_modules/lodash/_arrayLikeKeys.js"),
    baseKeysIn = __webpack_require__(/*! ./_baseKeysIn */ "./node_modules/lodash/_baseKeysIn.js"),
    isArrayLike = __webpack_require__(/*! ./isArrayLike */ "./node_modules/lodash/isArrayLike.js");

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

module.exports = keysIn;


/***/ }),

/***/ "./node_modules/lodash/memoize.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/memoize.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var MapCache = __webpack_require__(/*! ./_MapCache */ "./node_modules/lodash/_MapCache.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `clear`, `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result) || cache;
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Expose `MapCache`.
memoize.Cache = MapCache;

module.exports = memoize;


/***/ }),

/***/ "./node_modules/lodash/merge.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/merge.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseMerge = __webpack_require__(/*! ./_baseMerge */ "./node_modules/lodash/_baseMerge.js"),
    createAssigner = __webpack_require__(/*! ./_createAssigner */ "./node_modules/lodash/_createAssigner.js");

/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */
var merge = createAssigner(function(object, source, srcIndex) {
  baseMerge(object, source, srcIndex);
});

module.exports = merge;


/***/ }),

/***/ "./node_modules/lodash/throttle.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/throttle.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var debounce = __webpack_require__(/*! ./debounce */ "./node_modules/lodash/debounce.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

module.exports = throttle;


/***/ }),

/***/ "./node_modules/lodash/toPlainObject.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/toPlainObject.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

module.exports = toPlainObject;


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/action-sheet/action-sheet.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/action-sheet/action-sheet.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/auto-center/auto-center.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/auto-center/auto-center.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/avatar/avatar.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/avatar/avatar.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/badge/badge.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/badge/badge.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/button/button.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/button/button.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/calendar/calendar.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/calendar/calendar.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/capsule-tabs/capsule-tabs.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/card/card.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/card/card.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader-view/cascader-view.css":
/*!********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader-view/cascader-view.css ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/cascader/cascader.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/cascader/cascader.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/check-list/check-list.css":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/check-list/check-list.css ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/checkbox/checkbox.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/checkbox/checkbox.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/collapse/collapse.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/collapse/collapse.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/date-picker/date-picker.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/date-picker/date-picker.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dialog/dialog.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dialog/dialog.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/divider/divider.css":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/divider/divider.css ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dot-loading/dot-loading.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dot-loading/dot-loading.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/dropdown/dropdown.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/dropdown/dropdown.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/ellipsis/ellipsis.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/ellipsis/ellipsis.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/empty/empty.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/empty/empty.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/error-block/error-block.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/error-block/error-block.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.css":
/*!************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-bubble/floating-bubble.css ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/floating-panel/floating-panel.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/floating-panel/floating-panel.css ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/form/index.css":
/*!***************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/form/index.css ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/grid/grid.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/grid/grid.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-uploader/image-uploader.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-uploader/image-uploader.css ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image-viewer/image-viewer.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image-viewer/image-viewer.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/image/image.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/image/image.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/index-bar/index-bar.css":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/index-bar/index-bar.css ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.css":
/*!************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/infinite-scroll/infinite-scroll.css ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/input/input.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/input/input.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.css":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.css ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/list/list.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/list/list.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/mask/mask.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/mask/mask.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/modal/modal.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/modal/modal.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/nav-bar/nav-bar.css":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/nav-bar/nav-bar.css ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/notice-bar/notice-bar.css":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/notice-bar/notice-bar.css ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.css":
/*!************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/number-keyboard/number-keyboard.css ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/page-indicator/page-indicator.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/page-indicator/page-indicator.css ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/passcode-input/passcode-input.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/passcode-input/passcode-input.css ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker-view/picker-view.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker-view/picker-view.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/picker/picker.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/picker/picker.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popover/popover.css":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popover/popover.css ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/popup/popup.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/popup/popup.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-bar/progress-bar.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-bar/progress-bar.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/progress-circle/progress-circle.css":
/*!************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/progress-circle/progress-circle.css ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.css":
/*!************************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/pull-to-refresh/pull-to-refresh.css ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/radio/radio.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/radio/radio.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/rate/rate.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/rate/rate.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/result/result.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/result/result.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/safe-area/safe-area.css":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/safe-area/safe-area.css ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/scroll-mask/scroll-mask.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/search-bar/search-bar.css":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/search-bar/search-bar.css ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/selector/selector.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/selector/selector.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/side-bar/side-bar.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/side-bar/side-bar.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/skeleton/skeleton.css":
/*!**********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/skeleton/skeleton.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/slider/slider.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/slider/slider.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/space/space.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/space/space.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/spin-loading/spin-loading.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/spin-loading/spin-loading.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/stepper/stepper.css":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/stepper/stepper.css ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/steps/steps.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/steps/steps.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swipe-action/swipe-action.css":
/*!******************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swipe-action/swipe-action.css ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/swiper/swiper.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/swiper/swiper.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/switch/switch.css":
/*!******************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/switch/switch.css ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tab-bar/tab-bar.css":
/*!********************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tab-bar/tab-bar.css ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tabs/tabs.css":
/*!**************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tabs/tabs.css ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tag/tag.css":
/*!************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tag/tag.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/text-area/text-area.css":
/*!************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/text-area/text-area.css ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/toast/toast.css":
/*!****************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/toast/toast.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/tree-select/tree-select.css":
/*!****************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/tree-select/tree-select.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/virtual-input/virtual-input.css":
/*!********************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/virtual-input/virtual-input.css ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/components/water-mark/water-mark.css":
/*!**************************************************************************!*\
  !*** ./node_modules/antd-mobile/es/components/water-mark/water-mark.css ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/antd-mobile/es/global/global.css":
/*!*******************************************************!*\
  !*** ./node_modules/antd-mobile/es/global/global.css ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/rc-field-form/lib/FieldContext.js":
/*!********************************************************!*\
  !*** ./node_modules/rc-field-form/lib/FieldContext.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = exports.HOOK_MARK = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _warning = _interopRequireDefault(__webpack_require__(/*! rc-util/lib/warning */ "./node_modules/rc-util/lib/warning.js"));

var HOOK_MARK = 'RC_FORM_INTERNAL_HOOKS'; // eslint-disable-next-line @typescript-eslint/no-explicit-any

exports.HOOK_MARK = HOOK_MARK;

var warningFunc = function warningFunc() {
  (0, _warning.default)(false, 'Can not find FormContext. Please make sure you wrap Field under Form.');
};

var Context = /*#__PURE__*/React.createContext({
  getFieldValue: warningFunc,
  getFieldsValue: warningFunc,
  getFieldError: warningFunc,
  getFieldWarning: warningFunc,
  getFieldsError: warningFunc,
  isFieldsTouched: warningFunc,
  isFieldTouched: warningFunc,
  isFieldValidating: warningFunc,
  isFieldsValidating: warningFunc,
  resetFields: warningFunc,
  setFields: warningFunc,
  setFieldsValue: warningFunc,
  validateFields: warningFunc,
  submit: warningFunc,
  getInternalHooks: function getInternalHooks() {
    warningFunc();
    return {
      dispatch: warningFunc,
      initEntityValue: warningFunc,
      registerField: warningFunc,
      useSubscribe: warningFunc,
      setInitialValues: warningFunc,
      setCallbacks: warningFunc,
      getFields: warningFunc,
      setValidateMessages: warningFunc,
      setPreserve: warningFunc,
      getInitialValue: warningFunc
    };
  }
});
var _default = Context;
exports["default"] = _default;

/***/ }),

/***/ "./node_modules/rc-util/lib/warning.js":
/*!*********************************************!*\
  !*** ./node_modules/rc-util/lib/warning.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.warning = warning;
exports.note = note;
exports.resetWarned = resetWarned;
exports.call = call;
exports.warningOnce = warningOnce;
exports.noteOnce = noteOnce;
exports["default"] = void 0;

/* eslint-disable no-console */
var warned = {};

function warning(valid, message) {
  // Support uglify
  if ( true && !valid && console !== undefined) {
    console.error("Warning: ".concat(message));
  }
}

function note(valid, message) {
  // Support uglify
  if ( true && !valid && console !== undefined) {
    console.warn("Note: ".concat(message));
  }
}

function resetWarned() {
  warned = {};
}

function call(method, valid, message) {
  if (!valid && !warned[message]) {
    method(false, message);
    warned[message] = true;
  }
}

function warningOnce(valid, message) {
  call(warning, valid, message);
}

function noteOnce(valid, message) {
  call(note, valid, message);
}

var _default = warningOnce;
/* eslint-enable */

exports["default"] = _default;

/***/ }),

/***/ "./node_modules/staged-components/index.js":
/*!*************************************************!*\
  !*** ./node_modules/staged-components/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const react_1 = __importDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));
function processNext(next) {
    if (typeof next === 'function') {
        return (react_1.default.createElement(Stage, { stage: next }));
    }
    else {
        return next;
    }
}
function Stage(props) {
    const next = props.stage();
    return processNext(next);
}
function staged(stage) {
    return function Staged(props, ref) {
        const next = stage(props, ref);
        return processNext(next);
    };
}
exports.staged = staged;


/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/busy.svg":
/*!*****************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/busy.svg ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/busy.c4668539.svg";

/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/default.svg":
/*!********************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/default.svg ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/default.1f281972.svg";

/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/disconnected.svg":
/*!*************************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/disconnected.svg ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/disconnected.9c7ea75e.svg";

/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/empty-icon.svg":
/*!***********************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/empty-icon.svg ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/empty-icon.0e5fd287.svg";

/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/empty.svg":
/*!******************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/empty.svg ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/empty.f2b844b2.svg";

/***/ }),

/***/ "./node_modules/antd-mobile/es/assets/spin.svg":
/*!*****************************************************!*\
  !*** ./node_modules/antd-mobile/es/assets/spin.svg ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/spin.a71ffb17.svg";

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYW50ZC1tb2JpbGVfZXNfY29tcG9uZW50c19hdmF0YXJfYXZhdGFyX2pzLW5vZGVfbW9kdWxlc19hbnRkLW1vYmlsZV9lc19jLWI5NGNhYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGNBQWMsc0dBQWlDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwwQ0FBMEMseUJBQXlCLFNBQVMseUJBQXlCOzs7Ozs7Ozs7O0FDcERyRztBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHLEVBQUUseUJBQXlCLFNBQVMseUJBQXlCO0FBQ2hFOztBQUVBLDBCQUEwQix5QkFBeUIsU0FBUyx5QkFBeUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1Y2STtBQUNuTTtBQUNvQzs7QUFFbkU7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtFQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSx3REFBTTtBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsd0RBQU07QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4Tm1CO0FBQ0E7QUFDVjtBQUNxQjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQyw4QkFBOEIsRUFBRTtBQUNoQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx1REFBTztBQUM1Qyw4QkFBOEIsa0VBQWtCO0FBQ2hEO0FBQ0EseUJBQXlCLDZEQUFhO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0Msb0NBQW9DO0FBQ3hFLGNBQWMsWUFBWTtBQUMxQixrQkFBa0Isa0JBQWtCO0FBQ3BDLHlCQUF5Qix1QkFBdUI7QUFDaEQsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMkRBQVc7QUFDakIsTUFBTTtBQUNOO0FBQ0EsTUFBTSx1REFBRztBQUNUO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0EsTUFBTSwyREFBVztBQUNqQixNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRSx1REFBRztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IseUJBQXlCO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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QUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVB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TTtBQUNOO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHFCQUFxQix5REFBSztBQUMxQjtBQUNBOztBQUVBLElBQUksMkRBQU87QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixVQUFVLElBQXNDO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLElBQXNDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMkRBQU87QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsZ0NBQWdDO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLDhEQUFVO0FBQ2hDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSwrQkFBK0IsOERBQVU7QUFDekMsK0JBQStCLDhEQUFVO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRCxJQUFJLElBQXNDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlIQUFpSCxXQUFXLGVBQWU7QUFDM0k7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsdUhBQXVILFNBQVMsaUJBQWlCO0FBQ2pKOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsdUhBQXVILFNBQVMsZ0JBQWdCO0FBQ2hKOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsdUhBQXVILFNBQVMsaUJBQWlCO0FBQ2pKOztBQUVBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQSwwQkFBMEIseURBQUs7QUFDL0IsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDs7QUFFQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5REFBSztBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsS0FBc0M7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDJEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7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SUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUJBQXlCO0FBQzNDO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztB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Q0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7OztBQy9CQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQWE7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsb0hBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyxzSEFBK0M7O0FBRXJGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlLEdBQUcsaUJBQWlCOztBQUVuQyxvQ0FBb0MsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFbkQsc0NBQXNDLG1CQUFPLENBQUMsa0VBQXFCOztBQUVuRSwwQ0FBMEM7O0FBRTFDLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGtCQUFlOzs7Ozs7Ozs7OztBQ3ZERjs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixlQUFlO0FBQ2YsWUFBWTtBQUNaLG1CQUFtQjtBQUNuQixZQUFZO0FBQ1osbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixrQkFBZTs7QUFFZjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLEtBQXFDO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxLQUFxQztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWU7Ozs7Ozs7Ozs7O0FDcERGO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLG1CQUFPLENBQUMsNENBQU87QUFDL0M7QUFDQTtBQUNBLHVEQUF1RCxhQUFhO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9hbmltYXRlZC9kaXN0L3JlYWN0LXNwcmluZy1hbmltYXRlZC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1zcHJpbmcvY29yZS9kaXN0L3JlYWN0LXNwcmluZy1jb3JlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9yYWZ6L2Rpc3QvcmVhY3Qtc3ByaW5nLXJhZnouZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3NoYXJlZC9kaXN0L3JlYWN0LXNwcmluZy1zaGFyZWQuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3R5cGVzL2FuaW1hdGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3R5cGVzL2ludGVycG9sYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1zcHJpbmcvd2ViL2Rpc3QvcmVhY3Qtc3ByaW5nLXdlYi5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B1c2UtZ2VzdHVyZS9jb3JlL2FjdGlvbnMvZGlzdC91c2UtZ2VzdHVyZS1jb3JlLWFjdGlvbnMuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdXNlLWdlc3R1cmUvY29yZS9kaXN0L2FjdGlvbnMtZmQwMzJhMjYuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdXNlLWdlc3R1cmUvY29yZS9kaXN0L21hdGhzLWIyYTIxMGY0LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVzZS1nZXN0dXJlL2NvcmUvZGlzdC91c2UtZ2VzdHVyZS1jb3JlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVzZS1nZXN0dXJlL2NvcmUvdHlwZXMvZGlzdC91c2UtZ2VzdHVyZS1jb3JlLXR5cGVzLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVzZS1nZXN0dXJlL2NvcmUvdXRpbHMvZGlzdC91c2UtZ2VzdHVyZS1jb3JlLXV0aWxzLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVzZS1nZXN0dXJlL3JlYWN0L2Rpc3QvdXNlLWdlc3R1cmUtcmVhY3QuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvY3JlYXRlVXBkYXRlRWZmZWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvdXNlQ2xpY2tBd2F5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvdXNlRGVib3VuY2VFZmZlY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy91c2VEZWJvdW5jZUZuL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvdXNlSW5WaWV3cG9ydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZUxhdGVzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZUxvY2tGbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZU1lbW9pemVkRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy91c2VNb3VudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZVRocm90dGxlRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy91c2VUaW1lb3V0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvdXNlVW5tb3VudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZVVubW91bnRlZFJlZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZVVwZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZVVwZGF0ZUVmZmVjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3VzZVVwZGF0ZUxheW91dEVmZmVjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3V0aWxzL2NyZWF0ZUVmZmVjdFdpdGhUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy91dGlscy9kZXBzQXJlU2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3V0aWxzL2RvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3V0aWxzL2lzQnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWhvb2tzL2VzL3V0aWxzL3VzZUVmZmVjdFdpdGhUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlLWljb25zL2VzL0FkZE91dGxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlLWljb25zL2VzL0NoZWNrQ2lyY2xlRmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvQ2hlY2tPdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9DbG9ja0NpcmNsZUZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlLWljb25zL2VzL0Nsb3NlQ2lyY2xlRmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvQ2xvc2VPdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9Eb3duRmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvRG93bk91dGxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlLWljb25zL2VzL0V4Y2xhbWF0aW9uQ2lyY2xlRmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvSW5mb3JtYXRpb25DaXJjbGVGaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9MZWZ0T3V0bGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvTWludXNPdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9QaWN0dXJlT3V0bGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvUGljdHVyZVdyb25nT3V0bGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUtaWNvbnMvZXMvUmlnaHRPdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9TZWFyY2hPdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9Tb3VuZE91dGxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlLWljb25zL2VzL1N0YXJGaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS1pY29ucy9lcy9UZXh0RGVsZXRpb25PdXRsaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2FjdGlvbi1zaGVldC9hY3Rpb24tc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvYWN0aW9uLXNoZWV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2F1dG8tY2VudGVyL2F1dG8tY2VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2F1dG8tY2VudGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2F2YXRhci9hdmF0YXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvYXZhdGFyL2ZhbGxiYWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2F2YXRhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9iYWRnZS9iYWRnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9iYWRnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9idXR0b24vYnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2J1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYWxlbmRhci9hcnJvdy1sZWZ0LWRvdWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYWxlbmRhci9hcnJvdy1sZWZ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NhbGVuZGFyL2NhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NhbGVuZGFyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NhcHN1bGUtdGFicy9jYXBzdWxlLXRhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2Fwc3VsZS10YWJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NhcmQvY2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGUtcGlja2VyLXZpZXcvY2FzY2FkZS1waWNrZXItdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXNjYWRlLXBpY2tlci12aWV3L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGUtcGlja2VyL2Nhc2NhZGUtcGlja2VyLXV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGUtcGlja2VyL2Nhc2NhZGUtcGlja2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGUtcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGUtcGlja2VyL3Byb21wdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXNjYWRlLXBpY2tlci91c2UtY2FzY2FkZS1waWNrZXItb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXNjYWRlci12aWV3L2Nhc2NhZGVyLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FzY2FkZXItdmlldy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXNjYWRlci12aWV3L29wdGlvbi1za2VsZXRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXNjYWRlci12aWV3L3VzZS1jYXNjYWRlci12YWx1ZS1leHRlbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FzY2FkZXIvY2FzY2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FzY2FkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FzY2FkZXIvcHJvbXB0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NoZWNrLWxpc3QvY2hlY2stbGlzdC1pdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NoZWNrLWxpc3QvY2hlY2stbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jaGVjay1saXN0L2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2hlY2stbGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jaGVja2JveC9jaGVjay1pY29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NoZWNrYm94L2NoZWNrYm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NoZWNrYm94L2dyb3VwLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2hlY2tib3gvZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2hlY2tib3gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY29sbGFwc2UvY29sbGFwc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY29sbGFwc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY29uZmlnLXByb3ZpZGVyL2NvbmZpZy1wcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jb25maWctcHJvdmlkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGF0ZS1waWNrZXItdmlldy9kYXRlLXBpY2tlci12aWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RhdGUtcGlja2VyLXZpZXcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXItZGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci13ZWVrLXV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RhdGUtcGlja2VyL2RhdGUtcGlja2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RhdGUtcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RhdGUtcGlja2VyL3Byb21wdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kaWFsb2cvYWxlcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGlhbG9nL2NvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGlhbG9nL2RpYWxvZy1hY3Rpb24tYnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RpYWxvZy9kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGlhbG9nL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RpYWxvZy9zaG93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RpdmlkZXIvZGl2aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kaXZpZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RvdC1sb2FkaW5nL2RvdC1sb2FkaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2RvdC1sb2FkaW5nL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Ryb3Bkb3duL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Ryb3Bkb3duL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZWxsaXBzaXMvZWxsaXBzaXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZWxsaXBzaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZW1wdHkvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZW1wdHkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZXJyb3ItYmxvY2svZXJyb3ItYmxvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZXJyb3ItYmxvY2svZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZXJyb3ItYmxvY2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZmxvYXRpbmctYnViYmxlL2Zsb2F0aW5nLWJ1YmJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9mbG9hdGluZy1idWJibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZmxvYXRpbmctcGFuZWwvZmxvYXRpbmctcGFuZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZmxvYXRpbmctcGFuZWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZm9ybS9jb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Zvcm0vZm9ybS1pdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Zvcm0vZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9mb3JtL2hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9mb3JtL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Zvcm0vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2dyaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW1hZ2UtdXBsb2FkZXIvaW1hZ2UtdXBsb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW1hZ2UtdXBsb2FkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW1hZ2UtdXBsb2FkZXIvcHJldmlldy1pdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlLXZpZXdlci9pbWFnZS12aWV3ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW1hZ2Utdmlld2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlLXZpZXdlci9tZXRob2RzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlLXZpZXdlci9zbGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbWFnZS12aWV3ZXIvc2xpZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlL2ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlL2xhenktZGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW5kZXgtYmFyL2luZGV4LWJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbmRleC1iYXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW5kZXgtYmFyL3BhbmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2luZGV4LWJhci9zaWRlYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2luZmluaXRlLXNjcm9sbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbmZpbml0ZS1zY3JvbGwvaW5maW5pdGUtc2Nyb2xsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2lucHV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2lucHV0L2lucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2p1bWJvLXRhYnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvanVtYm8tdGFicy9qdW1iby10YWJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2xpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbGlzdC9saXN0LWl0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbGlzdC9saXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2xvYWRpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbWFzay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9tYXNrL21hc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbW9kYWwvYWxlcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbW9kYWwvY29uZmlybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9tb2RhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9tb2RhbC9tb2RhbC1hY3Rpb24tYnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL21vZGFsL21vZGFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL21vZGFsL3Nob3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbmF2LWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9uYXYtYmFyL25hdi1iYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbm90aWNlLWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9ub3RpY2UtYmFyL25vdGljZS1iYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbnVtYmVyLWtleWJvYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL251bWJlci1rZXlib2FyZC9udW1iZXIta2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFnZS1pbmRpY2F0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFnZS1pbmRpY2F0b3IvcGFnZS1pbmRpY2F0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFzc2NvZGUtaW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFzc2NvZGUtaW5wdXQvcGFzc2NvZGUtaW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvcGlja2VyLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvdXNlLWNvbHVtbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvdXNlLXBpY2tlci12YWx1ZS1leHRlbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvd2hlZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3BpY2tlci9waWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyL3Byb21wdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wb3BvdmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3BvcG92ZXIvcG9wLW1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3BvcHVwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3BvcHVwL3BvcHVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3Byb2dyZXNzLWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wcm9ncmVzcy1iYXIvcHJvZ3Jlc3MtYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3Byb2dyZXNzLWNpcmNsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wcm9ncmVzcy1jaXJjbGUvcHJvZ3Jlc3MtY2lyY2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3B1bGwtdG8tcmVmcmVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wdWxsLXRvLXJlZnJlc2gvcHVsbC10by1yZWZyZXNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3JhZGlvL2dyb3VwLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmFkaW8vZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmFkaW8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmFkaW8vcmFkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9yYXRlL3JhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmVzdWx0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3Jlc3VsdC9yZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2FmZS1hcmVhL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3NhZmUtYXJlYS9zYWZlLWFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2Nyb2xsLW1hc2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2Nyb2xsLW1hc2svc2Nyb2xsLW1hc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2VhcmNoLWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zZWFyY2gtYmFyL3NlYXJjaC1iYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2VsZWN0b3IvY2hlY2stbWFyay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zZWxlY3Rvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zZWxlY3Rvci9zZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zaWRlLWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zaWRlLWJhci9zaWRlLWJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9za2VsZXRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9za2VsZXRvbi9za2VsZXRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zbGlkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2xpZGVyL21hcmtzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3NsaWRlci9zbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2xpZGVyL3RodW1iLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3NsaWRlci90aWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zcGFjZS9zcGFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zcGluLWxvYWRpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc3Bpbi1sb2FkaW5nL3NwaW4tbG9hZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zdGVwcGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N0ZXBwZXIvc3RlcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zdGVwcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zdGVwcy9zdGVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N0ZXBzL3N0ZXBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N3aXBlLWFjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zd2lwZS1hY3Rpb24vc3dpcGUtYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N3aXBlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zd2lwZXIvc3dpcGVyLWl0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc3dpcGVyL3N3aXBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zd2l0Y2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc3dpdGNoL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90YWItYmFyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RhYi1iYXIvdGFiLWJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90YWJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RhYnMvdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90YWcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvdGFnL3RhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90ZXh0LWFyZWEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvdGV4dC1hcmVhL3RleHQtYXJlYS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90b2FzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90b2FzdC9tZXRob2RzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RvYXN0L3RvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RyZWUtc2VsZWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RyZWUtc2VsZWN0L211bHRpcGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RyZWUtc2VsZWN0L3RyZWUtc2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3ZpcnR1YWwtaW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvdmlydHVhbC1pbnB1dC92aXJ0dWFsLWlucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3dhdGVyLW1hcmsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvd2F0ZXItbWFyay93YXRlci1tYXJrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9nbG9iYWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9sb2NhbGVzL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xvY2FsZXMvZW4tVVMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xvY2FsZXMvemgtQ04uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvYm91bmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL2Nhbi11c2UtZG9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9jb252ZXJ0LXB4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9kZXYtbG9nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9nZW5lcmF0ZS1pbnQtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL2dldC1jb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL2dldC1zY3JvbGwtcGFyZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9pcy1kZXYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL21lcmdlLWxvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvbmF0aXZlLXByb3BzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9uZWFyZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy9yZW5kZXItdG8tYm9keS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvcmVuZGVyLXRvLWNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvcnViYmVyYmFuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvc2h1ZmZsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvc2xlZXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3N1cHBvcnRzLXBhc3NpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3RvLWNzcy1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3RyZWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3VzZS1pbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvdXNlLWxvY2stc2Nyb2xsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy91c2UtbXV0YXRpb24tZWZmZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy91c2UtcHJvcHMtdmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3VzZS1yZWYtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3VzZS1yZXNpemUtZWZmZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy91c2Utc2hvdWxkLXJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvdXNlLXRhYi1saXN0LXNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdXRpbHMvdXNlLXRvdWNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3V0aWxzL3dpdGgtc3RvcC1wcm9wYWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktZm9yLWVhY2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXlqcy9kYXlqcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RheWpzL3BsdWdpbi9pc0xlYXBZZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXlqcy9wbHVnaW4vaXNvV2Vlay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGF5anMvcGx1Z2luL2lzb1dlZWtzSW5ZZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FwcGx5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5RWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NpZ25NZXJnZVZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnblZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VBc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnbkluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VBc3NpZ25WYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlQ2xvbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlRm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc01hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNTZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlTWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1lcmdlRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2xvbmVBcnJheUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZURhdGFWaWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lUmVnRXhwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lU3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lVHlwZWRBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5QXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5U3ltYm9scy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5U3ltYm9sc0luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUFzc2lnbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUJhc2VGb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0QWxsS2V5c0luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFByb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRTeW1ib2xzSW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lQnlUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSXRlcmF0ZWVDYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXNJbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zYWZlR2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Nob3J0T3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvYXNzaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvYXNzaWduV2l0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2Nsb25lRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNVbmRlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzSW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9tZW1vaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvYWN0aW9uLXNoZWV0L2FjdGlvbi1zaGVldC5jc3M/ZjgxYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9hdXRvLWNlbnRlci9hdXRvLWNlbnRlci5jc3M/NzBmOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9hdmF0YXIvYXZhdGFyLmNzcz8zZDllIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2JhZGdlL2JhZGdlLmNzcz82ZWZhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY3NzPzNhMTUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FsZW5kYXIvY2FsZW5kYXIuY3NzP2Y0M2EiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2Fwc3VsZS10YWJzL2NhcHN1bGUtdGFicy5jc3M/ZjdiNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jYXJkL2NhcmQuY3NzP2Q2ZTciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvY2FzY2FkZXItdmlldy9jYXNjYWRlci12aWV3LmNzcz8yZmI5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2Nhc2NhZGVyL2Nhc2NhZGVyLmNzcz85ODZlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2NoZWNrLWxpc3QvY2hlY2stbGlzdC5jc3M/M2ZkZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jaGVja2JveC9jaGVja2JveC5jc3M/ZTYyNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9jb2xsYXBzZS9jb2xsYXBzZS5jc3M/NDdiNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZGlhbG9nL2RpYWxvZy5jc3M/MDg4ZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9kaXZpZGVyL2RpdmlkZXIuY3NzP2MzOGEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZG90LWxvYWRpbmcvZG90LWxvYWRpbmcuY3NzPzAyYzMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZHJvcGRvd24vZHJvcGRvd24uY3NzPzM4OTMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZWxsaXBzaXMvZWxsaXBzaXMuY3NzP2Y4MzkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZW1wdHkvZW1wdHkuY3NzPzBjNGYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZXJyb3ItYmxvY2svZXJyb3ItYmxvY2suY3NzP2QyNDgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvZmxvYXRpbmctYnViYmxlL2Zsb2F0aW5nLWJ1YmJsZS5jc3M/ZTBkOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9mbG9hdGluZy1wYW5lbC9mbG9hdGluZy1wYW5lbC5jc3M/NGQ1NyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9mb3JtL2luZGV4LmNzcz84MmRmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2dyaWQvZ3JpZC5jc3M/MzNhYyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbWFnZS11cGxvYWRlci9pbWFnZS11cGxvYWRlci5jc3M/NTMzZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbWFnZS12aWV3ZXIvaW1hZ2Utdmlld2VyLmNzcz85YzE5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2ltYWdlL2ltYWdlLmNzcz82NmY4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL2luZGV4LWJhci9pbmRleC1iYXIuY3NzPzk2Y2YiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvaW5maW5pdGUtc2Nyb2xsL2luZmluaXRlLXNjcm9sbC5jc3M/MTQwMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9pbnB1dC9pbnB1dC5jc3M/NjY0ZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9qdW1iby10YWJzL2p1bWJvLXRhYnMuY3NzPzM5YjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbGlzdC9saXN0LmNzcz80NGFlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL21hc2svbWFzay5jc3M/N2JlMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9tb2RhbC9tb2RhbC5jc3M/NDM0YSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9uYXYtYmFyL25hdi1iYXIuY3NzP2YxMTAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvbm90aWNlLWJhci9ub3RpY2UtYmFyLmNzcz83OGJmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL251bWJlci1rZXlib2FyZC9udW1iZXIta2V5Ym9hcmQuY3NzPzcyMGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFnZS1pbmRpY2F0b3IvcGFnZS1pbmRpY2F0b3IuY3NzPzU2NzQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGFzc2NvZGUtaW5wdXQvcGFzc2NvZGUtaW5wdXQuY3NzP2Y3ODIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyLXZpZXcvcGlja2VyLXZpZXcuY3NzP2RhYjIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcGlja2VyL3BpY2tlci5jc3M/ZTM4MSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIuY3NzPzExYjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcG9wdXAvcG9wdXAuY3NzPzlhNjQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyL3Byb2dyZXNzLWJhci5jc3M/OGU3NCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9wcm9ncmVzcy1jaXJjbGUvcHJvZ3Jlc3MtY2lyY2xlLmNzcz80Yzg0Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3B1bGwtdG8tcmVmcmVzaC9wdWxsLXRvLXJlZnJlc2guY3NzP2Q4OWUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmFkaW8vcmFkaW8uY3NzP2ZhNWIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvcmF0ZS9yYXRlLmNzcz82N2ZhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3Jlc3VsdC9yZXN1bHQuY3NzP2Q4YzIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2FmZS1hcmVhL3NhZmUtYXJlYS5jc3M/MGYyNCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zY3JvbGwtbWFzay9zY3JvbGwtbWFzay5jc3M/ZGM1MCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zZWFyY2gtYmFyL3NlYXJjaC1iYXIuY3NzPzg0ZWUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2VsZWN0b3Ivc2VsZWN0b3IuY3NzPzE0NDAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2lkZS1iYXIvc2lkZS1iYXIuY3NzP2Q2MjEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2tlbGV0b24vc2tlbGV0b24uY3NzPzVhMGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlci5jc3M/YjY5ZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zcGFjZS9zcGFjZS5jc3M/NmVkMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zcGluLWxvYWRpbmcvc3Bpbi1sb2FkaW5nLmNzcz9kOTQxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N0ZXBwZXIvc3RlcHBlci5jc3M/YmFkNyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zdGVwcy9zdGVwcy5jc3M/MWJkNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy9zd2lwZS1hY3Rpb24vc3dpcGUtYWN0aW9uLmNzcz9mOWU2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3N3aXBlci9zd2lwZXIuY3NzP2EyOGYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvc3dpdGNoL3N3aXRjaC5jc3M/MTY1NCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90YWItYmFyL3RhYi1iYXIuY3NzPzVhNzQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvdGFicy90YWJzLmNzcz85NWI5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jb21wb25lbnRzL3RhZy90YWcuY3NzPzE2ZmYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvdGV4dC1hcmVhL3RleHQtYXJlYS5jc3M/YmUxNyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90b2FzdC90b2FzdC5jc3M/MjlmYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy90cmVlLXNlbGVjdC90cmVlLXNlbGVjdC5jc3M/N2YxOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY29tcG9uZW50cy92aXJ0dWFsLWlucHV0L3ZpcnR1YWwtaW5wdXQuY3NzPzEyYzAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NvbXBvbmVudHMvd2F0ZXItbWFyay93YXRlci1tYXJrLmNzcz85NGFkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9nbG9iYWwvZ2xvYmFsLmNzcz8xOWNlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2xpYi9GaWVsZENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXV0aWwvbGliL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YWdlZC1jb21wb25lbnRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4vdHlwZW9mLmpzXCIpW1wiZGVmYXVsdFwiXTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7XG4gIGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTtcbiAgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpO1xuICByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCkge1xuICAgIHJldHVybiBub2RlSW50ZXJvcCA/IGNhY2hlTm9kZUludGVyb3AgOiBjYWNoZUJhYmVsSW50ZXJvcDtcbiAgfSkobm9kZUludGVyb3ApO1xufVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7XG4gIGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChvYmogPT09IG51bGwgfHwgX3R5cGVvZihvYmopICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiB7XG4gICAgICBcImRlZmF1bHRcIjogb2JqXG4gICAgfTtcbiAgfVxuXG4gIHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCk7XG5cbiAgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7XG4gICAgcmV0dXJuIGNhY2hlLmdldChvYmopO1xuICB9XG5cbiAgdmFyIG5ld09iaiA9IHt9O1xuICB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgIHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsO1xuXG4gICAgICBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG5ld09ialtcImRlZmF1bHRcIl0gPSBvYmo7XG5cbiAgaWYgKGNhY2hlKSB7XG4gICAgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTtcbiAgfVxuXG4gIHJldHVybiBuZXdPYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJpbXBvcnQgeyBkZWZpbmVIaWRkZW4sIGlzLCBjcmVhdGVJbnRlcnBvbGF0b3IsIGVhY2hQcm9wLCBoYXNGbHVpZFZhbHVlLCBnZXRGbHVpZFZhbHVlLCBlYWNoLCBpc0FuaW1hdGVkU3RyaW5nLCB1c2VGb3JjZVVwZGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCBhZGRGbHVpZE9ic2VydmVyLCByZW1vdmVGbHVpZE9ic2VydmVyLCByYWYsIHVzZU9uY2UgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0ICRub2RlID0gU3ltYm9sLmZvcignQW5pbWF0ZWQ6bm9kZScpO1xuY29uc3QgaXNBbmltYXRlZCA9IHZhbHVlID0+ICEhdmFsdWUgJiYgdmFsdWVbJG5vZGVdID09PSB2YWx1ZTtcbmNvbnN0IGdldEFuaW1hdGVkID0gb3duZXIgPT4gb3duZXIgJiYgb3duZXJbJG5vZGVdO1xuY29uc3Qgc2V0QW5pbWF0ZWQgPSAob3duZXIsIG5vZGUpID0+IGRlZmluZUhpZGRlbihvd25lciwgJG5vZGUsIG5vZGUpO1xuY29uc3QgZ2V0UGF5bG9hZCA9IG93bmVyID0+IG93bmVyICYmIG93bmVyWyRub2RlXSAmJiBvd25lclskbm9kZV0uZ2V0UGF5bG9hZCgpO1xuY2xhc3MgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBheWxvYWQgPSB2b2lkIDA7XG4gICAgc2V0QW5pbWF0ZWQodGhpcywgdGhpcyk7XG4gIH1cblxuICBnZXRQYXlsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLnBheWxvYWQgfHwgW107XG4gIH1cblxufVxuXG5jbGFzcyBBbmltYXRlZFZhbHVlIGV4dGVuZHMgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3RvcihfdmFsdWUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IHZvaWQgMDtcbiAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZvaWQgMDtcbiAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IHZvaWQgMDtcbiAgICB0aGlzLnYwID0gdm9pZCAwO1xuICAgIHRoaXMuZHVyYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG5cbiAgICBpZiAoaXMubnVtKHRoaXMuX3ZhbHVlKSkge1xuICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB0aGlzLl92YWx1ZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGdldFBheWxvYWQoKSB7XG4gICAgcmV0dXJuIFt0aGlzXTtcbiAgfVxuXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlLCBzdGVwKSB7XG4gICAgaWYgKGlzLm51bSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdmFsdWU7XG5cbiAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAvIHN0ZXApICogc3RlcDtcblxuICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZG9uZVxuICAgIH0gPSB0aGlzO1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuXG4gICAgaWYgKGlzLm51bSh0aGlzLl92YWx1ZSkpIHtcbiAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgdGhpcy5kdXJhdGlvblByb2dyZXNzID0gMDtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdGhpcy5fdmFsdWU7XG4gICAgICBpZiAoZG9uZSkgdGhpcy5sYXN0VmVsb2NpdHkgPSBudWxsO1xuICAgICAgdGhpcy52MCA9IG51bGw7XG4gICAgfVxuICB9XG5cbn1cblxuY2xhc3MgQW5pbWF0ZWRTdHJpbmcgZXh0ZW5kcyBBbmltYXRlZFZhbHVlIHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICBzdXBlcigwKTtcbiAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIHRoaXMuX3RvU3RyaW5nID0gdm9pZCAwO1xuICAgIHRoaXMuX3RvU3RyaW5nID0gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG91dHB1dDogW3ZhbHVlLCB2YWx1ZV1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIGdldFZhbHVlKCkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuX3N0cmluZztcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXMuX3N0cmluZyA9IHRoaXMuX3RvU3RyaW5nKHRoaXMuX3ZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXMuc3RyKHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlID09IHRoaXMuX3N0cmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N0cmluZyA9IHZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSAxO1xuICAgIH0gZWxzZSBpZiAoc3VwZXIuc2V0VmFsdWUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXNldChnb2FsKSB7XG4gICAgaWYgKGdvYWwpIHtcbiAgICAgIHRoaXMuX3RvU3RyaW5nID0gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgICAgb3V0cHV0OiBbdGhpcy5nZXRWYWx1ZSgpLCBnb2FsXVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxufVxuXG5jb25zdCBUcmVlQ29udGV4dCA9IHtcbiAgZGVwZW5kZW5jaWVzOiBudWxsXG59O1xuXG5jbGFzcyBBbmltYXRlZE9iamVjdCBleHRlbmRzIEFuaW1hdGVkIHtcbiAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLnNldFZhbHVlKHNvdXJjZSk7XG4gIH1cblxuICBnZXRWYWx1ZShhbmltYXRlZCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGVhY2hQcm9wKHRoaXMuc291cmNlLCAoc291cmNlLCBrZXkpID0+IHtcbiAgICAgIGlmIChpc0FuaW1hdGVkKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBzb3VyY2UuZ2V0VmFsdWUoYW5pbWF0ZWQpO1xuICAgICAgfSBlbHNlIGlmIChoYXNGbHVpZFZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBnZXRGbHVpZFZhbHVlKHNvdXJjZSk7XG4gICAgICB9IGVsc2UgaWYgKCFhbmltYXRlZCkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgc2V0VmFsdWUoc291cmNlKSB7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5wYXlsb2FkID0gdGhpcy5fbWFrZVBheWxvYWQoc291cmNlKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnBheWxvYWQpIHtcbiAgICAgIGVhY2godGhpcy5wYXlsb2FkLCBub2RlID0+IG5vZGUucmVzZXQoKSk7XG4gICAgfVxuICB9XG5cbiAgX21ha2VQYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBuZXcgU2V0KCk7XG4gICAgICBlYWNoUHJvcChzb3VyY2UsIHRoaXMuX2FkZFRvUGF5bG9hZCwgcGF5bG9hZCk7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShwYXlsb2FkKTtcbiAgICB9XG4gIH1cblxuICBfYWRkVG9QYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgJiYgaGFzRmx1aWRWYWx1ZShzb3VyY2UpKSB7XG4gICAgICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMuYWRkKHNvdXJjZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBheWxvYWQoc291cmNlKTtcblxuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBlYWNoKHBheWxvYWQsIG5vZGUgPT4gdGhpcy5hZGQobm9kZSkpO1xuICAgIH1cbiAgfVxuXG59XG5cbmNsYXNzIEFuaW1hdGVkQXJyYXkgZXh0ZW5kcyBBbmltYXRlZE9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHN1cGVyKHNvdXJjZSk7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHNvdXJjZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRBcnJheShzb3VyY2UpO1xuICB9XG5cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm1hcChub2RlID0+IG5vZGUuZ2V0VmFsdWUoKSk7XG4gIH1cblxuICBzZXRWYWx1ZShzb3VyY2UpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5nZXRQYXlsb2FkKCk7XG5cbiAgICBpZiAoc291cmNlLmxlbmd0aCA9PSBwYXlsb2FkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQubWFwKChub2RlLCBpKSA9PiBub2RlLnNldFZhbHVlKHNvdXJjZVtpXSkpLnNvbWUoQm9vbGVhbik7XG4gICAgfVxuXG4gICAgc3VwZXIuc2V0VmFsdWUoc291cmNlLm1hcChtYWtlQW5pbWF0ZWQpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIG1ha2VBbmltYXRlZCh2YWx1ZSkge1xuICBjb25zdCBub2RlVHlwZSA9IGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpID8gQW5pbWF0ZWRTdHJpbmcgOiBBbmltYXRlZFZhbHVlO1xuICByZXR1cm4gbm9kZVR5cGUuY3JlYXRlKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRUeXBlKHZhbHVlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRBbmltYXRlZCh2YWx1ZSk7XG4gIHJldHVybiBwYXJlbnROb2RlID8gcGFyZW50Tm9kZS5jb25zdHJ1Y3RvciA6IGlzLmFycih2YWx1ZSkgPyBBbmltYXRlZEFycmF5IDogaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkgPyBBbmltYXRlZFN0cmluZyA6IEFuaW1hdGVkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmNvbnN0IHdpdGhBbmltYXRlZCA9IChDb21wb25lbnQsIGhvc3QpID0+IHtcbiAgY29uc3QgaGFzSW5zdGFuY2UgPSAhaXMuZnVuKENvbXBvbmVudCkgfHwgQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ7XG4gIHJldHVybiBmb3J3YXJkUmVmKChnaXZlblByb3BzLCBnaXZlblJlZikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHJlZiA9IGhhc0luc3RhbmNlICYmIHVzZUNhbGxiYWNrKHZhbHVlID0+IHtcbiAgICAgIGluc3RhbmNlUmVmLmN1cnJlbnQgPSB1cGRhdGVSZWYoZ2l2ZW5SZWYsIHZhbHVlKTtcbiAgICB9LCBbZ2l2ZW5SZWZdKTtcbiAgICBjb25zdCBbcHJvcHMsIGRlcHNdID0gZ2V0QW5pbWF0ZWRTdGF0ZShnaXZlblByb3BzLCBob3N0KTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG5cbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VSZWYuY3VycmVudDtcblxuICAgICAgaWYgKGhhc0luc3RhbmNlICYmICFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpZFVwZGF0ZSA9IGluc3RhbmNlID8gaG9zdC5hcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcy5nZXRWYWx1ZSh0cnVlKSkgOiBmYWxzZTtcblxuICAgICAgaWYgKGRpZFVwZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUHJvcHNPYnNlcnZlcihjYWxsYmFjaywgZGVwcyk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgbGFzdE9ic2VydmVyID0gb2JzZXJ2ZXJSZWYuY3VycmVudDtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBvYnNlcnZlcjtcbiAgICAgIGVhY2goZGVwcywgZGVwID0+IGFkZEZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlcikpO1xuXG4gICAgICBpZiAobGFzdE9ic2VydmVyKSB7XG4gICAgICAgIGVhY2gobGFzdE9ic2VydmVyLmRlcHMsIGRlcCA9PiByZW1vdmVGbHVpZE9ic2VydmVyKGRlcCwgbGFzdE9ic2VydmVyKSk7XG4gICAgICAgIHJhZi5jYW5jZWwobGFzdE9ic2VydmVyLnVwZGF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KGNhbGxiYWNrLCBbXSk7XG4gICAgdXNlT25jZSgoKSA9PiAoKSA9PiB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyUmVmLmN1cnJlbnQ7XG4gICAgICBlYWNoKG9ic2VydmVyLmRlcHMsIGRlcCA9PiByZW1vdmVGbHVpZE9ic2VydmVyKGRlcCwgb2JzZXJ2ZXIpKTtcbiAgICB9KTtcbiAgICBjb25zdCB1c2VkUHJvcHMgPSBob3N0LmdldENvbXBvbmVudFByb3BzKHByb3BzLmdldFZhbHVlKCkpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHVzZWRQcm9wcywge1xuICAgICAgcmVmOiByZWZcbiAgICB9KSk7XG4gIH0pO1xufTtcblxuY2xhc3MgUHJvcHNPYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKHVwZGF0ZSwgZGVwcykge1xuICAgIHRoaXMudXBkYXRlID0gdXBkYXRlO1xuICAgIHRoaXMuZGVwcyA9IGRlcHM7XG4gIH1cblxuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gJ2NoYW5nZScpIHtcbiAgICAgIHJhZi53cml0ZSh0aGlzLnVwZGF0ZSk7XG4gICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRTdGF0ZShwcm9wcywgaG9zdCkge1xuICBjb25zdCBkZXBlbmRlbmNpZXMgPSBuZXcgU2V0KCk7XG4gIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgaWYgKHByb3BzLnN0eWxlKSBwcm9wcyA9IF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHN0eWxlOiBob3N0LmNyZWF0ZUFuaW1hdGVkU3R5bGUocHJvcHMuc3R5bGUpXG4gIH0pO1xuICBwcm9wcyA9IG5ldyBBbmltYXRlZE9iamVjdChwcm9wcyk7XG4gIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyA9IG51bGw7XG4gIHJldHVybiBbcHJvcHMsIGRlcGVuZGVuY2llc107XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlZihyZWYsIHZhbHVlKSB7XG4gIGlmIChyZWYpIHtcbiAgICBpZiAoaXMuZnVuKHJlZikpIHJlZih2YWx1ZSk7ZWxzZSByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5jb25zdCBjYWNoZUtleSA9IFN5bWJvbC5mb3IoJ0FuaW1hdGVkQ29tcG9uZW50Jyk7XG5jb25zdCBjcmVhdGVIb3N0ID0gKGNvbXBvbmVudHMsIHtcbiAgYXBwbHlBbmltYXRlZFZhbHVlczogX2FwcGx5QW5pbWF0ZWRWYWx1ZXMgPSAoKSA9PiBmYWxzZSxcbiAgY3JlYXRlQW5pbWF0ZWRTdHlsZTogX2NyZWF0ZUFuaW1hdGVkU3R5bGUgPSBzdHlsZSA9PiBuZXcgQW5pbWF0ZWRPYmplY3Qoc3R5bGUpLFxuICBnZXRDb21wb25lbnRQcm9wczogX2dldENvbXBvbmVudFByb3BzID0gcHJvcHMgPT4gcHJvcHNcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBob3N0Q29uZmlnID0ge1xuICAgIGFwcGx5QW5pbWF0ZWRWYWx1ZXM6IF9hcHBseUFuaW1hdGVkVmFsdWVzLFxuICAgIGNyZWF0ZUFuaW1hdGVkU3R5bGU6IF9jcmVhdGVBbmltYXRlZFN0eWxlLFxuICAgIGdldENvbXBvbmVudFByb3BzOiBfZ2V0Q29tcG9uZW50UHJvcHNcbiAgfTtcblxuICBjb25zdCBhbmltYXRlZCA9IENvbXBvbmVudCA9PiB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpIHx8ICdBbm9ueW1vdXMnO1xuXG4gICAgaWYgKGlzLnN0cihDb21wb25lbnQpKSB7XG4gICAgICBDb21wb25lbnQgPSBhbmltYXRlZFtDb21wb25lbnRdIHx8IChhbmltYXRlZFtDb21wb25lbnRdID0gd2l0aEFuaW1hdGVkKENvbXBvbmVudCwgaG9zdENvbmZpZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnRbY2FjaGVLZXldIHx8IChDb21wb25lbnRbY2FjaGVLZXldID0gd2l0aEFuaW1hdGVkKENvbXBvbmVudCwgaG9zdENvbmZpZykpO1xuICAgIH1cblxuICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGBBbmltYXRlZCgke2Rpc3BsYXlOYW1lfSlgO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH07XG5cbiAgZWFjaFByb3AoY29tcG9uZW50cywgKENvbXBvbmVudCwga2V5KSA9PiB7XG4gICAgaWYgKGlzLmFycihjb21wb25lbnRzKSkge1xuICAgICAga2V5ID0gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBhbmltYXRlZFtrZXldID0gYW5pbWF0ZWQoQ29tcG9uZW50KTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgYW5pbWF0ZWRcbiAgfTtcbn07XG5cbmNvbnN0IGdldERpc3BsYXlOYW1lID0gYXJnID0+IGlzLnN0cihhcmcpID8gYXJnIDogYXJnICYmIGlzLnN0cihhcmcuZGlzcGxheU5hbWUpID8gYXJnLmRpc3BsYXlOYW1lIDogaXMuZnVuKGFyZykgJiYgYXJnLm5hbWUgfHwgbnVsbDtcblxuZXhwb3J0IHsgQW5pbWF0ZWQsIEFuaW1hdGVkQXJyYXksIEFuaW1hdGVkT2JqZWN0LCBBbmltYXRlZFN0cmluZywgQW5pbWF0ZWRWYWx1ZSwgY3JlYXRlSG9zdCwgZ2V0QW5pbWF0ZWQsIGdldEFuaW1hdGVkVHlwZSwgZ2V0UGF5bG9hZCwgaXNBbmltYXRlZCwgc2V0QW5pbWF0ZWQgfTtcbiIsImltcG9ydCB7IGVhY2hQcm9wLCBpcywgdG9BcnJheSwgaXNBbmltYXRlZFN0cmluZywgR2xvYmFscywgZ2V0Rmx1aWRWYWx1ZSwgdXNlTGF5b3V0RWZmZWN0LCBlYWNoLCByYWYsIGZsdXNoLCBGbHVpZFZhbHVlLCBkZXByZWNhdGVJbnRlcnBvbGF0ZSwgY2FsbEZsdWlkT2JzZXJ2ZXJzLCBmcmFtZUxvb3AsIGhhc0ZsdWlkVmFsdWUsIGZsdXNoQ2FsbHMsIGlzRXF1YWwsIGdldEZsdWlkT2JzZXJ2ZXJzLCBhZGRGbHVpZE9ic2VydmVyLCByZW1vdmVGbHVpZE9ic2VydmVyLCBub29wLCB1c2VNZW1vT25lLCBkZXByZWNhdGVEaXJlY3RDYWxsLCB1c2VGb3JjZVVwZGF0ZSwgdXNlUHJldiwgdXNlT25jZSwgY3JlYXRlSW50ZXJwb2xhdG9yLCBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3NoYXJlZCc7XG5leHBvcnQgeyBHbG9iYWxzLCBjcmVhdGVJbnRlcnBvbGF0b3IgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0QW5pbWF0ZWQsIEFuaW1hdGVkVmFsdWUsIGdldFBheWxvYWQsIEFuaW1hdGVkU3RyaW5nLCBnZXRBbmltYXRlZFR5cGUsIHNldEFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy9hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcmVhY3Qtc3ByaW5nL3R5cGVzL2FuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0ByZWFjdC1zcHJpbmcvdHlwZXMvaW50ZXJwb2xhdGlvbic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNhbGxQcm9wKHZhbHVlLCAuLi5hcmdzKSB7XG4gIHJldHVybiBpcy5mdW4odmFsdWUpID8gdmFsdWUoLi4uYXJncykgOiB2YWx1ZTtcbn1cbmNvbnN0IG1hdGNoUHJvcCA9ICh2YWx1ZSwga2V5KSA9PiB2YWx1ZSA9PT0gdHJ1ZSB8fCAhIShrZXkgJiYgdmFsdWUgJiYgKGlzLmZ1bih2YWx1ZSkgPyB2YWx1ZShrZXkpIDogdG9BcnJheSh2YWx1ZSkuaW5jbHVkZXMoa2V5KSkpO1xuY29uc3QgcmVzb2x2ZVByb3AgPSAocHJvcCwga2V5KSA9PiBpcy5vYmoocHJvcCkgPyBrZXkgJiYgcHJvcFtrZXldIDogcHJvcDtcbmNvbnN0IGdldERlZmF1bHRQcm9wID0gKHByb3BzLCBrZXkpID0+IHByb3BzLmRlZmF1bHQgPT09IHRydWUgPyBwcm9wc1trZXldIDogcHJvcHMuZGVmYXVsdCA/IHByb3BzLmRlZmF1bHRba2V5XSA6IHVuZGVmaW5lZDtcblxuY29uc3Qgbm9vcFRyYW5zZm9ybSA9IHZhbHVlID0+IHZhbHVlO1xuXG5jb25zdCBnZXREZWZhdWx0UHJvcHMgPSAocHJvcHMsIHRyYW5zZm9ybSA9IG5vb3BUcmFuc2Zvcm0pID0+IHtcbiAgbGV0IGtleXMgPSBERUZBVUxUX1BST1BTO1xuXG4gIGlmIChwcm9wcy5kZWZhdWx0ICYmIHByb3BzLmRlZmF1bHQgIT09IHRydWUpIHtcbiAgICBwcm9wcyA9IHByb3BzLmRlZmF1bHQ7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRzID0ge307XG5cbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGNvbnN0IHZhbHVlID0gdHJhbnNmb3JtKHByb3BzW2tleV0sIGtleSk7XG5cbiAgICBpZiAoIWlzLnVuZCh2YWx1ZSkpIHtcbiAgICAgIGRlZmF1bHRzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVmYXVsdHM7XG59O1xuY29uc3QgREVGQVVMVF9QUk9QUyA9IFsnY29uZmlnJywgJ29uUHJvcHMnLCAnb25TdGFydCcsICdvbkNoYW5nZScsICdvblBhdXNlJywgJ29uUmVzdW1lJywgJ29uUmVzdCddO1xuY29uc3QgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGNvbmZpZzogMSxcbiAgZnJvbTogMSxcbiAgdG86IDEsXG4gIHJlZjogMSxcbiAgbG9vcDogMSxcbiAgcmVzZXQ6IDEsXG4gIHBhdXNlOiAxLFxuICBjYW5jZWw6IDEsXG4gIHJldmVyc2U6IDEsXG4gIGltbWVkaWF0ZTogMSxcbiAgZGVmYXVsdDogMSxcbiAgZGVsYXk6IDEsXG4gIG9uUHJvcHM6IDEsXG4gIG9uU3RhcnQ6IDEsXG4gIG9uQ2hhbmdlOiAxLFxuICBvblBhdXNlOiAxLFxuICBvblJlc3VtZTogMSxcbiAgb25SZXN0OiAxLFxuICBvblJlc29sdmU6IDEsXG4gIGl0ZW1zOiAxLFxuICB0cmFpbDogMSxcbiAgc29ydDogMSxcbiAgZXhwaXJlczogMSxcbiAgaW5pdGlhbDogMSxcbiAgZW50ZXI6IDEsXG4gIHVwZGF0ZTogMSxcbiAgbGVhdmU6IDEsXG4gIGNoaWxkcmVuOiAxLFxuICBvbkRlc3Ryb3llZDogMSxcbiAga2V5czogMSxcbiAgY2FsbElkOiAxLFxuICBwYXJlbnRJZDogMVxufTtcblxuZnVuY3Rpb24gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKSB7XG4gIGNvbnN0IGZvcndhcmQgPSB7fTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgZWFjaFByb3AocHJvcHMsICh2YWx1ZSwgcHJvcCkgPT4ge1xuICAgIGlmICghUkVTRVJWRURfUFJPUFNbcHJvcF0pIHtcbiAgICAgIGZvcndhcmRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICB9KTtcblxuICBpZiAoY291bnQpIHtcbiAgICByZXR1cm4gZm9yd2FyZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmZlclRvKHByb3BzKSB7XG4gIGNvbnN0IHRvID0gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKTtcblxuICBpZiAodG8pIHtcbiAgICBjb25zdCBvdXQgPSB7XG4gICAgICB0b1xuICAgIH07XG4gICAgZWFjaFByb3AocHJvcHMsICh2YWwsIGtleSkgPT4ga2V5IGluIHRvIHx8IChvdXRba2V5XSA9IHZhbCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzKTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVHb2FsKHZhbHVlKSB7XG4gIHZhbHVlID0gZ2V0Rmx1aWRWYWx1ZSh2YWx1ZSk7XG4gIHJldHVybiBpcy5hcnIodmFsdWUpID8gdmFsdWUubWFwKGNvbXB1dGVHb2FsKSA6IGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpID8gR2xvYmFscy5jcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3Ioe1xuICAgIHJhbmdlOiBbMCwgMV0sXG4gICAgb3V0cHV0OiBbdmFsdWUsIHZhbHVlXVxuICB9KSgxKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHMocHJvcHMpIHtcbiAgZm9yIChjb25zdCBfIGluIHByb3BzKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0FzeW5jVG8odG8pIHtcbiAgcmV0dXJuIGlzLmZ1bih0bykgfHwgaXMuYXJyKHRvKSAmJiBpcy5vYmoodG9bMF0pO1xufVxuZnVuY3Rpb24gZGV0YWNoUmVmcyhjdHJsLCByZWYpIHtcbiAgdmFyIF9jdHJsJHJlZjtcblxuICAoX2N0cmwkcmVmID0gY3RybC5yZWYpID09IG51bGwgPyB2b2lkIDAgOiBfY3RybCRyZWYuZGVsZXRlKGN0cmwpO1xuICByZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHJlZi5kZWxldGUoY3RybCk7XG59XG5mdW5jdGlvbiByZXBsYWNlUmVmKGN0cmwsIHJlZikge1xuICBpZiAocmVmICYmIGN0cmwucmVmICE9PSByZWYpIHtcbiAgICB2YXIgX2N0cmwkcmVmMjtcblxuICAgIChfY3RybCRyZWYyID0gY3RybC5yZWYpID09IG51bGwgPyB2b2lkIDAgOiBfY3RybCRyZWYyLmRlbGV0ZShjdHJsKTtcbiAgICByZWYuYWRkKGN0cmwpO1xuICAgIGN0cmwucmVmID0gcmVmO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNoYWluKHJlZnMsIHRpbWVTdGVwcywgdGltZUZyYW1lID0gMTAwMCkge1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0aW1lU3RlcHMpIHtcbiAgICAgIGxldCBwcmV2RGVsYXkgPSAwO1xuICAgICAgZWFjaChyZWZzLCAocmVmLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJzID0gcmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBkZWxheSA9IHRpbWVGcmFtZSAqIHRpbWVTdGVwc1tpXTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGVsYXkpKSBkZWxheSA9IHByZXZEZWxheTtlbHNlIHByZXZEZWxheSA9IGRlbGF5O1xuICAgICAgICAgIGVhY2goY29udHJvbGxlcnMsIGN0cmwgPT4ge1xuICAgICAgICAgICAgZWFjaChjdHJsLnF1ZXVlLCBwcm9wcyA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lbW9pemVkRGVsYXlQcm9wID0gcHJvcHMuZGVsYXk7XG5cbiAgICAgICAgICAgICAgcHJvcHMuZGVsYXkgPSBrZXkgPT4gZGVsYXkgKyBjYWxsUHJvcChtZW1vaXplZERlbGF5UHJvcCB8fCAwLCBrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVmLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgZWFjaChyZWZzLCByZWYgPT4ge1xuICAgICAgICBjb25zdCBjb250cm9sbGVycyA9IHJlZi5jdXJyZW50O1xuXG4gICAgICAgIGlmIChjb250cm9sbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBxdWV1ZXMgPSBjb250cm9sbGVycy5tYXAoY3RybCA9PiB7XG4gICAgICAgICAgICBjb25zdCBxID0gY3RybC5xdWV1ZTtcbiAgICAgICAgICAgIGN0cmwucXVldWUgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHAgPSBwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZWFjaChjb250cm9sbGVycywgKGN0cmwsIGkpID0+IGVhY2gocXVldWVzW2ldIHx8IFtdLCB1cGRhdGUgPT4gY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZSkpKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZWYuc3RhcnQoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgZGVmYXVsdDoge1xuICAgIHRlbnNpb246IDE3MCxcbiAgICBmcmljdGlvbjogMjZcbiAgfSxcbiAgZ2VudGxlOiB7XG4gICAgdGVuc2lvbjogMTIwLFxuICAgIGZyaWN0aW9uOiAxNFxuICB9LFxuICB3b2JibHk6IHtcbiAgICB0ZW5zaW9uOiAxODAsXG4gICAgZnJpY3Rpb246IDEyXG4gIH0sXG4gIHN0aWZmOiB7XG4gICAgdGVuc2lvbjogMjEwLFxuICAgIGZyaWN0aW9uOiAyMFxuICB9LFxuICBzbG93OiB7XG4gICAgdGVuc2lvbjogMjgwLFxuICAgIGZyaWN0aW9uOiA2MFxuICB9LFxuICBtb2xhc3Nlczoge1xuICAgIHRlbnNpb246IDI4MCxcbiAgICBmcmljdGlvbjogMTIwXG4gIH1cbn07XG5jb25zdCBjMSA9IDEuNzAxNTg7XG5jb25zdCBjMiA9IGMxICogMS41MjU7XG5jb25zdCBjMyA9IGMxICsgMTtcbmNvbnN0IGM0ID0gMiAqIE1hdGguUEkgLyAzO1xuY29uc3QgYzUgPSAyICogTWF0aC5QSSAvIDQuNTtcblxuY29uc3QgYm91bmNlT3V0ID0geCA9PiB7XG4gIGNvbnN0IG4xID0gNy41NjI1O1xuICBjb25zdCBkMSA9IDIuNzU7XG5cbiAgaWYgKHggPCAxIC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiB4ICogeDtcbiAgfSBlbHNlIGlmICh4IDwgMiAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMS41IC8gZDEpICogeCArIDAuNzU7XG4gIH0gZWxzZSBpZiAoeCA8IDIuNSAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi4yNSAvIGQxKSAqIHggKyAwLjkzNzU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi42MjUgLyBkMSkgKiB4ICsgMC45ODQzNzU7XG4gIH1cbn07XG5cbmNvbnN0IGVhc2luZ3MgPSB7XG4gIGxpbmVhcjogeCA9PiB4LFxuICBlYXNlSW5RdWFkOiB4ID0+IHggKiB4LFxuICBlYXNlT3V0UXVhZDogeCA9PiAxIC0gKDEgLSB4KSAqICgxIC0geCksXG4gIGVhc2VJbk91dFF1YWQ6IHggPT4geCA8IDAuNSA/IDIgKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSAvIDIsXG4gIGVhc2VJbkN1YmljOiB4ID0+IHggKiB4ICogeCxcbiAgZWFzZU91dEN1YmljOiB4ID0+IDEgLSBNYXRoLnBvdygxIC0geCwgMyksXG4gIGVhc2VJbk91dEN1YmljOiB4ID0+IHggPCAwLjUgPyA0ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDMpIC8gMixcbiAgZWFzZUluUXVhcnQ6IHggPT4geCAqIHggKiB4ICogeCxcbiAgZWFzZU91dFF1YXJ0OiB4ID0+IDEgLSBNYXRoLnBvdygxIC0geCwgNCksXG4gIGVhc2VJbk91dFF1YXJ0OiB4ID0+IHggPCAwLjUgPyA4ICogeCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCA0KSAvIDIsXG4gIGVhc2VJblF1aW50OiB4ID0+IHggKiB4ICogeCAqIHggKiB4LFxuICBlYXNlT3V0UXVpbnQ6IHggPT4gMSAtIE1hdGgucG93KDEgLSB4LCA1KSxcbiAgZWFzZUluT3V0UXVpbnQ6IHggPT4geCA8IDAuNSA/IDE2ICogeCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNSkgLyAyLFxuICBlYXNlSW5TaW5lOiB4ID0+IDEgLSBNYXRoLmNvcyh4ICogTWF0aC5QSSAvIDIpLFxuICBlYXNlT3V0U2luZTogeCA9PiBNYXRoLnNpbih4ICogTWF0aC5QSSAvIDIpLFxuICBlYXNlSW5PdXRTaW5lOiB4ID0+IC0oTWF0aC5jb3MoTWF0aC5QSSAqIHgpIC0gMSkgLyAyLFxuICBlYXNlSW5FeHBvOiB4ID0+IHggPT09IDAgPyAwIDogTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApLFxuICBlYXNlT3V0RXhwbzogeCA9PiB4ID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiB4KSxcbiAgZWFzZUluT3V0RXhwbzogeCA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IE1hdGgucG93KDIsIDIwICogeCAtIDEwKSAvIDIgOiAoMiAtIE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkpIC8gMixcbiAgZWFzZUluQ2lyYzogeCA9PiAxIC0gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdyh4LCAyKSksXG4gIGVhc2VPdXRDaXJjOiB4ID0+IE1hdGguc3FydCgxIC0gTWF0aC5wb3coeCAtIDEsIDIpKSxcbiAgZWFzZUluT3V0Q2lyYzogeCA9PiB4IDwgMC41ID8gKDEgLSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KDIgKiB4LCAyKSkpIC8gMiA6IChNYXRoLnNxcnQoMSAtIE1hdGgucG93KC0yICogeCArIDIsIDIpKSArIDEpIC8gMixcbiAgZWFzZUluQmFjazogeCA9PiBjMyAqIHggKiB4ICogeCAtIGMxICogeCAqIHgsXG4gIGVhc2VPdXRCYWNrOiB4ID0+IDEgKyBjMyAqIE1hdGgucG93KHggLSAxLCAzKSArIGMxICogTWF0aC5wb3coeCAtIDEsIDIpLFxuICBlYXNlSW5PdXRCYWNrOiB4ID0+IHggPCAwLjUgPyBNYXRoLnBvdygyICogeCwgMikgKiAoKGMyICsgMSkgKiAyICogeCAtIGMyKSAvIDIgOiAoTWF0aC5wb3coMiAqIHggLSAyLCAyKSAqICgoYzIgKyAxKSAqICh4ICogMiAtIDIpICsgYzIpICsgMikgLyAyLFxuICBlYXNlSW5FbGFzdGljOiB4ID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiAtTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApICogTWF0aC5zaW4oKHggKiAxMCAtIDEwLjc1KSAqIGM0KSxcbiAgZWFzZU91dEVsYXN0aWM6IHggPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IE1hdGgucG93KDIsIC0xMCAqIHgpICogTWF0aC5zaW4oKHggKiAxMCAtIDAuNzUpICogYzQpICsgMSxcbiAgZWFzZUluT3V0RWxhc3RpYzogeCA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IC0oTWF0aC5wb3coMiwgMjAgKiB4IC0gMTApICogTWF0aC5zaW4oKDIwICogeCAtIDExLjEyNSkgKiBjNSkpIC8gMiA6IE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkgKiBNYXRoLnNpbigoMjAgKiB4IC0gMTEuMTI1KSAqIGM1KSAvIDIgKyAxLFxuICBlYXNlSW5Cb3VuY2U6IHggPT4gMSAtIGJvdW5jZU91dCgxIC0geCksXG4gIGVhc2VPdXRCb3VuY2U6IGJvdW5jZU91dCxcbiAgZWFzZUluT3V0Qm91bmNlOiB4ID0+IHggPCAwLjUgPyAoMSAtIGJvdW5jZU91dCgxIC0gMiAqIHgpKSAvIDIgOiAoMSArIGJvdW5jZU91dCgyICogeCAtIDEpKSAvIDJcbn07XG5cbmNvbnN0IGRlZmF1bHRzID0gX2V4dGVuZHMoe30sIGNvbmZpZy5kZWZhdWx0LCB7XG4gIG1hc3M6IDEsXG4gIGRhbXBpbmc6IDEsXG4gIGVhc2luZzogZWFzaW5ncy5saW5lYXIsXG4gIGNsYW1wOiBmYWxzZVxufSk7XG5cbmNsYXNzIEFuaW1hdGlvbkNvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGVuc2lvbiA9IHZvaWQgMDtcbiAgICB0aGlzLmZyaWN0aW9uID0gdm9pZCAwO1xuICAgIHRoaXMuZnJlcXVlbmN5ID0gdm9pZCAwO1xuICAgIHRoaXMuZGFtcGluZyA9IHZvaWQgMDtcbiAgICB0aGlzLm1hc3MgPSB2b2lkIDA7XG4gICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5yZXN0VmVsb2NpdHkgPSB2b2lkIDA7XG4gICAgdGhpcy5wcmVjaXNpb24gPSB2b2lkIDA7XG4gICAgdGhpcy5wcm9ncmVzcyA9IHZvaWQgMDtcbiAgICB0aGlzLmR1cmF0aW9uID0gdm9pZCAwO1xuICAgIHRoaXMuZWFzaW5nID0gdm9pZCAwO1xuICAgIHRoaXMuY2xhbXAgPSB2b2lkIDA7XG4gICAgdGhpcy5ib3VuY2UgPSB2b2lkIDA7XG4gICAgdGhpcy5kZWNheSA9IHZvaWQgMDtcbiAgICB0aGlzLnJvdW5kID0gdm9pZCAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgZGVmYXVsdHMpO1xuICB9XG5cbn1cbmZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZywgbmV3Q29uZmlnLCBkZWZhdWx0Q29uZmlnKSB7XG4gIGlmIChkZWZhdWx0Q29uZmlnKSB7XG4gICAgZGVmYXVsdENvbmZpZyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0Q29uZmlnKTtcbiAgICBzYW5pdGl6ZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBuZXdDb25maWcpO1xuICAgIG5ld0NvbmZpZyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0Q29uZmlnLCBuZXdDb25maWcpO1xuICB9XG5cbiAgc2FuaXRpemVDb25maWcoY29uZmlnLCBuZXdDb25maWcpO1xuICBPYmplY3QuYXNzaWduKGNvbmZpZywgbmV3Q29uZmlnKTtcblxuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChjb25maWdba2V5XSA9PSBudWxsKSB7XG4gICAgICBjb25maWdba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9XG5cbiAgbGV0IHtcbiAgICBtYXNzLFxuICAgIGZyZXF1ZW5jeSxcbiAgICBkYW1waW5nXG4gIH0gPSBjb25maWc7XG5cbiAgaWYgKCFpcy51bmQoZnJlcXVlbmN5KSkge1xuICAgIGlmIChmcmVxdWVuY3kgPCAwLjAxKSBmcmVxdWVuY3kgPSAwLjAxO1xuICAgIGlmIChkYW1waW5nIDwgMCkgZGFtcGluZyA9IDA7XG4gICAgY29uZmlnLnRlbnNpb24gPSBNYXRoLnBvdygyICogTWF0aC5QSSAvIGZyZXF1ZW5jeSwgMikgKiBtYXNzO1xuICAgIGNvbmZpZy5mcmljdGlvbiA9IDQgKiBNYXRoLlBJICogZGFtcGluZyAqIG1hc3MgLyBmcmVxdWVuY3k7XG4gIH1cblxuICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZUNvbmZpZyhjb25maWcsIHByb3BzKSB7XG4gIGlmICghaXMudW5kKHByb3BzLmRlY2F5KSkge1xuICAgIGNvbmZpZy5kdXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc1RlbnNpb25Db25maWcgPSAhaXMudW5kKHByb3BzLnRlbnNpb24pIHx8ICFpcy51bmQocHJvcHMuZnJpY3Rpb24pO1xuXG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZyB8fCAhaXMudW5kKHByb3BzLmZyZXF1ZW5jeSkgfHwgIWlzLnVuZChwcm9wcy5kYW1waW5nKSB8fCAhaXMudW5kKHByb3BzLm1hc3MpKSB7XG4gICAgICBjb25maWcuZHVyYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICBjb25maWcuZGVjYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZykge1xuICAgICAgY29uZmlnLmZyZXF1ZW5jeSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZW1wdHlBcnJheSA9IFtdO1xuY2xhc3MgQW5pbWF0aW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy52YWx1ZXMgPSBlbXB0eUFycmF5O1xuICAgIHRoaXMudG9WYWx1ZXMgPSBudWxsO1xuICAgIHRoaXMuZnJvbVZhbHVlcyA9IGVtcHR5QXJyYXk7XG4gICAgdGhpcy50byA9IHZvaWQgMDtcbiAgICB0aGlzLmZyb20gPSB2b2lkIDA7XG4gICAgdGhpcy5jb25maWcgPSBuZXcgQW5pbWF0aW9uQ29uZmlnKCk7XG4gICAgdGhpcy5pbW1lZGlhdGUgPSBmYWxzZTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHNjaGVkdWxlUHJvcHMoY2FsbElkLCB7XG4gIGtleSxcbiAgcHJvcHMsXG4gIGRlZmF1bHRQcm9wcyxcbiAgc3RhdGUsXG4gIGFjdGlvbnNcbn0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB2YXIgX3Byb3BzJGNhbmNlbDtcblxuICAgIGxldCBkZWxheTtcbiAgICBsZXQgdGltZW91dDtcbiAgICBsZXQgY2FuY2VsID0gbWF0Y2hQcm9wKChfcHJvcHMkY2FuY2VsID0gcHJvcHMuY2FuY2VsKSAhPSBudWxsID8gX3Byb3BzJGNhbmNlbCA6IGRlZmF1bHRQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdFByb3BzLmNhbmNlbCwga2V5KTtcblxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIG9uU3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFpcy51bmQocHJvcHMucGF1c2UpKSB7XG4gICAgICAgIHN0YXRlLnBhdXNlZCA9IG1hdGNoUHJvcChwcm9wcy5wYXVzZSwga2V5KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHBhdXNlID0gZGVmYXVsdFByb3BzID09IG51bGwgPyB2b2lkIDAgOiBkZWZhdWx0UHJvcHMucGF1c2U7XG5cbiAgICAgIGlmIChwYXVzZSAhPT0gdHJ1ZSkge1xuICAgICAgICBwYXVzZSA9IHN0YXRlLnBhdXNlZCB8fCBtYXRjaFByb3AocGF1c2UsIGtleSk7XG4gICAgICB9XG5cbiAgICAgIGRlbGF5ID0gY2FsbFByb3AocHJvcHMuZGVsYXkgfHwgMCwga2V5KTtcblxuICAgICAgaWYgKHBhdXNlKSB7XG4gICAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICAgIGFjdGlvbnMucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnMucmVzdW1lKCk7XG4gICAgICAgIG9uUmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25QYXVzZSgpIHtcbiAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICBzdGF0ZS50aW1lb3V0cy5kZWxldGUodGltZW91dCk7XG4gICAgICB0aW1lb3V0LmNhbmNlbCgpO1xuICAgICAgZGVsYXkgPSB0aW1lb3V0LnRpbWUgLSByYWYubm93KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZXN1bWUoKSB7XG4gICAgICBpZiAoZGVsYXkgPiAwICYmICFHbG9iYWxzLnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgc3RhdGUuZGVsYXllZCA9IHRydWU7XG4gICAgICAgIHRpbWVvdXQgPSByYWYuc2V0VGltZW91dChvblN0YXJ0LCBkZWxheSk7XG4gICAgICAgIHN0YXRlLnBhdXNlUXVldWUuYWRkKG9uUGF1c2UpO1xuICAgICAgICBzdGF0ZS50aW1lb3V0cy5hZGQodGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgICAgIGlmIChzdGF0ZS5kZWxheWVkKSB7XG4gICAgICAgIHN0YXRlLmRlbGF5ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc3RhdGUucGF1c2VRdWV1ZS5kZWxldGUob25QYXVzZSk7XG4gICAgICBzdGF0ZS50aW1lb3V0cy5kZWxldGUodGltZW91dCk7XG5cbiAgICAgIGlmIChjYWxsSWQgPD0gKHN0YXRlLmNhbmNlbElkIHx8IDApKSB7XG4gICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGFjdGlvbnMuc3RhcnQoX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgY2FsbElkLFxuICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9KSwgcmVzb2x2ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgZ2V0Q29tYmluZWRSZXN1bHQgPSAodGFyZ2V0LCByZXN1bHRzKSA9PiByZXN1bHRzLmxlbmd0aCA9PSAxID8gcmVzdWx0c1swXSA6IHJlc3VsdHMuc29tZShyZXN1bHQgPT4gcmVzdWx0LmNhbmNlbGxlZCkgPyBnZXRDYW5jZWxsZWRSZXN1bHQodGFyZ2V0LmdldCgpKSA6IHJlc3VsdHMuZXZlcnkocmVzdWx0ID0+IHJlc3VsdC5ub29wKSA/IGdldE5vb3BSZXN1bHQodGFyZ2V0LmdldCgpKSA6IGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldC5nZXQoKSwgcmVzdWx0cy5ldmVyeShyZXN1bHQgPT4gcmVzdWx0LmZpbmlzaGVkKSk7XG5jb25zdCBnZXROb29wUmVzdWx0ID0gdmFsdWUgPT4gKHtcbiAgdmFsdWUsXG4gIG5vb3A6IHRydWUsXG4gIGZpbmlzaGVkOiB0cnVlLFxuICBjYW5jZWxsZWQ6IGZhbHNlXG59KTtcbmNvbnN0IGdldEZpbmlzaGVkUmVzdWx0ID0gKHZhbHVlLCBmaW5pc2hlZCwgY2FuY2VsbGVkID0gZmFsc2UpID0+ICh7XG4gIHZhbHVlLFxuICBmaW5pc2hlZCxcbiAgY2FuY2VsbGVkXG59KTtcbmNvbnN0IGdldENhbmNlbGxlZFJlc3VsdCA9IHZhbHVlID0+ICh7XG4gIHZhbHVlLFxuICBjYW5jZWxsZWQ6IHRydWUsXG4gIGZpbmlzaGVkOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIHJ1bkFzeW5jKHRvLCBwcm9wcywgc3RhdGUsIHRhcmdldCkge1xuICBjb25zdCB7XG4gICAgY2FsbElkLFxuICAgIHBhcmVudElkLFxuICAgIG9uUmVzdFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBhc3luY1RvOiBwcmV2VG8sXG4gICAgcHJvbWlzZTogcHJldlByb21pc2VcbiAgfSA9IHN0YXRlO1xuXG4gIGlmICghcGFyZW50SWQgJiYgdG8gPT09IHByZXZUbyAmJiAhcHJvcHMucmVzZXQpIHtcbiAgICByZXR1cm4gcHJldlByb21pc2U7XG4gIH1cblxuICByZXR1cm4gc3RhdGUucHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgc3RhdGUuYXN5bmNJZCA9IGNhbGxJZDtcbiAgICBzdGF0ZS5hc3luY1RvID0gdG87XG4gICAgY29uc3QgZGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzKHByb3BzLCAodmFsdWUsIGtleSkgPT4ga2V5ID09PSAnb25SZXN0JyA/IHVuZGVmaW5lZCA6IHZhbHVlKTtcbiAgICBsZXQgcHJldmVudEJhaWw7XG4gICAgbGV0IGJhaWw7XG4gICAgY29uc3QgYmFpbFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAocHJldmVudEJhaWwgPSByZXNvbHZlLCBiYWlsID0gcmVqZWN0KSk7XG5cbiAgICBjb25zdCBiYWlsSWZFbmRlZCA9IGJhaWxTaWduYWwgPT4ge1xuICAgICAgY29uc3QgYmFpbFJlc3VsdCA9IGNhbGxJZCA8PSAoc3RhdGUuY2FuY2VsSWQgfHwgMCkgJiYgZ2V0Q2FuY2VsbGVkUmVzdWx0KHRhcmdldCkgfHwgY2FsbElkICE9PSBzdGF0ZS5hc3luY0lkICYmIGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuXG4gICAgICBpZiAoYmFpbFJlc3VsdCkge1xuICAgICAgICBiYWlsU2lnbmFsLnJlc3VsdCA9IGJhaWxSZXN1bHQ7XG4gICAgICAgIGJhaWwoYmFpbFNpZ25hbCk7XG4gICAgICAgIHRocm93IGJhaWxTaWduYWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGFuaW1hdGUgPSAoYXJnMSwgYXJnMikgPT4ge1xuICAgICAgY29uc3QgYmFpbFNpZ25hbCA9IG5ldyBCYWlsU2lnbmFsKCk7XG4gICAgICBjb25zdCBza2lwQW5pbWF0aW9uU2lnbmFsID0gbmV3IFNraXBBbmlhbXRpb25TaWduYWwoKTtcbiAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoR2xvYmFscy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgICAgc3RvcEFzeW5jKHN0YXRlKTtcbiAgICAgICAgICBza2lwQW5pbWF0aW9uU2lnbmFsLnJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuICAgICAgICAgIGJhaWwoc2tpcEFuaW1hdGlvblNpZ25hbCk7XG4gICAgICAgICAgdGhyb3cgc2tpcEFuaW1hdGlvblNpZ25hbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhaWxJZkVuZGVkKGJhaWxTaWduYWwpO1xuICAgICAgICBjb25zdCBwcm9wcyA9IGlzLm9iaihhcmcxKSA/IF9leHRlbmRzKHt9LCBhcmcxKSA6IF9leHRlbmRzKHt9LCBhcmcyLCB7XG4gICAgICAgICAgdG86IGFyZzFcbiAgICAgICAgfSk7XG4gICAgICAgIHByb3BzLnBhcmVudElkID0gY2FsbElkO1xuICAgICAgICBlYWNoUHJvcChkZWZhdWx0UHJvcHMsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKGlzLnVuZChwcm9wc1trZXldKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRhcmdldC5zdGFydChwcm9wcyk7XG4gICAgICAgIGJhaWxJZkVuZGVkKGJhaWxTaWduYWwpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXN1bWUgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKHJlc3VtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkoKTtcbiAgICB9O1xuXG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGlmIChHbG9iYWxzLnNraXBBbmltYXRpb24pIHtcbiAgICAgIHN0b3BBc3luYyhzdGF0ZSk7XG4gICAgICByZXR1cm4gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbmltYXRpbmc7XG5cbiAgICAgIGlmIChpcy5hcnIodG8pKSB7XG4gICAgICAgIGFuaW1hdGluZyA9IChhc3luYyBxdWV1ZSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBwcm9wcyBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgYXdhaXQgYW5pbWF0ZShwcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSh0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuaW1hdGluZyA9IFByb21pc2UucmVzb2x2ZSh0byhhbmltYXRlLCB0YXJnZXQuc3RvcC5iaW5kKHRhcmdldCkpKTtcbiAgICAgICAgfVxuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbYW5pbWF0aW5nLnRoZW4ocHJldmVudEJhaWwpLCBiYWlsUHJvbWlzZV0pO1xuICAgICAgcmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LmdldCgpLCB0cnVlLCBmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQmFpbFNpZ25hbCkge1xuICAgICAgICByZXN1bHQgPSBlcnIucmVzdWx0O1xuICAgICAgfSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBTa2lwQW5pYW10aW9uU2lnbmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IGVyci5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjYWxsSWQgPT0gc3RhdGUuYXN5bmNJZCkge1xuICAgICAgICBzdGF0ZS5hc3luY0lkID0gcGFyZW50SWQ7XG4gICAgICAgIHN0YXRlLmFzeW5jVG8gPSBwYXJlbnRJZCA/IHByZXZUbyA6IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucHJvbWlzZSA9IHBhcmVudElkID8gcHJldlByb21pc2UgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzLmZ1bihvblJlc3QpKSB7XG4gICAgICByYWYuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICBvblJlc3QocmVzdWx0LCB0YXJnZXQsIHRhcmdldC5pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pKCk7XG59XG5mdW5jdGlvbiBzdG9wQXN5bmMoc3RhdGUsIGNhbmNlbElkKSB7XG4gIGZsdXNoKHN0YXRlLnRpbWVvdXRzLCB0ID0+IHQuY2FuY2VsKCkpO1xuICBzdGF0ZS5wYXVzZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLnJlc3VtZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLmFzeW5jSWQgPSBzdGF0ZS5hc3luY1RvID0gc3RhdGUucHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgaWYgKGNhbmNlbElkKSBzdGF0ZS5jYW5jZWxJZCA9IGNhbmNlbElkO1xufVxuY2xhc3MgQmFpbFNpZ25hbCBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ0FuIGFzeW5jIGFuaW1hdGlvbiBoYXMgYmVlbiBpbnRlcnJ1cHRlZC4gWW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91ICcgKyAnZm9yZ290IHRvIHVzZSBgYXdhaXRgIG9yIGAuY2F0Y2goLi4uKWAgb24gaXRzIHJldHVybmVkIHByb21pc2UuJyk7XG4gICAgdGhpcy5yZXN1bHQgPSB2b2lkIDA7XG4gIH1cblxufVxuY2xhc3MgU2tpcEFuaWFtdGlvblNpZ25hbCBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ1NraXBBbmltYXRpb25TaWduYWwnKTtcbiAgICB0aGlzLnJlc3VsdCA9IHZvaWQgMDtcbiAgfVxuXG59XG5cbmNvbnN0IGlzRnJhbWVWYWx1ZSA9IHZhbHVlID0+IHZhbHVlIGluc3RhbmNlb2YgRnJhbWVWYWx1ZTtcbmxldCBuZXh0SWQkMSA9IDE7XG5jbGFzcyBGcmFtZVZhbHVlIGV4dGVuZHMgRmx1aWRWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLmlkID0gbmV4dElkJDErKztcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICB0aGlzLl9wcmlvcml0eSA9IDA7XG4gIH1cblxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByaW9yaXR5O1xuICB9XG5cbiAgc2V0IHByaW9yaXR5KHByaW9yaXR5KSB7XG4gICAgaWYgKHRoaXMuX3ByaW9yaXR5ICE9IHByaW9yaXR5KSB7XG4gICAgICB0aGlzLl9wcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgICB0aGlzLl9vblByaW9yaXR5Q2hhbmdlKHByaW9yaXR5KTtcbiAgICB9XG4gIH1cblxuICBnZXQoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkKHRoaXMpO1xuICAgIHJldHVybiBub2RlICYmIG5vZGUuZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIHRvKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gR2xvYmFscy50byh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIGludGVycG9sYXRlKC4uLmFyZ3MpIHtcbiAgICBkZXByZWNhdGVJbnRlcnBvbGF0ZSgpO1xuICAgIHJldHVybiBHbG9iYWxzLnRvKHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgpO1xuICB9XG5cbiAgb2JzZXJ2ZXJBZGRlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAxKSB0aGlzLl9hdHRhY2goKTtcbiAgfVxuXG4gIG9ic2VydmVyUmVtb3ZlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAwKSB0aGlzLl9kZXRhY2goKTtcbiAgfVxuXG4gIF9hdHRhY2goKSB7fVxuXG4gIF9kZXRhY2goKSB7fVxuXG4gIF9vbkNoYW5nZSh2YWx1ZSwgaWRsZSA9IGZhbHNlKSB7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIHtcbiAgICAgIHR5cGU6ICdjaGFuZ2UnLFxuICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgdmFsdWUsXG4gICAgICBpZGxlXG4gICAgfSk7XG4gIH1cblxuICBfb25Qcmlvcml0eUNoYW5nZShwcmlvcml0eSkge1xuICAgIGlmICghdGhpcy5pZGxlKSB7XG4gICAgICBmcmFtZUxvb3Auc29ydCh0aGlzKTtcbiAgICB9XG5cbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywge1xuICAgICAgdHlwZTogJ3ByaW9yaXR5JyxcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIHByaW9yaXR5XG4gICAgfSk7XG4gIH1cblxufVxuXG5jb25zdCAkUCA9IFN5bWJvbC5mb3IoJ1NwcmluZ1BoYXNlJyk7XG5jb25zdCBIQVNfQU5JTUFURUQgPSAxO1xuY29uc3QgSVNfQU5JTUFUSU5HID0gMjtcbmNvbnN0IElTX1BBVVNFRCA9IDQ7XG5jb25zdCBoYXNBbmltYXRlZCA9IHRhcmdldCA9PiAodGFyZ2V0WyRQXSAmIEhBU19BTklNQVRFRCkgPiAwO1xuY29uc3QgaXNBbmltYXRpbmcgPSB0YXJnZXQgPT4gKHRhcmdldFskUF0gJiBJU19BTklNQVRJTkcpID4gMDtcbmNvbnN0IGlzUGF1c2VkID0gdGFyZ2V0ID0+ICh0YXJnZXRbJFBdICYgSVNfUEFVU0VEKSA+IDA7XG5jb25zdCBzZXRBY3RpdmVCaXQgPSAodGFyZ2V0LCBhY3RpdmUpID0+IGFjdGl2ZSA/IHRhcmdldFskUF0gfD0gSVNfQU5JTUFUSU5HIHwgSEFTX0FOSU1BVEVEIDogdGFyZ2V0WyRQXSAmPSB+SVNfQU5JTUFUSU5HO1xuY29uc3Qgc2V0UGF1c2VkQml0ID0gKHRhcmdldCwgcGF1c2VkKSA9PiBwYXVzZWQgPyB0YXJnZXRbJFBdIHw9IElTX1BBVVNFRCA6IHRhcmdldFskUF0gJj0gfklTX1BBVVNFRDtcblxuY2xhc3MgU3ByaW5nVmFsdWUgZXh0ZW5kcyBGcmFtZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoYXJnMSwgYXJnMikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCk7XG4gICAgdGhpcy5xdWV1ZSA9IHZvaWQgMDtcbiAgICB0aGlzLmRlZmF1bHRQcm9wcyA9IHt9O1xuICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgIGRlbGF5ZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VRdWV1ZTogbmV3IFNldCgpLFxuICAgICAgcmVzdW1lUXVldWU6IG5ldyBTZXQoKSxcbiAgICAgIHRpbWVvdXRzOiBuZXcgU2V0KClcbiAgICB9O1xuICAgIHRoaXMuX3BlbmRpbmdDYWxscyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLl9sYXN0Q2FsbElkID0gMDtcbiAgICB0aGlzLl9sYXN0VG9JZCA9IDA7XG4gICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IDA7XG5cbiAgICBpZiAoIWlzLnVuZChhcmcxKSB8fCAhaXMudW5kKGFyZzIpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IGlzLm9iaihhcmcxKSA/IF9leHRlbmRzKHt9LCBhcmcxKSA6IF9leHRlbmRzKHt9LCBhcmcyLCB7XG4gICAgICAgIGZyb206IGFyZzFcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXMudW5kKHByb3BzLmRlZmF1bHQpKSB7XG4gICAgICAgIHByb3BzLmRlZmF1bHQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0KHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIShpc0FuaW1hdGluZyh0aGlzKSB8fCB0aGlzLl9zdGF0ZS5hc3luY1RvKSB8fCBpc1BhdXNlZCh0aGlzKTtcbiAgfVxuXG4gIGdldCBnb2FsKCkge1xuICAgIHJldHVybiBnZXRGbHVpZFZhbHVlKHRoaXMuYW5pbWF0aW9uLnRvKTtcbiAgfVxuXG4gIGdldCB2ZWxvY2l0eSgpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQodGhpcyk7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlID8gbm9kZS5sYXN0VmVsb2NpdHkgfHwgMCA6IG5vZGUuZ2V0UGF5bG9hZCgpLm1hcChub2RlID0+IG5vZGUubGFzdFZlbG9jaXR5IHx8IDApO1xuICB9XG5cbiAgZ2V0IGhhc0FuaW1hdGVkKCkge1xuICAgIHJldHVybiBoYXNBbmltYXRlZCh0aGlzKTtcbiAgfVxuXG4gIGdldCBpc0FuaW1hdGluZygpIHtcbiAgICByZXR1cm4gaXNBbmltYXRpbmcodGhpcyk7XG4gIH1cblxuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIGlzUGF1c2VkKHRoaXMpO1xuICB9XG5cbiAgZ2V0IGlzRGVsYXllZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuZGVsYXllZDtcbiAgfVxuXG4gIGFkdmFuY2UoZHQpIHtcbiAgICBsZXQgaWRsZSA9IHRydWU7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgbGV0IHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHRvVmFsdWVzXG4gICAgfSA9IGFuaW07XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBheWxvYWQoYW5pbS50byk7XG5cbiAgICBpZiAoIXBheWxvYWQgJiYgaGFzRmx1aWRWYWx1ZShhbmltLnRvKSkge1xuICAgICAgdG9WYWx1ZXMgPSB0b0FycmF5KGdldEZsdWlkVmFsdWUoYW5pbS50bykpO1xuICAgIH1cblxuICAgIGFuaW0udmFsdWVzLmZvckVhY2goKG5vZGUsIGkpID0+IHtcbiAgICAgIGlmIChub2RlLmRvbmUpIHJldHVybjtcbiAgICAgIGNvbnN0IHRvID0gbm9kZS5jb25zdHJ1Y3RvciA9PSBBbmltYXRlZFN0cmluZyA/IDEgOiBwYXlsb2FkID8gcGF5bG9hZFtpXS5sYXN0UG9zaXRpb24gOiB0b1ZhbHVlc1tpXTtcbiAgICAgIGxldCBmaW5pc2hlZCA9IGFuaW0uaW1tZWRpYXRlO1xuICAgICAgbGV0IHBvc2l0aW9uID0gdG87XG5cbiAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgcG9zaXRpb24gPSBub2RlLmxhc3RQb3NpdGlvbjtcblxuICAgICAgICBpZiAoY29uZmlnLnRlbnNpb24gPD0gMCkge1xuICAgICAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVsYXBzZWQgPSBub2RlLmVsYXBzZWRUaW1lICs9IGR0O1xuICAgICAgICBjb25zdCBmcm9tID0gYW5pbS5mcm9tVmFsdWVzW2ldO1xuICAgICAgICBjb25zdCB2MCA9IG5vZGUudjAgIT0gbnVsbCA/IG5vZGUudjAgOiBub2RlLnYwID0gaXMuYXJyKGNvbmZpZy52ZWxvY2l0eSkgPyBjb25maWcudmVsb2NpdHlbaV0gOiBjb25maWcudmVsb2NpdHk7XG4gICAgICAgIGxldCB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoIWlzLnVuZChjb25maWcuZHVyYXRpb24pKSB7XG4gICAgICAgICAgbGV0IHAgPSAxO1xuXG4gICAgICAgICAgaWYgKGNvbmZpZy5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZW1vaXplZER1cmF0aW9uICE9PSBjb25maWcuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IGNvbmZpZy5kdXJhdGlvbjtcblxuICAgICAgICAgICAgICBpZiAobm9kZS5kdXJhdGlvblByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgICAgIG5vZGUuZWxhcHNlZFRpbWUgPSBjb25maWcuZHVyYXRpb24gKiBub2RlLmR1cmF0aW9uUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgZWxhcHNlZCA9IG5vZGUuZWxhcHNlZFRpbWUgKz0gZHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IChjb25maWcucHJvZ3Jlc3MgfHwgMCkgKyBlbGFwc2VkIC8gdGhpcy5fbWVtb2l6ZWREdXJhdGlvbjtcbiAgICAgICAgICAgIHAgPSBwID4gMSA/IDEgOiBwIDwgMCA/IDAgOiBwO1xuICAgICAgICAgICAgbm9kZS5kdXJhdGlvblByb2dyZXNzID0gcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwb3NpdGlvbiA9IGZyb20gKyBjb25maWcuZWFzaW5nKHApICogKHRvIC0gZnJvbSk7XG4gICAgICAgICAgdmVsb2NpdHkgPSAocG9zaXRpb24gLSBub2RlLmxhc3RQb3NpdGlvbikgLyBkdDtcbiAgICAgICAgICBmaW5pc2hlZCA9IHAgPT0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuZGVjYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY2F5ID0gY29uZmlnLmRlY2F5ID09PSB0cnVlID8gMC45OTggOiBjb25maWcuZGVjYXk7XG4gICAgICAgICAgICBjb25zdCBlID0gTWF0aC5leHAoLSgxIC0gZGVjYXkpICogZWxhcHNlZCk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20gKyB2MCAvICgxIC0gZGVjYXkpICogKDEgLSBlKTtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gTWF0aC5hYnMobm9kZS5sYXN0UG9zaXRpb24gLSBwb3NpdGlvbikgPCAwLjE7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IHYwICogZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2ZWxvY2l0eSA9IG5vZGUubGFzdFZlbG9jaXR5ID09IG51bGwgPyB2MCA6IG5vZGUubGFzdFZlbG9jaXR5O1xuICAgICAgICAgICAgICBjb25zdCBwcmVjaXNpb24gPSBjb25maWcucHJlY2lzaW9uIHx8IChmcm9tID09IHRvID8gMC4wMDUgOiBNYXRoLm1pbigxLCBNYXRoLmFicyh0byAtIGZyb20pICogMC4wMDEpKTtcbiAgICAgICAgICAgICAgY29uc3QgcmVzdFZlbG9jaXR5ID0gY29uZmlnLnJlc3RWZWxvY2l0eSB8fCBwcmVjaXNpb24gLyAxMDtcbiAgICAgICAgICAgICAgY29uc3QgYm91bmNlRmFjdG9yID0gY29uZmlnLmNsYW1wID8gMCA6IGNvbmZpZy5ib3VuY2U7XG4gICAgICAgICAgICAgIGNvbnN0IGNhbkJvdW5jZSA9ICFpcy51bmQoYm91bmNlRmFjdG9yKTtcbiAgICAgICAgICAgICAgY29uc3QgaXNHcm93aW5nID0gZnJvbSA9PSB0byA/IG5vZGUudjAgPiAwIDogZnJvbSA8IHRvO1xuICAgICAgICAgICAgICBsZXQgaXNNb3Zpbmc7XG4gICAgICAgICAgICAgIGxldCBpc0JvdW5jaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSAxO1xuICAgICAgICAgICAgICBjb25zdCBudW1TdGVwcyA9IE1hdGguY2VpbChkdCAvIHN0ZXApO1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtU3RlcHM7ICsrbikge1xuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gTWF0aC5hYnModmVsb2NpdHkpID4gcmVzdFZlbG9jaXR5O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdmluZykge1xuICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSBNYXRoLmFicyh0byAtIHBvc2l0aW9uKSA8PSBwcmVjaXNpb247XG5cbiAgICAgICAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuQm91bmNlKSB7XG4gICAgICAgICAgICAgICAgICBpc0JvdW5jaW5nID0gcG9zaXRpb24gPT0gdG8gfHwgcG9zaXRpb24gPiB0byA9PSBpc0dyb3dpbmc7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChpc0JvdW5jaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gLXZlbG9jaXR5ICogYm91bmNlRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0ZvcmNlID0gLWNvbmZpZy50ZW5zaW9uICogMC4wMDAwMDEgKiAocG9zaXRpb24gLSB0byk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFtcGluZ0ZvcmNlID0gLWNvbmZpZy5mcmljdGlvbiAqIDAuMDAxICogdmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjZWxlcmF0aW9uID0gKHNwcmluZ0ZvcmNlICsgZGFtcGluZ0ZvcmNlKSAvIGNvbmZpZy5tYXNzO1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gdmVsb2NpdHkgKyBhY2NlbGVyYXRpb24gKiBzdGVwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKyB2ZWxvY2l0eSAqIHN0ZXA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICBub2RlLmxhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocG9zaXRpb24pKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBHb3QgTmFOIHdoaWxlIGFuaW1hdGluZzpgLCB0aGlzKTtcbiAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBheWxvYWQgJiYgIXBheWxvYWRbaV0uZG9uZSkge1xuICAgICAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgbm9kZS5kb25lID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkbGUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUuc2V0VmFsdWUocG9zaXRpb24sIGNvbmZpZy5yb3VuZCkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkKHRoaXMpO1xuICAgIGNvbnN0IGN1cnJWYWwgPSBub2RlLmdldFZhbHVlKCk7XG5cbiAgICBpZiAoaWRsZSkge1xuICAgICAgY29uc3QgZmluYWxWYWwgPSBnZXRGbHVpZFZhbHVlKGFuaW0udG8pO1xuXG4gICAgICBpZiAoKGN1cnJWYWwgIT09IGZpbmFsVmFsIHx8IGNoYW5nZWQpICYmICFjb25maWcuZGVjYXkpIHtcbiAgICAgICAgbm9kZS5zZXRWYWx1ZShmaW5hbFZhbCk7XG5cbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoZmluYWxWYWwpO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkICYmIGNvbmZpZy5kZWNheSkge1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShjdXJyVmFsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RvcCgpO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5fb25DaGFuZ2UoY3VyclZhbCk7XG4gICAgfVxuICB9XG5cbiAgc2V0KHZhbHVlKSB7XG4gICAgcmFmLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgIHRoaXMuX3N0b3AoKTtcblxuICAgICAgdGhpcy5fZm9jdXModmFsdWUpO1xuXG4gICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHtcbiAgICAgIHBhdXNlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZXN1bWUoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHtcbiAgICAgIHBhdXNlOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgZmluaXNoKCkge1xuICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0byxcbiAgICAgICAgY29uZmlnXG4gICAgICB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgICByYWYuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgICAgaWYgKCFjb25maWcuZGVjYXkpIHtcbiAgICAgICAgICB0aGlzLl9zZXQodG8sIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnF1ZXVlIHx8ICh0aGlzLnF1ZXVlID0gW10pO1xuICAgIHF1ZXVlLnB1c2gocHJvcHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhcnQodG8sIGFyZzIpIHtcbiAgICBsZXQgcXVldWU7XG5cbiAgICBpZiAoIWlzLnVuZCh0bykpIHtcbiAgICAgIHF1ZXVlID0gW2lzLm9iaih0bykgPyB0byA6IF9leHRlbmRzKHt9LCBhcmcyLCB7XG4gICAgICAgIHRvXG4gICAgICB9KV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlID0gdGhpcy5xdWV1ZSB8fCBbXTtcbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocXVldWUubWFwKHByb3BzID0+IHtcbiAgICAgIGNvbnN0IHVwID0gdGhpcy5fdXBkYXRlKHByb3BzKTtcblxuICAgICAgcmV0dXJuIHVwO1xuICAgIH0pKS50aGVuKHJlc3VsdHMgPT4gZ2V0Q29tYmluZWRSZXN1bHQodGhpcywgcmVzdWx0cykpO1xuICB9XG5cbiAgc3RvcChjYW5jZWwpIHtcbiAgICBjb25zdCB7XG4gICAgICB0b1xuICAgIH0gPSB0aGlzLmFuaW1hdGlvbjtcblxuICAgIHRoaXMuX2ZvY3VzKHRoaXMuZ2V0KCkpO1xuXG4gICAgc3RvcEFzeW5jKHRoaXMuX3N0YXRlLCBjYW5jZWwgJiYgdGhpcy5fbGFzdENhbGxJZCk7XG4gICAgcmFmLmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuX3N0b3AodG8sIGNhbmNlbCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gJ2NoYW5nZScpIHtcbiAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICdwcmlvcml0eScpIHtcbiAgICAgIHRoaXMucHJpb3JpdHkgPSBldmVudC5wcmlvcml0eSArIDE7XG4gICAgfVxuICB9XG5cbiAgX3ByZXBhcmVOb2RlKHByb3BzKSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXkgfHwgJyc7XG4gICAgbGV0IHtcbiAgICAgIHRvLFxuICAgICAgZnJvbVxuICAgIH0gPSBwcm9wcztcbiAgICB0byA9IGlzLm9iaih0bykgPyB0b1trZXldIDogdG87XG5cbiAgICBpZiAodG8gPT0gbnVsbCB8fCBpc0FzeW5jVG8odG8pKSB7XG4gICAgICB0byA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmcm9tID0gaXMub2JqKGZyb20pID8gZnJvbVtrZXldIDogZnJvbTtcblxuICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgIGZyb20gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZ2UgPSB7XG4gICAgICB0byxcbiAgICAgIGZyb21cbiAgICB9O1xuXG4gICAgaWYgKCFoYXNBbmltYXRlZCh0aGlzKSkge1xuICAgICAgaWYgKHByb3BzLnJldmVyc2UpIFt0bywgZnJvbV0gPSBbZnJvbSwgdG9dO1xuICAgICAgZnJvbSA9IGdldEZsdWlkVmFsdWUoZnJvbSk7XG5cbiAgICAgIGlmICghaXMudW5kKGZyb20pKSB7XG4gICAgICAgIHRoaXMuX3NldChmcm9tKTtcbiAgICAgIH0gZWxzZSBpZiAoIWdldEFuaW1hdGVkKHRoaXMpKSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByYW5nZTtcbiAgfVxuXG4gIF91cGRhdGUoX3JlZiwgaXNMb29wKSB7XG4gICAgbGV0IHByb3BzID0gX2V4dGVuZHMoe30sIF9yZWYpO1xuXG4gICAgY29uc3Qge1xuICAgICAga2V5LFxuICAgICAgZGVmYXVsdFByb3BzXG4gICAgfSA9IHRoaXM7XG4gICAgaWYgKHByb3BzLmRlZmF1bHQpIE9iamVjdC5hc3NpZ24oZGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMocHJvcHMsICh2YWx1ZSwgcHJvcCkgPT4gL15vbi8udGVzdChwcm9wKSA/IHJlc29sdmVQcm9wKHZhbHVlLCBrZXkpIDogdmFsdWUpKTtcbiAgICBtZXJnZUFjdGl2ZUZuKHRoaXMsIHByb3BzLCAnb25Qcm9wcycpO1xuICAgIHNlbmRFdmVudCh0aGlzLCAnb25Qcm9wcycsIHByb3BzLCB0aGlzKTtcblxuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fcHJlcGFyZU5vZGUocHJvcHMpO1xuXG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBhbmltYXRlIGEgYFNwcmluZ1ZhbHVlYCBvYmplY3QgdGhhdCBpcyBmcm96ZW4uICcgKyAnRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyB5b3VyIGNvbXBvbmVudCB0byBgYW5pbWF0ZWQoLi4uKWAgYmVmb3JlIGFuaW1hdGluZyBpdHMgcHJvcHM/Jyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICByZXR1cm4gc2NoZWR1bGVQcm9wcygrK3RoaXMuX2xhc3RDYWxsSWQsIHtcbiAgICAgIGtleSxcbiAgICAgIHByb3BzLFxuICAgICAgZGVmYXVsdFByb3BzLFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHBhdXNlOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1BhdXNlZCh0aGlzKSkge1xuICAgICAgICAgICAgc2V0UGF1c2VkQml0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgZmx1c2hDYWxscyhzdGF0ZS5wYXVzZVF1ZXVlKTtcbiAgICAgICAgICAgIHNlbmRFdmVudCh0aGlzLCAnb25QYXVzZScsIGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgdGhpcy5hbmltYXRpb24udG8pKSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXN1bWU6ICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgICAgIHNldFBhdXNlZEJpdCh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgICAgICAgICB0aGlzLl9yZXN1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmx1c2hDYWxscyhzdGF0ZS5yZXN1bWVRdWV1ZSk7XG4gICAgICAgICAgICBzZW5kRXZlbnQodGhpcywgJ29uUmVzdW1lJywgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCB0aGlzLmFuaW1hdGlvbi50bykpLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0OiB0aGlzLl9tZXJnZS5iaW5kKHRoaXMsIHJhbmdlKVxuICAgICAgfVxuICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGlmIChwcm9wcy5sb29wICYmIHJlc3VsdC5maW5pc2hlZCAmJiAhKGlzTG9vcCAmJiByZXN1bHQubm9vcCkpIHtcbiAgICAgICAgY29uc3QgbmV4dFByb3BzID0gY3JlYXRlTG9vcFVwZGF0ZShwcm9wcyk7XG5cbiAgICAgICAgaWYgKG5leHRQcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUobmV4dFByb3BzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgX21lcmdlKHJhbmdlLCBwcm9wcywgcmVzb2x2ZSkge1xuICAgIGlmIChwcm9wcy5jYW5jZWwpIHtcbiAgICAgIHRoaXMuc3RvcCh0cnVlKTtcbiAgICAgIHJldHVybiByZXNvbHZlKGdldENhbmNlbGxlZFJlc3VsdCh0aGlzKSk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzVG9Qcm9wID0gIWlzLnVuZChyYW5nZS50byk7XG4gICAgY29uc3QgaGFzRnJvbVByb3AgPSAhaXMudW5kKHJhbmdlLmZyb20pO1xuXG4gICAgaWYgKGhhc1RvUHJvcCB8fCBoYXNGcm9tUHJvcCkge1xuICAgICAgaWYgKHByb3BzLmNhbGxJZCA+IHRoaXMuX2xhc3RUb0lkKSB7XG4gICAgICAgIHRoaXMuX2xhc3RUb0lkID0gcHJvcHMuY2FsbElkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBrZXksXG4gICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICBhbmltYXRpb246IGFuaW1cbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICB0bzogcHJldlRvLFxuICAgICAgZnJvbTogcHJldkZyb21cbiAgICB9ID0gYW5pbTtcbiAgICBsZXQge1xuICAgICAgdG8gPSBwcmV2VG8sXG4gICAgICBmcm9tID0gcHJldkZyb21cbiAgICB9ID0gcmFuZ2U7XG5cbiAgICBpZiAoaGFzRnJvbVByb3AgJiYgIWhhc1RvUHJvcCAmJiAoIXByb3BzLmRlZmF1bHQgfHwgaXMudW5kKHRvKSkpIHtcbiAgICAgIHRvID0gZnJvbTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMucmV2ZXJzZSkgW3RvLCBmcm9tXSA9IFtmcm9tLCB0b107XG4gICAgY29uc3QgaGFzRnJvbUNoYW5nZWQgPSAhaXNFcXVhbChmcm9tLCBwcmV2RnJvbSk7XG5cbiAgICBpZiAoaGFzRnJvbUNoYW5nZWQpIHtcbiAgICAgIGFuaW0uZnJvbSA9IGZyb207XG4gICAgfVxuXG4gICAgZnJvbSA9IGdldEZsdWlkVmFsdWUoZnJvbSk7XG4gICAgY29uc3QgaGFzVG9DaGFuZ2VkID0gIWlzRXF1YWwodG8sIHByZXZUbyk7XG5cbiAgICBpZiAoaGFzVG9DaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9mb2N1cyh0byk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQXN5bmNUbyA9IGlzQXN5bmNUbyhwcm9wcy50byk7XG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnXG4gICAgfSA9IGFuaW07XG4gICAgY29uc3Qge1xuICAgICAgZGVjYXksXG4gICAgICB2ZWxvY2l0eVxuICAgIH0gPSBjb25maWc7XG5cbiAgICBpZiAoaGFzVG9Qcm9wIHx8IGhhc0Zyb21Qcm9wKSB7XG4gICAgICBjb25maWcudmVsb2NpdHkgPSAwO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5jb25maWcgJiYgIWhhc0FzeW5jVG8pIHtcbiAgICAgIG1lcmdlQ29uZmlnKGNvbmZpZywgY2FsbFByb3AocHJvcHMuY29uZmlnLCBrZXkpLCBwcm9wcy5jb25maWcgIT09IGRlZmF1bHRQcm9wcy5jb25maWcgPyBjYWxsUHJvcChkZWZhdWx0UHJvcHMuY29uZmlnLCBrZXkpIDogdm9pZCAwKTtcbiAgICB9XG5cbiAgICBsZXQgbm9kZSA9IGdldEFuaW1hdGVkKHRoaXMpO1xuXG4gICAgaWYgKCFub2RlIHx8IGlzLnVuZCh0bykpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIHRydWUpKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNldCA9IGlzLnVuZChwcm9wcy5yZXNldCkgPyBoYXNGcm9tUHJvcCAmJiAhcHJvcHMuZGVmYXVsdCA6ICFpcy51bmQoZnJvbSkgJiYgbWF0Y2hQcm9wKHByb3BzLnJlc2V0LCBrZXkpO1xuICAgIGNvbnN0IHZhbHVlID0gcmVzZXQgPyBmcm9tIDogdGhpcy5nZXQoKTtcbiAgICBjb25zdCBnb2FsID0gY29tcHV0ZUdvYWwodG8pO1xuICAgIGNvbnN0IGlzQW5pbWF0YWJsZSA9IGlzLm51bShnb2FsKSB8fCBpcy5hcnIoZ29hbCkgfHwgaXNBbmltYXRlZFN0cmluZyhnb2FsKTtcbiAgICBjb25zdCBpbW1lZGlhdGUgPSAhaGFzQXN5bmNUbyAmJiAoIWlzQW5pbWF0YWJsZSB8fCBtYXRjaFByb3AoZGVmYXVsdFByb3BzLmltbWVkaWF0ZSB8fCBwcm9wcy5pbW1lZGlhdGUsIGtleSkpO1xuXG4gICAgaWYgKGhhc1RvQ2hhbmdlZCkge1xuICAgICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodG8pO1xuXG4gICAgICBpZiAobm9kZVR5cGUgIT09IG5vZGUuY29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgICAgIG5vZGUgPSB0aGlzLl9zZXQoZ29hbCk7XG4gICAgICAgIH0gZWxzZSB0aHJvdyBFcnJvcihgQ2Fubm90IGFuaW1hdGUgYmV0d2VlbiAke25vZGUuY29uc3RydWN0b3IubmFtZX0gYW5kICR7bm9kZVR5cGUubmFtZX0sIGFzIHRoZSBcInRvXCIgcHJvcCBzdWdnZXN0c2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdvYWxUeXBlID0gbm9kZS5jb25zdHJ1Y3RvcjtcbiAgICBsZXQgc3RhcnRlZCA9IGhhc0ZsdWlkVmFsdWUodG8pO1xuICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICBjb25zdCBoYXNWYWx1ZUNoYW5nZWQgPSByZXNldCB8fCAhaGFzQW5pbWF0ZWQodGhpcykgJiYgaGFzRnJvbUNoYW5nZWQ7XG5cbiAgICAgIGlmIChoYXNUb0NoYW5nZWQgfHwgaGFzVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgIGZpbmlzaGVkID0gaXNFcXVhbChjb21wdXRlR29hbCh2YWx1ZSksIGdvYWwpO1xuICAgICAgICBzdGFydGVkID0gIWZpbmlzaGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRXF1YWwoYW5pbS5pbW1lZGlhdGUsIGltbWVkaWF0ZSkgJiYgIWltbWVkaWF0ZSB8fCAhaXNFcXVhbChjb25maWcuZGVjYXksIGRlY2F5KSB8fCAhaXNFcXVhbChjb25maWcudmVsb2NpdHksIHZlbG9jaXR5KSkge1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmluaXNoZWQgJiYgaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIGlmIChhbmltLmNoYW5nZWQgJiYgIXJlc2V0KSB7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghc3RhcnRlZCkge1xuICAgICAgICAgIHRoaXMuX3N0b3AocHJldlRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzQXN5bmNUbykge1xuICAgICAgaWYgKHN0YXJ0ZWQgfHwgaGFzRmx1aWRWYWx1ZShwcmV2VG8pKSB7XG4gICAgICAgIGFuaW0udmFsdWVzID0gbm9kZS5nZXRQYXlsb2FkKCk7XG4gICAgICAgIGFuaW0udG9WYWx1ZXMgPSBoYXNGbHVpZFZhbHVlKHRvKSA/IG51bGwgOiBnb2FsVHlwZSA9PSBBbmltYXRlZFN0cmluZyA/IFsxXSA6IHRvQXJyYXkoZ29hbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltLmltbWVkaWF0ZSAhPSBpbW1lZGlhdGUpIHtcbiAgICAgICAgYW5pbS5pbW1lZGlhdGUgPSBpbW1lZGlhdGU7XG5cbiAgICAgICAgaWYgKCFpbW1lZGlhdGUgJiYgIXJlc2V0KSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHByZXZUbyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG9uUmVzdFxuICAgICAgICB9ID0gYW5pbTtcbiAgICAgICAgZWFjaChBQ1RJVkVfRVZFTlRTLCB0eXBlID0+IG1lcmdlQWN0aXZlRm4odGhpcywgcHJvcHMsIHR5cGUpKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCBwcmV2VG8pKTtcbiAgICAgICAgZmx1c2hDYWxscyh0aGlzLl9wZW5kaW5nQ2FsbHMsIHJlc3VsdCk7XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ0NhbGxzLmFkZChyZXNvbHZlKTtcblxuICAgICAgICBpZiAoYW5pbS5jaGFuZ2VkKSByYWYuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgIGFuaW0uY2hhbmdlZCA9ICFyZXNldDtcbiAgICAgICAgICBvblJlc3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9uUmVzdChyZXN1bHQsIHRoaXMpO1xuXG4gICAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICBjYWxsUHJvcChkZWZhdWx0UHJvcHMub25SZXN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW0ub25TdGFydCA9PSBudWxsID8gdm9pZCAwIDogYW5pbS5vblN0YXJ0KHJlc3VsdCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzQXN5bmNUbykge1xuICAgICAgcmVzb2x2ZShydW5Bc3luYyhwcm9wcy50bywgcHJvcHMsIHRoaXMuX3N0YXRlLCB0aGlzKSk7XG4gICAgfSBlbHNlIGlmIChzdGFydGVkKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgICB9IGVsc2UgaWYgKGlzQW5pbWF0aW5nKHRoaXMpICYmICFoYXNUb0NoYW5nZWQpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuYWRkKHJlc29sdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShnZXROb29wUmVzdWx0KHZhbHVlKSk7XG4gICAgICAgICAgfVxuICB9XG5cbiAgX2ZvY3VzKHZhbHVlKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuXG4gICAgaWYgKHZhbHVlICE9PSBhbmltLnRvKSB7XG4gICAgICBpZiAoZ2V0Rmx1aWRPYnNlcnZlcnModGhpcykpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGFuaW0udG8gPSB2YWx1ZTtcblxuICAgICAgaWYgKGdldEZsdWlkT2JzZXJ2ZXJzKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hdHRhY2goKSB7XG4gICAgbGV0IHByaW9yaXR5ID0gMDtcbiAgICBjb25zdCB7XG4gICAgICB0b1xuICAgIH0gPSB0aGlzLmFuaW1hdGlvbjtcblxuICAgIGlmIChoYXNGbHVpZFZhbHVlKHRvKSkge1xuICAgICAgYWRkRmx1aWRPYnNlcnZlcih0bywgdGhpcyk7XG5cbiAgICAgIGlmIChpc0ZyYW1lVmFsdWUodG8pKSB7XG4gICAgICAgIHByaW9yaXR5ID0gdG8ucHJpb3JpdHkgKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgfVxuXG4gIF9kZXRhY2goKSB7XG4gICAgY29uc3Qge1xuICAgICAgdG9cbiAgICB9ID0gdGhpcy5hbmltYXRpb247XG5cbiAgICBpZiAoaGFzRmx1aWRWYWx1ZSh0bykpIHtcbiAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodG8sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXQoYXJnLCBpZGxlID0gdHJ1ZSkge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0Rmx1aWRWYWx1ZShhcmcpO1xuXG4gICAgaWYgKCFpcy51bmQodmFsdWUpKSB7XG4gICAgICBjb25zdCBvbGROb2RlID0gZ2V0QW5pbWF0ZWQodGhpcyk7XG5cbiAgICAgIGlmICghb2xkTm9kZSB8fCAhaXNFcXVhbCh2YWx1ZSwgb2xkTm9kZS5nZXRWYWx1ZSgpKSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKCFvbGROb2RlIHx8IG9sZE5vZGUuY29uc3RydWN0b3IgIT0gbm9kZVR5cGUpIHtcbiAgICAgICAgICBzZXRBbmltYXRlZCh0aGlzLCBub2RlVHlwZS5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGROb2RlLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbGROb2RlKSB7XG4gICAgICAgICAgcmFmLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlLCBpZGxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnZXRBbmltYXRlZCh0aGlzKTtcbiAgfVxuXG4gIF9vblN0YXJ0KCkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcblxuICAgIGlmICghYW5pbS5jaGFuZ2VkKSB7XG4gICAgICBhbmltLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgc2VuZEV2ZW50KHRoaXMsICdvblN0YXJ0JywgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCBhbmltLnRvKSksIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNoYW5nZSh2YWx1ZSwgaWRsZSkge1xuICAgIGlmICghaWRsZSkge1xuICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICBjYWxsUHJvcCh0aGlzLmFuaW1hdGlvbi5vbkNoYW5nZSwgdmFsdWUsIHRoaXMpO1xuICAgIH1cblxuICAgIGNhbGxQcm9wKHRoaXMuZGVmYXVsdFByb3BzLm9uQ2hhbmdlLCB2YWx1ZSwgdGhpcyk7XG5cbiAgICBzdXBlci5fb25DaGFuZ2UodmFsdWUsIGlkbGUpO1xuICB9XG5cbiAgX3N0YXJ0KCkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBnZXRBbmltYXRlZCh0aGlzKS5yZXNldChnZXRGbHVpZFZhbHVlKGFuaW0udG8pKTtcblxuICAgIGlmICghYW5pbS5pbW1lZGlhdGUpIHtcbiAgICAgIGFuaW0uZnJvbVZhbHVlcyA9IGFuaW0udmFsdWVzLm1hcChub2RlID0+IG5vZGUubGFzdFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBzZXRBY3RpdmVCaXQodGhpcywgdHJ1ZSk7XG5cbiAgICAgIGlmICghaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgdGhpcy5fcmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3Jlc3VtZSgpIHtcbiAgICBpZiAoR2xvYmFscy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLmZpbmlzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZUxvb3Auc3RhcnQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX3N0b3AoZ29hbCwgY2FuY2VsKSB7XG4gICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBzZXRBY3RpdmVCaXQodGhpcywgZmFsc2UpO1xuICAgICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgICAgZWFjaChhbmltLnZhbHVlcywgbm9kZSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFuaW0udG9WYWx1ZXMpIHtcbiAgICAgICAgYW5pbS5vbkNoYW5nZSA9IGFuaW0ub25QYXVzZSA9IGFuaW0ub25SZXN1bWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGNhbGxGbHVpZE9ic2VydmVycyh0aGlzLCB7XG4gICAgICAgIHR5cGU6ICdpZGxlJyxcbiAgICAgICAgcGFyZW50OiB0aGlzXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbmNlbCA/IGdldENhbmNlbGxlZFJlc3VsdCh0aGlzLmdldCgpKSA6IGdldEZpbmlzaGVkUmVzdWx0KHRoaXMuZ2V0KCksIGNoZWNrRmluaXNoZWQodGhpcywgZ29hbCAhPSBudWxsID8gZ29hbCA6IGFuaW0udG8pKTtcbiAgICAgIGZsdXNoQ2FsbHModGhpcy5fcGVuZGluZ0NhbGxzLCByZXN1bHQpO1xuXG4gICAgICBpZiAoYW5pbS5jaGFuZ2VkKSB7XG4gICAgICAgIGFuaW0uY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzZW5kRXZlbnQodGhpcywgJ29uUmVzdCcsIHJlc3VsdCwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gY2hlY2tGaW5pc2hlZCh0YXJnZXQsIHRvKSB7XG4gIGNvbnN0IGdvYWwgPSBjb21wdXRlR29hbCh0byk7XG4gIGNvbnN0IHZhbHVlID0gY29tcHV0ZUdvYWwodGFyZ2V0LmdldCgpKTtcbiAgcmV0dXJuIGlzRXF1YWwodmFsdWUsIGdvYWwpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb29wVXBkYXRlKHByb3BzLCBsb29wID0gcHJvcHMubG9vcCwgdG8gPSBwcm9wcy50bykge1xuICBsZXQgbG9vcFJldCA9IGNhbGxQcm9wKGxvb3ApO1xuXG4gIGlmIChsb29wUmV0KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVzID0gbG9vcFJldCAhPT0gdHJ1ZSAmJiBpbmZlclRvKGxvb3BSZXQpO1xuICAgIGNvbnN0IHJldmVyc2UgPSAob3ZlcnJpZGVzIHx8IHByb3BzKS5yZXZlcnNlO1xuICAgIGNvbnN0IHJlc2V0ID0gIW92ZXJyaWRlcyB8fCBvdmVycmlkZXMucmVzZXQ7XG4gICAgcmV0dXJuIGNyZWF0ZVVwZGF0ZShfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGxvb3AsXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIHBhdXNlOiB1bmRlZmluZWQsXG4gICAgICB0bzogIXJldmVyc2UgfHwgaXNBc3luY1RvKHRvKSA/IHRvIDogdW5kZWZpbmVkLFxuICAgICAgZnJvbTogcmVzZXQgPyBwcm9wcy5mcm9tIDogdW5kZWZpbmVkLFxuICAgICAgcmVzZXRcbiAgICB9LCBvdmVycmlkZXMpKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0byxcbiAgICBmcm9tXG4gIH0gPSBwcm9wcyA9IGluZmVyVG8ocHJvcHMpO1xuICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xuICBpZiAoaXMub2JqKHRvKSkgZmluZERlZmluZWQodG8sIGtleXMpO1xuICBpZiAoaXMub2JqKGZyb20pKSBmaW5kRGVmaW5lZChmcm9tLCBrZXlzKTtcbiAgcHJvcHMua2V5cyA9IGtleXMuc2l6ZSA/IEFycmF5LmZyb20oa2V5cykgOiBudWxsO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBkZWNsYXJlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShwcm9wcyk7XG5cbiAgaWYgKGlzLnVuZCh1cGRhdGUuZGVmYXVsdCkpIHtcbiAgICB1cGRhdGUuZGVmYXVsdCA9IGdldERlZmF1bHRQcm9wcyh1cGRhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gZmluZERlZmluZWQodmFsdWVzLCBrZXlzKSB7XG4gIGVhY2hQcm9wKHZhbHVlcywgKHZhbHVlLCBrZXkpID0+IHZhbHVlICE9IG51bGwgJiYga2V5cy5hZGQoa2V5KSk7XG59XG5cbmNvbnN0IEFDVElWRV9FVkVOVFMgPSBbJ29uU3RhcnQnLCAnb25SZXN0JywgJ29uQ2hhbmdlJywgJ29uUGF1c2UnLCAnb25SZXN1bWUnXTtcblxuZnVuY3Rpb24gbWVyZ2VBY3RpdmVGbih0YXJnZXQsIHByb3BzLCB0eXBlKSB7XG4gIHRhcmdldC5hbmltYXRpb25bdHlwZV0gPSBwcm9wc1t0eXBlXSAhPT0gZ2V0RGVmYXVsdFByb3AocHJvcHMsIHR5cGUpID8gcmVzb2x2ZVByb3AocHJvcHNbdHlwZV0sIHRhcmdldC5rZXkpIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBzZW5kRXZlbnQodGFyZ2V0LCB0eXBlLCAuLi5hcmdzKSB7XG4gIHZhciBfdGFyZ2V0JGFuaW1hdGlvbiR0eXAsIF90YXJnZXQkYW5pbWF0aW9uLCBfdGFyZ2V0JGRlZmF1bHRQcm9wcyQsIF90YXJnZXQkZGVmYXVsdFByb3BzO1xuXG4gIChfdGFyZ2V0JGFuaW1hdGlvbiR0eXAgPSAoX3RhcmdldCRhbmltYXRpb24gPSB0YXJnZXQuYW5pbWF0aW9uKVt0eXBlXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90YXJnZXQkYW5pbWF0aW9uJHR5cC5jYWxsKF90YXJnZXQkYW5pbWF0aW9uLCAuLi5hcmdzKTtcbiAgKF90YXJnZXQkZGVmYXVsdFByb3BzJCA9IChfdGFyZ2V0JGRlZmF1bHRQcm9wcyA9IHRhcmdldC5kZWZhdWx0UHJvcHMpW3R5cGVdKSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldCRkZWZhdWx0UHJvcHMkLmNhbGwoX3RhcmdldCRkZWZhdWx0UHJvcHMsIC4uLmFyZ3MpO1xufVxuXG5jb25zdCBCQVRDSEVEX0VWRU5UUyA9IFsnb25TdGFydCcsICdvbkNoYW5nZScsICdvblJlc3QnXTtcbmxldCBuZXh0SWQgPSAxO1xuY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKHByb3BzLCBmbHVzaCkge1xuICAgIHRoaXMuaWQgPSBuZXh0SWQrKztcbiAgICB0aGlzLnNwcmluZ3MgPSB7fTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5yZWYgPSB2b2lkIDA7XG4gICAgdGhpcy5fZmx1c2ggPSB2b2lkIDA7XG4gICAgdGhpcy5faW5pdGlhbFByb3BzID0gdm9pZCAwO1xuICAgIHRoaXMuX2xhc3RBc3luY0lkID0gMDtcbiAgICB0aGlzLl9hY3RpdmUgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5fY2hhbmdlZCA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5faXRlbSA9IHZvaWQgMDtcbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICBwYXVzZVF1ZXVlOiBuZXcgU2V0KCksXG4gICAgICByZXN1bWVRdWV1ZTogbmV3IFNldCgpLFxuICAgICAgdGltZW91dHM6IG5ldyBTZXQoKVxuICAgIH07XG4gICAgdGhpcy5fZXZlbnRzID0ge1xuICAgICAgb25TdGFydDogbmV3IE1hcCgpLFxuICAgICAgb25DaGFuZ2U6IG5ldyBNYXAoKSxcbiAgICAgIG9uUmVzdDogbmV3IE1hcCgpXG4gICAgfTtcbiAgICB0aGlzLl9vbkZyYW1lID0gdGhpcy5fb25GcmFtZS5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICB0aGlzLl9mbHVzaCA9IGZsdXNoO1xuICAgIH1cblxuICAgIGlmIChwcm9wcykge1xuICAgICAgdGhpcy5zdGFydChfZXh0ZW5kcyh7XG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgIH0sIHByb3BzKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9zdGF0ZS5hc3luY1RvICYmIE9iamVjdC52YWx1ZXModGhpcy5zcHJpbmdzKS5ldmVyeShzcHJpbmcgPT4ge1xuICAgICAgcmV0dXJuIHNwcmluZy5pZGxlICYmICFzcHJpbmcuaXNEZWxheWVkICYmICFzcHJpbmcuaXNQYXVzZWQ7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgaXRlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcbiAgfVxuXG4gIHNldCBpdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9pdGVtID0gaXRlbTtcbiAgfVxuXG4gIGdldCgpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICB0aGlzLmVhY2goKHNwcmluZywga2V5KSA9PiB2YWx1ZXNba2V5XSA9IHNwcmluZy5nZXQoKSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHNldCh2YWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV07XG5cbiAgICAgIGlmICghaXMudW5kKHZhbHVlKSkge1xuICAgICAgICB0aGlzLnNwcmluZ3Nba2V5XS5zZXQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZShwcm9wcykge1xuICAgIGlmIChwcm9wcykge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGNyZWF0ZVVwZGF0ZShwcm9wcykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhcnQocHJvcHMpIHtcbiAgICBsZXQge1xuICAgICAgcXVldWVcbiAgICB9ID0gdGhpcztcblxuICAgIGlmIChwcm9wcykge1xuICAgICAgcXVldWUgPSB0b0FycmF5KHByb3BzKS5tYXAoY3JlYXRlVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9mbHVzaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZsdXNoKHRoaXMsIHF1ZXVlKTtcbiAgICB9XG5cbiAgICBwcmVwYXJlS2V5cyh0aGlzLCBxdWV1ZSk7XG4gICAgcmV0dXJuIGZsdXNoVXBkYXRlUXVldWUodGhpcywgcXVldWUpO1xuICB9XG5cbiAgc3RvcChhcmcsIGtleXMpIHtcbiAgICBpZiAoYXJnICE9PSAhIWFyZykge1xuICAgICAga2V5cyA9IGFyZztcbiAgICB9XG5cbiAgICBpZiAoa2V5cykge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2godG9BcnJheShrZXlzKSwga2V5ID0+IHNwcmluZ3Nba2V5XS5zdG9wKCEhYXJnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BBc3luYyh0aGlzLl9zdGF0ZSwgdGhpcy5fbGFzdEFzeW5jSWQpO1xuICAgICAgdGhpcy5lYWNoKHNwcmluZyA9PiBzcHJpbmcuc3RvcCghIWFyZykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGF1c2Uoa2V5cykge1xuICAgIGlmIChpcy51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoe1xuICAgICAgICBwYXVzZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoKHRvQXJyYXkoa2V5cyksIGtleSA9PiBzcHJpbmdzW2tleV0ucGF1c2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXN1bWUoa2V5cykge1xuICAgIGlmIChpcy51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoe1xuICAgICAgICBwYXVzZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaCh0b0FycmF5KGtleXMpLCBrZXkgPT4gc3ByaW5nc1trZXldLnJlc3VtZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGVhY2goaXRlcmF0b3IpIHtcbiAgICBlYWNoUHJvcCh0aGlzLnNwcmluZ3MsIGl0ZXJhdG9yKTtcbiAgfVxuXG4gIF9vbkZyYW1lKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uU3RhcnQsXG4gICAgICBvbkNoYW5nZSxcbiAgICAgIG9uUmVzdFxuICAgIH0gPSB0aGlzLl9ldmVudHM7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlLnNpemUgPiAwO1xuICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9jaGFuZ2VkLnNpemUgPiAwO1xuXG4gICAgaWYgKGFjdGl2ZSAmJiAhdGhpcy5fc3RhcnRlZCB8fCBjaGFuZ2VkICYmICF0aGlzLl9zdGFydGVkKSB7XG4gICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIGZsdXNoKG9uU3RhcnQsIChbb25TdGFydCwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgICBvblN0YXJ0KHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBpZGxlID0gIWFjdGl2ZSAmJiB0aGlzLl9zdGFydGVkO1xuICAgIGNvbnN0IHZhbHVlcyA9IGNoYW5nZWQgfHwgaWRsZSAmJiBvblJlc3Quc2l6ZSA/IHRoaXMuZ2V0KCkgOiBudWxsO1xuXG4gICAgaWYgKGNoYW5nZWQgJiYgb25DaGFuZ2Uuc2l6ZSkge1xuICAgICAgZmx1c2gob25DaGFuZ2UsIChbb25DaGFuZ2UsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWVzO1xuICAgICAgICBvbkNoYW5nZShyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlkbGUpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGZsdXNoKG9uUmVzdCwgKFtvblJlc3QsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWVzO1xuICAgICAgICBvblJlc3QocmVzdWx0LCB0aGlzLCB0aGlzLl9pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSAnY2hhbmdlJykge1xuICAgICAgdGhpcy5fY2hhbmdlZC5hZGQoZXZlbnQucGFyZW50KTtcblxuICAgICAgaWYgKCFldmVudC5pZGxlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gJ2lkbGUnKSB7XG4gICAgICB0aGlzLl9hY3RpdmUuZGVsZXRlKGV2ZW50LnBhcmVudCk7XG4gICAgfSBlbHNlIHJldHVybjtcblxuICAgIHJhZi5vbkZyYW1lKHRoaXMuX29uRnJhbWUpO1xuICB9XG5cbn1cbmZ1bmN0aW9uIGZsdXNoVXBkYXRlUXVldWUoY3RybCwgcXVldWUpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXVlLm1hcChwcm9wcyA9PiBmbHVzaFVwZGF0ZShjdHJsLCBwcm9wcykpKS50aGVuKHJlc3VsdHMgPT4gZ2V0Q29tYmluZWRSZXN1bHQoY3RybCwgcmVzdWx0cykpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmx1c2hVcGRhdGUoY3RybCwgcHJvcHMsIGlzTG9vcCkge1xuICBjb25zdCB7XG4gICAga2V5cyxcbiAgICB0byxcbiAgICBmcm9tLFxuICAgIGxvb3AsXG4gICAgb25SZXN0LFxuICAgIG9uUmVzb2x2ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlZmF1bHRzID0gaXMub2JqKHByb3BzLmRlZmF1bHQpICYmIHByb3BzLmRlZmF1bHQ7XG5cbiAgaWYgKGxvb3ApIHtcbiAgICBwcm9wcy5sb29wID0gZmFsc2U7XG4gIH1cblxuICBpZiAodG8gPT09IGZhbHNlKSBwcm9wcy50byA9IG51bGw7XG4gIGlmIChmcm9tID09PSBmYWxzZSkgcHJvcHMuZnJvbSA9IG51bGw7XG4gIGNvbnN0IGFzeW5jVG8gPSBpcy5hcnIodG8pIHx8IGlzLmZ1bih0bykgPyB0byA6IHVuZGVmaW5lZDtcblxuICBpZiAoYXN5bmNUbykge1xuICAgIHByb3BzLnRvID0gdW5kZWZpbmVkO1xuICAgIHByb3BzLm9uUmVzdCA9IHVuZGVmaW5lZDtcblxuICAgIGlmIChkZWZhdWx0cykge1xuICAgICAgZGVmYXVsdHMub25SZXN0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAgIGVhY2goQkFUQ0hFRF9FVkVOVFMsIGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBwcm9wc1trZXldO1xuXG4gICAgICAgIGlmIChpcy5mdW4oaGFuZGxlcikpIHtcbiAgICAgICAgICBjb25zdCBxdWV1ZSA9IGN0cmxbJ19ldmVudHMnXVtrZXldO1xuXG4gICAgICAgICAgcHJvcHNba2V5XSA9ICh7XG4gICAgICAgICAgICBmaW5pc2hlZCxcbiAgICAgICAgICAgIGNhbmNlbGxlZFxuICAgICAgICAgIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHF1ZXVlLmdldChoYW5kbGVyKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoIWZpbmlzaGVkKSByZXN1bHQuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmVzdWx0LmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBxdWV1ZS5zZXQoaGFuZGxlciwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkOiBmaW5pc2hlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IGNhbmNlbGxlZCB8fCBmYWxzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBkZWZhdWx0c1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICBjb25zdCBzdGF0ZSA9IGN0cmxbJ19zdGF0ZSddO1xuXG4gIGlmIChwcm9wcy5wYXVzZSA9PT0gIXN0YXRlLnBhdXNlZCkge1xuICAgIHN0YXRlLnBhdXNlZCA9IHByb3BzLnBhdXNlO1xuICAgIGZsdXNoQ2FsbHMocHJvcHMucGF1c2UgPyBzdGF0ZS5wYXVzZVF1ZXVlIDogc3RhdGUucmVzdW1lUXVldWUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgICAgcHJvcHMucGF1c2UgPSB0cnVlO1xuICAgIH1cblxuICBjb25zdCBwcm9taXNlcyA9IChrZXlzIHx8IE9iamVjdC5rZXlzKGN0cmwuc3ByaW5ncykpLm1hcChrZXkgPT4gY3RybC5zcHJpbmdzW2tleV0uc3RhcnQocHJvcHMpKTtcbiAgY29uc3QgY2FuY2VsID0gcHJvcHMuY2FuY2VsID09PSB0cnVlIHx8IGdldERlZmF1bHRQcm9wKHByb3BzLCAnY2FuY2VsJykgPT09IHRydWU7XG5cbiAgaWYgKGFzeW5jVG8gfHwgY2FuY2VsICYmIHN0YXRlLmFzeW5jSWQpIHtcbiAgICBwcm9taXNlcy5wdXNoKHNjaGVkdWxlUHJvcHMoKytjdHJsWydfbGFzdEFzeW5jSWQnXSwge1xuICAgICAgcHJvcHMsXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgcGF1c2U6IG5vb3AsXG4gICAgICAgIHJlc3VtZTogbm9vcCxcblxuICAgICAgICBzdGFydChwcm9wcywgcmVzb2x2ZSkge1xuICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgIHN0b3BBc3luYyhzdGF0ZSwgY3RybFsnX2xhc3RBc3luY0lkJ10pO1xuICAgICAgICAgICAgcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQoY3RybCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wcy5vblJlc3QgPSBvblJlc3Q7XG4gICAgICAgICAgICByZXNvbHZlKHJ1bkFzeW5jKGFzeW5jVG8sIHByb3BzLCBzdGF0ZSwgY3RybCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfSkpO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc3VtZSA9PiB7XG4gICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQocmVzdW1lKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGdldENvbWJpbmVkUmVzdWx0KGN0cmwsIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSk7XG5cbiAgaWYgKGxvb3AgJiYgcmVzdWx0LmZpbmlzaGVkICYmICEoaXNMb29wICYmIHJlc3VsdC5ub29wKSkge1xuICAgIGNvbnN0IG5leHRQcm9wcyA9IGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMsIGxvb3AsIHRvKTtcblxuICAgIGlmIChuZXh0UHJvcHMpIHtcbiAgICAgIHByZXBhcmVLZXlzKGN0cmwsIFtuZXh0UHJvcHNdKTtcbiAgICAgIHJldHVybiBmbHVzaFVwZGF0ZShjdHJsLCBuZXh0UHJvcHMsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvblJlc29sdmUpIHtcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4gb25SZXNvbHZlKHJlc3VsdCwgY3RybCwgY3RybC5pdGVtKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0U3ByaW5ncyhjdHJsLCBwcm9wcykge1xuICBjb25zdCBzcHJpbmdzID0gX2V4dGVuZHMoe30sIGN0cmwuc3ByaW5ncyk7XG5cbiAgaWYgKHByb3BzKSB7XG4gICAgZWFjaCh0b0FycmF5KHByb3BzKSwgcHJvcHMgPT4ge1xuICAgICAgaWYgKGlzLnVuZChwcm9wcy5rZXlzKSkge1xuICAgICAgICBwcm9wcyA9IGNyZWF0ZVVwZGF0ZShwcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXMub2JqKHByb3BzLnRvKSkge1xuICAgICAgICBwcm9wcyA9IF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICAgIHRvOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHByZXBhcmVTcHJpbmdzKHNwcmluZ3MsIHByb3BzLCBrZXkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlU3ByaW5nKGtleSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFNwcmluZ3MoY3RybCwgc3ByaW5ncyk7XG4gIHJldHVybiBzcHJpbmdzO1xufVxuZnVuY3Rpb24gc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzKSB7XG4gIGVhY2hQcm9wKHNwcmluZ3MsIChzcHJpbmcsIGtleSkgPT4ge1xuICAgIGlmICghY3RybC5zcHJpbmdzW2tleV0pIHtcbiAgICAgIGN0cmwuc3ByaW5nc1trZXldID0gc3ByaW5nO1xuICAgICAgYWRkRmx1aWRPYnNlcnZlcihzcHJpbmcsIGN0cmwpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNwcmluZyhrZXksIG9ic2VydmVyKSB7XG4gIGNvbnN0IHNwcmluZyA9IG5ldyBTcHJpbmdWYWx1ZSgpO1xuICBzcHJpbmcua2V5ID0ga2V5O1xuXG4gIGlmIChvYnNlcnZlcikge1xuICAgIGFkZEZsdWlkT2JzZXJ2ZXIoc3ByaW5nLCBvYnNlcnZlcik7XG4gIH1cblxuICByZXR1cm4gc3ByaW5nO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlU3ByaW5ncyhzcHJpbmdzLCBwcm9wcywgY3JlYXRlKSB7XG4gIGlmIChwcm9wcy5rZXlzKSB7XG4gICAgZWFjaChwcm9wcy5rZXlzLCBrZXkgPT4ge1xuICAgICAgY29uc3Qgc3ByaW5nID0gc3ByaW5nc1trZXldIHx8IChzcHJpbmdzW2tleV0gPSBjcmVhdGUoa2V5KSk7XG4gICAgICBzcHJpbmdbJ19wcmVwYXJlTm9kZSddKHByb3BzKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlS2V5cyhjdHJsLCBxdWV1ZSkge1xuICBlYWNoKHF1ZXVlLCBwcm9wcyA9PiB7XG4gICAgcHJlcGFyZVNwcmluZ3MoY3RybC5zcHJpbmdzLCBwcm9wcywga2V5ID0+IHtcbiAgICAgIHJldHVybiBjcmVhdGVTcHJpbmcoa2V5LCBjdHJsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5jb25zdCBfZXhjbHVkZWQkMyA9IFtcImNoaWxkcmVuXCJdO1xuY29uc3QgU3ByaW5nQ29udGV4dCA9IF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQkMyk7XG5cbiAgY29uc3QgaW5oZXJpdGVkID0gdXNlQ29udGV4dChjdHgpO1xuICBjb25zdCBwYXVzZSA9IHByb3BzLnBhdXNlIHx8ICEhaW5oZXJpdGVkLnBhdXNlLFxuICAgICAgICBpbW1lZGlhdGUgPSBwcm9wcy5pbW1lZGlhdGUgfHwgISFpbmhlcml0ZWQuaW1tZWRpYXRlO1xuICBwcm9wcyA9IHVzZU1lbW9PbmUoKCkgPT4gKHtcbiAgICBwYXVzZSxcbiAgICBpbW1lZGlhdGVcbiAgfSksIFtwYXVzZSwgaW1tZWRpYXRlXSk7XG4gIGNvbnN0IHtcbiAgICBQcm92aWRlclxuICB9ID0gY3R4O1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwge1xuICAgIHZhbHVlOiBwcm9wc1xuICB9LCBjaGlsZHJlbik7XG59O1xuY29uc3QgY3R4ID0gbWFrZUNvbnRleHQoU3ByaW5nQ29udGV4dCwge30pO1xuU3ByaW5nQ29udGV4dC5Qcm92aWRlciA9IGN0eC5Qcm92aWRlcjtcblNwcmluZ0NvbnRleHQuQ29uc3VtZXIgPSBjdHguQ29uc3VtZXI7XG5cbmZ1bmN0aW9uIG1ha2VDb250ZXh0KHRhcmdldCwgaW5pdCkge1xuICBPYmplY3QuYXNzaWduKHRhcmdldCwgUmVhY3QuY3JlYXRlQ29udGV4dChpbml0KSk7XG4gIHRhcmdldC5Qcm92aWRlci5fY29udGV4dCA9IHRhcmdldDtcbiAgdGFyZ2V0LkNvbnN1bWVyLl9jb250ZXh0ID0gdGFyZ2V0O1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5jb25zdCBTcHJpbmdSZWYgPSAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnQgPSBbXTtcblxuICBjb25zdCBTcHJpbmdSZWYgPSBmdW5jdGlvbiBTcHJpbmdSZWYocHJvcHMpIHtcbiAgICBkZXByZWNhdGVEaXJlY3RDYWxsKCk7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGVhY2goY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGlmIChpcy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlID0gX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKTtcblxuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQodXBkYXRlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICBTcHJpbmdSZWYuY3VycmVudCA9IGN1cnJlbnQ7XG5cbiAgU3ByaW5nUmVmLmFkZCA9IGZ1bmN0aW9uIChjdHJsKSB7XG4gICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKGN0cmwpKSB7XG4gICAgICBjdXJyZW50LnB1c2goY3RybCk7XG4gICAgfVxuICB9O1xuXG4gIFNwcmluZ1JlZi5kZWxldGUgPSBmdW5jdGlvbiAoY3RybCkge1xuICAgIGNvbnN0IGkgPSBjdXJyZW50LmluZGV4T2YoY3RybCk7XG4gICAgaWYgKH5pKSBjdXJyZW50LnNwbGljZShpLCAxKTtcbiAgfTtcblxuICBTcHJpbmdSZWYucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWFjaChjdXJyZW50LCBjdHJsID0+IGN0cmwucGF1c2UoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU3ByaW5nUmVmLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBlYWNoKGN1cnJlbnQsIGN0cmwgPT4gY3RybC5yZXN1bWUoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU3ByaW5nUmVmLnNldCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICBlYWNoKGN1cnJlbnQsIGN0cmwgPT4gY3RybC5zZXQodmFsdWVzKSk7XG4gIH07XG5cbiAgU3ByaW5nUmVmLnN0YXJ0ID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGVhY2goY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGlmIChpcy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlID0gdGhpcy5fZ2V0UHJvcHMocHJvcHMsIGN0cmwsIGkpO1xuXG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCh1cGRhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIFNwcmluZ1JlZi5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIGVhY2goY3VycmVudCwgY3RybCA9PiBjdHJsLnN0b3AoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU3ByaW5nUmVmLnVwZGF0ZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIGVhY2goY3VycmVudCwgKGN0cmwsIGkpID0+IGN0cmwudXBkYXRlKHRoaXMuX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGNvbnN0IF9nZXRQcm9wcyA9IGZ1bmN0aW9uIF9nZXRQcm9wcyhhcmcsIGN0cmwsIGluZGV4KSB7XG4gICAgcmV0dXJuIGlzLmZ1bihhcmcpID8gYXJnKGluZGV4LCBjdHJsKSA6IGFyZztcbiAgfTtcblxuICBTcHJpbmdSZWYuX2dldFByb3BzID0gX2dldFByb3BzO1xuICByZXR1cm4gU3ByaW5nUmVmO1xufTtcblxuZnVuY3Rpb24gdXNlU3ByaW5ncyhsZW5ndGgsIHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpcy5mdW4ocHJvcHMpICYmIHByb3BzO1xuICBpZiAocHJvcHNGbiAmJiAhZGVwcykgZGVwcyA9IFtdO1xuICBjb25zdCByZWYgPSB1c2VNZW1vKCgpID0+IHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID8gU3ByaW5nUmVmKCkgOiB2b2lkIDAsIFtdKTtcbiAgY29uc3QgbGF5b3V0SWQgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgY29uc3Qgc3RhdGUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgY3RybHM6IFtdLFxuICAgIHF1ZXVlOiBbXSxcblxuICAgIGZsdXNoKGN0cmwsIHVwZGF0ZXMpIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXMpO1xuICAgICAgY29uc3QgY2FuRmx1c2hTeW5jID0gbGF5b3V0SWQuY3VycmVudCA+IDAgJiYgIXN0YXRlLnF1ZXVlLmxlbmd0aCAmJiAhT2JqZWN0LmtleXMoc3ByaW5ncykuc29tZShrZXkgPT4gIWN0cmwuc3ByaW5nc1trZXldKTtcbiAgICAgIHJldHVybiBjYW5GbHVzaFN5bmMgPyBmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHVwZGF0ZXMpIDogbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHNldFNwcmluZ3MoY3RybCwgc3ByaW5ncyk7XG4gICAgICAgIHN0YXRlLnF1ZXVlLnB1c2goKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCB1cGRhdGVzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pLCBbXSk7XG4gIGNvbnN0IGN0cmxzID0gdXNlUmVmKFsuLi5zdGF0ZS5jdHJsc10pO1xuICBjb25zdCB1cGRhdGVzID0gW107XG4gIGNvbnN0IHByZXZMZW5ndGggPSB1c2VQcmV2KGxlbmd0aCkgfHwgMDtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZWFjaChjdHJscy5jdXJyZW50LnNsaWNlKGxlbmd0aCwgcHJldkxlbmd0aCksIGN0cmwgPT4ge1xuICAgICAgZGV0YWNoUmVmcyhjdHJsLCByZWYpO1xuICAgICAgY3RybC5zdG9wKHRydWUpO1xuICAgIH0pO1xuICAgIGN0cmxzLmN1cnJlbnQubGVuZ3RoID0gbGVuZ3RoO1xuICAgIGRlY2xhcmVVcGRhdGVzKHByZXZMZW5ndGgsIGxlbmd0aCk7XG4gIH0sIFtsZW5ndGhdKTtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZGVjbGFyZVVwZGF0ZXMoMCwgTWF0aC5taW4ocHJldkxlbmd0aCwgbGVuZ3RoKSk7XG4gIH0sIGRlcHMpO1xuXG4gIGZ1bmN0aW9uIGRlY2xhcmVVcGRhdGVzKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjdHJsID0gY3RybHMuY3VycmVudFtpXSB8fCAoY3RybHMuY3VycmVudFtpXSA9IG5ldyBDb250cm9sbGVyKG51bGwsIHN0YXRlLmZsdXNoKSk7XG4gICAgICBjb25zdCB1cGRhdGUgPSBwcm9wc0ZuID8gcHJvcHNGbihpLCBjdHJsKSA6IHByb3BzW2ldO1xuXG4gICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgIHVwZGF0ZXNbaV0gPSBkZWNsYXJlVXBkYXRlKHVwZGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3ByaW5ncyA9IGN0cmxzLmN1cnJlbnQubWFwKChjdHJsLCBpKSA9PiBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXNbaV0pKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU3ByaW5nQ29udGV4dCk7XG4gIGNvbnN0IHByZXZDb250ZXh0ID0gdXNlUHJldihjb250ZXh0KTtcbiAgY29uc3QgaGFzQ29udGV4dCA9IGNvbnRleHQgIT09IHByZXZDb250ZXh0ICYmIGhhc1Byb3BzKGNvbnRleHQpO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGxheW91dElkLmN1cnJlbnQrKztcbiAgICBzdGF0ZS5jdHJscyA9IGN0cmxzLmN1cnJlbnQ7XG4gICAgY29uc3Qge1xuICAgICAgcXVldWVcbiAgICB9ID0gc3RhdGU7XG5cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5xdWV1ZSA9IFtdO1xuICAgICAgZWFjaChxdWV1ZSwgY2IgPT4gY2IoKSk7XG4gICAgfVxuXG4gICAgZWFjaChjdHJscy5jdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgcmVmID09IG51bGwgPyB2b2lkIDAgOiByZWYuYWRkKGN0cmwpO1xuXG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBjdHJsLnN0YXJ0KHtcbiAgICAgICAgICBkZWZhdWx0OiBjb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1cGRhdGUgPSB1cGRhdGVzW2ldO1xuXG4gICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgIHJlcGxhY2VSZWYoY3RybCwgdXBkYXRlLnJlZik7XG5cbiAgICAgICAgaWYgKGN0cmwucmVmKSB7XG4gICAgICAgICAgY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3RybC5zdGFydCh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICBlYWNoKHN0YXRlLmN0cmxzLCBjdHJsID0+IGN0cmwuc3RvcCh0cnVlKSk7XG4gIH0pO1xuICBjb25zdCB2YWx1ZXMgPSBzcHJpbmdzLm1hcCh4ID0+IF9leHRlbmRzKHt9LCB4KSk7XG4gIHJldHVybiByZWYgPyBbdmFsdWVzLCByZWZdIDogdmFsdWVzO1xufVxuXG5mdW5jdGlvbiB1c2VTcHJpbmcocHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgaXNGbiA9IGlzLmZ1bihwcm9wcyk7XG4gIGNvbnN0IFtbdmFsdWVzXSwgcmVmXSA9IHVzZVNwcmluZ3MoMSwgaXNGbiA/IHByb3BzIDogW3Byb3BzXSwgaXNGbiA/IGRlcHMgfHwgW10gOiBkZXBzKTtcbiAgcmV0dXJuIGlzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAyID8gW3ZhbHVlcywgcmVmXSA6IHZhbHVlcztcbn1cblxuY29uc3QgaW5pdFNwcmluZ1JlZiA9ICgpID0+IFNwcmluZ1JlZigpO1xuXG5jb25zdCB1c2VTcHJpbmdSZWYgPSAoKSA9PiB1c2VTdGF0ZShpbml0U3ByaW5nUmVmKVswXTtcblxuZnVuY3Rpb24gdXNlVHJhaWwobGVuZ3RoLCBwcm9wc0FyZywgZGVwcykge1xuICB2YXIgX3Bhc3NlZFJlZjtcblxuICBjb25zdCBwcm9wc0ZuID0gaXMuZnVuKHByb3BzQXJnKSAmJiBwcm9wc0FyZztcbiAgaWYgKHByb3BzRm4gJiYgIWRlcHMpIGRlcHMgPSBbXTtcbiAgbGV0IHJldmVyc2UgPSB0cnVlO1xuICBsZXQgcGFzc2VkUmVmID0gdW5kZWZpbmVkO1xuICBjb25zdCByZXN1bHQgPSB1c2VTcHJpbmdzKGxlbmd0aCwgKGksIGN0cmwpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IHByb3BzRm4gPyBwcm9wc0ZuKGksIGN0cmwpIDogcHJvcHNBcmc7XG4gICAgcGFzc2VkUmVmID0gcHJvcHMucmVmO1xuICAgIHJldmVyc2UgPSByZXZlcnNlICYmIHByb3BzLnJldmVyc2U7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9LCBkZXBzIHx8IFt7fV0pO1xuICBjb25zdCByZWYgPSAoX3Bhc3NlZFJlZiA9IHBhc3NlZFJlZikgIT0gbnVsbCA/IF9wYXNzZWRSZWYgOiByZXN1bHRbMV07XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgZWFjaChyZWYuY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHJlZi5jdXJyZW50W2kgKyAocmV2ZXJzZSA/IDEgOiAtMSldO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGN0cmwuc3RhcnQoe1xuICAgICAgICAgIHRvOiBwYXJlbnQuc3ByaW5nc1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0cmwuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgZGVwcyk7XG5cbiAgcmVmWydzdGFydCddID0gcHJvcHNBcmcgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBlYWNoKHJlZi5jdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgY29uc3QgcHJvcHMgPSBpcy5mdW4ocHJvcHNBcmcpID8gcHJvcHNBcmcoaSwgY3RybCkgOiBwcm9wc0FyZztcbiAgICAgIGNvbnN0IHBhcmVudCA9IHJlZi5jdXJyZW50W2kgKyAocmV2ZXJzZSA/IDEgOiAtMSldO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICAgIHRvOiBwYXJlbnQuc3ByaW5nc1xuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQoX2V4dGVuZHMoe30sIHByb3BzKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIGlmIChwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMykge1xuICAgIHJlZlsnX2dldFByb3BzJ10gPSAocHJvcHNBcmcsIGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0gaXMuZnVuKHByb3BzQXJnKSA/IHByb3BzQXJnKGksIGN0cmwpIDogcHJvcHNBcmc7XG5cbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSByZWYuY3VycmVudFtpICsgKHByb3BzLnJldmVyc2UgPyAxIDogLTEpXTtcbiAgICAgICAgaWYgKHBhcmVudCkgcHJvcHMudG8gPSBwYXJlbnQuc3ByaW5ncztcbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFswXTtcbn1cblxubGV0IFRyYW5zaXRpb25QaGFzZTtcblxuKGZ1bmN0aW9uIChUcmFuc2l0aW9uUGhhc2UpIHtcbiAgVHJhbnNpdGlvblBoYXNlW1wiTU9VTlRcIl0gPSBcIm1vdW50XCI7XG4gIFRyYW5zaXRpb25QaGFzZVtcIkVOVEVSXCJdID0gXCJlbnRlclwiO1xuICBUcmFuc2l0aW9uUGhhc2VbXCJVUERBVEVcIl0gPSBcInVwZGF0ZVwiO1xuICBUcmFuc2l0aW9uUGhhc2VbXCJMRUFWRVwiXSA9IFwibGVhdmVcIjtcbn0pKFRyYW5zaXRpb25QaGFzZSB8fCAoVHJhbnNpdGlvblBoYXNlID0ge30pKTtcblxuZnVuY3Rpb24gdXNlVHJhbnNpdGlvbihkYXRhLCBwcm9wcywgZGVwcykge1xuICBjb25zdCBwcm9wc0ZuID0gaXMuZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgY29uc3Qge1xuICAgIHJlc2V0LFxuICAgIHNvcnQsXG4gICAgdHJhaWwgPSAwLFxuICAgIGV4cGlyZXMgPSB0cnVlLFxuICAgIGV4aXRCZWZvcmVFbnRlciA9IGZhbHNlLFxuICAgIG9uRGVzdHJveWVkLFxuICAgIHJlZjogcHJvcHNSZWYsXG4gICAgY29uZmlnOiBwcm9wc0NvbmZpZ1xuICB9ID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICBjb25zdCByZWYgPSB1c2VNZW1vKCgpID0+IHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID8gU3ByaW5nUmVmKCkgOiB2b2lkIDAsIFtdKTtcbiAgY29uc3QgaXRlbXMgPSB0b0FycmF5KGRhdGEpO1xuICBjb25zdCB0cmFuc2l0aW9ucyA9IFtdO1xuICBjb25zdCB1c2VkVHJhbnNpdGlvbnMgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHByZXZUcmFuc2l0aW9ucyA9IHJlc2V0ID8gbnVsbCA6IHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50O1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50ID0gdHJhbnNpdGlvbnM7XG4gIH0pO1xuICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICBlYWNoKHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50LCB0ID0+IHtcbiAgICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQuZXhwaXJhdGlvbklkKTtcbiAgICAgIH1cblxuICAgICAgZGV0YWNoUmVmcyh0LmN0cmwsIHJlZik7XG4gICAgICB0LmN0cmwuc3RvcCh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKGl0ZW1zLCBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHMsIHByZXZUcmFuc2l0aW9ucyk7XG4gIGNvbnN0IGV4cGlyZWQgPSByZXNldCAmJiB1c2VkVHJhbnNpdGlvbnMuY3VycmVudCB8fCBbXTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IGVhY2goZXhwaXJlZCwgKHtcbiAgICBjdHJsLFxuICAgIGl0ZW0sXG4gICAga2V5XG4gIH0pID0+IHtcbiAgICBkZXRhY2hSZWZzKGN0cmwsIHJlZik7XG4gICAgY2FsbFByb3Aob25EZXN0cm95ZWQsIGl0ZW0sIGtleSk7XG4gIH0pKTtcbiAgY29uc3QgcmV1c2VkID0gW107XG4gIGlmIChwcmV2VHJhbnNpdGlvbnMpIGVhY2gocHJldlRyYW5zaXRpb25zLCAodCwgaSkgPT4ge1xuICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0LmV4cGlyYXRpb25JZCk7XG4gICAgICBleHBpcmVkLnB1c2godCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGkgPSByZXVzZWRbaV0gPSBrZXlzLmluZGV4T2YodC5rZXkpO1xuICAgICAgaWYgKH5pKSB0cmFuc2l0aW9uc1tpXSA9IHQ7XG4gICAgfVxuICB9KTtcbiAgZWFjaChpdGVtcywgKGl0ZW0sIGkpID0+IHtcbiAgICBpZiAoIXRyYW5zaXRpb25zW2ldKSB7XG4gICAgICB0cmFuc2l0aW9uc1tpXSA9IHtcbiAgICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgICBpdGVtLFxuICAgICAgICBwaGFzZTogVHJhbnNpdGlvblBoYXNlLk1PVU5ULFxuICAgICAgICBjdHJsOiBuZXcgQ29udHJvbGxlcigpXG4gICAgICB9O1xuICAgICAgdHJhbnNpdGlvbnNbaV0uY3RybC5pdGVtID0gaXRlbTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChyZXVzZWQubGVuZ3RoKSB7XG4gICAgbGV0IGkgPSAtMTtcbiAgICBjb25zdCB7XG4gICAgICBsZWF2ZVxuICAgIH0gPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gICAgZWFjaChyZXVzZWQsIChrZXlJbmRleCwgcHJldkluZGV4KSA9PiB7XG4gICAgICBjb25zdCB0ID0gcHJldlRyYW5zaXRpb25zW3ByZXZJbmRleF07XG5cbiAgICAgIGlmICh+a2V5SW5kZXgpIHtcbiAgICAgICAgaSA9IHRyYW5zaXRpb25zLmluZGV4T2YodCk7XG4gICAgICAgIHRyYW5zaXRpb25zW2ldID0gX2V4dGVuZHMoe30sIHQsIHtcbiAgICAgICAgICBpdGVtOiBpdGVtc1trZXlJbmRleF1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGxlYXZlKSB7XG4gICAgICAgIHRyYW5zaXRpb25zLnNwbGljZSgrK2ksIDAsIHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzLmZ1bihzb3J0KSkge1xuICAgIHRyYW5zaXRpb25zLnNvcnQoKGEsIGIpID0+IHNvcnQoYS5pdGVtLCBiLml0ZW0pKTtcbiAgfVxuXG4gIGxldCBkZWxheSA9IC10cmFpbDtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICBjb25zdCBkZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMocHJvcHMpO1xuICBjb25zdCBjaGFuZ2VzID0gbmV3IE1hcCgpO1xuICBjb25zdCBleGl0aW5nVHJhbnNpdGlvbnMgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgZm9yY2VDaGFuZ2UgPSB1c2VSZWYoZmFsc2UpO1xuICBlYWNoKHRyYW5zaXRpb25zLCAodCwgaSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHQua2V5O1xuICAgIGNvbnN0IHByZXZQaGFzZSA9IHQucGhhc2U7XG4gICAgY29uc3QgcCA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICBsZXQgdG87XG4gICAgbGV0IHBoYXNlO1xuICAgIGxldCBwcm9wc0RlbGF5ID0gY2FsbFByb3AocC5kZWxheSB8fCAwLCBrZXkpO1xuXG4gICAgaWYgKHByZXZQaGFzZSA9PSBUcmFuc2l0aW9uUGhhc2UuTU9VTlQpIHtcbiAgICAgIHRvID0gcC5lbnRlcjtcbiAgICAgIHBoYXNlID0gVHJhbnNpdGlvblBoYXNlLkVOVEVSO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpc0xlYXZlID0ga2V5cy5pbmRleE9mKGtleSkgPCAwO1xuXG4gICAgICBpZiAocHJldlBoYXNlICE9IFRyYW5zaXRpb25QaGFzZS5MRUFWRSkge1xuICAgICAgICBpZiAoaXNMZWF2ZSkge1xuICAgICAgICAgIHRvID0gcC5sZWF2ZTtcbiAgICAgICAgICBwaGFzZSA9IFRyYW5zaXRpb25QaGFzZS5MRUFWRTtcbiAgICAgICAgfSBlbHNlIGlmICh0byA9IHAudXBkYXRlKSB7XG4gICAgICAgICAgcGhhc2UgPSBUcmFuc2l0aW9uUGhhc2UuVVBEQVRFO1xuICAgICAgICB9IGVsc2UgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghaXNMZWF2ZSkge1xuICAgICAgICB0byA9IHAuZW50ZXI7XG4gICAgICAgIHBoYXNlID0gVHJhbnNpdGlvblBoYXNlLkVOVEVSO1xuICAgICAgfSBlbHNlIHJldHVybjtcbiAgICB9XG5cbiAgICB0byA9IGNhbGxQcm9wKHRvLCB0Lml0ZW0sIGkpO1xuICAgIHRvID0gaXMub2JqKHRvKSA/IGluZmVyVG8odG8pIDoge1xuICAgICAgdG9cbiAgICB9O1xuXG4gICAgaWYgKCF0by5jb25maWcpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHByb3BzQ29uZmlnIHx8IGRlZmF1bHRQcm9wcy5jb25maWc7XG4gICAgICB0by5jb25maWcgPSBjYWxsUHJvcChjb25maWcsIHQuaXRlbSwgaSwgcGhhc2UpO1xuICAgIH1cblxuICAgIGRlbGF5ICs9IHRyYWlsO1xuXG4gICAgY29uc3QgcGF5bG9hZCA9IF9leHRlbmRzKHt9LCBkZWZhdWx0UHJvcHMsIHtcbiAgICAgIGRlbGF5OiBwcm9wc0RlbGF5ICsgZGVsYXksXG4gICAgICByZWY6IHByb3BzUmVmLFxuICAgICAgaW1tZWRpYXRlOiBwLmltbWVkaWF0ZSxcbiAgICAgIHJlc2V0OiBmYWxzZVxuICAgIH0sIHRvKTtcblxuICAgIGlmIChwaGFzZSA9PSBUcmFuc2l0aW9uUGhhc2UuRU5URVIgJiYgaXMudW5kKHBheWxvYWQuZnJvbSkpIHtcbiAgICAgIGNvbnN0IF9wID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuXG4gICAgICBjb25zdCBmcm9tID0gaXMudW5kKF9wLmluaXRpYWwpIHx8IHByZXZUcmFuc2l0aW9ucyA/IF9wLmZyb20gOiBfcC5pbml0aWFsO1xuICAgICAgcGF5bG9hZC5mcm9tID0gY2FsbFByb3AoZnJvbSwgdC5pdGVtLCBpKTtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBvblJlc29sdmVcbiAgICB9ID0gcGF5bG9hZDtcblxuICAgIHBheWxvYWQub25SZXNvbHZlID0gcmVzdWx0ID0+IHtcbiAgICAgIGNhbGxQcm9wKG9uUmVzb2x2ZSwgcmVzdWx0KTtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0gdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQ7XG4gICAgICBjb25zdCB0ID0gdHJhbnNpdGlvbnMuZmluZCh0ID0+IHQua2V5ID09PSBrZXkpO1xuICAgICAgaWYgKCF0KSByZXR1cm47XG5cbiAgICAgIGlmIChyZXN1bHQuY2FuY2VsbGVkICYmIHQucGhhc2UgIT0gVHJhbnNpdGlvblBoYXNlLlVQREFURSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0LmN0cmwuaWRsZSkge1xuICAgICAgICBjb25zdCBpZGxlID0gdHJhbnNpdGlvbnMuZXZlcnkodCA9PiB0LmN0cmwuaWRsZSk7XG5cbiAgICAgICAgaWYgKHQucGhhc2UgPT0gVHJhbnNpdGlvblBoYXNlLkxFQVZFKSB7XG4gICAgICAgICAgY29uc3QgZXhwaXJ5ID0gY2FsbFByb3AoZXhwaXJlcywgdC5pdGVtKTtcblxuICAgICAgICAgIGlmIChleHBpcnkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBleHBpcnlNcyA9IGV4cGlyeSA9PT0gdHJ1ZSA/IDAgOiBleHBpcnk7XG4gICAgICAgICAgICB0LmV4cGlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIWlkbGUgJiYgZXhwaXJ5TXMgPiAwKSB7XG4gICAgICAgICAgICAgIGlmIChleHBpcnlNcyA8PSAweDdmZmZmZmZmKSB0LmV4cGlyYXRpb25JZCA9IHNldFRpbWVvdXQoZm9yY2VVcGRhdGUsIGV4cGlyeU1zKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpZGxlICYmIHRyYW5zaXRpb25zLnNvbWUodCA9PiB0LmV4cGlyZWQpKSB7XG4gICAgICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuZGVsZXRlKHQpO1xuXG4gICAgICAgICAgaWYgKGV4aXRCZWZvcmVFbnRlcikge1xuICAgICAgICAgICAgZm9yY2VDaGFuZ2UuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzcHJpbmdzID0gZ2V0U3ByaW5ncyh0LmN0cmwsIHBheWxvYWQpO1xuXG4gICAgaWYgKHBoYXNlID09PSBUcmFuc2l0aW9uUGhhc2UuTEVBVkUgJiYgZXhpdEJlZm9yZUVudGVyKSB7XG4gICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zZXQodCwge1xuICAgICAgICBwaGFzZSxcbiAgICAgICAgc3ByaW5ncyxcbiAgICAgICAgcGF5bG9hZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5nZXMuc2V0KHQsIHtcbiAgICAgICAgcGhhc2UsXG4gICAgICAgIHNwcmluZ3MsXG4gICAgICAgIHBheWxvYWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFNwcmluZ0NvbnRleHQpO1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZVByZXYoY29udGV4dCk7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSBjb250ZXh0ICE9PSBwcmV2Q29udGV4dCAmJiBoYXNQcm9wcyhjb250ZXh0KTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgZWFjaCh0cmFuc2l0aW9ucywgdCA9PiB7XG4gICAgICAgIHQuY3RybC5zdGFydCh7XG4gICAgICAgICAgZGVmYXVsdDogY29udGV4dFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NvbnRleHRdKTtcbiAgZWFjaChjaGFuZ2VzLCAoXywgdCkgPT4ge1xuICAgIGlmIChleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zaXplKSB7XG4gICAgICBjb25zdCBpbmQgPSB0cmFuc2l0aW9ucy5maW5kSW5kZXgoc3RhdGUgPT4gc3RhdGUua2V5ID09PSB0LmtleSk7XG4gICAgICB0cmFuc2l0aW9ucy5zcGxpY2UoaW5kLCAxKTtcbiAgICB9XG4gIH0pO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGVhY2goZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2l6ZSA/IGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50IDogY2hhbmdlcywgKHtcbiAgICAgIHBoYXNlLFxuICAgICAgcGF5bG9hZFxuICAgIH0sIHQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3RybFxuICAgICAgfSA9IHQ7XG4gICAgICB0LnBoYXNlID0gcGhhc2U7XG4gICAgICByZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHJlZi5hZGQoY3RybCk7XG5cbiAgICAgIGlmIChoYXNDb250ZXh0ICYmIHBoYXNlID09IFRyYW5zaXRpb25QaGFzZS5FTlRFUikge1xuICAgICAgICBjdHJsLnN0YXJ0KHtcbiAgICAgICAgICBkZWZhdWx0OiBjb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICByZXBsYWNlUmVmKGN0cmwsIHBheWxvYWQucmVmKTtcblxuICAgICAgICBpZiAoY3RybC5yZWYgJiYgIWZvcmNlQ2hhbmdlLmN1cnJlbnQpIHtcbiAgICAgICAgICBjdHJsLnVwZGF0ZShwYXlsb2FkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHJsLnN0YXJ0KHBheWxvYWQpO1xuXG4gICAgICAgICAgaWYgKGZvcmNlQ2hhbmdlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvcmNlQ2hhbmdlLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgcmVzZXQgPyB2b2lkIDAgOiBkZXBzKTtcblxuICBjb25zdCByZW5kZXJUcmFuc2l0aW9ucyA9IHJlbmRlciA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFuc2l0aW9ucy5tYXAoKHQsIGkpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzcHJpbmdzXG4gICAgfSA9IGNoYW5nZXMuZ2V0KHQpIHx8IHQuY3RybDtcbiAgICBjb25zdCBlbGVtID0gcmVuZGVyKF9leHRlbmRzKHt9LCBzcHJpbmdzKSwgdC5pdGVtLCB0LCBpKTtcbiAgICByZXR1cm4gZWxlbSAmJiBlbGVtLnR5cGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KGVsZW0udHlwZSwgX2V4dGVuZHMoe30sIGVsZW0ucHJvcHMsIHtcbiAgICAgIGtleTogaXMuc3RyKHQua2V5KSB8fCBpcy5udW0odC5rZXkpID8gdC5rZXkgOiB0LmN0cmwuaWQsXG4gICAgICByZWY6IGVsZW0ucmVmXG4gICAgfSkpIDogZWxlbTtcbiAgfSkpO1xuXG4gIHJldHVybiByZWYgPyBbcmVuZGVyVHJhbnNpdGlvbnMsIHJlZl0gOiByZW5kZXJUcmFuc2l0aW9ucztcbn1cbmxldCBuZXh0S2V5ID0gMTtcblxuZnVuY3Rpb24gZ2V0S2V5cyhpdGVtcywge1xuICBrZXksXG4gIGtleXMgPSBrZXlcbn0sIHByZXZUcmFuc2l0aW9ucykge1xuICBpZiAoa2V5cyA9PT0gbnVsbCkge1xuICAgIGNvbnN0IHJldXNlZCA9IG5ldyBTZXQoKTtcbiAgICByZXR1cm4gaXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgdCA9IHByZXZUcmFuc2l0aW9ucyAmJiBwcmV2VHJhbnNpdGlvbnMuZmluZCh0ID0+IHQuaXRlbSA9PT0gaXRlbSAmJiB0LnBoYXNlICE9PSBUcmFuc2l0aW9uUGhhc2UuTEVBVkUgJiYgIXJldXNlZC5oYXModCkpO1xuXG4gICAgICBpZiAodCkge1xuICAgICAgICByZXVzZWQuYWRkKHQpO1xuICAgICAgICByZXR1cm4gdC5rZXk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0S2V5Kys7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gaXMudW5kKGtleXMpID8gaXRlbXMgOiBpcy5mdW4oa2V5cykgPyBpdGVtcy5tYXAoa2V5cykgOiB0b0FycmF5KGtleXMpO1xufVxuXG5jb25zdCBfZXhjbHVkZWQkMiA9IFtcImNoaWxkcmVuXCJdO1xuZnVuY3Rpb24gU3ByaW5nKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkJDIpO1xuXG4gIHJldHVybiBjaGlsZHJlbih1c2VTcHJpbmcocHJvcHMpKTtcbn1cblxuY29uc3QgX2V4Y2x1ZGVkJDEgPSBbXCJpdGVtc1wiLCBcImNoaWxkcmVuXCJdO1xuZnVuY3Rpb24gVHJhaWwoX3JlZikge1xuICBsZXQge1xuICAgIGl0ZW1zLFxuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQkMSk7XG5cbiAgY29uc3QgdHJhaWxzID0gdXNlVHJhaWwoaXRlbXMubGVuZ3RoLCBwcm9wcyk7XG4gIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2hpbGRyZW4oaXRlbSwgaW5kZXgpO1xuICAgIHJldHVybiBpcy5mdW4ocmVzdWx0KSA/IHJlc3VsdCh0cmFpbHNbaW5kZXhdKSA6IHJlc3VsdDtcbiAgfSk7XG59XG5cbmNvbnN0IF9leGNsdWRlZCA9IFtcIml0ZW1zXCIsIFwiY2hpbGRyZW5cIl07XG5mdW5jdGlvbiBUcmFuc2l0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpdGVtcyxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICByZXR1cm4gdXNlVHJhbnNpdGlvbihpdGVtcywgcHJvcHMpKGNoaWxkcmVuKTtcbn1cblxuY2xhc3MgSW50ZXJwb2xhdGlvbiBleHRlbmRzIEZyYW1lVmFsdWUge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIGFyZ3MpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMua2V5ID0gdm9pZCAwO1xuICAgIHRoaXMuaWRsZSA9IHRydWU7XG4gICAgdGhpcy5jYWxjID0gdm9pZCAwO1xuICAgIHRoaXMuX2FjdGl2ZSA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLmNhbGMgPSBjcmVhdGVJbnRlcnBvbGF0b3IoLi4uYXJncyk7XG5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuXG4gICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodmFsdWUpO1xuICAgIHNldEFuaW1hdGVkKHRoaXMsIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSkpO1xuICB9XG5cbiAgYWR2YW5jZShfZHQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmdldCgpO1xuXG4gICAgaWYgKCFpc0VxdWFsKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIGdldEFuaW1hdGVkKHRoaXMpLnNldFZhbHVlKHZhbHVlKTtcblxuICAgICAgdGhpcy5fb25DaGFuZ2UodmFsdWUsIHRoaXMuaWRsZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlkbGUgJiYgY2hlY2tJZGxlKHRoaXMuX2FjdGl2ZSkpIHtcbiAgICAgIGJlY29tZUlkbGUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX2dldCgpIHtcbiAgICBjb25zdCBpbnB1dHMgPSBpcy5hcnIodGhpcy5zb3VyY2UpID8gdGhpcy5zb3VyY2UubWFwKGdldEZsdWlkVmFsdWUpIDogdG9BcnJheShnZXRGbHVpZFZhbHVlKHRoaXMuc291cmNlKSk7XG4gICAgcmV0dXJuIHRoaXMuY2FsYyguLi5pbnB1dHMpO1xuICB9XG5cbiAgX3N0YXJ0KCkge1xuICAgIGlmICh0aGlzLmlkbGUgJiYgIWNoZWNrSWRsZSh0aGlzLl9hY3RpdmUpKSB7XG4gICAgICB0aGlzLmlkbGUgPSBmYWxzZTtcbiAgICAgIGVhY2goZ2V0UGF5bG9hZCh0aGlzKSwgbm9kZSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChHbG9iYWxzLnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgcmFmLmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuYWR2YW5jZSgpKTtcbiAgICAgICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lTG9vcC5zdGFydCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYXR0YWNoKCkge1xuICAgIGxldCBwcmlvcml0eSA9IDE7XG4gICAgZWFjaCh0b0FycmF5KHRoaXMuc291cmNlKSwgc291cmNlID0+IHtcbiAgICAgIGlmIChoYXNGbHVpZFZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgYWRkRmx1aWRPYnNlcnZlcihzb3VyY2UsIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGcmFtZVZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UuaWRsZSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaW9yaXR5ID0gTWF0aC5tYXgocHJpb3JpdHksIHNvdXJjZS5wcmlvcml0eSArIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgIHRoaXMuX3N0YXJ0KCk7XG4gIH1cblxuICBfZGV0YWNoKCkge1xuICAgIGVhY2godG9BcnJheSh0aGlzLnNvdXJjZSksIHNvdXJjZSA9PiB7XG4gICAgICBpZiAoaGFzRmx1aWRWYWx1ZShzb3VyY2UpKSB7XG4gICAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIoc291cmNlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2FjdGl2ZS5jbGVhcigpO1xuXG4gICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgfVxuXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSAnY2hhbmdlJykge1xuICAgICAgaWYgKGV2ZW50LmlkbGUpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hY3RpdmUuYWRkKGV2ZW50LnBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gJ2lkbGUnKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5kZWxldGUoZXZlbnQucGFyZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSAncHJpb3JpdHknKSB7XG4gICAgICAgICAgdGhpcy5wcmlvcml0eSA9IHRvQXJyYXkodGhpcy5zb3VyY2UpLnJlZHVjZSgoaGlnaGVzdCwgcGFyZW50KSA9PiBNYXRoLm1heChoaWdoZXN0LCAoaXNGcmFtZVZhbHVlKHBhcmVudCkgPyBwYXJlbnQucHJpb3JpdHkgOiAwKSArIDEpLCAwKTtcbiAgICAgICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gaXNJZGxlKHNvdXJjZSkge1xuICByZXR1cm4gc291cmNlLmlkbGUgIT09IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjaGVja0lkbGUoYWN0aXZlKSB7XG4gIHJldHVybiAhYWN0aXZlLnNpemUgfHwgQXJyYXkuZnJvbShhY3RpdmUpLmV2ZXJ5KGlzSWRsZSk7XG59XG5cbmZ1bmN0aW9uIGJlY29tZUlkbGUoc2VsZikge1xuICBpZiAoIXNlbGYuaWRsZSkge1xuICAgIHNlbGYuaWRsZSA9IHRydWU7XG4gICAgZWFjaChnZXRQYXlsb2FkKHNlbGYpLCBub2RlID0+IHtcbiAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHNlbGYsIHtcbiAgICAgIHR5cGU6ICdpZGxlJyxcbiAgICAgIHBhcmVudDogc2VsZlxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHRvID0gKHNvdXJjZSwgLi4uYXJncykgPT4gbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKTtcbmNvbnN0IGludGVycG9sYXRlID0gKHNvdXJjZSwgLi4uYXJncykgPT4gKGRlcHJlY2F0ZUludGVycG9sYXRlKCksIG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncykpO1xuXG5HbG9iYWxzLmFzc2lnbih7XG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgdG86IChzb3VyY2UsIGFyZ3MpID0+IG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncylcbn0pO1xuY29uc3QgdXBkYXRlID0gZnJhbWVMb29wLmFkdmFuY2U7XG5cbmV4cG9ydCB7IEJhaWxTaWduYWwsIENvbnRyb2xsZXIsIEZyYW1lVmFsdWUsIEludGVycG9sYXRpb24sIFNwcmluZywgU3ByaW5nQ29udGV4dCwgU3ByaW5nUmVmLCBTcHJpbmdWYWx1ZSwgVHJhaWwsIFRyYW5zaXRpb24sIGNvbmZpZywgZWFzaW5ncywgaW5mZXJUbywgaW50ZXJwb2xhdGUsIHRvLCB1cGRhdGUsIHVzZUNoYWluLCB1c2VTcHJpbmcsIHVzZVNwcmluZ1JlZiwgdXNlU3ByaW5ncywgdXNlVHJhaWwsIHVzZVRyYW5zaXRpb24gfTtcbiIsImxldCB1cGRhdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuY29uc3QgcmFmID0gZm4gPT4gc2NoZWR1bGUoZm4sIHVwZGF0ZVF1ZXVlKTtcbmxldCB3cml0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5cbnJhZi53cml0ZSA9IGZuID0+IHNjaGVkdWxlKGZuLCB3cml0ZVF1ZXVlKTtcblxubGV0IG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuXG5yYWYub25TdGFydCA9IGZuID0+IHNjaGVkdWxlKGZuLCBvblN0YXJ0UXVldWUpO1xuXG5sZXQgb25GcmFtZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5cbnJhZi5vbkZyYW1lID0gZm4gPT4gc2NoZWR1bGUoZm4sIG9uRnJhbWVRdWV1ZSk7XG5cbmxldCBvbkZpbmlzaFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5cbnJhZi5vbkZpbmlzaCA9IGZuID0+IHNjaGVkdWxlKGZuLCBvbkZpbmlzaFF1ZXVlKTtcblxubGV0IHRpbWVvdXRzID0gW107XG5cbnJhZi5zZXRUaW1lb3V0ID0gKGhhbmRsZXIsIG1zKSA9PiB7XG4gIGxldCB0aW1lID0gcmFmLm5vdygpICsgbXM7XG5cbiAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICBsZXQgaSA9IHRpbWVvdXRzLmZpbmRJbmRleCh0ID0+IHQuY2FuY2VsID09IGNhbmNlbCk7XG4gICAgaWYgKH5pKSB0aW1lb3V0cy5zcGxpY2UoaSwgMSk7XG4gICAgcGVuZGluZ0NvdW50IC09IH5pID8gMSA6IDA7XG4gIH07XG5cbiAgbGV0IHRpbWVvdXQgPSB7XG4gICAgdGltZSxcbiAgICBoYW5kbGVyLFxuICAgIGNhbmNlbFxuICB9O1xuICB0aW1lb3V0cy5zcGxpY2UoZmluZFRpbWVvdXQodGltZSksIDAsIHRpbWVvdXQpO1xuICBwZW5kaW5nQ291bnQgKz0gMTtcbiAgc3RhcnQoKTtcbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xuXG5sZXQgZmluZFRpbWVvdXQgPSB0aW1lID0+IH4ofnRpbWVvdXRzLmZpbmRJbmRleCh0ID0+IHQudGltZSA+IHRpbWUpIHx8IH50aW1lb3V0cy5sZW5ndGgpO1xuXG5yYWYuY2FuY2VsID0gZm4gPT4ge1xuICBvblN0YXJ0UXVldWUuZGVsZXRlKGZuKTtcbiAgb25GcmFtZVF1ZXVlLmRlbGV0ZShmbik7XG4gIHVwZGF0ZVF1ZXVlLmRlbGV0ZShmbik7XG4gIHdyaXRlUXVldWUuZGVsZXRlKGZuKTtcbiAgb25GaW5pc2hRdWV1ZS5kZWxldGUoZm4pO1xufTtcblxucmFmLnN5bmMgPSBmbiA9PiB7XG4gIHN5bmMgPSB0cnVlO1xuICByYWYuYmF0Y2hlZFVwZGF0ZXMoZm4pO1xuICBzeW5jID0gZmFsc2U7XG59O1xuXG5yYWYudGhyb3R0bGUgPSBmbiA9PiB7XG4gIGxldCBsYXN0QXJncztcblxuICBmdW5jdGlvbiBxdWV1ZWRGbigpIHtcbiAgICB0cnkge1xuICAgICAgZm4oLi4ubGFzdEFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3R0bGVkKC4uLmFyZ3MpIHtcbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgcmFmLm9uU3RhcnQocXVldWVkRm4pO1xuICB9XG5cbiAgdGhyb3R0bGVkLmhhbmRsZXIgPSBmbjtcblxuICB0aHJvdHRsZWQuY2FuY2VsID0gKCkgPT4ge1xuICAgIG9uU3RhcnRRdWV1ZS5kZWxldGUocXVldWVkRm4pO1xuICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gdGhyb3R0bGVkO1xufTtcblxubGV0IG5hdGl2ZVJhZiA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIDogKCkgPT4ge307XG5cbnJhZi51c2UgPSBpbXBsID0+IG5hdGl2ZVJhZiA9IGltcGw7XG5cbnJhZi5ub3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT0gJ3VuZGVmaW5lZCcgPyAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93O1xuXG5yYWYuYmF0Y2hlZFVwZGF0ZXMgPSBmbiA9PiBmbigpO1xuXG5yYWYuY2F0Y2ggPSBjb25zb2xlLmVycm9yO1xucmFmLmZyYW1lTG9vcCA9ICdhbHdheXMnO1xuXG5yYWYuYWR2YW5jZSA9ICgpID0+IHtcbiAgaWYgKHJhZi5mcmFtZUxvb3AgIT09ICdkZW1hbmQnKSB7XG4gICAgY29uc29sZS53YXJuKCdDYW5ub3QgY2FsbCB0aGUgbWFudWFsIGFkdmFuY2VtZW50IG9mIHJhZnogd2hpbHN0IGZyYW1lTG9vcCBpcyBub3Qgc2V0IGFzIGRlbWFuZCcpO1xuICB9IGVsc2Uge1xuICAgIHVwZGF0ZSgpO1xuICB9XG59O1xuXG5sZXQgdHMgPSAtMTtcbmxldCBwZW5kaW5nQ291bnQgPSAwO1xubGV0IHN5bmMgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2NoZWR1bGUoZm4sIHF1ZXVlKSB7XG4gIGlmIChzeW5jKSB7XG4gICAgcXVldWUuZGVsZXRlKGZuKTtcbiAgICBmbigwKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5hZGQoZm4pO1xuICAgIHN0YXJ0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICh0cyA8IDApIHtcbiAgICB0cyA9IDA7XG5cbiAgICBpZiAocmFmLmZyYW1lTG9vcCAhPT0gJ2RlbWFuZCcpIHtcbiAgICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcCgpIHtcbiAgdHMgPSAtMTtcbn1cblxuZnVuY3Rpb24gbG9vcCgpIHtcbiAgaWYgKH50cykge1xuICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXModXBkYXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGxldCBwcmV2VHMgPSB0cztcbiAgdHMgPSByYWYubm93KCk7XG4gIGxldCBjb3VudCA9IGZpbmRUaW1lb3V0KHRzKTtcblxuICBpZiAoY291bnQpIHtcbiAgICBlYWNoU2FmZWx5KHRpbWVvdXRzLnNwbGljZSgwLCBjb3VudCksIHQgPT4gdC5oYW5kbGVyKCkpO1xuICAgIHBlbmRpbmdDb3VudCAtPSBjb3VudDtcbiAgfVxuXG4gIG9uU3RhcnRRdWV1ZS5mbHVzaCgpO1xuICB1cGRhdGVRdWV1ZS5mbHVzaChwcmV2VHMgPyBNYXRoLm1pbig2NCwgdHMgLSBwcmV2VHMpIDogMTYuNjY3KTtcbiAgb25GcmFtZVF1ZXVlLmZsdXNoKCk7XG4gIHdyaXRlUXVldWUuZmx1c2goKTtcbiAgb25GaW5pc2hRdWV1ZS5mbHVzaCgpO1xuXG4gIGlmICghcGVuZGluZ0NvdW50KSB7XG4gICAgc3RvcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VRdWV1ZSgpIHtcbiAgbGV0IG5leHQgPSBuZXcgU2V0KCk7XG4gIGxldCBjdXJyZW50ID0gbmV4dDtcbiAgcmV0dXJuIHtcbiAgICBhZGQoZm4pIHtcbiAgICAgIHBlbmRpbmdDb3VudCArPSBjdXJyZW50ID09IG5leHQgJiYgIW5leHQuaGFzKGZuKSA/IDEgOiAwO1xuICAgICAgbmV4dC5hZGQoZm4pO1xuICAgIH0sXG5cbiAgICBkZWxldGUoZm4pIHtcbiAgICAgIHBlbmRpbmdDb3VudCAtPSBjdXJyZW50ID09IG5leHQgJiYgbmV4dC5oYXMoZm4pID8gMSA6IDA7XG4gICAgICByZXR1cm4gbmV4dC5kZWxldGUoZm4pO1xuICAgIH0sXG5cbiAgICBmbHVzaChhcmcpIHtcbiAgICAgIGlmIChjdXJyZW50LnNpemUpIHtcbiAgICAgICAgbmV4dCA9IG5ldyBTZXQoKTtcbiAgICAgICAgcGVuZGluZ0NvdW50IC09IGN1cnJlbnQuc2l6ZTtcbiAgICAgICAgZWFjaFNhZmVseShjdXJyZW50LCBmbiA9PiBmbihhcmcpICYmIG5leHQuYWRkKGZuKSk7XG4gICAgICAgIHBlbmRpbmdDb3VudCArPSBuZXh0LnNpemU7XG4gICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICB9O1xufVxuXG5mdW5jdGlvbiBlYWNoU2FmZWx5KHZhbHVlcywgZWFjaCkge1xuICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGVhY2godmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJhZi5jYXRjaChlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCBfX3JhZiA9IHtcbiAgY291bnQoKSB7XG4gICAgcmV0dXJuIHBlbmRpbmdDb3VudDtcbiAgfSxcblxuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRzID49IDA7XG4gIH0sXG5cbiAgY2xlYXIoKSB7XG4gICAgdHMgPSAtMTtcbiAgICB0aW1lb3V0cyA9IFtdO1xuICAgIG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHVwZGF0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgb25GcmFtZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgd3JpdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIG9uRmluaXNoUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBwZW5kaW5nQ291bnQgPSAwO1xuICB9XG5cbn07XG5cbmV4cG9ydCB7IF9fcmFmLCByYWYgfTtcbiIsImltcG9ydCB7IHJhZiB9IGZyb20gJ0ByZWFjdC1zcHJpbmcvcmFmeic7XG5leHBvcnQgeyByYWYgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3JhZnonO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBub29wKCkge31cbmNvbnN0IGRlZmluZUhpZGRlbiA9IChvYmosIGtleSwgdmFsdWUpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICB2YWx1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5jb25zdCBpcyA9IHtcbiAgYXJyOiBBcnJheS5pc0FycmF5LFxuICBvYmo6IGEgPT4gISFhICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gJ09iamVjdCcsXG4gIGZ1bjogYSA9PiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyxcbiAgc3RyOiBhID0+IHR5cGVvZiBhID09PSAnc3RyaW5nJyxcbiAgbnVtOiBhID0+IHR5cGVvZiBhID09PSAnbnVtYmVyJyxcbiAgdW5kOiBhID0+IGEgPT09IHVuZGVmaW5lZFxufTtcbmZ1bmN0aW9uIGlzRXF1YWwoYSwgYikge1xuICBpZiAoaXMuYXJyKGEpKSB7XG4gICAgaWYgKCFpcy5hcnIoYikgfHwgYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gYSA9PT0gYjtcbn1cbmNvbnN0IGVhY2ggPSAob2JqLCBmbikgPT4gb2JqLmZvckVhY2goZm4pO1xuZnVuY3Rpb24gZWFjaFByb3Aob2JqLCBmbiwgY3R4KSB7XG4gIGlmIChpcy5hcnIob2JqKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBgJHtpfWApO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZm4uY2FsbChjdHgsIG9ialtrZXldLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgdG9BcnJheSA9IGEgPT4gaXMudW5kKGEpID8gW10gOiBpcy5hcnIoYSkgPyBhIDogW2FdO1xuZnVuY3Rpb24gZmx1c2gocXVldWUsIGl0ZXJhdG9yKSB7XG4gIGlmIChxdWV1ZS5zaXplKSB7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHF1ZXVlKTtcbiAgICBxdWV1ZS5jbGVhcigpO1xuICAgIGVhY2goaXRlbXMsIGl0ZXJhdG9yKTtcbiAgfVxufVxuY29uc3QgZmx1c2hDYWxscyA9IChxdWV1ZSwgLi4uYXJncykgPT4gZmx1c2gocXVldWUsIGZuID0+IGZuKC4uLmFyZ3MpKTtcbmNvbnN0IGlzU1NSID0gKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5uYXZpZ2F0b3IgfHwgL1NlcnZlclNpZGVSZW5kZXJpbmd8XkRlbm9cXC8vLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG5sZXQgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yJDE7XG5sZXQgdG87XG5sZXQgY29sb3JzJDEgPSBudWxsO1xubGV0IHNraXBBbmltYXRpb24gPSBmYWxzZTtcbmxldCB3aWxsQWR2YW5jZSA9IG5vb3A7XG5jb25zdCBhc3NpZ24gPSBnbG9iYWxzID0+IHtcbiAgaWYgKGdsb2JhbHMudG8pIHRvID0gZ2xvYmFscy50bztcbiAgaWYgKGdsb2JhbHMubm93KSByYWYubm93ID0gZ2xvYmFscy5ub3c7XG4gIGlmIChnbG9iYWxzLmNvbG9ycyAhPT0gdW5kZWZpbmVkKSBjb2xvcnMkMSA9IGdsb2JhbHMuY29sb3JzO1xuICBpZiAoZ2xvYmFscy5za2lwQW5pbWF0aW9uICE9IG51bGwpIHNraXBBbmltYXRpb24gPSBnbG9iYWxzLnNraXBBbmltYXRpb247XG4gIGlmIChnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcikgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yJDEgPSBnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjtcbiAgaWYgKGdsb2JhbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSByYWYudXNlKGdsb2JhbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcbiAgaWYgKGdsb2JhbHMuYmF0Y2hlZFVwZGF0ZXMpIHJhZi5iYXRjaGVkVXBkYXRlcyA9IGdsb2JhbHMuYmF0Y2hlZFVwZGF0ZXM7XG4gIGlmIChnbG9iYWxzLndpbGxBZHZhbmNlKSB3aWxsQWR2YW5jZSA9IGdsb2JhbHMud2lsbEFkdmFuY2U7XG4gIGlmIChnbG9iYWxzLmZyYW1lTG9vcCkgcmFmLmZyYW1lTG9vcCA9IGdsb2JhbHMuZnJhbWVMb29wO1xufTtcblxudmFyIGdsb2JhbHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZ2V0IGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvciAoKSB7IHJldHVybiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IkMTsgfSxcbiAgZ2V0IHRvICgpIHsgcmV0dXJuIHRvOyB9LFxuICBnZXQgY29sb3JzICgpIHsgcmV0dXJuIGNvbG9ycyQxOyB9LFxuICBnZXQgc2tpcEFuaW1hdGlvbiAoKSB7IHJldHVybiBza2lwQW5pbWF0aW9uOyB9LFxuICBnZXQgd2lsbEFkdmFuY2UgKCkgeyByZXR1cm4gd2lsbEFkdmFuY2U7IH0sXG4gIGFzc2lnbjogYXNzaWduXG59KTtcblxuY29uc3Qgc3RhcnRRdWV1ZSA9IG5ldyBTZXQoKTtcbmxldCBjdXJyZW50RnJhbWUgPSBbXTtcbmxldCBwcmV2RnJhbWUgPSBbXTtcbmxldCBwcmlvcml0eSA9IDA7XG5jb25zdCBmcmFtZUxvb3AgPSB7XG4gIGdldCBpZGxlKCkge1xuICAgIHJldHVybiAhc3RhcnRRdWV1ZS5zaXplICYmICFjdXJyZW50RnJhbWUubGVuZ3RoO1xuICB9LFxuXG4gIHN0YXJ0KGFuaW1hdGlvbikge1xuICAgIGlmIChwcmlvcml0eSA+IGFuaW1hdGlvbi5wcmlvcml0eSkge1xuICAgICAgc3RhcnRRdWV1ZS5hZGQoYW5pbWF0aW9uKTtcbiAgICAgIHJhZi5vblN0YXJ0KGZsdXNoU3RhcnRRdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0U2FmZWx5KGFuaW1hdGlvbik7XG4gICAgICByYWYoYWR2YW5jZSk7XG4gICAgfVxuICB9LFxuXG4gIGFkdmFuY2UsXG5cbiAgc29ydChhbmltYXRpb24pIHtcbiAgICBpZiAocHJpb3JpdHkpIHtcbiAgICAgIHJhZi5vbkZyYW1lKCgpID0+IGZyYW1lTG9vcC5zb3J0KGFuaW1hdGlvbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmV2SW5kZXggPSBjdXJyZW50RnJhbWUuaW5kZXhPZihhbmltYXRpb24pO1xuXG4gICAgICBpZiAofnByZXZJbmRleCkge1xuICAgICAgICBjdXJyZW50RnJhbWUuc3BsaWNlKHByZXZJbmRleCwgMSk7XG4gICAgICAgIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgY2xlYXIoKSB7XG4gICAgY3VycmVudEZyYW1lID0gW107XG4gICAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICB9XG5cbn07XG5cbmZ1bmN0aW9uIGZsdXNoU3RhcnRRdWV1ZSgpIHtcbiAgc3RhcnRRdWV1ZS5mb3JFYWNoKHN0YXJ0U2FmZWx5KTtcbiAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICByYWYoYWR2YW5jZSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0U2FmZWx5KGFuaW1hdGlvbikge1xuICBpZiAoIWN1cnJlbnRGcmFtZS5pbmNsdWRlcyhhbmltYXRpb24pKSBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbik7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKSB7XG4gIGN1cnJlbnRGcmFtZS5zcGxpY2UoZmluZEluZGV4KGN1cnJlbnRGcmFtZSwgb3RoZXIgPT4gb3RoZXIucHJpb3JpdHkgPiBhbmltYXRpb24ucHJpb3JpdHkpLCAwLCBhbmltYXRpb24pO1xufVxuXG5mdW5jdGlvbiBhZHZhbmNlKGR0KSB7XG4gIGNvbnN0IG5leHRGcmFtZSA9IHByZXZGcmFtZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRGcmFtZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGN1cnJlbnRGcmFtZVtpXTtcbiAgICBwcmlvcml0eSA9IGFuaW1hdGlvbi5wcmlvcml0eTtcblxuICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgIHdpbGxBZHZhbmNlKGFuaW1hdGlvbik7XG4gICAgICBhbmltYXRpb24uYWR2YW5jZShkdCk7XG5cbiAgICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgICAgbmV4dEZyYW1lLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcmlvcml0eSA9IDA7XG4gIHByZXZGcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgcHJldkZyYW1lLmxlbmd0aCA9IDA7XG4gIGN1cnJlbnRGcmFtZSA9IG5leHRGcmFtZTtcbiAgcmV0dXJuIGN1cnJlbnRGcmFtZS5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCB0ZXN0KSB7XG4gIGNvbnN0IGluZGV4ID0gYXJyLmZpbmRJbmRleCh0ZXN0KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IGFyci5sZW5ndGggOiBpbmRleDtcbn1cblxuY29uc3QgY29sb3JzID0ge1xuICB0cmFuc3BhcmVudDogMHgwMDAwMDAwMCxcbiAgYWxpY2VibHVlOiAweGYwZjhmZmZmLFxuICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3ZmYsXG4gIGFxdWE6IDB4MDBmZmZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0ZmYsXG4gIGF6dXJlOiAweGYwZmZmZmZmLFxuICBiZWlnZTogMHhmNWY1ZGNmZixcbiAgYmlzcXVlOiAweGZmZTRjNGZmLFxuICBibGFjazogMHgwMDAwMDBmZixcbiAgYmxhbmNoZWRhbG1vbmQ6IDB4ZmZlYmNkZmYsXG4gIGJsdWU6IDB4MDAwMGZmZmYsXG4gIGJsdWV2aW9sZXQ6IDB4OGEyYmUyZmYsXG4gIGJyb3duOiAweGE1MmEyYWZmLFxuICBidXJseXdvb2Q6IDB4ZGViODg3ZmYsXG4gIGJ1cm50c2llbm5hOiAweGVhN2U1ZGZmLFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwZmYsXG4gIGNoYXJ0cmV1c2U6IDB4N2ZmZjAwZmYsXG4gIGNob2NvbGF0ZTogMHhkMjY5MWVmZixcbiAgY29yYWw6IDB4ZmY3ZjUwZmYsXG4gIGNvcm5mbG93ZXJibHVlOiAweDY0OTVlZGZmLFxuICBjb3Juc2lsazogMHhmZmY4ZGNmZixcbiAgY3JpbXNvbjogMHhkYzE0M2NmZixcbiAgY3lhbjogMHgwMGZmZmZmZixcbiAgZGFya2JsdWU6IDB4MDAwMDhiZmYsXG4gIGRhcmtjeWFuOiAweDAwOGI4YmZmLFxuICBkYXJrZ29sZGVucm9kOiAweGI4ODYwYmZmLFxuICBkYXJrZ3JheTogMHhhOWE5YTlmZixcbiAgZGFya2dyZWVuOiAweDAwNjQwMGZmLFxuICBkYXJrZ3JleTogMHhhOWE5YTlmZixcbiAgZGFya2toYWtpOiAweGJkYjc2YmZmLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGJmZixcbiAgZGFya29saXZlZ3JlZW46IDB4NTU2YjJmZmYsXG4gIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwZmYsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjZmYsXG4gIGRhcmtyZWQ6IDB4OGIwMDAwZmYsXG4gIGRhcmtzYWxtb246IDB4ZTk5NjdhZmYsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGZmZixcbiAgZGFya3NsYXRlYmx1ZTogMHg0ODNkOGJmZixcbiAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGZmZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGZmZixcbiAgZGFya3R1cnF1b2lzZTogMHgwMGNlZDFmZixcbiAgZGFya3Zpb2xldDogMHg5NDAwZDNmZixcbiAgZGVlcHBpbms6IDB4ZmYxNDkzZmYsXG4gIGRlZXBza3libHVlOiAweDAwYmZmZmZmLFxuICBkaW1ncmF5OiAweDY5Njk2OWZmLFxuICBkaW1ncmV5OiAweDY5Njk2OWZmLFxuICBkb2RnZXJibHVlOiAweDFlOTBmZmZmLFxuICBmaXJlYnJpY2s6IDB4YjIyMjIyZmYsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMGZmLFxuICBmb3Jlc3RncmVlbjogMHgyMjhiMjJmZixcbiAgZnVjaHNpYTogMHhmZjAwZmZmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkY2ZmLFxuICBnaG9zdHdoaXRlOiAweGY4ZjhmZmZmLFxuICBnb2xkOiAweGZmZDcwMGZmLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwZmYsXG4gIGdyYXk6IDB4ODA4MDgwZmYsXG4gIGdyZWVuOiAweDAwODAwMGZmLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmZmZixcbiAgZ3JleTogMHg4MDgwODBmZixcbiAgaG9uZXlkZXc6IDB4ZjBmZmYwZmYsXG4gIGhvdHBpbms6IDB4ZmY2OWI0ZmYsXG4gIGluZGlhbnJlZDogMHhjZDVjNWNmZixcbiAgaW5kaWdvOiAweDRiMDA4MmZmLFxuICBpdm9yeTogMHhmZmZmZjBmZixcbiAga2hha2k6IDB4ZjBlNjhjZmYsXG4gIGxhdmVuZGVyOiAweGU2ZTZmYWZmLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNWZmLFxuICBsYXduZ3JlZW46IDB4N2NmYzAwZmYsXG4gIGxlbW9uY2hpZmZvbjogMHhmZmZhY2RmZixcbiAgbGlnaHRibHVlOiAweGFkZDhlNmZmLFxuICBsaWdodGNvcmFsOiAweGYwODA4MGZmLFxuICBsaWdodGN5YW46IDB4ZTBmZmZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMmZmLFxuICBsaWdodGdyYXk6IDB4ZDNkM2QzZmYsXG4gIGxpZ2h0Z3JlZW46IDB4OTBlZTkwZmYsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDNmZixcbiAgbGlnaHRwaW5rOiAweGZmYjZjMWZmLFxuICBsaWdodHNhbG1vbjogMHhmZmEwN2FmZixcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWFmZixcbiAgbGlnaHRza3libHVlOiAweDg3Y2VmYWZmLFxuICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTlmZixcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5ZmYsXG4gIGxpZ2h0c3RlZWxibHVlOiAweGIwYzRkZWZmLFxuICBsaWdodHllbGxvdzogMHhmZmZmZTBmZixcbiAgbGltZTogMHgwMGZmMDBmZixcbiAgbGltZWdyZWVuOiAweDMyY2QzMmZmLFxuICBsaW5lbjogMHhmYWYwZTZmZixcbiAgbWFnZW50YTogMHhmZjAwZmZmZixcbiAgbWFyb29uOiAweDgwMDAwMGZmLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYWZmLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZGZmLFxuICBtZWRpdW1vcmNoaWQ6IDB4YmE1NWQzZmYsXG4gIG1lZGl1bXB1cnBsZTogMHg5MzcwZGJmZixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxZmYsXG4gIG1lZGl1bXNsYXRlYmx1ZTogMHg3YjY4ZWVmZixcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhZmYsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2NmZixcbiAgbWVkaXVtdmlvbGV0cmVkOiAweGM3MTU4NWZmLFxuICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwZmYsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmFmZixcbiAgbWlzdHlyb3NlOiAweGZmZTRlMWZmLFxuICBtb2NjYXNpbjogMHhmZmU0YjVmZixcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkZmYsXG4gIG5hdnk6IDB4MDAwMDgwZmYsXG4gIG9sZGxhY2U6IDB4ZmRmNWU2ZmYsXG4gIG9saXZlOiAweDgwODAwMGZmLFxuICBvbGl2ZWRyYWI6IDB4NmI4ZTIzZmYsXG4gIG9yYW5nZTogMHhmZmE1MDBmZixcbiAgb3JhbmdlcmVkOiAweGZmNDUwMGZmLFxuICBvcmNoaWQ6IDB4ZGE3MGQ2ZmYsXG4gIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhZmYsXG4gIHBhbGVncmVlbjogMHg5OGZiOThmZixcbiAgcGFsZXR1cnF1b2lzZTogMHhhZmVlZWVmZixcbiAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTNmZixcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDVmZixcbiAgcGVhY2hwdWZmOiAweGZmZGFiOWZmLFxuICBwZXJ1OiAweGNkODUzZmZmLFxuICBwaW5rOiAweGZmYzBjYmZmLFxuICBwbHVtOiAweGRkYTBkZGZmLFxuICBwb3dkZXJibHVlOiAweGIwZTBlNmZmLFxuICBwdXJwbGU6IDB4ODAwMDgwZmYsXG4gIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5ZmYsXG4gIHJlZDogMHhmZjAwMDBmZixcbiAgcm9zeWJyb3duOiAweGJjOGY4ZmZmLFxuICByb3lhbGJsdWU6IDB4NDE2OWUxZmYsXG4gIHNhZGRsZWJyb3duOiAweDhiNDUxM2ZmLFxuICBzYWxtb246IDB4ZmE4MDcyZmYsXG4gIHNhbmR5YnJvd246IDB4ZjRhNDYwZmYsXG4gIHNlYWdyZWVuOiAweDJlOGI1N2ZmLFxuICBzZWFzaGVsbDogMHhmZmY1ZWVmZixcbiAgc2llbm5hOiAweGEwNTIyZGZmLFxuICBzaWx2ZXI6IDB4YzBjMGMwZmYsXG4gIHNreWJsdWU6IDB4ODdjZWViZmYsXG4gIHNsYXRlYmx1ZTogMHg2YTVhY2RmZixcbiAgc2xhdGVncmF5OiAweDcwODA5MGZmLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwZmYsXG4gIHNub3c6IDB4ZmZmYWZhZmYsXG4gIHNwcmluZ2dyZWVuOiAweDAwZmY3ZmZmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0ZmYsXG4gIHRhbjogMHhkMmI0OGNmZixcbiAgdGVhbDogMHgwMDgwODBmZixcbiAgdGhpc3RsZTogMHhkOGJmZDhmZixcbiAgdG9tYXRvOiAweGZmNjM0N2ZmLFxuICB0dXJxdW9pc2U6IDB4NDBlMGQwZmYsXG4gIHZpb2xldDogMHhlZTgyZWVmZixcbiAgd2hlYXQ6IDB4ZjVkZWIzZmYsXG4gIHdoaXRlOiAweGZmZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNWZmLFxuICB5ZWxsb3c6IDB4ZmZmZjAwZmYsXG4gIHllbGxvd2dyZWVuOiAweDlhY2QzMmZmXG59O1xuXG5jb25zdCBOVU1CRVIgPSAnWy0rXT9cXFxcZCpcXFxcLj9cXFxcZCsnO1xuY29uc3QgUEVSQ0VOVEFHRSA9IE5VTUJFUiArICclJztcblxuZnVuY3Rpb24gY2FsbCguLi5wYXJ0cykge1xuICByZXR1cm4gJ1xcXFwoXFxcXHMqKCcgKyBwYXJ0cy5qb2luKCcpXFxcXHMqLFxcXFxzKignKSArICcpXFxcXHMqXFxcXCknO1xufVxuXG5jb25zdCByZ2IgPSBuZXcgUmVnRXhwKCdyZ2InICsgY2FsbChOVU1CRVIsIE5VTUJFUiwgTlVNQkVSKSk7XG5jb25zdCByZ2JhID0gbmV3IFJlZ0V4cCgncmdiYScgKyBjYWxsKE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpO1xuY29uc3QgaHNsID0gbmV3IFJlZ0V4cCgnaHNsJyArIGNhbGwoTlVNQkVSLCBQRVJDRU5UQUdFLCBQRVJDRU5UQUdFKSk7XG5jb25zdCBoc2xhID0gbmV3IFJlZ0V4cCgnaHNsYScgKyBjYWxsKE5VTUJFUiwgUEVSQ0VOVEFHRSwgUEVSQ0VOVEFHRSwgTlVNQkVSKSk7XG5jb25zdCBoZXgzID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC87XG5jb25zdCBoZXg0ID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvO1xuY29uc3QgaGV4NiA9IC9eIyhbMC05YS1mQS1GXXs2fSkkLztcbmNvbnN0IGhleDggPSAvXiMoWzAtOWEtZkEtRl17OH0pJC87XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbG9yKGNvbG9yKSB7XG4gIGxldCBtYXRjaDtcblxuICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBjb2xvciA+Pj4gMCA9PT0gY29sb3IgJiYgY29sb3IgPj0gMCAmJiBjb2xvciA8PSAweGZmZmZmZmZmID8gY29sb3IgOiBudWxsO1xuICB9XG5cbiAgaWYgKG1hdGNoID0gaGV4Ni5leGVjKGNvbG9yKSkgcmV0dXJuIHBhcnNlSW50KG1hdGNoWzFdICsgJ2ZmJywgMTYpID4+PiAwO1xuXG4gIGlmIChjb2xvcnMkMSAmJiBjb2xvcnMkMVtjb2xvcl0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjb2xvcnMkMVtjb2xvcl07XG4gIH1cblxuICBpZiAobWF0Y2ggPSByZ2IuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKHBhcnNlMjU1KG1hdGNoWzFdKSA8PCAyNCB8IHBhcnNlMjU1KG1hdGNoWzJdKSA8PCAxNiB8IHBhcnNlMjU1KG1hdGNoWzNdKSA8PCA4IHwgMHgwMDAwMDBmZikgPj4+IDA7XG4gIH1cblxuICBpZiAobWF0Y2ggPSByZ2JhLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChwYXJzZTI1NShtYXRjaFsxXSkgPDwgMjQgfCBwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYgfCBwYXJzZTI1NShtYXRjaFszXSkgPDwgOCB8IHBhcnNlMShtYXRjaFs0XSkpID4+PiAwO1xuICB9XG5cbiAgaWYgKG1hdGNoID0gaGV4My5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSArIG1hdGNoWzFdICsgbWF0Y2hbMl0gKyBtYXRjaFsyXSArIG1hdGNoWzNdICsgbWF0Y2hbM10gKyAnZmYnLCAxNikgPj4+IDA7XG4gIH1cblxuICBpZiAobWF0Y2ggPSBoZXg4LmV4ZWMoY29sb3IpKSByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDE2KSA+Pj4gMDtcblxuICBpZiAobWF0Y2ggPSBoZXg0LmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KG1hdGNoWzFdICsgbWF0Y2hbMV0gKyBtYXRjaFsyXSArIG1hdGNoWzJdICsgbWF0Y2hbM10gKyBtYXRjaFszXSArIG1hdGNoWzRdICsgbWF0Y2hbNF0sIDE2KSA+Pj4gMDtcbiAgfVxuXG4gIGlmIChtYXRjaCA9IGhzbC5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IocGFyc2UzNjAobWF0Y2hbMV0pLCBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLCBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pKSB8IDB4MDAwMDAwZmYpID4+PiAwO1xuICB9XG5cbiAgaWYgKG1hdGNoID0gaHNsYS5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IocGFyc2UzNjAobWF0Y2hbMV0pLCBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLCBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pKSB8IHBhcnNlMShtYXRjaFs0XSkpID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICBpZiAodCA8IDApIHQgKz0gMTtcbiAgaWYgKHQgPiAxKSB0IC09IDE7XG4gIGlmICh0IDwgMSAvIDYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcTtcbiAgaWYgKHQgPCAyIC8gMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgY29uc3QgcCA9IDIgKiBsIC0gcTtcbiAgY29uc3QgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgY29uc3QgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gIGNvbnN0IGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHIgKiAyNTUpIDw8IDI0IHwgTWF0aC5yb3VuZChnICogMjU1KSA8PCAxNiB8IE1hdGgucm91bmQoYiAqIDI1NSkgPDwgODtcbn1cblxuZnVuY3Rpb24gcGFyc2UyNTUoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHN0ciwgMTApO1xuICBpZiAoaW50IDwgMCkgcmV0dXJuIDA7XG4gIGlmIChpbnQgPiAyNTUpIHJldHVybiAyNTU7XG4gIHJldHVybiBpbnQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlMzYwKHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIHJldHVybiAoaW50ICUgMzYwICsgMzYwKSAlIDM2MCAvIDM2MDtcbn1cblxuZnVuY3Rpb24gcGFyc2UxKHN0cikge1xuICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChudW0gPCAwKSByZXR1cm4gMDtcbiAgaWYgKG51bSA+IDEpIHJldHVybiAyNTU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDI1NSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGVyY2VudGFnZShzdHIpIHtcbiAgY29uc3QgaW50ID0gcGFyc2VGbG9hdChzdHIpO1xuICBpZiAoaW50IDwgMCkgcmV0dXJuIDA7XG4gIGlmIChpbnQgPiAxMDApIHJldHVybiAxO1xuICByZXR1cm4gaW50IC8gMTAwO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiYShpbnB1dCkge1xuICBsZXQgaW50MzJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGlucHV0KTtcbiAgaWYgKGludDMyQ29sb3IgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgaW50MzJDb2xvciA9IGludDMyQ29sb3IgfHwgMDtcbiAgbGV0IHIgPSAoaW50MzJDb2xvciAmIDB4ZmYwMDAwMDApID4+PiAyNDtcbiAgbGV0IGcgPSAoaW50MzJDb2xvciAmIDB4MDBmZjAwMDApID4+PiAxNjtcbiAgbGV0IGIgPSAoaW50MzJDb2xvciAmIDB4MDAwMGZmMDApID4+PiA4O1xuICBsZXQgYSA9IChpbnQzMkNvbG9yICYgMHgwMDAwMDBmZikgLyAyNTU7XG4gIHJldHVybiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2F9KWA7XG59XG5cbmNvbnN0IGNyZWF0ZUludGVycG9sYXRvciA9IChyYW5nZSwgb3V0cHV0LCBleHRyYXBvbGF0ZSkgPT4ge1xuICBpZiAoaXMuZnVuKHJhbmdlKSkge1xuICAgIHJldHVybiByYW5nZTtcbiAgfVxuXG4gIGlmIChpcy5hcnIocmFuZ2UpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICByYW5nZSxcbiAgICAgIG91dHB1dDogb3V0cHV0LFxuICAgICAgZXh0cmFwb2xhdGVcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpcy5zdHIocmFuZ2Uub3V0cHV0WzBdKSkge1xuICAgIHJldHVybiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IkMShyYW5nZSk7XG4gIH1cblxuICBjb25zdCBjb25maWcgPSByYW5nZTtcbiAgY29uc3Qgb3V0cHV0UmFuZ2UgPSBjb25maWcub3V0cHV0O1xuICBjb25zdCBpbnB1dFJhbmdlID0gY29uZmlnLnJhbmdlIHx8IFswLCAxXTtcbiAgY29uc3QgZXh0cmFwb2xhdGVMZWZ0ID0gY29uZmlnLmV4dHJhcG9sYXRlTGVmdCB8fCBjb25maWcuZXh0cmFwb2xhdGUgfHwgJ2V4dGVuZCc7XG4gIGNvbnN0IGV4dHJhcG9sYXRlUmlnaHQgPSBjb25maWcuZXh0cmFwb2xhdGVSaWdodCB8fCBjb25maWcuZXh0cmFwb2xhdGUgfHwgJ2V4dGVuZCc7XG5cbiAgY29uc3QgZWFzaW5nID0gY29uZmlnLmVhc2luZyB8fCAodCA9PiB0KTtcblxuICByZXR1cm4gaW5wdXQgPT4ge1xuICAgIGNvbnN0IHJhbmdlID0gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKTtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoaW5wdXQsIGlucHV0UmFuZ2VbcmFuZ2VdLCBpbnB1dFJhbmdlW3JhbmdlICsgMV0sIG91dHB1dFJhbmdlW3JhbmdlXSwgb3V0cHV0UmFuZ2VbcmFuZ2UgKyAxXSwgZWFzaW5nLCBleHRyYXBvbGF0ZUxlZnQsIGV4dHJhcG9sYXRlUmlnaHQsIGNvbmZpZy5tYXApO1xuICB9O1xufTtcblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIGlucHV0TWluLCBpbnB1dE1heCwgb3V0cHV0TWluLCBvdXRwdXRNYXgsIGVhc2luZywgZXh0cmFwb2xhdGVMZWZ0LCBleHRyYXBvbGF0ZVJpZ2h0LCBtYXApIHtcbiAgbGV0IHJlc3VsdCA9IG1hcCA/IG1hcChpbnB1dCkgOiBpbnB1dDtcblxuICBpZiAocmVzdWx0IDwgaW5wdXRNaW4pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSAnaWRlbnRpdHknKSByZXR1cm4gcmVzdWx0O2Vsc2UgaWYgKGV4dHJhcG9sYXRlTGVmdCA9PT0gJ2NsYW1wJykgcmVzdWx0ID0gaW5wdXRNaW47XG4gIH1cblxuICBpZiAocmVzdWx0ID4gaW5wdXRNYXgpIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVSaWdodCA9PT0gJ2lkZW50aXR5JykgcmV0dXJuIHJlc3VsdDtlbHNlIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSAnY2xhbXAnKSByZXN1bHQgPSBpbnB1dE1heDtcbiAgfVxuXG4gIGlmIChvdXRwdXRNaW4gPT09IG91dHB1dE1heCkgcmV0dXJuIG91dHB1dE1pbjtcbiAgaWYgKGlucHV0TWluID09PSBpbnB1dE1heCkgcmV0dXJuIGlucHV0IDw9IGlucHV0TWluID8gb3V0cHV0TWluIDogb3V0cHV0TWF4O1xuICBpZiAoaW5wdXRNaW4gPT09IC1JbmZpbml0eSkgcmVzdWx0ID0gLXJlc3VsdDtlbHNlIGlmIChpbnB1dE1heCA9PT0gSW5maW5pdHkpIHJlc3VsdCA9IHJlc3VsdCAtIGlucHV0TWluO2Vsc2UgcmVzdWx0ID0gKHJlc3VsdCAtIGlucHV0TWluKSAvIChpbnB1dE1heCAtIGlucHV0TWluKTtcbiAgcmVzdWx0ID0gZWFzaW5nKHJlc3VsdCk7XG4gIGlmIChvdXRwdXRNaW4gPT09IC1JbmZpbml0eSkgcmVzdWx0ID0gLXJlc3VsdDtlbHNlIGlmIChvdXRwdXRNYXggPT09IEluZmluaXR5KSByZXN1bHQgPSByZXN1bHQgKyBvdXRwdXRNaW47ZWxzZSByZXN1bHQgPSByZXN1bHQgKiAob3V0cHV0TWF4IC0gb3V0cHV0TWluKSArIG91dHB1dE1pbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgaW5wdXRSYW5nZS5sZW5ndGggLSAxOyArK2kpIGlmIChpbnB1dFJhbmdlW2ldID49IGlucHV0KSBicmVhaztcblxuICByZXR1cm4gaSAtIDE7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmNvbnN0ICRnZXQgPSBTeW1ib2wuZm9yKCdGbHVpZFZhbHVlLmdldCcpO1xuY29uc3QgJG9ic2VydmVycyA9IFN5bWJvbC5mb3IoJ0ZsdWlkVmFsdWUub2JzZXJ2ZXJzJyk7XG5cbmNvbnN0IGhhc0ZsdWlkVmFsdWUgPSBhcmcgPT4gQm9vbGVhbihhcmcgJiYgYXJnWyRnZXRdKTtcblxuY29uc3QgZ2V0Rmx1aWRWYWx1ZSA9IGFyZyA9PiBhcmcgJiYgYXJnWyRnZXRdID8gYXJnWyRnZXRdKCkgOiBhcmc7XG5cbmNvbnN0IGdldEZsdWlkT2JzZXJ2ZXJzID0gdGFyZ2V0ID0+IHRhcmdldFskb2JzZXJ2ZXJzXSB8fCBudWxsO1xuXG5mdW5jdGlvbiBjYWxsRmx1aWRPYnNlcnZlcihvYnNlcnZlciwgZXZlbnQpIHtcbiAgaWYgKG9ic2VydmVyLmV2ZW50T2JzZXJ2ZWQpIHtcbiAgICBvYnNlcnZlci5ldmVudE9ic2VydmVkKGV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBvYnNlcnZlcihldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbEZsdWlkT2JzZXJ2ZXJzKHRhcmdldCwgZXZlbnQpIHtcbiAgbGV0IG9ic2VydmVycyA9IHRhcmdldFskb2JzZXJ2ZXJzXTtcblxuICBpZiAob2JzZXJ2ZXJzKSB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgY2FsbEZsdWlkT2JzZXJ2ZXIob2JzZXJ2ZXIsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxuXG5jbGFzcyBGbHVpZFZhbHVlIHtcbiAgY29uc3RydWN0b3IoZ2V0KSB7XG4gICAgdGhpc1skZ2V0XSA9IHZvaWQgMDtcbiAgICB0aGlzWyRvYnNlcnZlcnNdID0gdm9pZCAwO1xuXG4gICAgaWYgKCFnZXQgJiYgIShnZXQgPSB0aGlzLmdldCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdVbmtub3duIGdldHRlcicpO1xuICAgIH1cblxuICAgIHNldEZsdWlkR2V0dGVyKHRoaXMsIGdldCk7XG4gIH1cblxufVxuXG5jb25zdCBzZXRGbHVpZEdldHRlciA9ICh0YXJnZXQsIGdldCkgPT4gc2V0SGlkZGVuKHRhcmdldCwgJGdldCwgZ2V0KTtcblxuZnVuY3Rpb24gYWRkRmx1aWRPYnNlcnZlcih0YXJnZXQsIG9ic2VydmVyKSB7XG4gIGlmICh0YXJnZXRbJGdldF0pIHtcbiAgICBsZXQgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuXG4gICAgaWYgKCFvYnNlcnZlcnMpIHtcbiAgICAgIHNldEhpZGRlbih0YXJnZXQsICRvYnNlcnZlcnMsIG9ic2VydmVycyA9IG5ldyBTZXQoKSk7XG4gICAgfVxuXG4gICAgaWYgKCFvYnNlcnZlcnMuaGFzKG9ic2VydmVyKSkge1xuICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7XG5cbiAgICAgIGlmICh0YXJnZXQub2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgICB0YXJnZXQub2JzZXJ2ZXJBZGRlZChvYnNlcnZlcnMuc2l6ZSwgb2JzZXJ2ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYnNlcnZlcjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRmx1aWRPYnNlcnZlcih0YXJnZXQsIG9ic2VydmVyKSB7XG4gIGxldCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG5cbiAgaWYgKG9ic2VydmVycyAmJiBvYnNlcnZlcnMuaGFzKG9ic2VydmVyKSkge1xuICAgIGNvbnN0IGNvdW50ID0gb2JzZXJ2ZXJzLnNpemUgLSAxO1xuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBvYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0WyRvYnNlcnZlcnNdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZCkge1xuICAgICAgdGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZChjb3VudCwgb2JzZXJ2ZXIpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzZXRIaWRkZW4gPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgdmFsdWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5jb25zdCBudW1iZXJSZWdleCA9IC9bK1xcLV0/KD86MHxbMS05XVxcZCopKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZztcbmNvbnN0IGNvbG9yUmVnZXggPSAvKCMoPzpbMC05YS1mXXsyfSl7Miw0fXwoI1swLTlhLWZdezN9KXwocmdifGhzbClhP1xcKCgtP1xcZCslP1ssXFxzXSspezIsM31cXHMqW1xcZFxcLl0rJT9cXCkpL2dpO1xuY29uc3QgdW5pdFJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7bnVtYmVyUmVnZXguc291cmNlfSkoJXxbYS16XSspYCwgJ2knKTtcbmNvbnN0IHJnYmFSZWdleCA9IC9yZ2JhXFwoKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspXFwpL2dpO1xuY29uc3QgY3NzVmFyaWFibGVSZWdleCA9IC92YXJcXCgoLS1bYS16QS1aMC05LV9dKyksPyA/KFthLXpBLVowLTkgKCklIy4sLV0rKT9cXCkvO1xuXG5jb25zdCB2YXJpYWJsZVRvUmdiYSA9IGlucHV0ID0+IHtcbiAgY29uc3QgW3Rva2VuLCBmYWxsYmFja10gPSBwYXJzZUNTU1ZhcmlhYmxlKGlucHV0KTtcblxuICBpZiAoIXRva2VuIHx8IGlzU1NSKCkpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCB2YWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSh0b2tlbik7XG5cbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChmYWxsYmFjayAmJiBmYWxsYmFjay5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgY29uc3QgX3ZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGZhbGxiYWNrKTtcblxuICAgIGlmIChfdmFsdWUpIHtcbiAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2sgJiYgY3NzVmFyaWFibGVSZWdleC50ZXN0KGZhbGxiYWNrKSkge1xuICAgIHJldHVybiB2YXJpYWJsZVRvUmdiYShmYWxsYmFjayk7XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2spIHtcbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIH1cblxuICByZXR1cm4gaW5wdXQ7XG59O1xuXG5jb25zdCBwYXJzZUNTU1ZhcmlhYmxlID0gY3VycmVudCA9PiB7XG4gIGNvbnN0IG1hdGNoID0gY3NzVmFyaWFibGVSZWdleC5leGVjKGN1cnJlbnQpO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gWyxdO1xuICBjb25zdCBbLCB0b2tlbiwgZmFsbGJhY2tdID0gbWF0Y2g7XG4gIHJldHVybiBbdG9rZW4sIGZhbGxiYWNrXTtcbn07XG5cbmxldCBuYW1lZENvbG9yUmVnZXg7XG5cbmNvbnN0IHJnYmFSb3VuZCA9IChfLCBwMSwgcDIsIHAzLCBwNCkgPT4gYHJnYmEoJHtNYXRoLnJvdW5kKHAxKX0sICR7TWF0aC5yb3VuZChwMil9LCAke01hdGgucm91bmQocDMpfSwgJHtwNH0pYDtcblxuY29uc3QgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yID0gY29uZmlnID0+IHtcbiAgaWYgKCFuYW1lZENvbG9yUmVnZXgpIG5hbWVkQ29sb3JSZWdleCA9IGNvbG9ycyQxID8gbmV3IFJlZ0V4cChgKCR7T2JqZWN0LmtleXMoY29sb3JzJDEpLmpvaW4oJ3wnKX0pKD8hXFxcXHcpYCwgJ2cnKSA6IC9eXFxiJC87XG4gIGNvbnN0IG91dHB1dCA9IGNvbmZpZy5vdXRwdXQubWFwKHZhbHVlID0+IHtcbiAgICByZXR1cm4gZ2V0Rmx1aWRWYWx1ZSh2YWx1ZSkucmVwbGFjZShjc3NWYXJpYWJsZVJlZ2V4LCB2YXJpYWJsZVRvUmdiYSkucmVwbGFjZShjb2xvclJlZ2V4LCBjb2xvclRvUmdiYSkucmVwbGFjZShuYW1lZENvbG9yUmVnZXgsIGNvbG9yVG9SZ2JhKTtcbiAgfSk7XG4gIGNvbnN0IGtleWZyYW1lcyA9IG91dHB1dC5tYXAodmFsdWUgPT4gdmFsdWUubWF0Y2gobnVtYmVyUmVnZXgpLm1hcChOdW1iZXIpKTtcbiAgY29uc3Qgb3V0cHV0UmFuZ2VzID0ga2V5ZnJhbWVzWzBdLm1hcCgoXywgaSkgPT4ga2V5ZnJhbWVzLm1hcCh2YWx1ZXMgPT4ge1xuICAgIGlmICghKGkgaW4gdmFsdWVzKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBhcml0eSBvZiBlYWNoIFwib3V0cHV0XCIgdmFsdWUgbXVzdCBiZSBlcXVhbCcpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXNbaV07XG4gIH0pKTtcbiAgY29uc3QgaW50ZXJwb2xhdG9ycyA9IG91dHB1dFJhbmdlcy5tYXAob3V0cHV0ID0+IGNyZWF0ZUludGVycG9sYXRvcihfZXh0ZW5kcyh7fSwgY29uZmlnLCB7XG4gICAgb3V0cHV0XG4gIH0pKSk7XG4gIHJldHVybiBpbnB1dCA9PiB7XG4gICAgdmFyIF9vdXRwdXQkZmluZDtcblxuICAgIGNvbnN0IG1pc3NpbmdVbml0ID0gIXVuaXRSZWdleC50ZXN0KG91dHB1dFswXSkgJiYgKChfb3V0cHV0JGZpbmQgPSBvdXRwdXQuZmluZCh2YWx1ZSA9PiB1bml0UmVnZXgudGVzdCh2YWx1ZSkpKSA9PSBudWxsID8gdm9pZCAwIDogX291dHB1dCRmaW5kLnJlcGxhY2UobnVtYmVyUmVnZXgsICcnKSk7XG4gICAgbGV0IGkgPSAwO1xuICAgIHJldHVybiBvdXRwdXRbMF0ucmVwbGFjZShudW1iZXJSZWdleCwgKCkgPT4gYCR7aW50ZXJwb2xhdG9yc1tpKytdKGlucHV0KX0ke21pc3NpbmdVbml0IHx8ICcnfWApLnJlcGxhY2UocmdiYVJlZ2V4LCByZ2JhUm91bmQpO1xuICB9O1xufTtcblxuY29uc3QgcHJlZml4ID0gJ3JlYWN0LXNwcmluZzogJztcblxuY29uc3Qgb25jZSA9IGZuID0+IHtcbiAgY29uc3QgZnVuYyA9IGZuO1xuICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3ByZWZpeH1vbmNlIHJlcXVpcmVzIGEgZnVuY3Rpb24gcGFyYW1ldGVyYCk7XG4gIH1cblxuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xufTtcblxuY29uc3Qgd2FybkludGVycG9sYXRlID0gb25jZShjb25zb2xlLndhcm4pO1xuZnVuY3Rpb24gZGVwcmVjYXRlSW50ZXJwb2xhdGUoKSB7XG4gIHdhcm5JbnRlcnBvbGF0ZShgJHtwcmVmaXh9VGhlIFwiaW50ZXJwb2xhdGVcIiBmdW5jdGlvbiBpcyBkZXByZWNhdGVkIGluIHY5ICh1c2UgXCJ0b1wiIGluc3RlYWQpYCk7XG59XG5jb25zdCB3YXJuRGlyZWN0Q2FsbCA9IG9uY2UoY29uc29sZS53YXJuKTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZURpcmVjdENhbGwoKSB7XG4gIHdhcm5EaXJlY3RDYWxsKGAke3ByZWZpeH1EaXJlY3RseSBjYWxsaW5nIHN0YXJ0IGluc3RlYWQgb2YgdXNpbmcgdGhlIGFwaSBvYmplY3QgaXMgZGVwcmVjYXRlZCBpbiB2OSAodXNlIFwiLnN0YXJ0XCIgaW5zdGVhZCksIHRoaXMgd2lsbCBiZSByZW1vdmVkIGluIGxhdGVyIDAuWC4wIHZlcnNpb25zYCk7XG59XG5cbmZ1bmN0aW9uIGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGlzLnN0cih2YWx1ZSkgJiYgKHZhbHVlWzBdID09ICcjJyB8fCAvXFxkLy50ZXN0KHZhbHVlKSB8fCAhaXNTU1IoKSAmJiBjc3NWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpIHx8IHZhbHVlIGluIChjb2xvcnMkMSB8fCB7fSkpO1xufVxuXG5jb25zdCB1c2VPbmNlID0gZWZmZWN0ID0+IHVzZUVmZmVjdChlZmZlY3QsIGVtcHR5RGVwcyk7XG5jb25zdCBlbXB0eURlcHMgPSBbXTtcblxuZnVuY3Rpb24gdXNlRm9yY2VVcGRhdGUoKSB7XG4gIGNvbnN0IHVwZGF0ZSA9IHVzZVN0YXRlKClbMV07XG4gIGNvbnN0IG1vdW50ZWQgPSB1c2VTdGF0ZShtYWtlTW91bnRlZFJlZilbMF07XG4gIHVzZU9uY2UobW91bnRlZC51bm1vdW50KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAobW91bnRlZC5jdXJyZW50KSB7XG4gICAgICB1cGRhdGUoe30pO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZU1vdW50ZWRSZWYoKSB7XG4gIGNvbnN0IG1vdW50ZWQgPSB7XG4gICAgY3VycmVudDogdHJ1ZSxcbiAgICB1bm1vdW50OiAoKSA9PiAoKSA9PiB7XG4gICAgICBtb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBtb3VudGVkO1xufVxuXG5mdW5jdGlvbiB1c2VNZW1vT25lKGdldFJlc3VsdCwgaW5wdXRzKSB7XG4gIGNvbnN0IFtpbml0aWFsXSA9IHVzZVN0YXRlKCgpID0+ICh7XG4gICAgaW5wdXRzLFxuICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgfSkpO1xuICBjb25zdCBjb21taXR0ZWQgPSB1c2VSZWYoKTtcbiAgY29uc3QgcHJldkNhY2hlID0gY29tbWl0dGVkLmN1cnJlbnQ7XG4gIGxldCBjYWNoZSA9IHByZXZDYWNoZTtcblxuICBpZiAoY2FjaGUpIHtcbiAgICBjb25zdCB1c2VDYWNoZSA9IEJvb2xlYW4oaW5wdXRzICYmIGNhY2hlLmlucHV0cyAmJiBhcmVJbnB1dHNFcXVhbChpbnB1dHMsIGNhY2hlLmlucHV0cykpO1xuXG4gICAgaWYgKCF1c2VDYWNoZSkge1xuICAgICAgY2FjaGUgPSB7XG4gICAgICAgIGlucHV0cyxcbiAgICAgICAgcmVzdWx0OiBnZXRSZXN1bHQoKVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2FjaGUgPSBpbml0aWFsO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb21taXR0ZWQuY3VycmVudCA9IGNhY2hlO1xuXG4gICAgaWYgKHByZXZDYWNoZSA9PSBpbml0aWFsKSB7XG4gICAgICBpbml0aWFsLmlucHV0cyA9IGluaXRpYWwucmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSwgW2NhY2hlXSk7XG4gIHJldHVybiBjYWNoZS5yZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGFyZUlucHV0c0VxdWFsKG5leHQsIHByZXYpIHtcbiAgaWYgKG5leHQubGVuZ3RoICE9PSBwcmV2Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuZXh0W2ldICE9PSBwcmV2W2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXYodmFsdWUpIHtcbiAgY29uc3QgcHJldlJlZiA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZXZSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZXZSZWYuY3VycmVudDtcbn1cblxuY29uc3QgdXNlTGF5b3V0RWZmZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuXG5leHBvcnQgeyBGbHVpZFZhbHVlLCBnbG9iYWxzIGFzIEdsb2JhbHMsIGFkZEZsdWlkT2JzZXJ2ZXIsIGNhbGxGbHVpZE9ic2VydmVyLCBjYWxsRmx1aWRPYnNlcnZlcnMsIGNvbG9yVG9SZ2JhLCBjb2xvcnMsIGNyZWF0ZUludGVycG9sYXRvciwgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLCBkZWZpbmVIaWRkZW4sIGRlcHJlY2F0ZURpcmVjdENhbGwsIGRlcHJlY2F0ZUludGVycG9sYXRlLCBlYWNoLCBlYWNoUHJvcCwgZmx1c2gsIGZsdXNoQ2FsbHMsIGZyYW1lTG9vcCwgZ2V0Rmx1aWRPYnNlcnZlcnMsIGdldEZsdWlkVmFsdWUsIGhhc0ZsdWlkVmFsdWUsIGhleDMsIGhleDQsIGhleDYsIGhleDgsIGhzbCwgaHNsYSwgaXMsIGlzQW5pbWF0ZWRTdHJpbmcsIGlzRXF1YWwsIGlzU1NSLCBub29wLCByZW1vdmVGbHVpZE9ic2VydmVyLCByZ2IsIHJnYmEsIHNldEZsdWlkR2V0dGVyLCB0b0FycmF5LCB1c2VGb3JjZVVwZGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCB1c2VNZW1vT25lLCB1c2VPbmNlLCB1c2VQcmV2IH07XG4iLCIiLCIiLCJpbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSAnQHJlYWN0LXNwcmluZy9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0ByZWFjdC1zcHJpbmcvY29yZSc7XG5pbXBvcnQgeyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBlYWNoUHJvcCwgaXMsIHRvQXJyYXksIEZsdWlkVmFsdWUsIGVhY2gsIGdldEZsdWlkVmFsdWUsIGhhc0ZsdWlkVmFsdWUsIGFkZEZsdWlkT2JzZXJ2ZXIsIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsIGNhbGxGbHVpZE9ic2VydmVycywgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLCBjb2xvcnMgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3NoYXJlZCc7XG5pbXBvcnQgeyBBbmltYXRlZE9iamVjdCwgY3JlYXRlSG9zdCB9IGZyb20gJ0ByZWFjdC1zcHJpbmcvYW5pbWF0ZWQnO1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuY29uc3QgX2V4Y2x1ZGVkJDIgPSBbXCJzdHlsZVwiLCBcImNoaWxkcmVuXCIsIFwic2Nyb2xsVG9wXCIsIFwic2Nyb2xsTGVmdFwiXTtcbmNvbnN0IGlzQ3VzdG9tUHJvcFJFID0gL14tLS87XG5cbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICFpc0N1c3RvbVByb3BSRS50ZXN0KG5hbWUpICYmICEoaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSkgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgcmV0dXJuICgnJyArIHZhbHVlKS50cmltKCk7XG59XG5cbmNvbnN0IGF0dHJpYnV0ZUNhY2hlID0ge307XG5mdW5jdGlvbiBhcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcykge1xuICBpZiAoIWluc3RhbmNlLm5vZGVUeXBlIHx8ICFpbnN0YW5jZS5zZXRBdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBpc0ZpbHRlckVsZW1lbnQgPSBpbnN0YW5jZS5ub2RlTmFtZSA9PT0gJ2ZpbHRlcicgfHwgaW5zdGFuY2UucGFyZW50Tm9kZSAmJiBpbnN0YW5jZS5wYXJlbnROb2RlLm5vZGVOYW1lID09PSAnZmlsdGVyJztcblxuICBjb25zdCBfcmVmID0gcHJvcHMsXG4gICAgICAgIHtcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICBzY3JvbGxUb3AsXG4gICAgc2Nyb2xsTGVmdFxuICB9ID0gX3JlZixcbiAgICAgICAgYXR0cmlidXRlcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIF9leGNsdWRlZCQyKTtcblxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGF0dHJpYnV0ZXMpO1xuICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLm1hcChuYW1lID0+IGlzRmlsdGVyRWxlbWVudCB8fCBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUobmFtZSkgPyBuYW1lIDogYXR0cmlidXRlQ2FjaGVbbmFtZV0gfHwgKGF0dHJpYnV0ZUNhY2hlW25hbWVdID0gbmFtZS5yZXBsYWNlKC8oW0EtWl0pL2csIG4gPT4gJy0nICsgbi50b0xvd2VyQ2FzZSgpKSkpO1xuXG4gIGlmIChjaGlsZHJlbiAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2UudGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcbiAgfVxuXG4gIGZvciAobGV0IG5hbWUgaW4gc3R5bGUpIHtcbiAgICBpZiAoc3R5bGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCBzdHlsZVtuYW1lXSk7XG5cbiAgICAgIGlmIChpc0N1c3RvbVByb3BSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmFtZXMuZm9yRWFjaCgobmFtZSwgaSkgPT4ge1xuICAgIGluc3RhbmNlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZXNbaV0pO1xuICB9KTtcblxuICBpZiAoc2Nyb2xsVG9wICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gIH1cblxuICBpZiAoc2Nyb2xsTGVmdCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gIH1cbn1cbmxldCBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRSb3dFbmQ6IHRydWUsXG4gIGdyaWRSb3dTcGFuOiB0cnVlLFxuICBncmlkUm93U3RhcnQ6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gIGdyaWRDb2x1bW5TcGFuOiB0cnVlLFxuICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcblxuY29uc3QgcHJlZml4S2V5ID0gKHByZWZpeCwga2V5KSA9PiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xuXG5jb25zdCBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01zJywgJ01veicsICdPJ107XG5pc1VuaXRsZXNzTnVtYmVyID0gT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgcHJlZml4ZXMuZm9yRWFjaChwcmVmaXggPT4gYWNjW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGFjY1twcm9wXSk7XG4gIHJldHVybiBhY2M7XG59LCBpc1VuaXRsZXNzTnVtYmVyKTtcblxuY29uc3QgX2V4Y2x1ZGVkJDEgPSBbXCJ4XCIsIFwieVwiLCBcInpcIl07XG5jb25zdCBkb21UcmFuc2Zvcm1zID0gL14obWF0cml4fHRyYW5zbGF0ZXxzY2FsZXxyb3RhdGV8c2tldykvO1xuY29uc3QgcHhUcmFuc2Zvcm1zID0gL14odHJhbnNsYXRlKS87XG5jb25zdCBkZWdUcmFuc2Zvcm1zID0gL14ocm90YXRlfHNrZXcpLztcblxuY29uc3QgYWRkVW5pdCA9ICh2YWx1ZSwgdW5pdCkgPT4gaXMubnVtKHZhbHVlKSAmJiB2YWx1ZSAhPT0gMCA/IHZhbHVlICsgdW5pdCA6IHZhbHVlO1xuXG5jb25zdCBpc1ZhbHVlSWRlbnRpdHkgPSAodmFsdWUsIGlkKSA9PiBpcy5hcnIodmFsdWUpID8gdmFsdWUuZXZlcnkodiA9PiBpc1ZhbHVlSWRlbnRpdHkodiwgaWQpKSA6IGlzLm51bSh2YWx1ZSkgPyB2YWx1ZSA9PT0gaWQgOiBwYXJzZUZsb2F0KHZhbHVlKSA9PT0gaWQ7XG5cbmNsYXNzIEFuaW1hdGVkU3R5bGUgZXh0ZW5kcyBBbmltYXRlZE9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB6XG4gICAgfSA9IF9yZWYsXG4gICAgICAgIHN0eWxlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkJDEpO1xuXG4gICAgY29uc3QgaW5wdXRzID0gW107XG4gICAgY29uc3QgdHJhbnNmb3JtcyA9IFtdO1xuXG4gICAgaWYgKHggfHwgeSB8fCB6KSB7XG4gICAgICBpbnB1dHMucHVzaChbeCB8fCAwLCB5IHx8IDAsIHogfHwgMF0pO1xuICAgICAgdHJhbnNmb3Jtcy5wdXNoKHh5eiA9PiBbYHRyYW5zbGF0ZTNkKCR7eHl6Lm1hcCh2ID0+IGFkZFVuaXQodiwgJ3B4JykpLmpvaW4oJywnKX0pYCwgaXNWYWx1ZUlkZW50aXR5KHh5eiwgMCldKTtcbiAgICB9XG5cbiAgICBlYWNoUHJvcChzdHlsZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGlmIChrZXkgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgIGlucHV0cy5wdXNoKFt2YWx1ZSB8fCAnJ10pO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2godHJhbnNmb3JtID0+IFt0cmFuc2Zvcm0sIHRyYW5zZm9ybSA9PT0gJyddKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9tVHJhbnNmb3Jtcy50ZXN0KGtleSkpIHtcbiAgICAgICAgZGVsZXRlIHN0eWxlW2tleV07XG4gICAgICAgIGlmIChpcy51bmQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHVuaXQgPSBweFRyYW5zZm9ybXMudGVzdChrZXkpID8gJ3B4JyA6IGRlZ1RyYW5zZm9ybXMudGVzdChrZXkpID8gJ2RlZycgOiAnJztcbiAgICAgICAgaW5wdXRzLnB1c2godG9BcnJheSh2YWx1ZSkpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goa2V5ID09PSAncm90YXRlM2QnID8gKFt4LCB5LCB6LCBkZWddKSA9PiBbYHJvdGF0ZTNkKCR7eH0sJHt5fSwke3p9LCR7YWRkVW5pdChkZWcsIHVuaXQpfSlgLCBpc1ZhbHVlSWRlbnRpdHkoZGVnLCAwKV0gOiBpbnB1dCA9PiBbYCR7a2V5fSgke2lucHV0Lm1hcCh2ID0+IGFkZFVuaXQodiwgdW5pdCkpLmpvaW4oJywnKX0pYCwgaXNWYWx1ZUlkZW50aXR5KGlucHV0LCBrZXkuc3RhcnRzV2l0aCgnc2NhbGUnKSA/IDEgOiAwKV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlucHV0cy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IG5ldyBGbHVpZFRyYW5zZm9ybShpbnB1dHMsIHRyYW5zZm9ybXMpO1xuICAgIH1cblxuICAgIHN1cGVyKHN0eWxlKTtcbiAgfVxuXG59XG5cbmNsYXNzIEZsdWlkVHJhbnNmb3JtIGV4dGVuZHMgRmx1aWRWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKGlucHV0cywgdHJhbnNmb3Jtcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG4gIH1cblxuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlIHx8ICh0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpKTtcbiAgfVxuXG4gIF9nZXQoKSB7XG4gICAgbGV0IHRyYW5zZm9ybSA9ICcnO1xuICAgIGxldCBpZGVudGl0eSA9IHRydWU7XG4gICAgZWFjaCh0aGlzLmlucHV0cywgKGlucHV0LCBpKSA9PiB7XG4gICAgICBjb25zdCBhcmcxID0gZ2V0Rmx1aWRWYWx1ZShpbnB1dFswXSk7XG4gICAgICBjb25zdCBbdCwgaWRdID0gdGhpcy50cmFuc2Zvcm1zW2ldKGlzLmFycihhcmcxKSA/IGFyZzEgOiBpbnB1dC5tYXAoZ2V0Rmx1aWRWYWx1ZSkpO1xuICAgICAgdHJhbnNmb3JtICs9ICcgJyArIHQ7XG4gICAgICBpZGVudGl0eSA9IGlkZW50aXR5ICYmIGlkO1xuICAgIH0pO1xuICAgIHJldHVybiBpZGVudGl0eSA/ICdub25lJyA6IHRyYW5zZm9ybTtcbiAgfVxuXG4gIG9ic2VydmVyQWRkZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMSkgZWFjaCh0aGlzLmlucHV0cywgaW5wdXQgPT4gZWFjaChpbnB1dCwgdmFsdWUgPT4gaGFzRmx1aWRWYWx1ZSh2YWx1ZSkgJiYgYWRkRmx1aWRPYnNlcnZlcih2YWx1ZSwgdGhpcykpKTtcbiAgfVxuXG4gIG9ic2VydmVyUmVtb3ZlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAwKSBlYWNoKHRoaXMuaW5wdXRzLCBpbnB1dCA9PiBlYWNoKGlucHV0LCB2YWx1ZSA9PiBoYXNGbHVpZFZhbHVlKHZhbHVlKSAmJiByZW1vdmVGbHVpZE9ic2VydmVyKHZhbHVlLCB0aGlzKSkpO1xuICB9XG5cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09ICdjaGFuZ2UnKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIGV2ZW50KTtcbiAgfVxuXG59XG5cbmNvbnN0IHByaW1pdGl2ZXMgPSBbJ2EnLCAnYWJicicsICdhZGRyZXNzJywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdhdWRpbycsICdiJywgJ2Jhc2UnLCAnYmRpJywgJ2JkbycsICdiaWcnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYW52YXMnLCAnY2FwdGlvbicsICdjaXRlJywgJ2NvZGUnLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RhdGEnLCAnZGF0YWxpc3QnLCAnZGQnLCAnZGVsJywgJ2RldGFpbHMnLCAnZGZuJywgJ2RpYWxvZycsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW0nLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaScsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lucycsICdrYmQnLCAna2V5Z2VuJywgJ2xhYmVsJywgJ2xlZ2VuZCcsICdsaScsICdsaW5rJywgJ21haW4nLCAnbWFwJywgJ21hcmsnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ21ldGVyJywgJ25hdicsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAnb3B0Z3JvdXAnLCAnb3B0aW9uJywgJ291dHB1dCcsICdwJywgJ3BhcmFtJywgJ3BpY3R1cmUnLCAncHJlJywgJ3Byb2dyZXNzJywgJ3EnLCAncnAnLCAncnQnLCAncnVieScsICdzJywgJ3NhbXAnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NtYWxsJywgJ3NvdXJjZScsICdzcGFuJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInLCAnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2RlZnMnLCAnZWxsaXBzZScsICdmb3JlaWduT2JqZWN0JywgJ2cnLCAnaW1hZ2UnLCAnbGluZScsICdsaW5lYXJHcmFkaWVudCcsICdtYXNrJywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdmcnLCAndGV4dCcsICd0c3BhbiddO1xuXG5jb25zdCBfZXhjbHVkZWQgPSBbXCJzY3JvbGxUb3BcIiwgXCJzY3JvbGxMZWZ0XCJdO1xuR2xvYmFscy5hc3NpZ24oe1xuICBiYXRjaGVkVXBkYXRlczogdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgY29sb3JzXG59KTtcbmNvbnN0IGhvc3QgPSBjcmVhdGVIb3N0KHByaW1pdGl2ZXMsIHtcbiAgYXBwbHlBbmltYXRlZFZhbHVlcyxcbiAgY3JlYXRlQW5pbWF0ZWRTdHlsZTogc3R5bGUgPT4gbmV3IEFuaW1hdGVkU3R5bGUoc3R5bGUpLFxuICBnZXRDb21wb25lbnRQcm9wczogX3JlZiA9PiB7XG4gICAgbGV0IHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICAgIHJldHVybiBwcm9wcztcbiAgfVxufSk7XG5jb25zdCBhbmltYXRlZCA9IGhvc3QuYW5pbWF0ZWQ7XG5cbmV4cG9ydCB7IGFuaW1hdGVkIGFzIGEsIGFuaW1hdGVkIH07XG4iLCJleHBvcnQgeyBDIGFzIENvbmZpZ1Jlc29sdmVyTWFwLCBFIGFzIEVuZ2luZU1hcCwgZSBhcyBkcmFnQWN0aW9uLCBoIGFzIGhvdmVyQWN0aW9uLCBtIGFzIG1vdmVBY3Rpb24sIHAgYXMgcGluY2hBY3Rpb24sIHIgYXMgcmVnaXN0ZXJBY3Rpb24sIHMgYXMgc2Nyb2xsQWN0aW9uLCB3IGFzIHdoZWVsQWN0aW9uIH0gZnJvbSAnLi4vLi4vZGlzdC9hY3Rpb25zLWZkMDMyYTI2LmVzbS5qcyc7XG5pbXBvcnQgJy4uLy4uL2Rpc3QvbWF0aHMtYjJhMjEwZjQuZXNtLmpzJztcbiIsImltcG9ydCB7IFYsIGMgYXMgY29tcHV0ZVJ1YmJlcmJhbmQgfSBmcm9tICcuL21hdGhzLWIyYTIxMGY0LmVzbS5qcyc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG5cbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHtcbiAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5jb25zdCBFVkVOVF9UWVBFX01BUCA9IHtcbiAgcG9pbnRlcjoge1xuICAgIHN0YXJ0OiAnZG93bicsXG4gICAgY2hhbmdlOiAnbW92ZScsXG4gICAgZW5kOiAndXAnXG4gIH0sXG4gIG1vdXNlOiB7XG4gICAgc3RhcnQ6ICdkb3duJyxcbiAgICBjaGFuZ2U6ICdtb3ZlJyxcbiAgICBlbmQ6ICd1cCdcbiAgfSxcbiAgdG91Y2g6IHtcbiAgICBzdGFydDogJ3N0YXJ0JyxcbiAgICBjaGFuZ2U6ICdtb3ZlJyxcbiAgICBlbmQ6ICdlbmQnXG4gIH0sXG4gIGdlc3R1cmU6IHtcbiAgICBzdGFydDogJ3N0YXJ0JyxcbiAgICBjaGFuZ2U6ICdjaGFuZ2UnLFxuICAgIGVuZDogJ2VuZCdcbiAgfVxufTtcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgaWYgKCFzdHJpbmcpIHJldHVybiAnJztcbiAgcmV0dXJuIHN0cmluZ1swXS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5mdW5jdGlvbiB0b0hhbmRsZXJQcm9wKGRldmljZSwgYWN0aW9uID0gJycsIGNhcHR1cmUgPSBmYWxzZSkge1xuICBjb25zdCBkZXZpY2VQcm9wcyA9IEVWRU5UX1RZUEVfTUFQW2RldmljZV07XG4gIGNvbnN0IGFjdGlvbktleSA9IGRldmljZVByb3BzID8gZGV2aWNlUHJvcHNbYWN0aW9uXSB8fCBhY3Rpb24gOiBhY3Rpb247XG4gIHJldHVybiAnb24nICsgY2FwaXRhbGl6ZShkZXZpY2UpICsgY2FwaXRhbGl6ZShhY3Rpb25LZXkpICsgKGNhcHR1cmUgPyAnQ2FwdHVyZScgOiAnJyk7XG59XG5mdW5jdGlvbiB0b0RvbUV2ZW50VHlwZShkZXZpY2UsIGFjdGlvbiA9ICcnKSB7XG4gIGNvbnN0IGRldmljZVByb3BzID0gRVZFTlRfVFlQRV9NQVBbZGV2aWNlXTtcbiAgY29uc3QgYWN0aW9uS2V5ID0gZGV2aWNlUHJvcHMgPyBkZXZpY2VQcm9wc1thY3Rpb25dIHx8IGFjdGlvbiA6IGFjdGlvbjtcbiAgcmV0dXJuIGRldmljZSArIGFjdGlvbktleTtcbn1cbmZ1bmN0aW9uIGlzVG91Y2goZXZlbnQpIHtcbiAgcmV0dXJuICd0b3VjaGVzJyBpbiBldmVudDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudFRhcmdldFRvdWNoTGlzdChldmVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShldmVudC50b3VjaGVzKS5maWx0ZXIoZSA9PiB7XG4gICAgdmFyIF9ldmVudCRjdXJyZW50VGFyZ2V0LCBfZXZlbnQkY3VycmVudFRhcmdldCQ7XG5cbiAgICByZXR1cm4gZS50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgfHwgKChfZXZlbnQkY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQpID09PSBudWxsIHx8IF9ldmVudCRjdXJyZW50VGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2V2ZW50JGN1cnJlbnRUYXJnZXQkID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQuY29udGFpbnMpID09PSBudWxsIHx8IF9ldmVudCRjdXJyZW50VGFyZ2V0JCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JGN1cnJlbnRUYXJnZXQkLmNhbGwoX2V2ZW50JGN1cnJlbnRUYXJnZXQsIGUudGFyZ2V0KSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaExpc3QoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcgPyBldmVudC5jaGFuZ2VkVG91Y2hlcyA6IGV2ZW50LnRhcmdldFRvdWNoZXM7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGlzVG91Y2goZXZlbnQpID8gZ2V0VG91Y2hMaXN0KGV2ZW50KVswXSA6IGV2ZW50O1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZUFuZ2xlKFAxLCBQMikge1xuICBjb25zdCBkeCA9IFAyLmNsaWVudFggLSBQMS5jbGllbnRYO1xuICBjb25zdCBkeSA9IFAyLmNsaWVudFkgLSBQMS5jbGllbnRZO1xuICBjb25zdCBjeCA9IChQMi5jbGllbnRYICsgUDEuY2xpZW50WCkgLyAyO1xuICBjb25zdCBjeSA9IChQMi5jbGllbnRZICsgUDEuY2xpZW50WSkgLyAyO1xuICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3QoZHgsIGR5KTtcbiAgY29uc3QgYW5nbGUgPSAtKE1hdGguYXRhbjIoZHgsIGR5KSAqIDE4MCkgLyBNYXRoLlBJO1xuICBjb25zdCBvcmlnaW4gPSBbY3gsIGN5XTtcbiAgcmV0dXJuIHtcbiAgICBhbmdsZSxcbiAgICBkaXN0YW5jZSxcbiAgICBvcmlnaW5cbiAgfTtcbn1cbmZ1bmN0aW9uIHRvdWNoSWRzKGV2ZW50KSB7XG4gIHJldHVybiBnZXRDdXJyZW50VGFyZ2V0VG91Y2hMaXN0KGV2ZW50KS5tYXAodG91Y2ggPT4gdG91Y2guaWRlbnRpZmllcik7XG59XG5mdW5jdGlvbiB0b3VjaERpc3RhbmNlQW5nbGUoZXZlbnQsIGlkcykge1xuICBjb25zdCBbUDEsIFAyXSA9IEFycmF5LmZyb20oZXZlbnQudG91Y2hlcykuZmlsdGVyKHRvdWNoID0+IGlkcy5pbmNsdWRlcyh0b3VjaC5pZGVudGlmaWVyKSk7XG4gIHJldHVybiBkaXN0YW5jZUFuZ2xlKFAxLCBQMik7XG59XG5mdW5jdGlvbiBwb2ludGVySWQoZXZlbnQpIHtcbiAgY29uc3QgdmFsdWVFdmVudCA9IGdldFZhbHVlRXZlbnQoZXZlbnQpO1xuICByZXR1cm4gaXNUb3VjaChldmVudCkgPyB2YWx1ZUV2ZW50LmlkZW50aWZpZXIgOiB2YWx1ZUV2ZW50LnBvaW50ZXJJZDtcbn1cbmZ1bmN0aW9uIHBvaW50ZXJWYWx1ZXMoZXZlbnQpIHtcbiAgY29uc3QgdmFsdWVFdmVudCA9IGdldFZhbHVlRXZlbnQoZXZlbnQpO1xuICByZXR1cm4gW3ZhbHVlRXZlbnQuY2xpZW50WCwgdmFsdWVFdmVudC5jbGllbnRZXTtcbn1cbmNvbnN0IExJTkVfSEVJR0hUID0gNDA7XG5jb25zdCBQQUdFX0hFSUdIVCA9IDgwMDtcbmZ1bmN0aW9uIHdoZWVsVmFsdWVzKGV2ZW50KSB7XG4gIGxldCB7XG4gICAgZGVsdGFYLFxuICAgIGRlbHRhWSxcbiAgICBkZWx0YU1vZGVcbiAgfSA9IGV2ZW50O1xuXG4gIGlmIChkZWx0YU1vZGUgPT09IDEpIHtcbiAgICBkZWx0YVggKj0gTElORV9IRUlHSFQ7XG4gICAgZGVsdGFZICo9IExJTkVfSEVJR0hUO1xuICB9IGVsc2UgaWYgKGRlbHRhTW9kZSA9PT0gMikge1xuICAgIGRlbHRhWCAqPSBQQUdFX0hFSUdIVDtcbiAgICBkZWx0YVkgKj0gUEFHRV9IRUlHSFQ7XG4gIH1cblxuICByZXR1cm4gW2RlbHRhWCwgZGVsdGFZXTtcbn1cbmZ1bmN0aW9uIHNjcm9sbFZhbHVlcyhldmVudCkge1xuICB2YXIgX3JlZiwgX3JlZjI7XG5cbiAgY29uc3Qge1xuICAgIHNjcm9sbFgsXG4gICAgc2Nyb2xsWSxcbiAgICBzY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcFxuICB9ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgcmV0dXJuIFsoX3JlZiA9IHNjcm9sbFggIT09IG51bGwgJiYgc2Nyb2xsWCAhPT0gdm9pZCAwID8gc2Nyb2xsWCA6IHNjcm9sbExlZnQpICE9PSBudWxsICYmIF9yZWYgIT09IHZvaWQgMCA/IF9yZWYgOiAwLCAoX3JlZjIgPSBzY3JvbGxZICE9PSBudWxsICYmIHNjcm9sbFkgIT09IHZvaWQgMCA/IHNjcm9sbFkgOiBzY3JvbGxUb3ApICE9PSBudWxsICYmIF9yZWYyICE9PSB2b2lkIDAgPyBfcmVmMiA6IDBdO1xufVxuZnVuY3Rpb24gZ2V0RXZlbnREZXRhaWxzKGV2ZW50KSB7XG4gIGNvbnN0IHBheWxvYWQgPSB7fTtcbiAgaWYgKCdidXR0b25zJyBpbiBldmVudCkgcGF5bG9hZC5idXR0b25zID0gZXZlbnQuYnV0dG9ucztcblxuICBpZiAoJ3NoaWZ0S2V5JyBpbiBldmVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoaWZ0S2V5LFxuICAgICAgYWx0S2V5LFxuICAgICAgbWV0YUtleSxcbiAgICAgIGN0cmxLZXlcbiAgICB9ID0gZXZlbnQ7XG4gICAgT2JqZWN0LmFzc2lnbihwYXlsb2FkLCB7XG4gICAgICBzaGlmdEtleSxcbiAgICAgIGFsdEtleSxcbiAgICAgIG1ldGFLZXksXG4gICAgICBjdHJsS2V5XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gY2FsbCh2LCAuLi5hcmdzKSB7XG4gIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2KC4uLmFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2O1xuICB9XG59XG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIGNoYWluKC4uLmZucykge1xuICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG5vb3A7XG4gIGlmIChmbnMubGVuZ3RoID09PSAxKSByZXR1cm4gZm5zWzBdO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGxldCByZXN1bHQ7XG5cbiAgICBmb3IgKGNvbnN0IGZuIG9mIGZucykge1xuICAgICAgcmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbmZ1bmN0aW9uIGFzc2lnbkRlZmF1bHQodmFsdWUsIGZhbGxiYWNrKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBmYWxsYmFjaywgdmFsdWUgfHwge30pO1xufVxuXG5jb25zdCBCRUZPUkVfTEFTVF9LSU5FTUFUSUNTX0RFTEFZID0gMzI7XG5jbGFzcyBFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihjdHJsLCBhcmdzLCBrZXkpIHtcbiAgICB0aGlzLmN0cmwgPSBjdHJsO1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgIHRoaXMuY29tcHV0ZVZhbHVlcyhbMCwgMF0pO1xuICAgICAgdGhpcy5jb21wdXRlSW5pdGlhbCgpO1xuICAgICAgaWYgKHRoaXMuaW5pdCkgdGhpcy5pbml0KCk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmN0cmwuc3RhdGVbdGhpcy5rZXldO1xuICB9XG5cbiAgc2V0IHN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5jdHJsLnN0YXRlW3RoaXMua2V5XSA9IHN0YXRlO1xuICB9XG5cbiAgZ2V0IHNoYXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdHJsLnN0YXRlLnNoYXJlZDtcbiAgfVxuXG4gIGdldCBldmVudFN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLmN0cmwuZ2VzdHVyZUV2ZW50U3RvcmVzW3RoaXMua2V5XTtcbiAgfVxuXG4gIGdldCB0aW1lb3V0U3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3RybC5nZXN0dXJlVGltZW91dFN0b3Jlc1t0aGlzLmtleV07XG4gIH1cblxuICBnZXQgY29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmN0cmwuY29uZmlnW3RoaXMua2V5XTtcbiAgfVxuXG4gIGdldCBzaGFyZWRDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3RybC5jb25maWcuc2hhcmVkO1xuICB9XG5cbiAgZ2V0IGhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3RybC5oYW5kbGVyc1t0aGlzLmtleV07XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBzdGF0ZSxcbiAgICAgIHNoYXJlZCxcbiAgICAgIGluZ0tleSxcbiAgICAgIGFyZ3NcbiAgICB9ID0gdGhpcztcbiAgICBzaGFyZWRbaW5nS2V5XSA9IHN0YXRlLl9hY3RpdmUgPSBzdGF0ZS5hY3RpdmUgPSBzdGF0ZS5fYmxvY2tlZCA9IHN0YXRlLl9mb3JjZSA9IGZhbHNlO1xuICAgIHN0YXRlLl9zdGVwID0gW2ZhbHNlLCBmYWxzZV07XG4gICAgc3RhdGUuaW50ZW50aW9uYWwgPSBmYWxzZTtcbiAgICBzdGF0ZS5fbW92ZW1lbnQgPSBbMCwgMF07XG4gICAgc3RhdGUuX2Rpc3RhbmNlID0gWzAsIDBdO1xuICAgIHN0YXRlLl9kZWx0YSA9IFswLCAwXTtcbiAgICBzdGF0ZS5fYm91bmRzID0gW1stSW5maW5pdHksIEluZmluaXR5XSwgWy1JbmZpbml0eSwgSW5maW5pdHldXTtcbiAgICBzdGF0ZS5hcmdzID0gYXJncztcbiAgICBzdGF0ZS5heGlzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLm1lbW8gPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZWxhcHNlZFRpbWUgPSAwO1xuICAgIHN0YXRlLmRpcmVjdGlvbiA9IFswLCAwXTtcbiAgICBzdGF0ZS5kaXN0YW5jZSA9IFswLCAwXTtcbiAgICBzdGF0ZS52ZWxvY2l0eSA9IFswLCAwXTtcbiAgICBzdGF0ZS5tb3ZlbWVudCA9IFswLCAwXTtcbiAgICBzdGF0ZS5kZWx0YSA9IFswLCAwXTtcbiAgICBzdGF0ZS50aW1lU3RhbXAgPSAwO1xuICB9XG5cbiAgc3RhcnQoZXZlbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG5cbiAgICBpZiAoIXN0YXRlLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuY29tcHV0ZUluaXRpYWwoKTtcbiAgICAgIHN0YXRlLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgc3RhdGUudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3RhdGUuY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICBzdGF0ZS5sYXN0T2Zmc2V0ID0gY29uZmlnLmZyb20gPyBjYWxsKGNvbmZpZy5mcm9tLCBzdGF0ZSkgOiBzdGF0ZS5vZmZzZXQ7XG4gICAgICBzdGF0ZS5vZmZzZXQgPSBzdGF0ZS5sYXN0T2Zmc2V0O1xuICAgIH1cblxuICAgIHN0YXRlLnN0YXJ0VGltZSA9IHN0YXRlLnRpbWVTdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgfVxuXG4gIGNvbXB1dGVWYWx1ZXModmFsdWVzKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHN0YXRlLl92YWx1ZXMgPSB2YWx1ZXM7XG4gICAgc3RhdGUudmFsdWVzID0gdGhpcy5jb25maWcudHJhbnNmb3JtKHZhbHVlcyk7XG4gIH1cblxuICBjb21wdXRlSW5pdGlhbCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgc3RhdGUuX2luaXRpYWwgPSBzdGF0ZS5fdmFsdWVzO1xuICAgIHN0YXRlLmluaXRpYWwgPSBzdGF0ZS52YWx1ZXM7XG4gIH1cblxuICBjb21wdXRlKGV2ZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgc3RhdGUsXG4gICAgICBjb25maWcsXG4gICAgICBzaGFyZWRcbiAgICB9ID0gdGhpcztcbiAgICBzdGF0ZS5hcmdzID0gdGhpcy5hcmdzO1xuICAgIGxldCBkdCA9IDA7XG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIHN0YXRlLmV2ZW50ID0gZXZlbnQ7XG4gICAgICBpZiAoY29uZmlnLnByZXZlbnREZWZhdWx0ICYmIGV2ZW50LmNhbmNlbGFibGUpIHN0YXRlLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdGF0ZS50eXBlID0gZXZlbnQudHlwZTtcbiAgICAgIHNoYXJlZC50b3VjaGVzID0gdGhpcy5jdHJsLnBvaW50ZXJJZHMuc2l6ZSB8fCB0aGlzLmN0cmwudG91Y2hJZHMuc2l6ZTtcbiAgICAgIHNoYXJlZC5sb2NrZWQgPSAhIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudDtcbiAgICAgIE9iamVjdC5hc3NpZ24oc2hhcmVkLCBnZXRFdmVudERldGFpbHMoZXZlbnQpKTtcbiAgICAgIHNoYXJlZC5kb3duID0gc2hhcmVkLnByZXNzZWQgPSBzaGFyZWQuYnV0dG9ucyAlIDIgPT09IDEgfHwgc2hhcmVkLnRvdWNoZXMgPiAwO1xuICAgICAgZHQgPSBldmVudC50aW1lU3RhbXAgLSBzdGF0ZS50aW1lU3RhbXA7XG4gICAgICBzdGF0ZS50aW1lU3RhbXAgPSBldmVudC50aW1lU3RhbXA7XG4gICAgICBzdGF0ZS5lbGFwc2VkVGltZSA9IHN0YXRlLnRpbWVTdGFtcCAtIHN0YXRlLnN0YXJ0VGltZTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgX2Fic29sdXRlRGVsdGEgPSBzdGF0ZS5fZGVsdGEubWFwKE1hdGguYWJzKTtcblxuICAgICAgVi5hZGRUbyhzdGF0ZS5fZGlzdGFuY2UsIF9hYnNvbHV0ZURlbHRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBbX20wLCBfbTFdID0gc3RhdGUuX21vdmVtZW50O1xuICAgIGNvbnN0IFt0MCwgdDFdID0gY29uZmlnLnRocmVzaG9sZDtcbiAgICBjb25zdCB7XG4gICAgICBfc3RlcCxcbiAgICAgIHZhbHVlc1xuICAgIH0gPSBzdGF0ZTtcblxuICAgIGlmIChjb25maWcuaGFzQ3VzdG9tVHJhbnNmb3JtKSB7XG4gICAgICBpZiAoX3N0ZXBbMF0gPT09IGZhbHNlKSBfc3RlcFswXSA9IE1hdGguYWJzKF9tMCkgPj0gdDAgJiYgdmFsdWVzWzBdO1xuICAgICAgaWYgKF9zdGVwWzFdID09PSBmYWxzZSkgX3N0ZXBbMV0gPSBNYXRoLmFicyhfbTEpID49IHQxICYmIHZhbHVlc1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKF9zdGVwWzBdID09PSBmYWxzZSkgX3N0ZXBbMF0gPSBNYXRoLmFicyhfbTApID49IHQwICYmIE1hdGguc2lnbihfbTApICogdDA7XG4gICAgICBpZiAoX3N0ZXBbMV0gPT09IGZhbHNlKSBfc3RlcFsxXSA9IE1hdGguYWJzKF9tMSkgPj0gdDEgJiYgTWF0aC5zaWduKF9tMSkgKiB0MTtcbiAgICB9XG5cbiAgICBzdGF0ZS5pbnRlbnRpb25hbCA9IF9zdGVwWzBdICE9PSBmYWxzZSB8fCBfc3RlcFsxXSAhPT0gZmFsc2U7XG4gICAgaWYgKCFzdGF0ZS5pbnRlbnRpb25hbCkgcmV0dXJuO1xuICAgIGNvbnN0IG1vdmVtZW50ID0gWzAsIDBdO1xuXG4gICAgaWYgKGNvbmZpZy5oYXNDdXN0b21UcmFuc2Zvcm0pIHtcbiAgICAgIGNvbnN0IFt2MCwgdjFdID0gdmFsdWVzO1xuICAgICAgbW92ZW1lbnRbMF0gPSBfc3RlcFswXSAhPT0gZmFsc2UgPyB2MCAtIF9zdGVwWzBdIDogMDtcbiAgICAgIG1vdmVtZW50WzFdID0gX3N0ZXBbMV0gIT09IGZhbHNlID8gdjEgLSBfc3RlcFsxXSA6IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdmVtZW50WzBdID0gX3N0ZXBbMF0gIT09IGZhbHNlID8gX20wIC0gX3N0ZXBbMF0gOiAwO1xuICAgICAgbW92ZW1lbnRbMV0gPSBfc3RlcFsxXSAhPT0gZmFsc2UgPyBfbTEgLSBfc3RlcFsxXSA6IDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW50ZW50KSB0aGlzLmludGVudChtb3ZlbWVudCk7XG5cbiAgICBpZiAoc3RhdGUuX2FjdGl2ZSAmJiAhc3RhdGUuX2Jsb2NrZWQgfHwgc3RhdGUuYWN0aXZlKSB7XG4gICAgICBzdGF0ZS5maXJzdCA9IHN0YXRlLl9hY3RpdmUgJiYgIXN0YXRlLmFjdGl2ZTtcbiAgICAgIHN0YXRlLmxhc3QgPSAhc3RhdGUuX2FjdGl2ZSAmJiBzdGF0ZS5hY3RpdmU7XG4gICAgICBzdGF0ZS5hY3RpdmUgPSBzaGFyZWRbdGhpcy5pbmdLZXldID0gc3RhdGUuX2FjdGl2ZTtcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGlmIChzdGF0ZS5maXJzdCkge1xuICAgICAgICAgIGlmICgnYm91bmRzJyBpbiBjb25maWcpIHN0YXRlLl9ib3VuZHMgPSBjYWxsKGNvbmZpZy5ib3VuZHMsIHN0YXRlKTtcbiAgICAgICAgICBpZiAodGhpcy5zZXR1cCkgdGhpcy5zZXR1cCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUubW92ZW1lbnQgPSBtb3ZlbWVudDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNPZmZzZXQgPSBzdGF0ZS5vZmZzZXQ7XG4gICAgICAgIHRoaXMuY29tcHV0ZU9mZnNldCgpO1xuXG4gICAgICAgIGlmICghc3RhdGUubGFzdCB8fCBkdCA+IEJFRk9SRV9MQVNUX0tJTkVNQVRJQ1NfREVMQVkpIHtcbiAgICAgICAgICBzdGF0ZS5kZWx0YSA9IFYuc3ViKHN0YXRlLm9mZnNldCwgcHJldmlvdXNPZmZzZXQpO1xuICAgICAgICAgIGNvbnN0IGFic29sdXRlRGVsdGEgPSBzdGF0ZS5kZWx0YS5tYXAoTWF0aC5hYnMpO1xuICAgICAgICAgIFYuYWRkVG8oc3RhdGUuZGlzdGFuY2UsIGFic29sdXRlRGVsdGEpO1xuICAgICAgICAgIHN0YXRlLmRpcmVjdGlvbiA9IHN0YXRlLmRlbHRhLm1hcChNYXRoLnNpZ24pO1xuXG4gICAgICAgICAgaWYgKCFzdGF0ZS5maXJzdCAmJiBkdCA+IDApIHtcbiAgICAgICAgICAgIHN0YXRlLnZlbG9jaXR5ID0gW2Fic29sdXRlRGVsdGFbMF0gLyBkdCwgYWJzb2x1dGVEZWx0YVsxXSAvIGR0XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBydWJiZXJiYW5kID0gc3RhdGUuX2FjdGl2ZSA/IGNvbmZpZy5ydWJiZXJiYW5kIHx8IFswLCAwXSA6IFswLCAwXTtcbiAgICBzdGF0ZS5vZmZzZXQgPSBjb21wdXRlUnViYmVyYmFuZChzdGF0ZS5fYm91bmRzLCBzdGF0ZS5vZmZzZXQsIHJ1YmJlcmJhbmQpO1xuICAgIHRoaXMuY29tcHV0ZU1vdmVtZW50KCk7XG4gIH1cblxuICBlbWl0KCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBzaGFyZWQgPSB0aGlzLnNoYXJlZDtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIXN0YXRlLl9hY3RpdmUpIHRoaXMuY2xlYW4oKTtcbiAgICBpZiAoKHN0YXRlLl9ibG9ja2VkIHx8ICFzdGF0ZS5pbnRlbnRpb25hbCkgJiYgIXN0YXRlLl9mb3JjZSAmJiAhY29uZmlnLnRyaWdnZXJBbGxFdmVudHMpIHJldHVybjtcbiAgICBjb25zdCBtZW1vID0gdGhpcy5oYW5kbGVyKF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBzaGFyZWQpLCBzdGF0ZSksIHt9LCB7XG4gICAgICBbdGhpcy5hbGlhc0tleV06IHN0YXRlLnZhbHVlc1xuICAgIH0pKTtcbiAgICBpZiAobWVtbyAhPT0gdW5kZWZpbmVkKSBzdGF0ZS5tZW1vID0gbWVtbztcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIHRoaXMuZXZlbnRTdG9yZS5jbGVhbigpO1xuICAgIHRoaXMudGltZW91dFN0b3JlLmNsZWFuKCk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBzZWxlY3RBeGlzKFtkeCwgZHldKSB7XG4gIGNvbnN0IGQgPSBNYXRoLmFicyhkeCkgLSBNYXRoLmFicyhkeSk7XG4gIGlmIChkID4gMCkgcmV0dXJuICd4JztcbiAgaWYgKGQgPCAwKSByZXR1cm4gJ3knO1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiByZXN0cmljdFZlY3RvclRvQXhpcyh2LCBheGlzKSB7XG4gIHN3aXRjaCAoYXhpcykge1xuICAgIGNhc2UgJ3gnOlxuICAgICAgdlsxXSA9IDA7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3knOlxuICAgICAgdlswXSA9IDA7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5jbGFzcyBDb29yZGluYXRlc0VuZ2luZSBleHRlbmRzIEVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFsaWFzS2V5XCIsICd4eScpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB0aGlzLnN0YXRlLmF4aXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc3RhdGUub2Zmc2V0ID0gWzAsIDBdO1xuICAgIHRoaXMuc3RhdGUubGFzdE9mZnNldCA9IFswLCAwXTtcbiAgfVxuXG4gIGNvbXB1dGVPZmZzZXQoKSB7XG4gICAgdGhpcy5zdGF0ZS5vZmZzZXQgPSBWLmFkZCh0aGlzLnN0YXRlLmxhc3RPZmZzZXQsIHRoaXMuc3RhdGUubW92ZW1lbnQpO1xuICB9XG5cbiAgY29tcHV0ZU1vdmVtZW50KCkge1xuICAgIHRoaXMuc3RhdGUubW92ZW1lbnQgPSBWLnN1Yih0aGlzLnN0YXRlLm9mZnNldCwgdGhpcy5zdGF0ZS5sYXN0T2Zmc2V0KTtcbiAgfVxuXG4gIGludGVudCh2KSB7XG4gICAgdGhpcy5zdGF0ZS5heGlzID0gdGhpcy5zdGF0ZS5heGlzIHx8IHNlbGVjdEF4aXModik7XG4gICAgdGhpcy5zdGF0ZS5fYmxvY2tlZCA9ICh0aGlzLmNvbmZpZy5sb2NrRGlyZWN0aW9uIHx8ICEhdGhpcy5jb25maWcuYXhpcykgJiYgIXRoaXMuc3RhdGUuYXhpcyB8fCAhIXRoaXMuY29uZmlnLmF4aXMgJiYgdGhpcy5jb25maWcuYXhpcyAhPT0gdGhpcy5zdGF0ZS5heGlzO1xuICAgIGlmICh0aGlzLnN0YXRlLl9ibG9ja2VkKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5jb25maWcuYXhpcyB8fCB0aGlzLmNvbmZpZy5sb2NrRGlyZWN0aW9uKSB7XG4gICAgICByZXN0cmljdFZlY3RvclRvQXhpcyh2LCB0aGlzLnN0YXRlLmF4aXMpO1xuICAgIH1cbiAgfVxuXG59XG5cbmNvbnN0IGlkZW50aXR5ID0gdiA9PiB2O1xuY29uc3QgREVGQVVMVF9SVUJCRVJCQU5EID0gMC4xNTtcbmNvbnN0IGNvbW1vbkNvbmZpZ1Jlc29sdmVyID0ge1xuICBlbmFibGVkKHZhbHVlID0gdHJ1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBwcmV2ZW50RGVmYXVsdCh2YWx1ZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuXG4gIHRyaWdnZXJBbGxFdmVudHModmFsdWUgPSBmYWxzZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBydWJiZXJiYW5kKHZhbHVlID0gMCkge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgcmV0dXJuIFtERUZBVUxUX1JVQkJFUkJBTkQsIERFRkFVTFRfUlVCQkVSQkFORF07XG5cbiAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgIHJldHVybiBbMCwgMF07XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBWLnRvVmVjdG9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgZnJvbSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkgcmV0dXJuIFYudG9WZWN0b3IodmFsdWUpO1xuICB9LFxuXG4gIHRyYW5zZm9ybSh2YWx1ZSwgX2ssIGNvbmZpZykge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHZhbHVlIHx8IGNvbmZpZy5zaGFyZWQudHJhbnNmb3JtO1xuICAgIHRoaXMuaGFzQ3VzdG9tVHJhbnNmb3JtID0gISF0cmFuc2Zvcm07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsVHJhbnNmb3JtID0gdHJhbnNmb3JtIHx8IGlkZW50aXR5O1xuICAgICAgcmV0dXJuIHYgPT4ge1xuICAgICAgICBjb25zdCByID0gb3JpZ2luYWxUcmFuc2Zvcm0odik7XG5cbiAgICAgICAgaWYgKCFpc0Zpbml0ZShyWzBdKSB8fCAhaXNGaW5pdGUoclsxXSkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtAdXNlLWdlc3R1cmVdOiBjb25maWcudHJhbnNmb3JtKCkgbXVzdCBwcm9kdWNlIGEgdmFsaWQgcmVzdWx0LCBidXQgaXQgd2FzOiBbJHtyWzBdfSwke1sxXX1dYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zZm9ybSB8fCBpZGVudGl0eTtcbiAgfSxcblxuICB0aHJlc2hvbGQodmFsdWUpIHtcbiAgICByZXR1cm4gVi50b1ZlY3Rvcih2YWx1ZSwgMCk7XG4gIH1cblxufTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIE9iamVjdC5hc3NpZ24oY29tbW9uQ29uZmlnUmVzb2x2ZXIsIHtcbiAgICBkb21UYXJnZXQodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBbQHVzZS1nZXN0dXJlXTogXFxgZG9tVGFyZ2V0XFxgIG9wdGlvbiBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHRhcmdldFxcYC5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9LFxuXG4gICAgbG9ja0RpcmVjdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFtAdXNlLWdlc3R1cmVdOiBcXGBsb2NrRGlyZWN0aW9uXFxgIG9wdGlvbiBoYXMgYmVlbiBtZXJnZWQgd2l0aCBcXGBheGlzXFxgLiBVc2UgaXQgYXMgaW4gXFxgeyBheGlzOiAnbG9jaycgfVxcYGApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTmFOO1xuICAgIH0sXG5cbiAgICBpbml0aWFsKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgW0B1c2UtZ2VzdHVyZV06IFxcYGluaXRpYWxcXGAgb3B0aW9uIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgZnJvbVxcYC5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgfSk7XG59XG5cbmNvbnN0IGNvb3JkaW5hdGVzQ29uZmlnUmVzb2x2ZXIgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgY29tbW9uQ29uZmlnUmVzb2x2ZXIpLCB7fSwge1xuICBheGlzKF92LCBfaywge1xuICAgIGF4aXNcbiAgfSkge1xuICAgIHRoaXMubG9ja0RpcmVjdGlvbiA9IGF4aXMgPT09ICdsb2NrJztcbiAgICBpZiAoIXRoaXMubG9ja0RpcmVjdGlvbikgcmV0dXJuIGF4aXM7XG4gIH0sXG5cbiAgYm91bmRzKHZhbHVlID0ge30pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gc3RhdGUgPT4gY29vcmRpbmF0ZXNDb25maWdSZXNvbHZlci5ib3VuZHModmFsdWUoc3RhdGUpKTtcbiAgICB9XG5cbiAgICBpZiAoJ2N1cnJlbnQnIGluIHZhbHVlKSB7XG4gICAgICByZXR1cm4gKCkgPT4gdmFsdWUuY3VycmVudDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBsZWZ0ID0gLUluZmluaXR5LFxuICAgICAgcmlnaHQgPSBJbmZpbml0eSxcbiAgICAgIHRvcCA9IC1JbmZpbml0eSxcbiAgICAgIGJvdHRvbSA9IEluZmluaXR5XG4gICAgfSA9IHZhbHVlO1xuICAgIHJldHVybiBbW2xlZnQsIHJpZ2h0XSwgW3RvcCwgYm90dG9tXV07XG4gIH1cblxufSk7XG5cbmNvbnN0IERJU1BMQUNFTUVOVCA9IDEwO1xuY29uc3QgS0VZU19ERUxUQV9NQVAgPSB7XG4gIEFycm93UmlnaHQ6IChmYWN0b3IgPSAxKSA9PiBbRElTUExBQ0VNRU5UICogZmFjdG9yLCAwXSxcbiAgQXJyb3dMZWZ0OiAoZmFjdG9yID0gMSkgPT4gWy1ESVNQTEFDRU1FTlQgKiBmYWN0b3IsIDBdLFxuICBBcnJvd1VwOiAoZmFjdG9yID0gMSkgPT4gWzAsIC1ESVNQTEFDRU1FTlQgKiBmYWN0b3JdLFxuICBBcnJvd0Rvd246IChmYWN0b3IgPSAxKSA9PiBbMCwgRElTUExBQ0VNRU5UICogZmFjdG9yXVxufTtcbmNsYXNzIERyYWdFbmdpbmUgZXh0ZW5kcyBDb29yZGluYXRlc0VuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluZ0tleVwiLCAnZHJhZ2dpbmcnKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHN0YXRlLl9wb2ludGVySWQgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuX3BvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICBzdGF0ZS5fa2V5Ym9hcmRBY3RpdmUgPSBmYWxzZTtcbiAgICBzdGF0ZS5fcHJldmVudFNjcm9sbCA9IGZhbHNlO1xuICAgIHN0YXRlLl9kZWxheWVkID0gZmFsc2U7XG4gICAgc3RhdGUuc3dpcGUgPSBbMCwgMF07XG4gICAgc3RhdGUudGFwID0gZmFsc2U7XG4gICAgc3RhdGUuY2FuY2VsZWQgPSBmYWxzZTtcbiAgICBzdGF0ZS5jYW5jZWwgPSB0aGlzLmNhbmNlbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgc2V0dXAoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHN0YXRlLl9ib3VuZHMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgYm91bmRSZWN0ID0gc3RhdGUuX2JvdW5kcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHN0YXRlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBfYm91bmRzID0ge1xuICAgICAgICBsZWZ0OiBib3VuZFJlY3QubGVmdCAtIHRhcmdldFJlY3QubGVmdCArIHN0YXRlLm9mZnNldFswXSxcbiAgICAgICAgcmlnaHQ6IGJvdW5kUmVjdC5yaWdodCAtIHRhcmdldFJlY3QucmlnaHQgKyBzdGF0ZS5vZmZzZXRbMF0sXG4gICAgICAgIHRvcDogYm91bmRSZWN0LnRvcCAtIHRhcmdldFJlY3QudG9wICsgc3RhdGUub2Zmc2V0WzFdLFxuICAgICAgICBib3R0b206IGJvdW5kUmVjdC5ib3R0b20gLSB0YXJnZXRSZWN0LmJvdHRvbSArIHN0YXRlLm9mZnNldFsxXVxuICAgICAgfTtcbiAgICAgIHN0YXRlLl9ib3VuZHMgPSBjb29yZGluYXRlc0NvbmZpZ1Jlc29sdmVyLmJvdW5kcyhfYm91bmRzKTtcbiAgICB9XG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzdGF0ZS5jYW5jZWxlZCkgcmV0dXJuO1xuICAgIHN0YXRlLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5fYWN0aXZlID0gZmFsc2U7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICAgIHRoaXMuZW1pdCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgc2V0QWN0aXZlKCkge1xuICAgIHRoaXMuc3RhdGUuX2FjdGl2ZSA9IHRoaXMuc3RhdGUuX3BvaW50ZXJBY3RpdmUgfHwgdGhpcy5zdGF0ZS5fa2V5Ym9hcmRBY3RpdmU7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICB0aGlzLnBvaW50ZXJDbGVhbigpO1xuICAgIHRoaXMuc3RhdGUuX3BvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlLl9rZXlib2FyZEFjdGl2ZSA9IGZhbHNlO1xuICAgIHN1cGVyLmNsZWFuKCk7XG4gIH1cblxuICBwb2ludGVyRG93bihldmVudCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZXZlbnQuYnV0dG9ucyAhPSBudWxsICYmIChBcnJheS5pc0FycmF5KGNvbmZpZy5wb2ludGVyQnV0dG9ucykgPyAhY29uZmlnLnBvaW50ZXJCdXR0b25zLmluY2x1ZGVzKGV2ZW50LmJ1dHRvbnMpIDogY29uZmlnLnBvaW50ZXJCdXR0b25zICE9PSAtMSAmJiBjb25maWcucG9pbnRlckJ1dHRvbnMgIT09IGV2ZW50LmJ1dHRvbnMpKSByZXR1cm47XG4gICAgdGhpcy5jdHJsLnNldEV2ZW50SWRzKGV2ZW50KTtcblxuICAgIGlmIChjb25maWcucG9pbnRlckNhcHR1cmUpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5fcG9pbnRlckFjdGl2ZSkgcmV0dXJuO1xuICAgIHRoaXMuc3RhcnQoZXZlbnQpO1xuICAgIHRoaXMuc2V0dXBQb2ludGVyKGV2ZW50KTtcbiAgICBzdGF0ZS5fcG9pbnRlcklkID0gcG9pbnRlcklkKGV2ZW50KTtcbiAgICBzdGF0ZS5fcG9pbnRlckFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKHBvaW50ZXJWYWx1ZXMoZXZlbnQpKTtcbiAgICB0aGlzLmNvbXB1dGVJbml0aWFsKCk7XG5cbiAgICBpZiAoY29uZmlnLnByZXZlbnRTY3JvbGwpIHtcbiAgICAgIHRoaXMuc2V0dXBTY3JvbGxQcmV2ZW50aW9uKGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZy5kZWxheSA+IDApIHtcbiAgICAgIHRoaXMuc2V0dXBEZWxheVRyaWdnZXIoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXJ0UG9pbnRlckRyYWcoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UG9pbnRlckRyYWcoZXZlbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgc3RhdGUuX2FjdGl2ZSA9IHRydWU7XG4gICAgc3RhdGUuX3ByZXZlbnRTY3JvbGwgPSB0cnVlO1xuICAgIHN0YXRlLl9kZWxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHBvaW50ZXJNb3ZlKGV2ZW50KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmICghc3RhdGUuX3BvaW50ZXJBY3RpdmUpIHJldHVybjtcbiAgICBpZiAoc3RhdGUudHlwZSA9PT0gZXZlbnQudHlwZSAmJiBldmVudC50aW1lU3RhbXAgPT09IHN0YXRlLnRpbWVTdGFtcCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gcG9pbnRlcklkKGV2ZW50KTtcbiAgICBpZiAoc3RhdGUuX3BvaW50ZXJJZCAmJiBpZCAhPT0gc3RhdGUuX3BvaW50ZXJJZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgX3ZhbHVlcyA9IHBvaW50ZXJWYWx1ZXMoZXZlbnQpO1xuXG4gICAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICBzdGF0ZS5fZGVsdGEgPSBbZXZlbnQubW92ZW1lbnRYLCBldmVudC5tb3ZlbWVudFldO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5fZGVsdGEgPSBWLnN1YihfdmFsdWVzLCBzdGF0ZS5fdmFsdWVzKTtcbiAgICAgIHRoaXMuY29tcHV0ZVZhbHVlcyhfdmFsdWVzKTtcbiAgICB9XG5cbiAgICBWLmFkZFRvKHN0YXRlLl9tb3ZlbWVudCwgc3RhdGUuX2RlbHRhKTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuXG4gICAgaWYgKHN0YXRlLl9kZWxheWVkKSB7XG4gICAgICB0aGlzLnRpbWVvdXRTdG9yZS5yZW1vdmUoJ2RyYWdEZWxheScpO1xuICAgICAgc3RhdGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLnN0YXJ0UG9pbnRlckRyYWcoZXZlbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjb25maWcucHJldmVudFNjcm9sbCAmJiAhc3RhdGUuX3ByZXZlbnRTY3JvbGwpIHtcbiAgICAgIGlmIChzdGF0ZS5heGlzKSB7XG4gICAgICAgIGlmIChzdGF0ZS5heGlzID09PSBjb25maWcucHJldmVudFNjcm9sbEF4aXMgfHwgY29uZmlnLnByZXZlbnRTY3JvbGxBeGlzID09PSAneHknKSB7XG4gICAgICAgICAgc3RhdGUuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuY2xlYW4oKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aW1lb3V0U3RvcmUucmVtb3ZlKCdzdGFydFBvaW50ZXJEcmFnJyk7XG4gICAgICAgICAgdGhpcy5zdGFydFBvaW50ZXJEcmFnKGV2ZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHBvaW50ZXJVcChldmVudCkge1xuICAgIHRoaXMuY3RybC5zZXRFdmVudElkcyhldmVudCk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnBvaW50ZXJDYXB0dXJlICYmIGV2ZW50LnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7XG4gICAgICAgIDtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF91bnVzZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtAdXNlLWdlc3R1cmVdOiBJZiB5b3Ugc2VlIHRoaXMgbWVzc2FnZSwgaXQncyBsaWtlbHkgdGhhdCB5b3UncmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBcXGBAcmVhY3QtdGhyZWUvZmliZXJcXGAuIFxcblxcblBsZWFzZSB1cGdyYWRlIHRvIHRoZSBsYXRlc3QgdmVyc2lvbi5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKCFzdGF0ZS5fcG9pbnRlckFjdGl2ZSkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gcG9pbnRlcklkKGV2ZW50KTtcbiAgICBpZiAoc3RhdGUuX3BvaW50ZXJJZCAmJiBpZCAhPT0gc3RhdGUuX3BvaW50ZXJJZCkgcmV0dXJuO1xuICAgIHRoaXMuc3RhdGUuX3BvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnNldEFjdGl2ZSgpO1xuICAgIHRoaXMuY29tcHV0ZShldmVudCk7XG4gICAgY29uc3QgW2R4LCBkeV0gPSBzdGF0ZS5fZGlzdGFuY2U7XG4gICAgc3RhdGUudGFwID0gZHggPD0gMyAmJiBkeSA8PSAzO1xuXG4gICAgaWYgKHN0YXRlLnRhcCAmJiBjb25maWcuZmlsdGVyVGFwcykge1xuICAgICAgc3RhdGUuX2ZvcmNlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgW2RpcngsIGRpcnldID0gc3RhdGUuZGlyZWN0aW9uO1xuICAgICAgY29uc3QgW3Z4LCB2eV0gPSBzdGF0ZS52ZWxvY2l0eTtcbiAgICAgIGNvbnN0IFtteCwgbXldID0gc3RhdGUubW92ZW1lbnQ7XG4gICAgICBjb25zdCBbc3Z4LCBzdnldID0gY29uZmlnLnN3aXBlLnZlbG9jaXR5O1xuICAgICAgY29uc3QgW3N4LCBzeV0gPSBjb25maWcuc3dpcGUuZGlzdGFuY2U7XG4gICAgICBjb25zdCBzZHQgPSBjb25maWcuc3dpcGUuZHVyYXRpb247XG5cbiAgICAgIGlmIChzdGF0ZS5lbGFwc2VkVGltZSA8IHNkdCkge1xuICAgICAgICBpZiAoTWF0aC5hYnModngpID4gc3Z4ICYmIE1hdGguYWJzKG14KSA+IHN4KSBzdGF0ZS5zd2lwZVswXSA9IGRpcng7XG4gICAgICAgIGlmIChNYXRoLmFicyh2eSkgPiBzdnkgJiYgTWF0aC5hYnMobXkpID4gc3kpIHN0YXRlLnN3aXBlWzFdID0gZGlyeTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHBvaW50ZXJDbGljayhldmVudCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50YXApIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBzZXR1cFBvaW50ZXIoZXZlbnQpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBsZXQgZGV2aWNlID0gY29uZmlnLmRldmljZTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRldmljZSA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFRhcmdldCA9ICd1dicgaW4gZXZlbnQgPyBldmVudC5zb3VyY2VFdmVudC5jdXJyZW50VGFyZ2V0IDogZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgICAgaWYgKHN0eWxlLnRvdWNoQWN0aW9uID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0B1c2UtZ2VzdHVyZV06IFRoZSBkcmFnIHRhcmdldCBoYXMgaXRzIFxcYHRvdWNoLWFjdGlvblxcYCBzdHlsZSBwcm9wZXJ0eSBzZXQgdG8gXFxgYXV0b1xcYC4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYWRkIFxcYHRvdWNoLWFjdGlvbjogJ25vbmUnXFxgIHNvIHRoYXQgdGhlIGRyYWcgZ2VzdHVyZSBiZWhhdmVzIGNvcnJlY3RseSBvbiB0b3VjaC1lbmFibGVkIGRldmljZXMuIEZvciBtb3JlIGluZm9ybWF0aW9uIHJlYWQgdGhpczogaHR0cHM6Ly91c2UtZ2VzdHVyZS5uZXRsaWZ5LmFwcC9kb2NzL2V4dHJhcy8jdG91Y2gtYWN0aW9uLlxcblxcblRoaXMgbWVzc2FnZSB3aWxsIG9ubHkgc2hvdyBpbiBkZXZlbG9wbWVudCBtb2RlLiBJdCB3b24ndCBhcHBlYXIgaW4gcHJvZHVjdGlvbi4gSWYgdGhpcyBpcyBpbnRlbmRlZCwgeW91IGNhbiBpZ25vcmUgaXQuYCwgY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChfdW51c2VkMikge31cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnBvaW50ZXJMb2NrKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnJlcXVlc3RQb2ludGVyTG9jaygpO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLnBvaW50ZXJDYXB0dXJlKSB7XG4gICAgICB0aGlzLmV2ZW50U3RvcmUuYWRkKHRoaXMuc2hhcmVkQ29uZmlnLndpbmRvdywgZGV2aWNlLCAnY2hhbmdlJywgdGhpcy5wb2ludGVyTW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZXZlbnRTdG9yZS5hZGQodGhpcy5zaGFyZWRDb25maWcud2luZG93LCBkZXZpY2UsICdlbmQnLCB0aGlzLnBvaW50ZXJVcC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBwb2ludGVyQ2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLnBvaW50ZXJMb2NrICYmIGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICB9XG4gIH1cblxuICBwcmV2ZW50U2Nyb2xsKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuX3ByZXZlbnRTY3JvbGwgJiYgZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBzZXR1cFNjcm9sbFByZXZlbnRpb24oZXZlbnQpIHtcbiAgICBwZXJzaXN0RXZlbnQoZXZlbnQpO1xuICAgIHRoaXMuZXZlbnRTdG9yZS5hZGQodGhpcy5zaGFyZWRDb25maWcud2luZG93LCAndG91Y2gnLCAnY2hhbmdlJywgdGhpcy5wcmV2ZW50U2Nyb2xsLmJpbmQodGhpcyksIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFN0b3JlLmFkZCh0aGlzLnNoYXJlZENvbmZpZy53aW5kb3csICd0b3VjaCcsICdlbmQnLCB0aGlzLmNsZWFuLmJpbmQodGhpcyksIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFN0b3JlLmFkZCh0aGlzLnNoYXJlZENvbmZpZy53aW5kb3csICd0b3VjaCcsICdjYW5jZWwnLCB0aGlzLmNsZWFuLmJpbmQodGhpcyksIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy50aW1lb3V0U3RvcmUuYWRkKCdzdGFydFBvaW50ZXJEcmFnJywgdGhpcy5zdGFydFBvaW50ZXJEcmFnLmJpbmQodGhpcyksIHRoaXMuY29uZmlnLnByZXZlbnRTY3JvbGwsIGV2ZW50KTtcbiAgfVxuXG4gIHNldHVwRGVsYXlUcmlnZ2VyKGV2ZW50KSB7XG4gICAgdGhpcy5zdGF0ZS5fZGVsYXllZCA9IHRydWU7XG4gICAgdGhpcy50aW1lb3V0U3RvcmUuYWRkKCdkcmFnRGVsYXknLCB0aGlzLnN0YXJ0UG9pbnRlckRyYWcuYmluZCh0aGlzKSwgdGhpcy5jb25maWcuZGVsYXksIGV2ZW50KTtcbiAgfVxuXG4gIGtleURvd24oZXZlbnQpIHtcbiAgICBjb25zdCBkZWx0YUZuID0gS0VZU19ERUxUQV9NQVBbZXZlbnQua2V5XTtcblxuICAgIGlmIChkZWx0YUZuKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBjb25zdCBmYWN0b3IgPSBldmVudC5zaGlmdEtleSA/IDEwIDogZXZlbnQuYWx0S2V5ID8gMC4xIDogMTtcbiAgICAgIHN0YXRlLl9kZWx0YSA9IGRlbHRhRm4oZmFjdG9yKTtcbiAgICAgIHRoaXMuc3RhcnQoZXZlbnQpO1xuICAgICAgc3RhdGUuX2tleWJvYXJkQWN0aXZlID0gdHJ1ZTtcbiAgICAgIFYuYWRkVG8oc3RhdGUuX21vdmVtZW50LCBzdGF0ZS5fZGVsdGEpO1xuICAgICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICAgIHRoaXMuZW1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGtleVVwKGV2ZW50KSB7XG4gICAgaWYgKCEoZXZlbnQua2V5IGluIEtFWVNfREVMVEFfTUFQKSkgcmV0dXJuO1xuICAgIHRoaXMuc3RhdGUuX2tleWJvYXJkQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5zZXRBY3RpdmUoKTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgYmluZChiaW5kRnVuY3Rpb24pIHtcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmNvbmZpZy5kZXZpY2U7XG4gICAgYmluZEZ1bmN0aW9uKGRldmljZSwgJ3N0YXJ0JywgdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMpKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5wb2ludGVyQ2FwdHVyZSkge1xuICAgICAgYmluZEZ1bmN0aW9uKGRldmljZSwgJ2NoYW5nZScsIHRoaXMucG9pbnRlck1vdmUuYmluZCh0aGlzKSk7XG4gICAgICBiaW5kRnVuY3Rpb24oZGV2aWNlLCAnZW5kJywgdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSk7XG4gICAgICBiaW5kRnVuY3Rpb24oZGV2aWNlLCAnY2FuY2VsJywgdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYmluZEZ1bmN0aW9uKCdrZXknLCAnZG93bicsIHRoaXMua2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICBiaW5kRnVuY3Rpb24oJ2tleScsICd1cCcsIHRoaXMua2V5VXAuYmluZCh0aGlzKSk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuZmlsdGVyVGFwcykge1xuICAgICAgYmluZEZ1bmN0aW9uKCdjbGljaycsICcnLCB0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMpLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHBlcnNpc3RFdmVudChldmVudCkge1xuICAncGVyc2lzdCcgaW4gZXZlbnQgJiYgdHlwZW9mIGV2ZW50LnBlcnNpc3QgPT09ICdmdW5jdGlvbicgJiYgZXZlbnQucGVyc2lzdCgpO1xufVxuXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XG5cbmZ1bmN0aW9uIHN1cHBvcnRzVG91Y2hFdmVudHMoKSB7XG4gIHJldHVybiBpc0Jyb3dzZXIgJiYgJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xufVxuXG5mdW5jdGlvbiBpc1RvdWNoU2NyZWVuKCkge1xuICByZXR1cm4gc3VwcG9ydHNUb3VjaEV2ZW50cygpIHx8IGlzQnJvd3NlciAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMTtcbn1cblxuZnVuY3Rpb24gc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkge1xuICByZXR1cm4gaXNCcm93c2VyICYmICdvbnBvaW50ZXJkb3duJyBpbiB3aW5kb3c7XG59XG5cbmZ1bmN0aW9uIHN1cHBvcnRzUG9pbnRlckxvY2soKSB7XG4gIHJldHVybiBpc0Jyb3dzZXIgJiYgJ2V4aXRQb2ludGVyTG9jaycgaW4gd2luZG93LmRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBzdXBwb3J0c0dlc3R1cmVFdmVudHMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICdjb25zdHJ1Y3RvcicgaW4gR2VzdHVyZUV2ZW50O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFNVUFBPUlQgPSB7XG4gIGlzQnJvd3NlcixcbiAgZ2VzdHVyZTogc3VwcG9ydHNHZXN0dXJlRXZlbnRzKCksXG4gIHRvdWNoOiBzdXBwb3J0c1RvdWNoRXZlbnRzKCksXG4gIHRvdWNoc2NyZWVuOiBpc1RvdWNoU2NyZWVuKCksXG4gIHBvaW50ZXI6IHN1cHBvcnRzUG9pbnRlckV2ZW50cygpLFxuICBwb2ludGVyTG9jazogc3VwcG9ydHNQb2ludGVyTG9jaygpXG59O1xuXG5jb25zdCBERUZBVUxUX1BSRVZFTlRfU0NST0xMX0RFTEFZID0gMjUwO1xuY29uc3QgREVGQVVMVF9EUkFHX0RFTEFZID0gMTgwO1xuY29uc3QgREVGQVVMVF9TV0lQRV9WRUxPQ0lUWSA9IDAuNTtcbmNvbnN0IERFRkFVTFRfU1dJUEVfRElTVEFOQ0UgPSA1MDtcbmNvbnN0IERFRkFVTFRfU1dJUEVfRFVSQVRJT04gPSAyNTA7XG5jb25zdCBkcmFnQ29uZmlnUmVzb2x2ZXIgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgY29vcmRpbmF0ZXNDb25maWdSZXNvbHZlciksIHt9LCB7XG4gIHBvaW50ZXJMb2NrKF92LCBfaywge1xuICAgIHBvaW50ZXI6IHtcbiAgICAgIGxvY2sgPSBmYWxzZSxcbiAgICAgIHRvdWNoID0gZmFsc2VcbiAgICB9ID0ge31cbiAgfSkge1xuICAgIHRoaXMudXNlVG91Y2ggPSBTVVBQT1JULnRvdWNoICYmIHRvdWNoO1xuICAgIHJldHVybiBTVVBQT1JULnBvaW50ZXJMb2NrICYmIGxvY2s7XG4gIH0sXG5cbiAgZGV2aWNlKF92LCBfaykge1xuICAgIGlmICh0aGlzLnVzZVRvdWNoKSByZXR1cm4gJ3RvdWNoJztcbiAgICBpZiAodGhpcy5wb2ludGVyTG9jaykgcmV0dXJuICdtb3VzZSc7XG4gICAgaWYgKFNVUFBPUlQucG9pbnRlcikgcmV0dXJuICdwb2ludGVyJztcbiAgICBpZiAoU1VQUE9SVC50b3VjaCkgcmV0dXJuICd0b3VjaCc7XG4gICAgcmV0dXJuICdtb3VzZSc7XG4gIH0sXG5cbiAgcHJldmVudFNjcm9sbCh2YWx1ZSA9IGZhbHNlLCBfaywge1xuICAgIHByZXZlbnRTY3JvbGxBeGlzID0gJ3knXG4gIH0pIHtcbiAgICBpZiAocHJldmVudFNjcm9sbEF4aXMpIHRoaXMucHJldmVudFNjcm9sbEF4aXMgPSBwcmV2ZW50U2Nyb2xsQXhpcztcbiAgICBpZiAoIVNVUFBPUlQudG91Y2hzY3JlZW4pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSA/IERFRkFVTFRfUFJFVkVOVF9TQ1JPTExfREVMQVkgOiBmYWxzZTtcbiAgfSxcblxuICBwb2ludGVyQ2FwdHVyZShfdiwgX2ssIHtcbiAgICBwb2ludGVyOiB7XG4gICAgICBjYXB0dXJlID0gdHJ1ZSxcbiAgICAgIGJ1dHRvbnMgPSAxXG4gICAgfSA9IHt9XG4gIH0pIHtcbiAgICB0aGlzLnBvaW50ZXJCdXR0b25zID0gYnV0dG9ucztcbiAgICByZXR1cm4gIXRoaXMucG9pbnRlckxvY2sgJiYgdGhpcy5kZXZpY2UgPT09ICdwb2ludGVyJyAmJiBjYXB0dXJlO1xuICB9LFxuXG4gIHRocmVzaG9sZCh2YWx1ZSwgX2ssIHtcbiAgICBmaWx0ZXJUYXBzID0gZmFsc2UsXG4gICAgYXhpcyA9IHVuZGVmaW5lZFxuICB9KSB7XG4gICAgY29uc3QgdGhyZXNob2xkID0gVi50b1ZlY3Rvcih2YWx1ZSwgZmlsdGVyVGFwcyA/IDMgOiBheGlzID8gMSA6IDApO1xuICAgIHRoaXMuZmlsdGVyVGFwcyA9IGZpbHRlclRhcHM7XG4gICAgcmV0dXJuIHRocmVzaG9sZDtcbiAgfSxcblxuICBzd2lwZSh7XG4gICAgdmVsb2NpdHkgPSBERUZBVUxUX1NXSVBFX1ZFTE9DSVRZLFxuICAgIGRpc3RhbmNlID0gREVGQVVMVF9TV0lQRV9ESVNUQU5DRSxcbiAgICBkdXJhdGlvbiA9IERFRkFVTFRfU1dJUEVfRFVSQVRJT05cbiAgfSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZlbG9jaXR5OiB0aGlzLnRyYW5zZm9ybShWLnRvVmVjdG9yKHZlbG9jaXR5KSksXG4gICAgICBkaXN0YW5jZTogdGhpcy50cmFuc2Zvcm0oVi50b1ZlY3RvcihkaXN0YW5jZSkpLFxuICAgICAgZHVyYXRpb25cbiAgICB9O1xuICB9LFxuXG4gIGRlbGF5KHZhbHVlID0gMCkge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgcmV0dXJuIERFRkFVTFRfRFJBR19ERUxBWTtcblxuICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cblxufSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICBPYmplY3QuYXNzaWduKGRyYWdDb25maWdSZXNvbHZlciwge1xuICAgIHVzZVRvdWNoKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgW0B1c2UtZ2VzdHVyZV06IFxcYHVzZVRvdWNoXFxgIG9wdGlvbiBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHBvaW50ZXIudG91Y2hcXGAuIFVzZSBpdCBhcyBpbiBcXGB7IHBvaW50ZXI6IHsgdG91Y2g6IHRydWUgfSB9XFxgLmApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTmFOO1xuICAgIH0sXG5cbiAgICBleHBlcmltZW50YWxfcHJldmVudFdpbmRvd1Njcm9sbFkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBbQHVzZS1nZXN0dXJlXTogXFxgZXhwZXJpbWVudGFsX3ByZXZlbnRXaW5kb3dTY3JvbGxZXFxgIG9wdGlvbiBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHByZXZlbnRTY3JvbGxcXGAuYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOYU47XG4gICAgfSxcblxuICAgIHN3aXBlVmVsb2NpdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBbQHVzZS1nZXN0dXJlXTogXFxgc3dpcGVWZWxvY2l0eVxcYCBvcHRpb24gaGFzIGJlZW4gcmVuYW1lZCB0byBcXGBzd2lwZS52ZWxvY2l0eVxcYC4gVXNlIGl0IGFzIGluIFxcYHsgc3dpcGU6IHsgdmVsb2NpdHk6IDAuNSB9IH1cXGAuYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOYU47XG4gICAgfSxcblxuICAgIHN3aXBlRGlzdGFuY2UodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBbQHVzZS1nZXN0dXJlXTogXFxgc3dpcGVEaXN0YW5jZVxcYCBvcHRpb24gaGFzIGJlZW4gcmVuYW1lZCB0byBcXGBzd2lwZS5kaXN0YW5jZVxcYC4gVXNlIGl0IGFzIGluIFxcYHsgc3dpcGU6IHsgZGlzdGFuY2U6IDUwIH0gfVxcYC5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9LFxuXG4gICAgc3dpcGVEdXJhdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFtAdXNlLWdlc3R1cmVdOiBcXGBzd2lwZUR1cmF0aW9uXFxgIG9wdGlvbiBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHN3aXBlLmR1cmF0aW9uXFxgLiBVc2UgaXQgYXMgaW4gXFxgeyBzd2lwZTogeyBkdXJhdGlvbjogMjUwIH0gfVxcYC5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgfSk7XG59XG5cbmNvbnN0IFNDQUxFX0FOR0xFX1JBVElPX0lOVEVOVF9ERUcgPSAzMDtcbmNvbnN0IFBJTkNIX1dIRUVMX1JBVElPID0gMzY7XG5jbGFzcyBQaW5jaEVuZ2luZSBleHRlbmRzIEVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluZ0tleVwiLCAncGluY2hpbmcnKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFsaWFzS2V5XCIsICdkYScpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnN0YXRlLm9mZnNldCA9IFsxLCAwXTtcbiAgICB0aGlzLnN0YXRlLmxhc3RPZmZzZXQgPSBbMSwgMF07XG4gICAgdGhpcy5zdGF0ZS5fcG9pbnRlckV2ZW50cyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHN0YXRlLl90b3VjaElkcyA9IFtdO1xuICAgIHN0YXRlLmNhbmNlbGVkID0gZmFsc2U7XG4gICAgc3RhdGUuY2FuY2VsID0gdGhpcy5jYW5jZWwuYmluZCh0aGlzKTtcbiAgICBzdGF0ZS50dXJucyA9IDA7XG4gIH1cblxuICBjb21wdXRlT2Zmc2V0KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBtb3ZlbWVudCxcbiAgICAgIGxhc3RPZmZzZXRcbiAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmICh0eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICB0aGlzLnN0YXRlLm9mZnNldCA9IFYuYWRkKG1vdmVtZW50LCBsYXN0T2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5vZmZzZXQgPSBbKDEgKyBtb3ZlbWVudFswXSkgKiBsYXN0T2Zmc2V0WzBdLCBtb3ZlbWVudFsxXSArIGxhc3RPZmZzZXRbMV1dO1xuICAgIH1cbiAgfVxuXG4gIGNvbXB1dGVNb3ZlbWVudCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvZmZzZXQsXG4gICAgICBsYXN0T2Zmc2V0XG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5zdGF0ZS5tb3ZlbWVudCA9IFtvZmZzZXRbMF0gLyBsYXN0T2Zmc2V0WzBdLCBvZmZzZXRbMV0gLSBsYXN0T2Zmc2V0WzFdXTtcbiAgfVxuXG4gIGludGVudCh2KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKCFzdGF0ZS5heGlzKSB7XG4gICAgICBjb25zdCBheGlzTW92ZW1lbnREaWZmZXJlbmNlID0gTWF0aC5hYnModlswXSkgKiBTQ0FMRV9BTkdMRV9SQVRJT19JTlRFTlRfREVHIC0gTWF0aC5hYnModlsxXSk7XG4gICAgICBpZiAoYXhpc01vdmVtZW50RGlmZmVyZW5jZSA8IDApIHN0YXRlLmF4aXMgPSAnYW5nbGUnO2Vsc2UgaWYgKGF4aXNNb3ZlbWVudERpZmZlcmVuY2UgPiAwKSBzdGF0ZS5heGlzID0gJ3NjYWxlJztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25maWcubG9ja0RpcmVjdGlvbikge1xuICAgICAgaWYgKHN0YXRlLmF4aXMgPT09ICdzY2FsZScpIHZbMV0gPSAwO2Vsc2UgaWYgKHN0YXRlLmF4aXMgPT09ICdhbmdsZScpIHZbMF0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHN0YXRlLmNhbmNlbGVkKSByZXR1cm47XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzdGF0ZS5jYW5jZWxlZCA9IHRydWU7XG4gICAgICBzdGF0ZS5fYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICAgIHRoaXMuZW1pdCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgdG91Y2hTdGFydChldmVudCkge1xuICAgIHRoaXMuY3RybC5zZXRFdmVudElkcyhldmVudCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGN0cmxUb3VjaElkcyA9IHRoaXMuY3RybC50b3VjaElkcztcblxuICAgIGlmIChzdGF0ZS5fYWN0aXZlKSB7XG4gICAgICBpZiAoc3RhdGUuX3RvdWNoSWRzLmV2ZXJ5KGlkID0+IGN0cmxUb3VjaElkcy5oYXMoaWQpKSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdHJsVG91Y2hJZHMuc2l6ZSA8IDIpIHJldHVybjtcbiAgICB0aGlzLnN0YXJ0KGV2ZW50KTtcbiAgICBzdGF0ZS5fdG91Y2hJZHMgPSBBcnJheS5mcm9tKGN0cmxUb3VjaElkcykuc2xpY2UoMCwgMik7XG4gICAgY29uc3QgcGF5bG9hZCA9IHRvdWNoRGlzdGFuY2VBbmdsZShldmVudCwgc3RhdGUuX3RvdWNoSWRzKTtcbiAgICB0aGlzLnBpbmNoU3RhcnQoZXZlbnQsIHBheWxvYWQpO1xuICB9XG5cbiAgcG9pbnRlclN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmJ1dHRvbnMgIT0gbnVsbCAmJiBldmVudC5idXR0b25zICUgMiAhPT0gMSkgcmV0dXJuO1xuICAgIHRoaXMuY3RybC5zZXRFdmVudElkcyhldmVudCk7XG4gICAgZXZlbnQudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IF9wb2ludGVyRXZlbnRzID0gc3RhdGUuX3BvaW50ZXJFdmVudHM7XG4gICAgY29uc3QgY3RybFBvaW50ZXJJZHMgPSB0aGlzLmN0cmwucG9pbnRlcklkcztcblxuICAgIGlmIChzdGF0ZS5fYWN0aXZlKSB7XG4gICAgICBpZiAoQXJyYXkuZnJvbShfcG9pbnRlckV2ZW50cy5rZXlzKCkpLmV2ZXJ5KGlkID0+IGN0cmxQb2ludGVySWRzLmhhcyhpZCkpKSByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9wb2ludGVyRXZlbnRzLnNpemUgPCAyKSB7XG4gICAgICBfcG9pbnRlckV2ZW50cy5zZXQoZXZlbnQucG9pbnRlcklkLCBldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLl9wb2ludGVyRXZlbnRzLnNpemUgPCAyKSByZXR1cm47XG4gICAgdGhpcy5zdGFydChldmVudCk7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRpc3RhbmNlQW5nbGUoLi4uQXJyYXkuZnJvbShfcG9pbnRlckV2ZW50cy52YWx1ZXMoKSkpO1xuICAgIHRoaXMucGluY2hTdGFydChldmVudCwgcGF5bG9hZCk7XG4gIH1cblxuICBwaW5jaFN0YXJ0KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHN0YXRlLm9yaWdpbiA9IHBheWxvYWQub3JpZ2luO1xuICAgIHRoaXMuY29tcHV0ZVZhbHVlcyhbcGF5bG9hZC5kaXN0YW5jZSwgcGF5bG9hZC5hbmdsZV0pO1xuICAgIHRoaXMuY29tcHV0ZUluaXRpYWwoKTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgdG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHJldHVybjtcbiAgICBjb25zdCBwYXlsb2FkID0gdG91Y2hEaXN0YW5jZUFuZ2xlKGV2ZW50LCB0aGlzLnN0YXRlLl90b3VjaElkcyk7XG4gICAgdGhpcy5waW5jaE1vdmUoZXZlbnQsIHBheWxvYWQpO1xuICB9XG5cbiAgcG9pbnRlck1vdmUoZXZlbnQpIHtcbiAgICBjb25zdCBfcG9pbnRlckV2ZW50cyA9IHRoaXMuc3RhdGUuX3BvaW50ZXJFdmVudHM7XG5cbiAgICBpZiAoX3BvaW50ZXJFdmVudHMuaGFzKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgIF9wb2ludGVyRXZlbnRzLnNldChldmVudC5wb2ludGVySWQsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuX2FjdGl2ZSkgcmV0dXJuO1xuICAgIGNvbnN0IHBheWxvYWQgPSBkaXN0YW5jZUFuZ2xlKC4uLkFycmF5LmZyb20oX3BvaW50ZXJFdmVudHMudmFsdWVzKCkpKTtcbiAgICB0aGlzLnBpbmNoTW92ZShldmVudCwgcGF5bG9hZCk7XG4gIH1cblxuICBwaW5jaE1vdmUoZXZlbnQsIHBheWxvYWQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcHJldl9hID0gc3RhdGUuX3ZhbHVlc1sxXTtcbiAgICBjb25zdCBkZWx0YV9hID0gcGF5bG9hZC5hbmdsZSAtIHByZXZfYTtcbiAgICBsZXQgZGVsdGFfdHVybnMgPSAwO1xuICAgIGlmIChNYXRoLmFicyhkZWx0YV9hKSA+IDI3MCkgZGVsdGFfdHVybnMgKz0gTWF0aC5zaWduKGRlbHRhX2EpO1xuICAgIHRoaXMuY29tcHV0ZVZhbHVlcyhbcGF5bG9hZC5kaXN0YW5jZSwgcGF5bG9hZC5hbmdsZSAtIDM2MCAqIGRlbHRhX3R1cm5zXSk7XG4gICAgc3RhdGUub3JpZ2luID0gcGF5bG9hZC5vcmlnaW47XG4gICAgc3RhdGUudHVybnMgPSBkZWx0YV90dXJucztcbiAgICBzdGF0ZS5fbW92ZW1lbnQgPSBbc3RhdGUuX3ZhbHVlc1swXSAvIHN0YXRlLl9pbml0aWFsWzBdIC0gMSwgc3RhdGUuX3ZhbHVlc1sxXSAtIHN0YXRlLl9pbml0aWFsWzFdXTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgdG91Y2hFbmQoZXZlbnQpIHtcbiAgICB0aGlzLmN0cmwuc2V0RXZlbnRJZHMoZXZlbnQpO1xuICAgIGlmICghdGhpcy5zdGF0ZS5fYWN0aXZlKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5fdG91Y2hJZHMuc29tZShpZCA9PiAhdGhpcy5jdHJsLnRvdWNoSWRzLmhhcyhpZCkpKSB7XG4gICAgICB0aGlzLnN0YXRlLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29tcHV0ZShldmVudCk7XG4gICAgICB0aGlzLmVtaXQoKTtcbiAgICB9XG4gIH1cblxuICBwb2ludGVyRW5kKGV2ZW50KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuY3RybC5zZXRFdmVudElkcyhldmVudCk7XG5cbiAgICB0cnkge1xuICAgICAgZXZlbnQudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9XG5cbiAgICBpZiAoc3RhdGUuX3BvaW50ZXJFdmVudHMuaGFzKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgIHN0YXRlLl9wb2ludGVyRXZlbnRzLmRlbGV0ZShldmVudC5wb2ludGVySWQpO1xuICAgIH1cblxuICAgIGlmICghc3RhdGUuX2FjdGl2ZSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YXRlLl9wb2ludGVyRXZlbnRzLnNpemUgPCAyKSB7XG4gICAgICBzdGF0ZS5fYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgICAgdGhpcy5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2VzdHVyZVN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzdGF0ZS5fYWN0aXZlKSByZXR1cm47XG4gICAgdGhpcy5zdGFydChldmVudCk7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKFtldmVudC5zY2FsZSwgZXZlbnQucm90YXRpb25dKTtcbiAgICBzdGF0ZS5vcmlnaW4gPSBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV07XG4gICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIGdlc3R1cmVNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHJldHVybjtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKFtldmVudC5zY2FsZSwgZXZlbnQucm90YXRpb25dKTtcbiAgICBzdGF0ZS5vcmlnaW4gPSBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV07XG4gICAgY29uc3QgX3ByZXZpb3VzTW92ZW1lbnQgPSBzdGF0ZS5fbW92ZW1lbnQ7XG4gICAgc3RhdGUuX21vdmVtZW50ID0gW2V2ZW50LnNjYWxlIC0gMSwgZXZlbnQucm90YXRpb25dO1xuICAgIHN0YXRlLl9kZWx0YSA9IFYuc3ViKHN0YXRlLl9tb3ZlbWVudCwgX3ByZXZpb3VzTW92ZW1lbnQpO1xuICAgIHRoaXMuY29tcHV0ZShldmVudCk7XG4gICAgdGhpcy5lbWl0KCk7XG4gIH1cblxuICBnZXN0dXJlRW5kKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHJldHVybjtcbiAgICB0aGlzLnN0YXRlLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgd2hlZWwoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmN0cmxLZXkpIHJldHVybjtcbiAgICBpZiAoIXRoaXMuc3RhdGUuX2FjdGl2ZSkgdGhpcy53aGVlbFN0YXJ0KGV2ZW50KTtlbHNlIHRoaXMud2hlZWxDaGFuZ2UoZXZlbnQpO1xuICAgIHRoaXMudGltZW91dFN0b3JlLmFkZCgnd2hlZWxFbmQnLCB0aGlzLndoZWVsRW5kLmJpbmQodGhpcykpO1xuICB9XG5cbiAgd2hlZWxTdGFydChldmVudCkge1xuICAgIHRoaXMuc3RhcnQoZXZlbnQpO1xuICAgIHRoaXMud2hlZWxDaGFuZ2UoZXZlbnQpO1xuICB9XG5cbiAgd2hlZWxDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBpc1IzZiA9ICgndXYnIGluIGV2ZW50KTtcblxuICAgIGlmICghaXNSM2YpIHtcbiAgICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtAdXNlLWdlc3R1cmVdOiBUbyBwcm9wZXJseSBzdXBwb3J0IHpvb20gb24gdHJhY2twYWRzLCB0cnkgdXNpbmcgdGhlIFxcYHRhcmdldFxcYCBvcHRpb24uXFxuXFxuVGhpcyBtZXNzYWdlIHdpbGwgb25seSBhcHBlYXIgaW4gZGV2ZWxvcG1lbnQgbW9kZS5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgc3RhdGUuX2RlbHRhID0gWy13aGVlbFZhbHVlcyhldmVudClbMV0gLyBQSU5DSF9XSEVFTF9SQVRJTyAqIHN0YXRlLm9mZnNldFswXSwgMF07XG4gICAgVi5hZGRUbyhzdGF0ZS5fbW92ZW1lbnQsIHN0YXRlLl9kZWx0YSk7XG4gICAgdGhpcy5zdGF0ZS5vcmlnaW4gPSBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV07XG4gICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHdoZWVsRW5kKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5fYWN0aXZlKSByZXR1cm47XG4gICAgdGhpcy5zdGF0ZS5fYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5jb21wdXRlKCk7XG4gICAgdGhpcy5lbWl0KCk7XG4gIH1cblxuICBiaW5kKGJpbmRGdW5jdGlvbikge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuY29uZmlnLmRldmljZTtcblxuICAgIGlmICghIWRldmljZSkge1xuICAgICAgYmluZEZ1bmN0aW9uKGRldmljZSwgJ3N0YXJ0JywgdGhpc1tkZXZpY2UgKyAnU3RhcnQnXS5iaW5kKHRoaXMpKTtcbiAgICAgIGJpbmRGdW5jdGlvbihkZXZpY2UsICdjaGFuZ2UnLCB0aGlzW2RldmljZSArICdNb3ZlJ10uYmluZCh0aGlzKSk7XG4gICAgICBiaW5kRnVuY3Rpb24oZGV2aWNlLCAnZW5kJywgdGhpc1tkZXZpY2UgKyAnRW5kJ10uYmluZCh0aGlzKSk7XG4gICAgICBiaW5kRnVuY3Rpb24oZGV2aWNlLCAnY2FuY2VsJywgdGhpc1tkZXZpY2UgKyAnRW5kJ10uYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJpbmRGdW5jdGlvbignd2hlZWwnLCAnJywgdGhpcy53aGVlbC5iaW5kKHRoaXMpLCB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuXG5jb25zdCBwaW5jaENvbmZpZ1Jlc29sdmVyID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGNvbW1vbkNvbmZpZ1Jlc29sdmVyKSwge30sIHtcbiAgdXNlVG91Y2goX3YsIF9rLCB7XG4gICAgcG9pbnRlcjoge1xuICAgICAgdG91Y2ggPSBmYWxzZVxuICAgIH0gPSB7fVxuICB9KSB7XG4gICAgcmV0dXJuIFNVUFBPUlQudG91Y2ggJiYgdG91Y2g7XG4gIH0sXG5cbiAgZGV2aWNlKF92LCBfaywgY29uZmlnKSB7XG4gICAgY29uc3Qgc2hhcmVkQ29uZmlnID0gY29uZmlnLnNoYXJlZDtcbiAgICBpZiAoc2hhcmVkQ29uZmlnLnRhcmdldCAmJiAhU1VQUE9SVC50b3VjaCAmJiBTVVBQT1JULmdlc3R1cmUpIHJldHVybiAnZ2VzdHVyZSc7XG4gICAgaWYgKHRoaXMudXNlVG91Y2gpIHJldHVybiAndG91Y2gnO1xuXG4gICAgaWYgKFNVUFBPUlQudG91Y2hzY3JlZW4pIHtcbiAgICAgIGlmIChTVVBQT1JULnBvaW50ZXIpIHJldHVybiAncG9pbnRlcic7XG4gICAgICBpZiAoU1VQUE9SVC50b3VjaCkgcmV0dXJuICd0b3VjaCc7XG4gICAgfVxuICB9LFxuXG4gIGJvdW5kcyhfdiwgX2ssIHtcbiAgICBzY2FsZUJvdW5kcyA9IHt9LFxuICAgIGFuZ2xlQm91bmRzID0ge31cbiAgfSkge1xuICAgIGNvbnN0IF9zY2FsZUJvdW5kcyA9IHN0YXRlID0+IHtcbiAgICAgIGNvbnN0IEQgPSBhc3NpZ25EZWZhdWx0KGNhbGwoc2NhbGVCb3VuZHMsIHN0YXRlKSwge1xuICAgICAgICBtaW46IC1JbmZpbml0eSxcbiAgICAgICAgbWF4OiBJbmZpbml0eVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gW0QubWluLCBELm1heF07XG4gICAgfTtcblxuICAgIGNvbnN0IF9hbmdsZUJvdW5kcyA9IHN0YXRlID0+IHtcbiAgICAgIGNvbnN0IEEgPSBhc3NpZ25EZWZhdWx0KGNhbGwoYW5nbGVCb3VuZHMsIHN0YXRlKSwge1xuICAgICAgICBtaW46IC1JbmZpbml0eSxcbiAgICAgICAgbWF4OiBJbmZpbml0eVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gW0EubWluLCBBLm1heF07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygc2NhbGVCb3VuZHMgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFuZ2xlQm91bmRzICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gW19zY2FsZUJvdW5kcygpLCBfYW5nbGVCb3VuZHMoKV07XG4gICAgcmV0dXJuIHN0YXRlID0+IFtfc2NhbGVCb3VuZHMoc3RhdGUpLCBfYW5nbGVCb3VuZHMoc3RhdGUpXTtcbiAgfSxcblxuICB0aHJlc2hvbGQodmFsdWUsIF9rLCBjb25maWcpIHtcbiAgICB0aGlzLmxvY2tEaXJlY3Rpb24gPSBjb25maWcuYXhpcyA9PT0gJ2xvY2snO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IFYudG9WZWN0b3IodmFsdWUsIHRoaXMubG9ja0RpcmVjdGlvbiA/IFswLjEsIDNdIDogMCk7XG4gICAgcmV0dXJuIHRocmVzaG9sZDtcbiAgfVxuXG59KTtcblxuY2xhc3MgTW92ZUVuZ2luZSBleHRlbmRzIENvb3JkaW5hdGVzRW5naW5lIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5nS2V5XCIsICdtb3ZpbmcnKTtcbiAgfVxuXG4gIG1vdmUoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jb25maWcubW91c2VPbmx5ICYmIGV2ZW50LnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHRoaXMubW92ZVN0YXJ0KGV2ZW50KTtlbHNlIHRoaXMubW92ZUNoYW5nZShldmVudCk7XG4gICAgdGhpcy50aW1lb3V0U3RvcmUuYWRkKCdtb3ZlRW5kJywgdGhpcy5tb3ZlRW5kLmJpbmQodGhpcykpO1xuICB9XG5cbiAgbW92ZVN0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy5zdGFydChldmVudCk7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKHBvaW50ZXJWYWx1ZXMoZXZlbnQpKTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuY29tcHV0ZUluaXRpYWwoKTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIG1vdmVDaGFuZ2UoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuX2FjdGl2ZSkgcmV0dXJuO1xuICAgIGNvbnN0IHZhbHVlcyA9IHBvaW50ZXJWYWx1ZXMoZXZlbnQpO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBzdGF0ZS5fZGVsdGEgPSBWLnN1Yih2YWx1ZXMsIHN0YXRlLl92YWx1ZXMpO1xuICAgIFYuYWRkVG8oc3RhdGUuX21vdmVtZW50LCBzdGF0ZS5fZGVsdGEpO1xuICAgIHRoaXMuY29tcHV0ZVZhbHVlcyh2YWx1ZXMpO1xuICAgIHRoaXMuY29tcHV0ZShldmVudCk7XG4gICAgdGhpcy5lbWl0KCk7XG4gIH1cblxuICBtb3ZlRW5kKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHJldHVybjtcbiAgICB0aGlzLnN0YXRlLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgYmluZChiaW5kRnVuY3Rpb24pIHtcbiAgICBiaW5kRnVuY3Rpb24oJ3BvaW50ZXInLCAnY2hhbmdlJywgdGhpcy5tb3ZlLmJpbmQodGhpcykpO1xuICAgIGJpbmRGdW5jdGlvbigncG9pbnRlcicsICdsZWF2ZScsIHRoaXMubW92ZUVuZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG59XG5cbmNvbnN0IG1vdmVDb25maWdSZXNvbHZlciA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBjb29yZGluYXRlc0NvbmZpZ1Jlc29sdmVyKSwge30sIHtcbiAgbW91c2VPbmx5OiAodmFsdWUgPSB0cnVlKSA9PiB2YWx1ZVxufSk7XG5cbmNsYXNzIFNjcm9sbEVuZ2luZSBleHRlbmRzIENvb3JkaW5hdGVzRW5naW5lIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5nS2V5XCIsICdzY3JvbGxpbmcnKTtcbiAgfVxuXG4gIHNjcm9sbChldmVudCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5fYWN0aXZlKSB0aGlzLnN0YXJ0KGV2ZW50KTtcbiAgICB0aGlzLnNjcm9sbENoYW5nZShldmVudCk7XG4gICAgdGhpcy50aW1lb3V0U3RvcmUuYWRkKCdzY3JvbGxFbmQnLCB0aGlzLnNjcm9sbEVuZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHNjcm9sbENoYW5nZShldmVudCkge1xuICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB2YWx1ZXMgPSBzY3JvbGxWYWx1ZXMoZXZlbnQpO1xuICAgIHN0YXRlLl9kZWx0YSA9IFYuc3ViKHZhbHVlcywgc3RhdGUuX3ZhbHVlcyk7XG4gICAgVi5hZGRUbyhzdGF0ZS5fbW92ZW1lbnQsIHN0YXRlLl9kZWx0YSk7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKHZhbHVlcyk7XG4gICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHNjcm9sbEVuZCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuX2FjdGl2ZSkgcmV0dXJuO1xuICAgIHRoaXMuc3RhdGUuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgYmluZChiaW5kRnVuY3Rpb24pIHtcbiAgICBiaW5kRnVuY3Rpb24oJ3Njcm9sbCcsICcnLCB0aGlzLnNjcm9sbC5iaW5kKHRoaXMpKTtcbiAgfVxuXG59XG5cbmNvbnN0IHNjcm9sbENvbmZpZ1Jlc29sdmVyID0gY29vcmRpbmF0ZXNDb25maWdSZXNvbHZlcjtcblxuY2xhc3MgV2hlZWxFbmdpbmUgZXh0ZW5kcyBDb29yZGluYXRlc0VuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluZ0tleVwiLCAnd2hlZWxpbmcnKTtcbiAgfVxuXG4gIHdoZWVsKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9hY3RpdmUpIHRoaXMuc3RhcnQoZXZlbnQpO1xuICAgIHRoaXMud2hlZWxDaGFuZ2UoZXZlbnQpO1xuICAgIHRoaXMudGltZW91dFN0b3JlLmFkZCgnd2hlZWxFbmQnLCB0aGlzLndoZWVsRW5kLmJpbmQodGhpcykpO1xuICB9XG5cbiAgd2hlZWxDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgc3RhdGUuX2RlbHRhID0gd2hlZWxWYWx1ZXMoZXZlbnQpO1xuICAgIFYuYWRkVG8odGhpcy5zdGF0ZS5fbW92ZW1lbnQsIHN0YXRlLl9kZWx0YSk7XG4gICAgdGhpcy5jb21wdXRlKGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIHdoZWVsRW5kKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5fYWN0aXZlKSByZXR1cm47XG4gICAgdGhpcy5zdGF0ZS5fYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5jb21wdXRlKCk7XG4gICAgdGhpcy5lbWl0KCk7XG4gIH1cblxuICBiaW5kKGJpbmRGdW5jdGlvbikge1xuICAgIGJpbmRGdW5jdGlvbignd2hlZWwnLCAnJywgdGhpcy53aGVlbC5iaW5kKHRoaXMpKTtcbiAgfVxuXG59XG5cbmNvbnN0IHdoZWVsQ29uZmlnUmVzb2x2ZXIgPSBjb29yZGluYXRlc0NvbmZpZ1Jlc29sdmVyO1xuXG5jbGFzcyBIb3ZlckVuZ2luZSBleHRlbmRzIENvb3JkaW5hdGVzRW5naW5lIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5nS2V5XCIsICdob3ZlcmluZycpO1xuICB9XG5cbiAgZW50ZXIoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jb25maWcubW91c2VPbmx5ICYmIGV2ZW50LnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgdGhpcy5zdGFydChldmVudCk7XG4gICAgdGhpcy5jb21wdXRlVmFsdWVzKHBvaW50ZXJWYWx1ZXMoZXZlbnQpKTtcbiAgICB0aGlzLmNvbXB1dGUoZXZlbnQpO1xuICAgIHRoaXMuZW1pdCgpO1xuICB9XG5cbiAgbGVhdmUoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jb25maWcubW91c2VPbmx5ICYmIGV2ZW50LnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmICghc3RhdGUuX2FjdGl2ZSkgcmV0dXJuO1xuICAgIHN0YXRlLl9hY3RpdmUgPSBmYWxzZTtcbiAgICBjb25zdCB2YWx1ZXMgPSBwb2ludGVyVmFsdWVzKGV2ZW50KTtcbiAgICBzdGF0ZS5fbW92ZW1lbnQgPSBzdGF0ZS5fZGVsdGEgPSBWLnN1Yih2YWx1ZXMsIHN0YXRlLl92YWx1ZXMpO1xuICAgIHRoaXMuY29tcHV0ZVZhbHVlcyh2YWx1ZXMpO1xuICAgIHRoaXMuY29tcHV0ZShldmVudCk7XG4gICAgc3RhdGUuZGVsdGEgPSBzdGF0ZS5tb3ZlbWVudDtcbiAgICB0aGlzLmVtaXQoKTtcbiAgfVxuXG4gIGJpbmQoYmluZEZ1bmN0aW9uKSB7XG4gICAgYmluZEZ1bmN0aW9uKCdwb2ludGVyJywgJ2VudGVyJywgdGhpcy5lbnRlci5iaW5kKHRoaXMpKTtcbiAgICBiaW5kRnVuY3Rpb24oJ3BvaW50ZXInLCAnbGVhdmUnLCB0aGlzLmxlYXZlLmJpbmQodGhpcykpO1xuICB9XG5cbn1cblxuY29uc3QgaG92ZXJDb25maWdSZXNvbHZlciA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBjb29yZGluYXRlc0NvbmZpZ1Jlc29sdmVyKSwge30sIHtcbiAgbW91c2VPbmx5OiAodmFsdWUgPSB0cnVlKSA9PiB2YWx1ZVxufSk7XG5cbmNvbnN0IEVuZ2luZU1hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IENvbmZpZ1Jlc29sdmVyTWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb24oYWN0aW9uKSB7XG4gIEVuZ2luZU1hcC5zZXQoYWN0aW9uLmtleSwgYWN0aW9uLmVuZ2luZSk7XG4gIENvbmZpZ1Jlc29sdmVyTWFwLnNldChhY3Rpb24ua2V5LCBhY3Rpb24ucmVzb2x2ZXIpO1xufVxuY29uc3QgZHJhZ0FjdGlvbiA9IHtcbiAga2V5OiAnZHJhZycsXG4gIGVuZ2luZTogRHJhZ0VuZ2luZSxcbiAgcmVzb2x2ZXI6IGRyYWdDb25maWdSZXNvbHZlclxufTtcbmNvbnN0IGhvdmVyQWN0aW9uID0ge1xuICBrZXk6ICdob3ZlcicsXG4gIGVuZ2luZTogSG92ZXJFbmdpbmUsXG4gIHJlc29sdmVyOiBob3ZlckNvbmZpZ1Jlc29sdmVyXG59O1xuY29uc3QgbW92ZUFjdGlvbiA9IHtcbiAga2V5OiAnbW92ZScsXG4gIGVuZ2luZTogTW92ZUVuZ2luZSxcbiAgcmVzb2x2ZXI6IG1vdmVDb25maWdSZXNvbHZlclxufTtcbmNvbnN0IHBpbmNoQWN0aW9uID0ge1xuICBrZXk6ICdwaW5jaCcsXG4gIGVuZ2luZTogUGluY2hFbmdpbmUsXG4gIHJlc29sdmVyOiBwaW5jaENvbmZpZ1Jlc29sdmVyXG59O1xuY29uc3Qgc2Nyb2xsQWN0aW9uID0ge1xuICBrZXk6ICdzY3JvbGwnLFxuICBlbmdpbmU6IFNjcm9sbEVuZ2luZSxcbiAgcmVzb2x2ZXI6IHNjcm9sbENvbmZpZ1Jlc29sdmVyXG59O1xuY29uc3Qgd2hlZWxBY3Rpb24gPSB7XG4gIGtleTogJ3doZWVsJyxcbiAgZW5naW5lOiBXaGVlbEVuZ2luZSxcbiAgcmVzb2x2ZXI6IHdoZWVsQ29uZmlnUmVzb2x2ZXJcbn07XG5cbmV4cG9ydCB7IENvbmZpZ1Jlc29sdmVyTWFwIGFzIEMsIEVuZ2luZU1hcCBhcyBFLCBTVVBQT1JUIGFzIFMsIF9vYmplY3RTcHJlYWQyIGFzIF8sIF9kZWZpbmVQcm9wZXJ0eSBhcyBhLCB0b3VjaElkcyBhcyBiLCBjaGFpbiBhcyBjLCB0b0hhbmRsZXJQcm9wIGFzIGQsIGRyYWdBY3Rpb24gYXMgZSwgaG92ZXJBY3Rpb24gYXMgaCwgaXNUb3VjaCBhcyBpLCBtb3ZlQWN0aW9uIGFzIG0sIHBpbmNoQWN0aW9uIGFzIHAsIHJlZ2lzdGVyQWN0aW9uIGFzIHIsIHNjcm9sbEFjdGlvbiBhcyBzLCB0b0RvbUV2ZW50VHlwZSBhcyB0LCB3aGVlbEFjdGlvbiBhcyB3IH07XG4iLCJmdW5jdGlvbiBjbGFtcCh2LCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbih2LCBtYXgpKTtcbn1cbmNvbnN0IFYgPSB7XG4gIHRvVmVjdG9yKHYsIGZhbGxiYWNrKSB7XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgdiA9IGZhbGxiYWNrO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2LCB2XTtcbiAgfSxcblxuICBhZGQodjEsIHYyKSB7XG4gICAgcmV0dXJuIFt2MVswXSArIHYyWzBdLCB2MVsxXSArIHYyWzFdXTtcbiAgfSxcblxuICBzdWIodjEsIHYyKSB7XG4gICAgcmV0dXJuIFt2MVswXSAtIHYyWzBdLCB2MVsxXSAtIHYyWzFdXTtcbiAgfSxcblxuICBhZGRUbyh2MSwgdjIpIHtcbiAgICB2MVswXSArPSB2MlswXTtcbiAgICB2MVsxXSArPSB2MlsxXTtcbiAgfSxcblxuICBzdWJUbyh2MSwgdjIpIHtcbiAgICB2MVswXSAtPSB2MlswXTtcbiAgICB2MVsxXSAtPSB2MlsxXTtcbiAgfVxuXG59O1xuXG5mdW5jdGlvbiBydWJiZXJiYW5kKGRpc3RhbmNlLCBkaW1lbnNpb24sIGNvbnN0YW50KSB7XG4gIGlmIChkaW1lbnNpb24gPT09IDAgfHwgTWF0aC5hYnMoZGltZW5zaW9uKSA9PT0gSW5maW5pdHkpIHJldHVybiBNYXRoLnBvdyhkaXN0YW5jZSwgY29uc3RhbnQgKiA1KTtcbiAgcmV0dXJuIGRpc3RhbmNlICogZGltZW5zaW9uICogY29uc3RhbnQgLyAoZGltZW5zaW9uICsgY29uc3RhbnQgKiBkaXN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzKHBvc2l0aW9uLCBtaW4sIG1heCwgY29uc3RhbnQgPSAwLjE1KSB7XG4gIGlmIChjb25zdGFudCA9PT0gMCkgcmV0dXJuIGNsYW1wKHBvc2l0aW9uLCBtaW4sIG1heCk7XG4gIGlmIChwb3NpdGlvbiA8IG1pbikgcmV0dXJuIC1ydWJiZXJiYW5kKG1pbiAtIHBvc2l0aW9uLCBtYXggLSBtaW4sIGNvbnN0YW50KSArIG1pbjtcbiAgaWYgKHBvc2l0aW9uID4gbWF4KSByZXR1cm4gK3J1YmJlcmJhbmQocG9zaXRpb24gLSBtYXgsIG1heCAtIG1pbiwgY29uc3RhbnQpICsgbWF4O1xuICByZXR1cm4gcG9zaXRpb247XG59XG5mdW5jdGlvbiBjb21wdXRlUnViYmVyYmFuZChib3VuZHMsIFtWeCwgVnldLCBbUngsIFJ5XSkge1xuICBjb25zdCBbW1gwLCBYMV0sIFtZMCwgWTFdXSA9IGJvdW5kcztcbiAgcmV0dXJuIFtydWJiZXJiYW5kSWZPdXRPZkJvdW5kcyhWeCwgWDAsIFgxLCBSeCksIHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzKFZ5LCBZMCwgWTEsIFJ5KV07XG59XG5cbmV4cG9ydCB7IFYsIGNvbXB1dGVSdWJiZXJiYW5kIGFzIGMsIHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzIGFzIHIgfTtcbiIsImltcG9ydCB7IFMgYXMgU1VQUE9SVCwgQyBhcyBDb25maWdSZXNvbHZlck1hcCwgXyBhcyBfb2JqZWN0U3ByZWFkMiwgYSBhcyBfZGVmaW5lUHJvcGVydHksIHQgYXMgdG9Eb21FdmVudFR5cGUsIGkgYXMgaXNUb3VjaCwgYiBhcyB0b3VjaElkcywgRSBhcyBFbmdpbmVNYXAsIGMgYXMgY2hhaW4sIGQgYXMgdG9IYW5kbGVyUHJvcCB9IGZyb20gJy4vYWN0aW9ucy1mZDAzMmEyNi5lc20uanMnO1xuaW1wb3J0ICcuL21hdGhzLWIyYTIxMGY0LmVzbS5qcyc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuICB2YXIga2V5LCBpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5jb25zdCBzaGFyZWRDb25maWdSZXNvbHZlciA9IHtcbiAgdGFyZ2V0KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKCkgPT4gJ2N1cnJlbnQnIGluIHZhbHVlID8gdmFsdWUuY3VycmVudCA6IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgZW5hYmxlZCh2YWx1ZSA9IHRydWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgd2luZG93KHZhbHVlID0gU1VQUE9SVC5pc0Jyb3dzZXIgPyB3aW5kb3cgOiB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgZXZlbnRPcHRpb25zKHtcbiAgICBwYXNzaXZlID0gdHJ1ZSxcbiAgICBjYXB0dXJlID0gZmFsc2VcbiAgfSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3NpdmUsXG4gICAgICBjYXB0dXJlXG4gICAgfTtcbiAgfSxcblxuICB0cmFuc2Zvcm0odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxufTtcblxuY29uc3QgX2V4Y2x1ZGVkID0gW1widGFyZ2V0XCIsIFwiZXZlbnRPcHRpb25zXCIsIFwid2luZG93XCIsIFwiZW5hYmxlZFwiLCBcInRyYW5zZm9ybVwiXTtcbmZ1bmN0aW9uIHJlc29sdmVXaXRoKGNvbmZpZyA9IHt9LCByZXNvbHZlcnMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgZm9yIChjb25zdCBba2V5LCByZXNvbHZlcl0gb2YgT2JqZWN0LmVudHJpZXMocmVzb2x2ZXJzKSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHJlc29sdmVyKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnN0IHIgPSByZXNvbHZlci5jYWxsKHJlc3VsdCwgY29uZmlnW2tleV0sIGtleSwgY29uZmlnKTtcbiAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihyKSkgcmVzdWx0W2tleV0gPSByO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gcmVzb2x2ZXIuY2FsbChyZXN1bHQsIGNvbmZpZ1trZXldLCBrZXksIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgcmVzdWx0W2tleV0gPSByZXNvbHZlV2l0aChjb25maWdba2V5XSwgcmVzb2x2ZXIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIGlmIChyZXNvbHZlcikgcmVzdWx0W2tleV0gPSBjb25maWdba2V5XTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBhcnNlKGNvbmZpZywgZ2VzdHVyZUtleSkge1xuICBjb25zdCBfcmVmID0gY29uZmlnLFxuICAgICAgICB7XG4gICAgdGFyZ2V0LFxuICAgIGV2ZW50T3B0aW9ucyxcbiAgICB3aW5kb3csXG4gICAgZW5hYmxlZCxcbiAgICB0cmFuc2Zvcm1cbiAgfSA9IF9yZWYsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCBfY29uZmlnID0ge1xuICAgIHNoYXJlZDogcmVzb2x2ZVdpdGgoe1xuICAgICAgdGFyZ2V0LFxuICAgICAgZXZlbnRPcHRpb25zLFxuICAgICAgd2luZG93LFxuICAgICAgZW5hYmxlZCxcbiAgICAgIHRyYW5zZm9ybVxuICAgIH0sIHNoYXJlZENvbmZpZ1Jlc29sdmVyKVxuICB9O1xuXG4gIGlmIChnZXN0dXJlS2V5KSB7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBDb25maWdSZXNvbHZlck1hcC5nZXQoZ2VzdHVyZUtleSk7XG4gICAgX2NvbmZpZ1tnZXN0dXJlS2V5XSA9IHJlc29sdmVXaXRoKF9vYmplY3RTcHJlYWQyKHtcbiAgICAgIHNoYXJlZDogX2NvbmZpZy5zaGFyZWRcbiAgICB9LCByZXN0KSwgcmVzb2x2ZXIpO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlc3QpIHtcbiAgICAgIGNvbnN0IHJlc29sdmVyID0gQ29uZmlnUmVzb2x2ZXJNYXAuZ2V0KGtleSk7XG5cbiAgICAgIGlmIChyZXNvbHZlcikge1xuICAgICAgICBfY29uZmlnW2tleV0gPSByZXNvbHZlV2l0aChfb2JqZWN0U3ByZWFkMih7XG4gICAgICAgICAgc2hhcmVkOiBfY29uZmlnLnNoYXJlZFxuICAgICAgICB9LCByZXN0W2tleV0pLCByZXNvbHZlcik7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGlmICghWydkcmFnJywgJ3BpbmNoJywgJ3Njcm9sbCcsICd3aGVlbCcsICdtb3ZlJywgJ2hvdmVyJ10uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdkb21UYXJnZXQnKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgW0B1c2UtZ2VzdHVyZV06IFxcYGRvbVRhcmdldFxcYCBvcHRpb24gaGFzIGJlZW4gcmVuYW1lZCB0byBcXGB0YXJnZXRcXGAuYCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS53YXJuKGBbQHVzZS1nZXN0dXJlXTogVW5rbm93biBjb25maWcga2V5IFxcYCR7a2V5fVxcYCB3YXMgdXNlZC4gUGxlYXNlIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24uYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2NvbmZpZztcbn1cblxuY2xhc3MgRXZlbnRTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKGN0cmwpIHtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJzXCIsIFtdKTtcblxuICAgIHRoaXMuX2N0cmwgPSBjdHJsO1xuICB9XG5cbiAgYWRkKGVsZW1lbnQsIGRldmljZSwgYWN0aW9uLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdHlwZSA9IHRvRG9tRXZlbnRUeXBlKGRldmljZSwgYWN0aW9uKTtcblxuICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCB0aGlzLl9jdHJsLmNvbmZpZy5zaGFyZWQuZXZlbnRPcHRpb25zKSwgb3B0aW9ucyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZXZlbnRPcHRpb25zKTtcblxuICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKCgpID0+IGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBldmVudE9wdGlvbnMpKTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKHJlbW92ZSA9PiByZW1vdmUoKSk7XG5cbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgfVxuXG59XG5cbmNsYXNzIFRpbWVvdXRTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aW1lb3V0c1wiLCBuZXcgTWFwKCkpO1xuICB9XG5cbiAgYWRkKGtleSwgY2FsbGJhY2ssIG1zID0gMTQwLCAuLi5hcmdzKSB7XG4gICAgdGhpcy5yZW1vdmUoa2V5KTtcblxuICAgIHRoaXMuX3RpbWVvdXRzLnNldChrZXksIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCBtcywgLi4uYXJncykpO1xuICB9XG5cbiAgcmVtb3ZlKGtleSkge1xuICAgIGNvbnN0IHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0cy5nZXQoa2V5KTtcblxuICAgIGlmICh0aW1lb3V0KSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgdGhpcy5fdGltZW91dHMuZm9yRWFjaCh0aW1lb3V0ID0+IHZvaWQgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KSk7XG5cbiAgICB0aGlzLl90aW1lb3V0cy5jbGVhcigpO1xuICB9XG5cbn1cblxuY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZXJzKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2VzdHVyZXNcIiwgbmV3IFNldCgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRFdmVudFN0b3JlXCIsIG5ldyBFdmVudFN0b3JlKHRoaXMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdlc3R1cmVFdmVudFN0b3Jlc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXN0dXJlVGltZW91dFN0b3Jlc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVyc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25maWdcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicG9pbnRlcklkc1wiLCBuZXcgU2V0KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG91Y2hJZHNcIiwgbmV3IFNldCgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHtcbiAgICAgIHNoYXJlZDoge1xuICAgICAgICBzaGlmdEtleTogZmFsc2UsXG4gICAgICAgIG1ldGFLZXk6IGZhbHNlLFxuICAgICAgICBjdHJsS2V5OiBmYWxzZSxcbiAgICAgICAgYWx0S2V5OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVzb2x2ZUdlc3R1cmVzKHRoaXMsIGhhbmRsZXJzKTtcbiAgfVxuXG4gIHNldEV2ZW50SWRzKGV2ZW50KSB7XG4gICAgaWYgKGlzVG91Y2goZXZlbnQpKSB7XG4gICAgICB0aGlzLnRvdWNoSWRzID0gbmV3IFNldCh0b3VjaElkcyhldmVudCkpO1xuICAgIH0gZWxzZSBpZiAoJ3BvaW50ZXJJZCcgaW4gZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlID09PSAncG9pbnRlcnVwJyB8fCBldmVudC50eXBlID09PSAncG9pbnRlcmNhbmNlbCcpIHRoaXMucG9pbnRlcklkcy5kZWxldGUoZXZlbnQucG9pbnRlcklkKTtlbHNlIGlmIChldmVudC50eXBlID09PSAncG9pbnRlcmRvd24nKSB0aGlzLnBvaW50ZXJJZHMuYWRkKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlIYW5kbGVycyhoYW5kbGVycywgbmF0aXZlSGFuZGxlcnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgdGhpcy5uYXRpdmVIYW5kbGVycyA9IG5hdGl2ZUhhbmRsZXJzO1xuICB9XG5cbiAgYXBwbHlDb25maWcoY29uZmlnLCBnZXN0dXJlS2V5KSB7XG4gICAgdGhpcy5jb25maWcgPSBwYXJzZShjb25maWcsIGdlc3R1cmVLZXkpO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgdGhpcy5fdGFyZ2V0RXZlbnRTdG9yZS5jbGVhbigpO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5nZXN0dXJlcykge1xuICAgICAgdGhpcy5nZXN0dXJlRXZlbnRTdG9yZXNba2V5XS5jbGVhbigpO1xuICAgICAgdGhpcy5nZXN0dXJlVGltZW91dFN0b3Jlc1trZXldLmNsZWFuKCk7XG4gICAgfVxuICB9XG5cbiAgZWZmZWN0KCkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5zaGFyZWQudGFyZ2V0KSB0aGlzLmJpbmQoKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5fdGFyZ2V0RXZlbnRTdG9yZS5jbGVhbigpO1xuICB9XG5cbiAgYmluZCguLi5hcmdzKSB7XG4gICAgY29uc3Qgc2hhcmVkQ29uZmlnID0gdGhpcy5jb25maWcuc2hhcmVkO1xuICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHNoYXJlZENvbmZpZy5ldmVudE9wdGlvbnM7XG4gICAgY29uc3QgcHJvcHMgPSB7fTtcbiAgICBsZXQgdGFyZ2V0O1xuXG4gICAgaWYgKHNoYXJlZENvbmZpZy50YXJnZXQpIHtcbiAgICAgIHRhcmdldCA9IHNoYXJlZENvbmZpZy50YXJnZXQoKTtcbiAgICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYmluZEZ1bmN0aW9uID0gYmluZFRvUHJvcHMocHJvcHMsIGV2ZW50T3B0aW9ucywgISF0YXJnZXQpO1xuXG4gICAgaWYgKHNoYXJlZENvbmZpZy5lbmFibGVkKSB7XG4gICAgICBmb3IgKGNvbnN0IGdlc3R1cmVLZXkgb2YgdGhpcy5nZXN0dXJlcykge1xuICAgICAgICBpZiAodGhpcy5jb25maWdbZ2VzdHVyZUtleV0uZW5hYmxlZCkge1xuICAgICAgICAgIGNvbnN0IEVuZ2luZSA9IEVuZ2luZU1hcC5nZXQoZ2VzdHVyZUtleSk7XG4gICAgICAgICAgbmV3IEVuZ2luZSh0aGlzLCBhcmdzLCBnZXN0dXJlS2V5KS5iaW5kKGJpbmRGdW5jdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBldmVudEtleSBpbiB0aGlzLm5hdGl2ZUhhbmRsZXJzKSB7XG4gICAgICAgIGJpbmRGdW5jdGlvbihldmVudEtleSwgJycsIGV2ZW50ID0+IHRoaXMubmF0aXZlSGFuZGxlcnNbZXZlbnRLZXldKF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCB0aGlzLnN0YXRlLnNoYXJlZCksIHt9LCB7XG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgYXJnc1xuICAgICAgICB9KSksIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBoYW5kbGVyUHJvcCBpbiBwcm9wcykge1xuICAgICAgcHJvcHNbaGFuZGxlclByb3BdID0gY2hhaW4oLi4ucHJvcHNbaGFuZGxlclByb3BdKTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuIHByb3BzO1xuXG4gICAgZm9yIChjb25zdCBoYW5kbGVyUHJvcCBpbiBwcm9wcykge1xuICAgICAgbGV0IGV2ZW50S2V5ID0gaGFuZGxlclByb3Auc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBjYXB0dXJlID0gISF+ZXZlbnRLZXkuaW5kZXhPZignY2FwdHVyZScpO1xuICAgICAgY29uc3QgcGFzc2l2ZSA9ICEhfmV2ZW50S2V5LmluZGV4T2YoJ3Bhc3NpdmUnKTtcbiAgICAgIGlmIChjYXB0dXJlIHx8IHBhc3NpdmUpIGV2ZW50S2V5ID0gZXZlbnRLZXkucmVwbGFjZSgvY2FwdHVyZXxwYXNzaXZlL2csICcnKTtcblxuICAgICAgdGhpcy5fdGFyZ2V0RXZlbnRTdG9yZS5hZGQodGFyZ2V0LCBldmVudEtleSwgJycsIHByb3BzW2hhbmRsZXJQcm9wXSwge1xuICAgICAgICBjYXB0dXJlLFxuICAgICAgICBwYXNzaXZlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBzZXR1cEdlc3R1cmUoY3RybCwgZ2VzdHVyZUtleSkge1xuICBjdHJsLmdlc3R1cmVzLmFkZChnZXN0dXJlS2V5KTtcbiAgY3RybC5nZXN0dXJlRXZlbnRTdG9yZXNbZ2VzdHVyZUtleV0gPSBuZXcgRXZlbnRTdG9yZShjdHJsKTtcbiAgY3RybC5nZXN0dXJlVGltZW91dFN0b3Jlc1tnZXN0dXJlS2V5XSA9IG5ldyBUaW1lb3V0U3RvcmUoKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUdlc3R1cmVzKGN0cmwsIGludGVybmFsSGFuZGxlcnMpIHtcbiAgaWYgKGludGVybmFsSGFuZGxlcnMuZHJhZykgc2V0dXBHZXN0dXJlKGN0cmwsICdkcmFnJyk7XG4gIGlmIChpbnRlcm5hbEhhbmRsZXJzLndoZWVsKSBzZXR1cEdlc3R1cmUoY3RybCwgJ3doZWVsJyk7XG4gIGlmIChpbnRlcm5hbEhhbmRsZXJzLnNjcm9sbCkgc2V0dXBHZXN0dXJlKGN0cmwsICdzY3JvbGwnKTtcbiAgaWYgKGludGVybmFsSGFuZGxlcnMubW92ZSkgc2V0dXBHZXN0dXJlKGN0cmwsICdtb3ZlJyk7XG4gIGlmIChpbnRlcm5hbEhhbmRsZXJzLnBpbmNoKSBzZXR1cEdlc3R1cmUoY3RybCwgJ3BpbmNoJyk7XG4gIGlmIChpbnRlcm5hbEhhbmRsZXJzLmhvdmVyKSBzZXR1cEdlc3R1cmUoY3RybCwgJ2hvdmVyJyk7XG59XG5cbmNvbnN0IGJpbmRUb1Byb3BzID0gKHByb3BzLCBldmVudE9wdGlvbnMsIHdpdGhQYXNzaXZlT3B0aW9uKSA9PiAoZGV2aWNlLCBhY3Rpb24sIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSwgaXNOYXRpdmUgPSBmYWxzZSkgPT4ge1xuICB2YXIgX29wdGlvbnMkY2FwdHVyZSwgX29wdGlvbnMkcGFzc2l2ZTtcblxuICBjb25zdCBjYXB0dXJlID0gKF9vcHRpb25zJGNhcHR1cmUgPSBvcHRpb25zLmNhcHR1cmUpICE9PSBudWxsICYmIF9vcHRpb25zJGNhcHR1cmUgIT09IHZvaWQgMCA/IF9vcHRpb25zJGNhcHR1cmUgOiBldmVudE9wdGlvbnMuY2FwdHVyZTtcbiAgY29uc3QgcGFzc2l2ZSA9IChfb3B0aW9ucyRwYXNzaXZlID0gb3B0aW9ucy5wYXNzaXZlKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRwYXNzaXZlICE9PSB2b2lkIDAgPyBfb3B0aW9ucyRwYXNzaXZlIDogZXZlbnRPcHRpb25zLnBhc3NpdmU7XG4gIGxldCBoYW5kbGVyUHJvcCA9IGlzTmF0aXZlID8gZGV2aWNlIDogdG9IYW5kbGVyUHJvcChkZXZpY2UsIGFjdGlvbiwgY2FwdHVyZSk7XG4gIGlmICh3aXRoUGFzc2l2ZU9wdGlvbiAmJiBwYXNzaXZlKSBoYW5kbGVyUHJvcCArPSAnUGFzc2l2ZSc7XG4gIHByb3BzW2hhbmRsZXJQcm9wXSA9IHByb3BzW2hhbmRsZXJQcm9wXSB8fCBbXTtcbiAgcHJvcHNbaGFuZGxlclByb3BdLnB1c2goaGFuZGxlcik7XG59O1xuXG5jb25zdCBSRV9OT1RfTkFUSVZFID0gL15vbihEcmFnfFdoZWVsfFNjcm9sbHxNb3ZlfFBpbmNofEhvdmVyKS87XG5cbmZ1bmN0aW9uIHNvcnRIYW5kbGVycyhfaGFuZGxlcnMpIHtcbiAgY29uc3QgbmF0aXZlID0ge307XG4gIGNvbnN0IGhhbmRsZXJzID0ge307XG4gIGNvbnN0IGFjdGlvbnMgPSBuZXcgU2V0KCk7XG5cbiAgZm9yIChsZXQga2V5IGluIF9oYW5kbGVycykge1xuICAgIGlmIChSRV9OT1RfTkFUSVZFLnRlc3Qoa2V5KSkge1xuICAgICAgYWN0aW9ucy5hZGQoUmVnRXhwLmxhc3RNYXRjaCk7XG4gICAgICBoYW5kbGVyc1trZXldID0gX2hhbmRsZXJzW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hdGl2ZVtrZXldID0gX2hhbmRsZXJzW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtoYW5kbGVycywgbmF0aXZlLCBhY3Rpb25zXTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJHZXN0dXJlKGFjdGlvbnMsIGhhbmRsZXJzLCBoYW5kbGVyS2V5LCBrZXksIGludGVybmFsSGFuZGxlcnMsIGNvbmZpZykge1xuICBpZiAoIWFjdGlvbnMuaGFzKGhhbmRsZXJLZXkpKSByZXR1cm47XG5cbiAgaWYgKCFFbmdpbmVNYXAuaGFzKGtleSkpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0B1c2UtZ2VzdHVyZV06IFlvdSd2ZSBjcmVhdGVkIGEgY3VzdG9tIGhhbmRsZXIgdGhhdCB0aGF0IHVzZXMgdGhlIFxcYCR7a2V5fVxcYCBnZXN0dXJlIGJ1dCBpc24ndCBwcm9wZXJseSBjb25maWd1cmVkLlxcblxcblBsZWFzZSBhZGQgXFxgJHtrZXl9QWN0aW9uXFxgIHdoZW4gY3JlYXRpbmcgeW91ciBoYW5kbGVyLmApO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0S2V5ID0gaGFuZGxlcktleSArICdTdGFydCc7XG4gIGNvbnN0IGVuZEtleSA9IGhhbmRsZXJLZXkgKyAnRW5kJztcblxuICBjb25zdCBmbiA9IHN0YXRlID0+IHtcbiAgICBsZXQgbWVtbyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoc3RhdGUuZmlyc3QgJiYgc3RhcnRLZXkgaW4gaGFuZGxlcnMpIGhhbmRsZXJzW3N0YXJ0S2V5XShzdGF0ZSk7XG4gICAgaWYgKGhhbmRsZXJLZXkgaW4gaGFuZGxlcnMpIG1lbW8gPSBoYW5kbGVyc1toYW5kbGVyS2V5XShzdGF0ZSk7XG4gICAgaWYgKHN0YXRlLmxhc3QgJiYgZW5kS2V5IGluIGhhbmRsZXJzKSBoYW5kbGVyc1tlbmRLZXldKHN0YXRlKTtcbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICBpbnRlcm5hbEhhbmRsZXJzW2tleV0gPSBmbjtcbiAgY29uZmlnW2tleV0gPSBjb25maWdba2V5XSB8fCB7fTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNZXJnZWRIYW5kbGVycyhtZXJnZWRIYW5kbGVycywgbWVyZ2VkQ29uZmlnKSB7XG4gIGNvbnN0IFtoYW5kbGVycywgbmF0aXZlSGFuZGxlcnMsIGFjdGlvbnNdID0gc29ydEhhbmRsZXJzKG1lcmdlZEhhbmRsZXJzKTtcbiAgY29uc3QgaW50ZXJuYWxIYW5kbGVycyA9IHt9O1xuICByZWdpc3Rlckdlc3R1cmUoYWN0aW9ucywgaGFuZGxlcnMsICdvbkRyYWcnLCAnZHJhZycsIGludGVybmFsSGFuZGxlcnMsIG1lcmdlZENvbmZpZyk7XG4gIHJlZ2lzdGVyR2VzdHVyZShhY3Rpb25zLCBoYW5kbGVycywgJ29uV2hlZWwnLCAnd2hlZWwnLCBpbnRlcm5hbEhhbmRsZXJzLCBtZXJnZWRDb25maWcpO1xuICByZWdpc3Rlckdlc3R1cmUoYWN0aW9ucywgaGFuZGxlcnMsICdvblNjcm9sbCcsICdzY3JvbGwnLCBpbnRlcm5hbEhhbmRsZXJzLCBtZXJnZWRDb25maWcpO1xuICByZWdpc3Rlckdlc3R1cmUoYWN0aW9ucywgaGFuZGxlcnMsICdvblBpbmNoJywgJ3BpbmNoJywgaW50ZXJuYWxIYW5kbGVycywgbWVyZ2VkQ29uZmlnKTtcbiAgcmVnaXN0ZXJHZXN0dXJlKGFjdGlvbnMsIGhhbmRsZXJzLCAnb25Nb3ZlJywgJ21vdmUnLCBpbnRlcm5hbEhhbmRsZXJzLCBtZXJnZWRDb25maWcpO1xuICByZWdpc3Rlckdlc3R1cmUoYWN0aW9ucywgaGFuZGxlcnMsICdvbkhvdmVyJywgJ2hvdmVyJywgaW50ZXJuYWxIYW5kbGVycywgbWVyZ2VkQ29uZmlnKTtcbiAgcmV0dXJuIHtcbiAgICBoYW5kbGVyczogaW50ZXJuYWxIYW5kbGVycyxcbiAgICBjb25maWc6IG1lcmdlZENvbmZpZyxcbiAgICBuYXRpdmVIYW5kbGVyc1xuICB9O1xufVxuXG5leHBvcnQgeyBDb250cm9sbGVyLCBwYXJzZU1lcmdlZEhhbmRsZXJzIH07XG4iLCJcbiIsImV4cG9ydCB7IHIgYXMgcnViYmVyYmFuZElmT3V0T2ZCb3VuZHMgfSBmcm9tICcuLi8uLi9kaXN0L21hdGhzLWIyYTIxMGY0LmVzbS5qcyc7XG4iLCJpbXBvcnQgeyByZWdpc3RlckFjdGlvbiwgZHJhZ0FjdGlvbiwgcGluY2hBY3Rpb24sIHdoZWVsQWN0aW9uLCBzY3JvbGxBY3Rpb24sIG1vdmVBY3Rpb24sIGhvdmVyQWN0aW9uIH0gZnJvbSAnQHVzZS1nZXN0dXJlL2NvcmUvYWN0aW9ucyc7XG5leHBvcnQgKiBmcm9tICdAdXNlLWdlc3R1cmUvY29yZS9hY3Rpb25zJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb250cm9sbGVyLCBwYXJzZU1lcmdlZEhhbmRsZXJzIH0gZnJvbSAnQHVzZS1nZXN0dXJlL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHVzZS1nZXN0dXJlL2NvcmUvdXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnQHVzZS1nZXN0dXJlL2NvcmUvdHlwZXMnO1xuXG5mdW5jdGlvbiB1c2VSZWNvZ25pemVycyhoYW5kbGVycywgY29uZmlnID0ge30sIGdlc3R1cmVLZXksIG5hdGl2ZUhhbmRsZXJzKSB7XG4gIGNvbnN0IGN0cmwgPSBSZWFjdC51c2VNZW1vKCgpID0+IG5ldyBDb250cm9sbGVyKGhhbmRsZXJzKSwgW10pO1xuICBjdHJsLmFwcGx5SGFuZGxlcnMoaGFuZGxlcnMsIG5hdGl2ZUhhbmRsZXJzKTtcbiAgY3RybC5hcHBseUNvbmZpZyhjb25maWcsIGdlc3R1cmVLZXkpO1xuICBSZWFjdC51c2VFZmZlY3QoY3RybC5lZmZlY3QuYmluZChjdHJsKSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIGN0cmwuY2xlYW4uYmluZChjdHJsKTtcbiAgfSwgW10pO1xuXG4gIGlmIChjb25maWcudGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY3RybC5iaW5kLmJpbmQoY3RybCk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB1c2VEcmFnKGhhbmRsZXIsIGNvbmZpZyA9IHt9KSB7XG4gIHJlZ2lzdGVyQWN0aW9uKGRyYWdBY3Rpb24pO1xuICByZXR1cm4gdXNlUmVjb2duaXplcnMoe1xuICAgIGRyYWc6IGhhbmRsZXJcbiAgfSwgY29uZmlnLCAnZHJhZycpO1xufVxuXG5mdW5jdGlvbiB1c2VQaW5jaChoYW5kbGVyLCBjb25maWcgPSB7fSkge1xuICByZWdpc3RlckFjdGlvbihwaW5jaEFjdGlvbik7XG4gIHJldHVybiB1c2VSZWNvZ25pemVycyh7XG4gICAgcGluY2g6IGhhbmRsZXJcbiAgfSwgY29uZmlnLCAncGluY2gnKTtcbn1cblxuZnVuY3Rpb24gdXNlV2hlZWwoaGFuZGxlciwgY29uZmlnID0ge30pIHtcbiAgcmVnaXN0ZXJBY3Rpb24od2hlZWxBY3Rpb24pO1xuICByZXR1cm4gdXNlUmVjb2duaXplcnMoe1xuICAgIHdoZWVsOiBoYW5kbGVyXG4gIH0sIGNvbmZpZywgJ3doZWVsJyk7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcm9sbChoYW5kbGVyLCBjb25maWcgPSB7fSkge1xuICByZWdpc3RlckFjdGlvbihzY3JvbGxBY3Rpb24pO1xuICByZXR1cm4gdXNlUmVjb2duaXplcnMoe1xuICAgIHNjcm9sbDogaGFuZGxlclxuICB9LCBjb25maWcsICdzY3JvbGwnKTtcbn1cblxuZnVuY3Rpb24gdXNlTW92ZShoYW5kbGVyLCBjb25maWcgPSB7fSkge1xuICByZWdpc3RlckFjdGlvbihtb3ZlQWN0aW9uKTtcbiAgcmV0dXJuIHVzZVJlY29nbml6ZXJzKHtcbiAgICBtb3ZlOiBoYW5kbGVyXG4gIH0sIGNvbmZpZywgJ21vdmUnKTtcbn1cblxuZnVuY3Rpb24gdXNlSG92ZXIoaGFuZGxlciwgY29uZmlnID0ge30pIHtcbiAgcmVnaXN0ZXJBY3Rpb24oaG92ZXJBY3Rpb24pO1xuICByZXR1cm4gdXNlUmVjb2duaXplcnMoe1xuICAgIGhvdmVyOiBoYW5kbGVyXG4gIH0sIGNvbmZpZywgJ2hvdmVyJyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZUdlc3R1cmUoYWN0aW9ucykge1xuICBhY3Rpb25zLmZvckVhY2gocmVnaXN0ZXJBY3Rpb24pO1xuICByZXR1cm4gZnVuY3Rpb24gdXNlR2VzdHVyZShfaGFuZGxlcnMsIF9jb25maWcgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGhhbmRsZXJzLFxuICAgICAgbmF0aXZlSGFuZGxlcnMsXG4gICAgICBjb25maWdcbiAgICB9ID0gcGFyc2VNZXJnZWRIYW5kbGVycyhfaGFuZGxlcnMsIF9jb25maWcpO1xuICAgIHJldHVybiB1c2VSZWNvZ25pemVycyhoYW5kbGVycywgY29uZmlnLCB1bmRlZmluZWQsIG5hdGl2ZUhhbmRsZXJzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlR2VzdHVyZShoYW5kbGVycywgY29uZmlnID0ge30pIHtcbiAgY29uc3QgaG9vayA9IGNyZWF0ZVVzZUdlc3R1cmUoW2RyYWdBY3Rpb24sIHBpbmNoQWN0aW9uLCBzY3JvbGxBY3Rpb24sIHdoZWVsQWN0aW9uLCBtb3ZlQWN0aW9uLCBob3ZlckFjdGlvbl0pO1xuICByZXR1cm4gaG9vayhoYW5kbGVycywgY29uZmlnKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVXNlR2VzdHVyZSwgdXNlRHJhZywgdXNlR2VzdHVyZSwgdXNlSG92ZXIsIHVzZU1vdmUsIHVzZVBpbmNoLCB1c2VTY3JvbGwsIHVzZVdoZWVsIH07XG4iLCJpbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIGNyZWF0ZVVwZGF0ZUVmZmVjdCA9IGZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZUVmZmVjdChob29rKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWZmZWN0LCBkZXBzKSB7XG4gICAgdmFyIGlzTW91bnRlZCA9IHVzZVJlZihmYWxzZSk7IC8vIGZvciByZWFjdC1yZWZyZXNoXG5cbiAgICBob29rKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBob29rKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVmZmVjdCgpO1xuICAgICAgfVxuICAgIH0sIGRlcHMpO1xuICB9O1xufTsiLCJpbXBvcnQgdXNlTGF0ZXN0IGZyb20gJy4uL3VzZUxhdGVzdCc7XG5pbXBvcnQgeyBnZXRUYXJnZXRFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMvZG9tVGFyZ2V0JztcbmltcG9ydCB1c2VFZmZlY3RXaXRoVGFyZ2V0IGZyb20gJy4uL3V0aWxzL3VzZUVmZmVjdFdpdGhUYXJnZXQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQ2xpY2tBd2F5KG9uQ2xpY2tBd2F5LCB0YXJnZXQsIGV2ZW50TmFtZSkge1xuICBpZiAoZXZlbnROYW1lID09PSB2b2lkIDApIHtcbiAgICBldmVudE5hbWUgPSAnY2xpY2snO1xuICB9XG5cbiAgdmFyIG9uQ2xpY2tBd2F5UmVmID0gdXNlTGF0ZXN0KG9uQ2xpY2tBd2F5KTtcbiAgdXNlRWZmZWN0V2l0aFRhcmdldChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0cyA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldCA6IFt0YXJnZXRdO1xuXG4gICAgICBpZiAodGFyZ2V0cy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZ2V0VGFyZ2V0RWxlbWVudChpdGVtKTtcbiAgICAgICAgcmV0dXJuICF0YXJnZXRFbGVtZW50IHx8ICh0YXJnZXRFbGVtZW50ID09PSBudWxsIHx8IHRhcmdldEVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSk7XG4gICAgICB9KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9uQ2xpY2tBd2F5UmVmLmN1cnJlbnQoZXZlbnQpO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnROYW1lcyA9IEFycmF5LmlzQXJyYXkoZXZlbnROYW1lKSA/IGV2ZW50TmFtZSA6IFtldmVudE5hbWVdO1xuICAgIGV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZXZlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBBcnJheS5pc0FycmF5KGV2ZW50TmFtZSkgPyBldmVudE5hbWUgOiBbZXZlbnROYW1lXSwgdGFyZ2V0KTtcbn0iLCJ2YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VEZWJvdW5jZUZuIGZyb20gJy4uL3VzZURlYm91bmNlRm4nO1xuaW1wb3J0IHVzZVVubW91bnQgZnJvbSAnLi4vdXNlVW5tb3VudCc7XG5pbXBvcnQgdXNlVXBkYXRlRWZmZWN0IGZyb20gJy4uL3VzZVVwZGF0ZUVmZmVjdCc7XG5cbmZ1bmN0aW9uIHVzZURlYm91bmNlRWZmZWN0KGVmZmVjdCwgZGVwcywgb3B0aW9ucykge1xuICB2YXIgX2EgPSBfX3JlYWQodXNlU3RhdGUoe30pLCAyKSxcbiAgICAgIGZsYWcgPSBfYVswXSxcbiAgICAgIHNldEZsYWcgPSBfYVsxXTtcblxuICB2YXIgX2IgPSB1c2VEZWJvdW5jZUZuKGZ1bmN0aW9uICgpIHtcbiAgICBzZXRGbGFnKHt9KTtcbiAgfSwgb3B0aW9ucyksXG4gICAgICBydW4gPSBfYi5ydW4sXG4gICAgICBjYW5jZWwgPSBfYi5jYW5jZWw7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcnVuKCk7XG4gIH0sIGRlcHMpO1xuICB1c2VVbm1vdW50KGNhbmNlbCk7XG4gIHVzZVVwZGF0ZUVmZmVjdChlZmZlY3QsIFtmbGFnXSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZURlYm91bmNlRWZmZWN0OyIsInZhciBfX3JlYWQgPSB0aGlzICYmIHRoaXMuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB0aGlzICYmIHRoaXMuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VMYXRlc3QgZnJvbSAnLi4vdXNlTGF0ZXN0JztcbmltcG9ydCB1c2VVbm1vdW50IGZyb20gJy4uL3VzZVVubW91bnQnO1xuXG5mdW5jdGlvbiB1c2VEZWJvdW5jZUZuKGZuLCBvcHRpb25zKSB7XG4gIHZhciBfYTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwidXNlRGVib3VuY2VGbiBleHBlY3RlZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiwgZ290IFwiICsgdHlwZW9mIGZuKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZm5SZWYgPSB1c2VMYXRlc3QoZm4pO1xuICB2YXIgd2FpdCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxMDAwO1xuICB2YXIgZGVib3VuY2VkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuUmVmLmN1cnJlbnQuYXBwbHkoZm5SZWYsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICB9LCB3YWl0LCBvcHRpb25zKTtcbiAgfSwgW10pO1xuICB1c2VVbm1vdW50KGZ1bmN0aW9uICgpIHtcbiAgICBkZWJvdW5jZWQuY2FuY2VsKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJ1bjogZGVib3VuY2VkLFxuICAgIGNhbmNlbDogZGVib3VuY2VkLmNhbmNlbCxcbiAgICBmbHVzaDogZGVib3VuY2VkLmZsdXNoXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZURlYm91bmNlRm47IiwidmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fdmFsdWVzID0gdGhpcyAmJiB0aGlzLl9fdmFsdWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIG0gPSBzICYmIG9bc10sXG4gICAgICBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBvICYmIG9baSsrXSxcbiAgICAgICAgZG9uZTogIW9cbiAgICAgIH07XG4gICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuXG5pbXBvcnQgJ2ludGVyc2VjdGlvbi1vYnNlcnZlcic7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFRhcmdldEVsZW1lbnQgfSBmcm9tICcuLi91dGlscy9kb21UYXJnZXQnO1xuaW1wb3J0IHVzZUVmZmVjdFdpdGhUYXJnZXQgZnJvbSAnLi4vdXRpbHMvdXNlRWZmZWN0V2l0aFRhcmdldCc7XG5cbmZ1bmN0aW9uIHVzZUluVmlld3BvcnQodGFyZ2V0LCBvcHRpb25zKSB7XG4gIHZhciBfYSA9IF9fcmVhZCh1c2VTdGF0ZSgpLCAyKSxcbiAgICAgIHN0YXRlID0gX2FbMF0sXG4gICAgICBzZXRTdGF0ZSA9IF9hWzFdO1xuXG4gIHZhciBfYiA9IF9fcmVhZCh1c2VTdGF0ZSgpLCAyKSxcbiAgICAgIHJhdGlvID0gX2JbMF0sXG4gICAgICBzZXRSYXRpbyA9IF9iWzFdO1xuXG4gIHVzZUVmZmVjdFdpdGhUYXJnZXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IGdldFRhcmdldEVsZW1lbnQodGFyZ2V0KTtcblxuICAgIGlmICghZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgIHZhciBlXzEsIF9hO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBlbnRyaWVzXzEgPSBfX3ZhbHVlcyhlbnRyaWVzKSwgZW50cmllc18xXzEgPSBlbnRyaWVzXzEubmV4dCgpOyAhZW50cmllc18xXzEuZG9uZTsgZW50cmllc18xXzEgPSBlbnRyaWVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc18xXzEudmFsdWU7XG4gICAgICAgICAgc2V0UmF0aW8oZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8pO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBzZXRTdGF0ZSh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0U3RhdGUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgZV8xID0ge1xuICAgICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoZW50cmllc18xXzEgJiYgIWVudHJpZXNfMV8xLmRvbmUgJiYgKF9hID0gZW50cmllc18xW1wicmV0dXJuXCJdKSkgX2EuY2FsbChlbnRyaWVzXzEpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwge1xuICAgICAgcm9vdDogZ2V0VGFyZ2V0RWxlbWVudChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucm9vdClcbiAgICB9KSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbXSwgdGFyZ2V0KTtcbiAgcmV0dXJuIFtzdGF0ZSwgcmF0aW9dO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VJblZpZXdwb3J0OyIsImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlTGF0ZXN0KHZhbHVlKSB7XG4gIHZhciByZWYgPSB1c2VSZWYodmFsdWUpO1xuICByZWYuY3VycmVudCA9IHZhbHVlO1xuICByZXR1cm4gcmVmO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VMYXRlc3Q7IiwidmFyIF9fYXdhaXRlciA9IHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICB9XG5cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcblxudmFyIF9fZ2VuZXJhdG9yID0gdGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0ge1xuICAgIGxhYmVsOiAwLFxuICAgIHNlbnQ6IGZ1bmN0aW9uIHNlbnQoKSB7XG4gICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICByZXR1cm4gdFsxXTtcbiAgICB9LFxuICAgIHRyeXM6IFtdLFxuICAgIG9wczogW11cbiAgfSxcbiAgICAgIGYsXG4gICAgICB5LFxuICAgICAgdCxcbiAgICAgIGc7XG4gIHJldHVybiBnID0ge1xuICAgIG5leHQ6IHZlcmIoMCksXG4gICAgXCJ0aHJvd1wiOiB2ZXJiKDEpLFxuICAgIFwicmV0dXJuXCI6IHZlcmIoMilcbiAgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBnO1xuXG4gIGZ1bmN0aW9uIHZlcmIobikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcblxuICAgIHdoaWxlIChfKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcblxuICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IG9wWzFdLFxuICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuXG4gICAgICAgICAgICBfLnRyeXMucG9wKCk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7XG4gICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCBvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkge1xuICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV07XG4gICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuXG4gICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG5cbiAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgIHkgPSAwO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCxcbiAgICAgIGRvbmU6IHRydWVcbiAgICB9O1xuICB9XG59O1xuXG52YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdGhpcyAmJiB0aGlzLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VMb2NrRm4oZm4pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgbG9ja1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXQsIGVfMTtcbiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChsb2NrUmVmLmN1cnJlbnQpIHJldHVybiBbMlxuICAgICAgICAgICAgLypyZXR1cm4qL1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGxvY2tSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsLCA0XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBbNFxuICAgICAgICAgICAgLyp5aWVsZCovXG4gICAgICAgICAgICAsIGZuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoYXJncykpXTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgIGxvY2tSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFsyXG4gICAgICAgICAgICAvKnJldHVybiovXG4gICAgICAgICAgICAsIHJldF07XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICBsb2NrUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRocm93IGVfMTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiBbMlxuICAgICAgICAgICAgLypyZXR1cm4qL1xuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtmbl0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VMb2NrRm47IiwiaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VNZW1vaXplZEZuKGZuKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ1c2VNZW1vaXplZEZuIGV4cGVjdGVkIHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uLCBnb3QgXCIgKyB0eXBlb2YgZm4pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmblJlZiA9IHVzZVJlZihmbik7IC8vIHdoeSBub3Qgd3JpdGUgYGZuUmVmLmN1cnJlbnQgPSBmbmA/XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGliYWJhL2hvb2tzL2lzc3Vlcy83MjhcblxuICBmblJlZi5jdXJyZW50ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9LCBbZm5dKTtcbiAgdmFyIG1lbW9pemVkRm4gPSB1c2VSZWYoKTtcblxuICBpZiAoIW1lbW9pemVkRm4uY3VycmVudCkge1xuICAgIG1lbW9pemVkRm4uY3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1pbnZhbGlkLXRoaXNcblxuXG4gICAgICByZXR1cm4gZm5SZWYuY3VycmVudC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9pemVkRm4uY3VycmVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlTWVtb2l6ZWRGbjsiLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbnZhciB1c2VNb3VudCA9IGZ1bmN0aW9uIHVzZU1vdW50KGZuKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ1c2VNb3VudDogcGFyYW1ldGVyIGBmbmAgZXhwZWN0ZWQgdG8gYmUgYSBmdW5jdGlvbiwgYnV0IGdvdCBcXFwiXCIgKyB0eXBlb2YgZm4gKyBcIlxcXCIuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZm4gPT09IG51bGwgfHwgZm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZuKCk7XG4gIH0sIFtdKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZU1vdW50OyIsInZhciBfX3JlYWQgPSB0aGlzICYmIHRoaXMuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB0aGlzICYmIHRoaXMuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VMYXRlc3QgZnJvbSAnLi4vdXNlTGF0ZXN0JztcbmltcG9ydCB1c2VVbm1vdW50IGZyb20gJy4uL3VzZVVubW91bnQnO1xuXG5mdW5jdGlvbiB1c2VUaHJvdHRsZUZuKGZuLCBvcHRpb25zKSB7XG4gIHZhciBfYTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwidXNlVGhyb3R0bGVGbiBleHBlY3RlZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiwgZ290IFwiICsgdHlwZW9mIGZuKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZm5SZWYgPSB1c2VMYXRlc3QoZm4pO1xuICB2YXIgd2FpdCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxMDAwO1xuICB2YXIgdGhyb3R0bGVkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuUmVmLmN1cnJlbnQuYXBwbHkoZm5SZWYsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICB9LCB3YWl0LCBvcHRpb25zKTtcbiAgfSwgW10pO1xuICB1c2VVbm1vdW50KGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdHRsZWQuY2FuY2VsKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJ1bjogdGhyb3R0bGVkLFxuICAgIGNhbmNlbDogdGhyb3R0bGVkLmNhbmNlbCxcbiAgICBmbHVzaDogdGhyb3R0bGVkLmZsdXNoXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVRocm90dGxlRm47IiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUxhdGVzdCBmcm9tICcuLi91c2VMYXRlc3QnO1xuXG5mdW5jdGlvbiB1c2VUaW1lb3V0KGZuLCBkZWxheSkge1xuICB2YXIgZm5SZWYgPSB1c2VMYXRlc3QoZm4pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgZGVsYXkgIT09ICdudW1iZXInIHx8IGRlbGF5IDw9IDApIHJldHVybjtcbiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGZuUmVmLmN1cnJlbnQoKTtcbiAgICB9LCBkZWxheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW2RlbGF5XSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVRpbWVvdXQ7IiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUxhdGVzdCBmcm9tICcuLi91c2VMYXRlc3QnO1xuXG52YXIgdXNlVW5tb3VudCA9IGZ1bmN0aW9uIHVzZVVubW91bnQoZm4pIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihcInVzZVVubW91bnQgZXhwZWN0ZWQgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24sIGdvdCBcIiArIHR5cGVvZiBmbik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZuUmVmID0gdXNlTGF0ZXN0KGZuKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm5SZWYuY3VycmVudCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVVubW91bnQ7IiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbnZhciB1c2VVbm1vdW50ZWRSZWYgPSBmdW5jdGlvbiB1c2VVbm1vdW50ZWRSZWYoKSB7XG4gIHZhciB1bm1vdW50ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiB1bm1vdW50ZWRSZWY7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1c2VVbm1vdW50ZWRSZWY7IiwidmFyIF9fcmVhZCA9IHRoaXMgJiYgdGhpcy5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxudmFyIHVzZVVwZGF0ZSA9IGZ1bmN0aW9uIHVzZVVwZGF0ZSgpIHtcbiAgdmFyIF9hID0gX19yZWFkKHVzZVN0YXRlKHt9KSwgMiksXG4gICAgICBzZXRTdGF0ZSA9IF9hWzFdO1xuXG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNldFN0YXRlKHt9KTtcbiAgfSwgW10pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlVXBkYXRlOyIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVVwZGF0ZUVmZmVjdCB9IGZyb20gJy4uL2NyZWF0ZVVwZGF0ZUVmZmVjdCc7XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVVcGRhdGVFZmZlY3QodXNlRWZmZWN0KTsiLCJpbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVVcGRhdGVFZmZlY3QgfSBmcm9tICcuLi9jcmVhdGVVcGRhdGVFZmZlY3QnO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVXBkYXRlRWZmZWN0KHVzZUxheW91dEVmZmVjdCk7IiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVVubW91bnQgZnJvbSAnLi4vdXNlVW5tb3VudCc7XG5pbXBvcnQgZGVwc0FyZVNhbWUgZnJvbSAnLi9kZXBzQXJlU2FtZSc7XG5pbXBvcnQgeyBnZXRUYXJnZXRFbGVtZW50IH0gZnJvbSAnLi9kb21UYXJnZXQnO1xuXG52YXIgY3JlYXRlRWZmZWN0V2l0aFRhcmdldCA9IGZ1bmN0aW9uIGNyZWF0ZUVmZmVjdFdpdGhUYXJnZXQodXNlRWZmZWN0VHlwZSkge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGVmZmVjdFxuICAgKiBAcGFyYW0gZGVwc1xuICAgKiBAcGFyYW0gdGFyZ2V0IHRhcmdldCBzaG91bGQgY29tcGFyZSByZWYuY3VycmVudCB2cyByZWYuY3VycmVudCwgZG9tIHZzIGRvbSwgKCk9PmRvbSB2cyAoKT0+ZG9tXG4gICAqL1xuICB2YXIgdXNlRWZmZWN0V2l0aFRhcmdldCA9IGZ1bmN0aW9uIHVzZUVmZmVjdFdpdGhUYXJnZXQoZWZmZWN0LCBkZXBzLCB0YXJnZXQpIHtcbiAgICB2YXIgaGFzSW5pdFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIGxhc3RFbGVtZW50UmVmID0gdXNlUmVmKFtdKTtcbiAgICB2YXIgbGFzdERlcHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIHZhciB1bkxvYWRSZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3RUeXBlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgdmFyIHRhcmdldHMgPSBBcnJheS5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQgOiBbdGFyZ2V0XTtcbiAgICAgIHZhciBlbHMgPSB0YXJnZXRzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gZ2V0VGFyZ2V0RWxlbWVudChpdGVtKTtcbiAgICAgIH0pOyAvLyBpbml0IHJ1blxuXG4gICAgICBpZiAoIWhhc0luaXRSZWYuY3VycmVudCkge1xuICAgICAgICBoYXNJbml0UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBsYXN0RWxlbWVudFJlZi5jdXJyZW50ID0gZWxzO1xuICAgICAgICBsYXN0RGVwc1JlZi5jdXJyZW50ID0gZGVwcztcbiAgICAgICAgdW5Mb2FkUmVmLmN1cnJlbnQgPSBlZmZlY3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxzLmxlbmd0aCAhPT0gbGFzdEVsZW1lbnRSZWYuY3VycmVudC5sZW5ndGggfHwgIWRlcHNBcmVTYW1lKGVscywgbGFzdEVsZW1lbnRSZWYuY3VycmVudCkgfHwgIWRlcHNBcmVTYW1lKGRlcHMsIGxhc3REZXBzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIChfYSA9IHVuTG9hZFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh1bkxvYWRSZWYpO1xuICAgICAgICBsYXN0RWxlbWVudFJlZi5jdXJyZW50ID0gZWxzO1xuICAgICAgICBsYXN0RGVwc1JlZi5jdXJyZW50ID0gZGVwcztcbiAgICAgICAgdW5Mb2FkUmVmLmN1cnJlbnQgPSBlZmZlY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VVbm1vdW50KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gdW5Mb2FkUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHVuTG9hZFJlZik7IC8vIGZvciByZWFjdC1yZWZyZXNoXG5cbiAgICAgIGhhc0luaXRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB1c2VFZmZlY3RXaXRoVGFyZ2V0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWZmZWN0V2l0aFRhcmdldDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXBzQXJlU2FtZShvbGREZXBzLCBkZXBzKSB7XG4gIGlmIChvbGREZXBzID09PSBkZXBzKSByZXR1cm4gdHJ1ZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZERlcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIU9iamVjdC5pcyhvbGREZXBzW2ldLCBkZXBzW2ldKSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59IiwiaW1wb3J0IGlzQnJvd3NlciBmcm9tICcuL2lzQnJvd3Nlcic7XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFyZ2V0RWxlbWVudCh0YXJnZXQsIGRlZmF1bHRFbGVtZW50KSB7XG4gIGlmICghaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGRlZmF1bHRFbGVtZW50O1xuICB9XG5cbiAgdmFyIHRhcmdldEVsZW1lbnQ7XG5cbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0KCk7XG4gIH0gZWxzZSBpZiAoJ2N1cnJlbnQnIGluIHRhcmdldCkge1xuICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXQuY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldEVsZW1lbnQ7XG59IiwidmFyIGlzQnJvd3NlciA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5leHBvcnQgZGVmYXVsdCBpc0Jyb3dzZXI7IiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNyZWF0ZUVmZmVjdFdpdGhUYXJnZXQgZnJvbSAnLi9jcmVhdGVFZmZlY3RXaXRoVGFyZ2V0JztcbnZhciB1c2VFZmZlY3RXaXRoVGFyZ2V0ID0gY3JlYXRlRWZmZWN0V2l0aFRhcmdldCh1c2VFZmZlY3QpO1xuZXhwb3J0IGRlZmF1bHQgdXNlRWZmZWN0V2l0aFRhcmdldDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gQWRkT3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCIzM0ExNTY1OS1DRkRDLTQ2ODYtOEQwRi03RDA2QzI1OThBOUJAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiQWRkT3V0bGluZS1BZGRPdXRsaW5lXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJBZGRPdXRsaW5lLWFkZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiQWRkT3V0bGluZS1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI1LjEsNi41IEMyNS4zMjA5MTM5LDYuNSAyNS41LDYuNjc5MDg2MSAyNS41LDYuOSBMMjUuNSwyMi41IEw0MS4xLDIyLjUgQzQxLjMyMDkxMzksMjIuNSA0MS41LDIyLjY3OTA4NjEgNDEuNSwyMi45IEw0MS41LDI1LjEgQzQxLjUsMjUuMzIwOTEzOSA0MS4zMjA5MTM5LDI1LjUgNDEuMSwyNS41IEwyNS41LDI1LjUgTDI1LjUsNDEuMSBDMjUuNSw0MS4zMjA5MTM5IDI1LjMyMDkxMzksNDEuNSAyNS4xLDQxLjUgTDIyLjksNDEuNSBDMjIuNjc5MDg2MSw0MS41IDIyLjUsNDEuMzIwOTEzOSAyMi41LDQxLjEgTDIyLjUsMjUuNSBMNi45LDI1LjUgQzYuNjc5MDg2MSwyNS41IDYuNSwyNS4zMjA5MTM5IDYuNSwyNS4xIEw2LjUsMjIuOSBDNi41LDIyLjY3OTA4NjEgNi42NzkwODYxLDIyLjUgNi45LDIyLjUgTDIyLjUsMjIuNSBMMjIuNSw2LjkgQzIyLjUsNi42NzkwODYxIDIyLjY3OTA4NjEsNi41IDIyLjksNi41IEwyNS4xLDYuNSBaXCIsXG4gICAgaWQ6IFwiQWRkT3V0bGluZS1cXHU4REVGXFx1NUY4NFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBZGRPdXRsaW5lOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBDaGVja0NpcmNsZUZpbGwocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sbnNYbGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnLTAuMTI1ZW0nXG4gICAgfSwgcHJvcHMuc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogWydhbnRkLW1vYmlsZS1pY29uJywgcHJvcHMuY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiMURDNzk2RTktMTYwNS00RkFBLUIyRjQtMzUwRUUyNzc4MUVCQDJ4XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNoZWNrQ2lyY2xlRmlsbC1DaGVja0NpcmNsZUZpbGxcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNoZWNrQ2lyY2xlRmlsbC1cXHU3RjE2XFx1N0VDNFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiQ2hlY2tDaXJjbGVGaWxsLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjQsMiBDMzYuMTUwMjY0NSwyIDQ2LDExLjg0OTczNTUgNDYsMjQgQzQ2LDM2LjE1MDI2NDUgMzYuMTUwMjY0NSw0NiAyNCw0NiBDMTEuODQ5NzM1NSw0NiAyLDM2LjE1MDI2NDUgMiwyNCBDMiwxMS44NDk3MzU1IDExLjg0OTczNTUsMiAyNCwyIFogTTM1LjgyMDI5MzYsMTcgTDMyLjcwODY2OTIsMTcgQzMyLjYwMjU5MjIsMTcgMzIuNTAwODU5LDE3LjA0MjEzNTIgMzIuNDI1ODQ2MSwxNy4xMTcxMzc4IEwzMi40MjU4NDYxLDE3LjExNzEzNzggTDIxLjM5MjIzNTIsMjguMTQ5MjI0NyBMMTYuMzU5MTU2MiwyMy4xMTYzNzU1IEMxNi4yODQxNDIyLDIzLjA0MTM2NDkgMTYuMTgyNDAzNCwyMi45OTkyMjQ3IDE2LjA3NjMxOTksMjIuOTk5MjI0NyBMMTYuMDc2MzE5OSwyMi45OTkyMjQ3IEwxMi45NjUzOTk2LDIyLjk5OTIyNDcgQzEyLjg1OTM0MiwyMi45OTkyMjQ3IDEyLjc1NzYyNTksMjMuMDQxMzQ0NSAxMi42ODI2MTYxLDIzLjExNjMyMjggQzEyLjUyNjM3MzcsMjMuMjcyNDk5OCAxMi41MjYzMjA3LDIzLjUyNTc2NTggMTIuNjgyNDk3NywyMy42ODIwMDgyIEMxMi44NTgzNDUyLDIzLjg1NzkyOTQgMTMuMDM0MTkyNywyNC4wMzM4NTA1IDEzLjIxMDA0MDIsMjQuMjA5NzcxNiBDMTMuMjU3NzQ4OCwyNC4yNTc1MDAyIDEzLjMwNjUwOTcsMjQuMzA2MzA3NCAxMy4zNTYyNTkyLDI0LjM1NjEyODMgTDEzLjY2NjEwODQsMjQuNjY2Njk5NyBDMTQuMzA3NDkxMywyNS4zMTAwOTYzIDE1LjA3Mjg1OTUsMjYuMDgwNzg3MyAxNS44NTIwMTM2LDI2Ljg2NjY2NTQgTDE2LjQzNzI0MjEsMjcuNDU3MTY5OSBDMTguMjU1MjgxMiwyOS4yOTIyNTQ4IDE5Ljk5ODM4MzgsMzEuMDU3NDM0MyAyMC4yNjY2MTE0LDMxLjMyODUyOTggTDIwLjMwMTAwNCwzMS4zNjMyMzQxIEMyMC44ODY3OTA0LDMxLjk0OTAyMDUgMjEuODM2NTM3OSwzMS45NDkwMjA1IDIyLjQyMjMyNDMsMzEuMzYzMjM0MSBMMjIuNDIyMzI0MywzMS4zNjMyMzQxIEwzNi4xMDMxMzE5LDE3LjY4Mjg0NzEgQzM2LjE3ODE0OTIsMTcuNjA3ODMyMiAzNi4yMjAyOTM2LDE3LjUwNjA4ODcgMzYuMjIwMjkzNiwxNy40IEMzNi4yMjAyOTM2LDE3LjE3OTA4NjEgMzYuMDQxMjA3NSwxNyAzNS44MjAyOTM2LDE3IEwzNS44MjAyOTM2LDE3IFpcIixcbiAgICBpZDogXCJDaGVja0NpcmNsZUZpbGwtXFx1NUY2MlxcdTcyQjZcXHU3RUQzXFx1NTQwOFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDaGVja0NpcmNsZUZpbGw7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIENoZWNrT3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCI4REU5QURDMy04MTkxLTRGMTEtOTEwQS1GRUREMDFEOEU5NTNAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiQ2hlY2tPdXRsaW5lLUNoZWNrT3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiQ2hlY2tPdXRsaW5lLVxcdTdGMTZcXHU3RUM0XCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJDaGVja091dGxpbmUtXFx1NzdFOVxcdTVGNjJcIixcbiAgICBmaWxsOiBcIiNGRkZGRkZcIixcbiAgICBvcGFjaXR5OiAwLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogNDgsXG4gICAgaGVpZ2h0OiA0OFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk00NC4zMDk2MDgsMTIuNjg0MTI4NiBMMjEuMjE4MDQ5OSwzNS41NjYxOTU1IEwyMS4yMTgwNDk5LDM1LjU2NjE5NTUgQzIwLjYzNDMzNDMsMzYuMTQ0NjAxNSAxOS42ODc5NDQzLDM2LjE0NDYwMTUgMTkuMTA0MjI4NiwzNS41NjYxOTU1IEMxOS4wNTM4MjAxLDM1LjUxNjI0NTYgMTkuMDA3NzY0OCwzNS40NjM2MTU1IDE4Ljk2NjA2MjcsMzUuNDA4NzY4MiBDMTguOTExMzEwNSwzNS4zNjgxMDYgMTguODU4NDY2OSwzNS4zMjI2Njk0IDE4LjgwODMwMiwzNS4yNzI5NjA3IEwzLjY5MDM4MzksMjAuMjkyMDQ5OSBDMy41MzM0NjQ3NiwyMC4xMzY1NTI5IDMuNTMyMzExOTIsMTkuODgzMjg5NSAzLjY4NzgwODk4LDE5LjcyNjM3MDQgQzMuNzYyOTI1NSwxOS42NTA1NjY5IDMuODY1MjE4NTUsMTkuNjA3OTIyNyAzLjk3MTkzNjIyLDE5LjYwNzkyMjcgTDcuMDYyMzg5MjMsMTkuNjA3OTIyNyBDNy4xNjc4NDIxNCwxOS42MDc5MjI3IDcuMjY5MDI4OTUsMTkuNjQ5NTY0OCA3LjM0MzkzNTYxLDE5LjcyMzc4OTYgTDIwLjE2MDQ0MywzMi40MjM2MTU3IEwyMC4xNjA0NDMsMzIuNDIzNjE1NyBMNDAuNjU2MDY2LDEyLjExNTg1OCBDNDAuNzMwOTcxOSwxMi4wNDE2Mzg3IDQwLjgzMjE1NDksMTIgNDAuOTM3NjAzNCwxMiBMNDQuMDI4MDU3MSwxMiBDNDQuMjQ4OTcxLDEyIDQ0LjQyODA1NzEsMTIuMTc5MDg2MSA0NC40MjgwNTcxLDEyLjQgQzQ0LjQyODA1NzEsMTIuNTA2NzE4MyA0NC4zODU0MTI0LDEyLjYwOTAxMiA0NC4zMDk2MDgsMTIuNjg0MTI4NiBaXCIsXG4gICAgaWQ6IFwiQ2hlY2tPdXRsaW5lLVxcdThERUZcXHU1Rjg0XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoZWNrT3V0bGluZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gQ2xvY2tDaXJjbGVGaWxsKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxZW1cIixcbiAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHhtbG5zWGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH0sIHByb3BzLnN0eWxlKSxcbiAgICBjbGFzc05hbWU6IFsnYW50ZC1tb2JpbGUtaWNvbicsIHByb3BzLmNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIjk5N0RFQjMwLTExMjQtNDZGNS1BMzg2LTA4RDAxMDkzQzM5N0AyeFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJDbG9ja0NpcmNsZUZpbGwtQ2xvY2tDaXJjbGVGaWxsXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJDbG9ja0NpcmNsZUZpbGwtXFx1N0YxNlxcdTdFQzRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIkNsb2NrQ2lyY2xlRmlsbC1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI0LDIgQzM2LjE1MDI2NDUsMiA0NiwxMS44NDk3MzU1IDQ2LDI0IEM0NiwzNi4xNTAyNjQ1IDM2LjE1MDI2NDUsNDYgMjQsNDYgQzExLjg0OTczNTUsNDYgMiwzNi4xNTAyNjQ1IDIsMjQgQzIsMTEuODQ5NzM1NSAxMS44NDk3MzU1LDIgMjQsMiBaIE0yNC42LDE0IEwyMi40LDE0IEMyMi4xNzkwODYxLDE0IDIyLDE0LjE3OTA4NjEgMjIsMTQuNCBMMjIsMTQuNCBMMjIsMjMuMTcxNTcyOSBMMjIuMDA2NTA4OSwyMy4zODUwMjIyIEMyMi4wNTg0MzI1LDI0LjIzNTQwNjYgMjIuNDE5MjM5NSwyNS4wNDA1NTk4IDIzLjAyNTEyNjMsMjUuNjQ2NDQ2NiBMMjMuMDI1MTI2MywyNS42NDY0NDY2IEwzMS4xNTY0OTcxLDMzLjc3NzgxNzUgQzMxLjMxMjcwNjgsMzMuOTM0MDI3MiAzMS41NjU5NzI4LDMzLjkzNDAyNzIgMzEuNzIyMTgyNSwzMy43Nzc4MTc1IEwzMS43MjIxODI1LDMzLjc3NzgxNzUgTDMzLjI3NzgxNzUsMzIuMjIyMTgyNSBDMzMuNDM0MDI3MiwzMi4wNjU5NzI4IDMzLjQzNDAyNzIsMzEuODEyNzA2OCAzMy4yNzc4MTc1LDMxLjY1NjQ5NzEgTDMzLjI3NzgxNzUsMzEuNjU2NDk3MSBMMjUuMTQ2NDQ2NiwyMy41MjUxMjYzIEwyNS4wOTUyMDkyLDIzLjQ2NTA4MDEgQzI1LjAzMzcxNDIsMjMuMzgwMjcgMjUsMjMuMjc3NjU5NSAyNSwyMy4xNzE1NzI5IEwyNSwyMy4xNzE1NzI5IEwyNSwxNC40IEMyNSwxNC4xNzkwODYxIDI0LjgyMDkxMzksMTQgMjQuNiwxNCBMMjQuNiwxNCBaXCIsXG4gICAgaWQ6IFwiQ2xvY2tDaXJjbGVGaWxsLVxcdTVGNjJcXHU3MkI2XFx1N0VEM1xcdTU0MDhcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2xvY2tDaXJjbGVGaWxsOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBDbG9zZUNpcmNsZUZpbGwocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sbnNYbGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnLTAuMTI1ZW0nXG4gICAgfSwgcHJvcHMuc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogWydhbnRkLW1vYmlsZS1pY29uJywgcHJvcHMuY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiQzM0RUJFNkYtRTNFOS00MTcyLTlFQzUtQjY0RjBDMzlCMTJDQDJ4XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNsb3NlQ2lyY2xlRmlsbC1DbG9zZUNpcmNsZUZpbGxcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNsb3NlQ2lyY2xlRmlsbC1cXHU3RjE2XFx1N0VDNFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiQ2xvc2VDaXJjbGVGaWxsLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjQsMiBDMzYuMTUwMjY0NSwyIDQ2LDExLjg0OTczNTUgNDYsMjQgQzQ2LDM2LjE1MDI2NDUgMzYuMTUwMjY0NSw0NiAyNCw0NiBDMTEuODQ5NzM1NSw0NiAyLDM2LjE1MDI2NDUgMiwyNCBDMiwxMS44NDk3MzU1IDExLjg0OTczNTUsMiAyNCwyIFogTTE4LjY3NTM4NzYsMTYgTDE1LjU2Mzc4MTIsMTYgQzE1LjQ1NzY5MTYsMTYgMTUuMzU1OTQ3NCwxNi4wNDIxNDUxIDE1LjI4MDkzMjMsMTYuMTE3MTYzNSBDMTUuMTI0NzI2LDE2LjI3MzM3NjYgMTUuMTI0NzMxNiwxNi41MjY2NDI2IDE1LjI4MDk0NDcsMTYuNjgyODQ4OSBMMTUuMjgwOTQ0NywxNi42ODI4NDg5IEwyMi4yOTkwNjYsMjMuNzAwNjY0MSBMMTQuNjgyODE1OSwzMS4zMTcxNjE5IEMxNC42MDc4MDQyLDMxLjM5MjE3NjEgMTQuNTY1NjYzMiwzMS40OTM5MTU3IDE0LjU2NTY2MzIsMzEuNiBDMTQuNTY1NjYzMiwzMS44MjA5MTM5IDE0Ljc0NDc0OTMsMzIgMTQuOTY1NjYzMiwzMiBMMTQuOTY1NjYzMiwzMiBMMTguMDc1MzI4NCwzMiBDMTguMTgxNDA2OCwzMiAxOC4yODMxNDEyLDMxLjk1Nzg2MzggMTguMzU4MTU0NCwzMS44ODI4NTk0IEwxOC4zNTgxNTQ0LDMxLjg4Mjg1OTQgTDI0LjQyMDA2NiwyNS44MjE2NjQxIEwzMC40ODE4NDUxLDMxLjg4Mjg1NjQgQzMwLjU1Njg1ODUsMzEuOTU3ODYyNiAzMC42NTg1OTQyLDMyIDMwLjc2NDY3NDEsMzIgTDMwLjc2NDY3NDEsMzIgTDMzLjg3NjM0NzYsMzIgQzMzLjk4MjQzMDksMzIgMzQuMDg0MTY5NSwzMS45NTc4NTk5IDM0LjE1OTE4MzUsMzEuODgyODQ5NiBDMzQuMzE1Mzk3LDMxLjcyNjY0MzYgMzQuMzE1NDAzMSwzMS40NzMzNzc2IDM0LjE1OTE5NzIsMzEuMzE3MTY0MSBMMzQuMTU5MTk3MiwzMS4zMTcxNjQxIEwyNi41NDIwNjYsMjMuNjk5NjY0MSBMMzMuNTU5MTg3NCwxNi42ODI4NDg5IEMzMy42MzQyMDU3LDE2LjYwNzgzMzggMzMuNjc2MzUwOCwxNi41MDYwODk2IDMzLjY3NjM1MDgsMTYuNCBDMzMuNjc2MzUwOCwxNi4xNzkwODYxIDMzLjQ5NzI2NDcsMTYgMzMuMjc2MzUwOCwxNiBMMzMuMjc2MzUwOCwxNiBMMzAuMTYzNzY1NCwxNiBDMzAuMDU3NjcwNSwxNiAyOS45NTU5MjE4LDE2LjA0MjE0OTMgMjkuODgwOTA1OCwxNi4xMTcxNzQxIEwyOS44ODA5MDU4LDE2LjExNzE3NDEgTDI0LjQyMDA2NiwyMS41Nzg2NjQxIEwxOC45NTgyMjE4LDE2LjExNzE0ODggQzE4Ljg4MzIwOCwxNi4wNDIxMzk0IDE4Ljc4MTQ3MDEsMTYgMTguNjc1Mzg3NiwxNiBMMTguNjc1Mzg3NiwxNiBaXCIsXG4gICAgaWQ6IFwiQ2xvc2VDaXJjbGVGaWxsLVxcdTVGNjJcXHU3MkI2XFx1N0VEM1xcdTU0MDhcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2xvc2VDaXJjbGVGaWxsOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBDbG9zZU91dGxpbmUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sbnNYbGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnLTAuMTI1ZW0nXG4gICAgfSwgcHJvcHMuc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogWydhbnRkLW1vYmlsZS1pY29uJywgcHJvcHMuY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiQkU0RTdEODEtMzk1OC00RjJFLTk5NTYtRTYwNzExOTk4ODVGQDJ4XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNsb3NlT3V0bGluZS1DbG9zZU91dGxpbmVcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkNsb3NlT3V0bGluZS1cXHU3RjE2XFx1N0VDNFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiQ2xvc2VPdXRsaW5lLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAuNjA4NTEwNCw4LjExNzU0NjYzIEwyNC4xNzY4Mzk3LDIxLjgxOTUwMzEgTDI0LjE3NjgzOTcsMjEuODE5NTAzMSBMMzcuNzQ0MzAzMSw4LjExNzU1NTYgQzM3LjgxOTQyNzgsOC4wNDE2ODYxNiAzNy45MjE3NjY5LDcuOTk5IDM4LjAyODUzNzIsNy45OTkgTDQxLjEwNDAyNjgsNy45OTkgQzQxLjMyNDk0MDcsNy45OTkgNDEuNTA0MDI2OCw4LjE3ODA4NjEgNDEuNTA0MDI2OCw4LjM5OSBDNDEuNTA0MDI2OCw4LjUwNDQwNDcxIDQxLjQ2MjQyMjYsOC42MDU1NDkyOSA0MS4zODgyNTc4LDguNjgwNDQ3NTIgTDI2LjI3NzMzMDIsMjMuOTQwODIzNSBMMjYuMjc3MzMwMiwyMy45NDA4MjM1IEw0MS41MDIxOTc1LDM5LjMxNzU2NDUgQzQxLjY1NzYzLDM5LjQ3NDU0NzUgNDEuNjU2MzczMSwzOS43Mjc4MTA0IDQxLjQ5OTM5MDEsMzkuODgzMjQyOSBDNDEuNDI0NDkyOSwzOS45NTc0MDA0IDQxLjMyMzM1MzQsMzkuOTk5IDQxLjIxNzk1NDYsMzkuOTk5IEwzOC4xNDM0MDEyLDM5Ljk5OSBDMzguMDM2NjI5MSwzOS45OTkgMzcuOTM0Mjg4NSwzOS45NTYzMTI0IDM3Ljg1OTE2MzQsMzkuODgwNDQwOCBMMjQuMTc2ODM5NywyNi4wNjIxNDM4IEwyNC4xNzY4Mzk3LDI2LjA2MjE0MzggTDEwLjQ5MzY1MDEsMzkuODgwNDQ5NyBDMTAuNDE4NTI1NywzOS45NTYzMTU5IDEwLjMxNjE4ODksMzkuOTk5IDEwLjIwOTQyMTIsMzkuOTk5IEw3LjEzNTg0NTI2LDM5Ljk5OSBDNi45MTQ5MzEzNiwzOS45OTkgNi43MzU4NDUyNiwzOS44MTk5MTM5IDYuNzM1ODQ1MjYsMzkuNTk5IEM2LjczNTg0NTI2LDM5LjQ5MzYwMTcgNi43Nzc0NDQ0MywzOS4zOTI0NjI3IDYuODUxNjAxMjEsMzkuMzE3NTY1NiBMMjIuMDc2MzQ5MiwyMy45NDA4MjM1IEwyMi4wNzYzNDkyLDIzLjk0MDgyMzUgTDYuOTY1NTQwODEsOC42ODA0NDYzOSBDNi44MTAxMDIyNiw4LjUyMzQ2OTI5IDYuODExMzQ5NTEsOC4yNzAyMDYzNyA2Ljk2ODMyNjYsOC4xMTQ3Njc4MiBDNy4wNDMyMjQ3NCw4LjA0MDYwMzc3IDcuMTQ0MzY4ODMsNy45OTkgNy4yNDk3NzI5OSw3Ljk5OSBMMTAuMzI0Mjg1Miw3Ljk5OSBDMTAuNDMxMDUxMSw3Ljk5OSAxMC41MzMzODYzLDguMDQxNjgyNjcgMTAuNjA4NTEwNCw4LjExNzU0NjYzIFpcIixcbiAgICBpZDogXCJDbG9zZU91dGxpbmUtXFx1OERFRlxcdTVGODRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2xvc2VPdXRsaW5lOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBEb3duRmlsbChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCI4QzAxRUY2Ny0zMDRDLTQ2NUMtQkZFMy02RDlDNTNGODhFM0RAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiRG93bkZpbGwtRG93bkZpbGxcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIkRvd25GaWxsLVxcdTdGMTZcXHU3RUM0XCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJEb3duRmlsbC1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTQwLjY2NDAwNTIsMTMgTDcuMzQxMjgyNjQsMTMgQzYuNTc1NzIzMDIsMTMgNS44MzMzNjIxNywxMy4yNjE5MDY1IDUuMjM5NDczNDksMTMuNzM1MTc2MiBDMy44MDU3ODkxMSwxNC44ODM4ODkxIDMuNTgzMDgwODUsMTYuOTY5OTUxNyA0Ljc0MzAxOTY4LDE4LjM4OTc2MDggTDIxLjQwNDM4MSwzOC43NzI1MjIyIEMyMS41NTI4NTMxLDM4Ljk1MTcyMTQgMjEuNzE1MjQ0NiwzOS4xMTcxMzYxIDIxLjkwMDgzNDgsMzkuMjY0MTcxMyBDMjMuMzM0NTE5Miw0MC40MTI4ODQyIDI1LjQzNjMyODMsNDAuMTkyMzMxMyAyNi42MDA5MDY5LDM4Ljc3MjUyMjIgTDQzLjI1NzYyODQsMTguMzg5NzYwOCBDNDMuNzQwMTYzLDE3LjgwMTYxOTggNDQsMTcuMDY2NDQzNiA0NCwxNi4zMDgyOTMxIEM0NC4wMDQ2MjksMTQuNDc5NTQyMiA0Mi41MDU5ODgsMTMgNDAuNjY0MDA1MiwxMyBaXCIsXG4gICAgaWQ6IFwiRG93bkZpbGwtXFx1OERFRlxcdTVGODRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRG93bkZpbGw7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIERvd25PdXRsaW5lKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxZW1cIixcbiAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHhtbG5zWGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH0sIHByb3BzLnN0eWxlKSxcbiAgICBjbGFzc05hbWU6IFsnYW50ZC1tb2JpbGUtaWNvbicsIHByb3BzLmNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIjM4M0VGODRGLUZDQkMtNDAwNS1BQzk5LTY3QTg5QzVBNjUyMEAyeFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJEb3duT3V0bGluZS1Eb3duT3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIkRvd25PdXRsaW5lLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNS4xMTIxOTI2NCwxNi4zOTQ3OTU3IEwyMi42NjEyNTcyLDM0LjU3NjczODIgTDIyLjY2MTI1NzIsMzQuNTc2NzM4MiBDMjMuMjEyNTg1NiwzNS4xMzA0Nzg1IDI0LjA4NjMxNTUsMzUuMTYzMDUxNCAyNC42NzU1NzM1LDM0LjY3NDQ1NzEgTDI0Ljc4MjU3NzUsMzQuNTc2NzM4MiBMNDIuODgzNDY3NiwxNi4zOTU2MDYxIEM0Mi45NTgwOTk4LDE2LjMyMDY0MyA0MywxNi4yMTkxNjk3IDQzLDE2LjExMzM4OTYgTDQzLDEyLjk4NjY2NzMgQzQzLDEyLjc2NTc1MzQgNDIuODIwOTEzOSwxMi41ODY2NjczIDQyLjYsMTIuNTg2NjY3MyBDNDIuNDkzNjExNSwxMi41ODY2NjczIDQyLjM5MTYwNiwxMi42MjkwNDk2IDQyLjMxNjU0MiwxMi43MDQ0NDEzIEwyMy43ODE2OTM3LDMxLjMyMDE5MzMgTDIzLjc4MTY5MzcsMzEuMzIwMTkzMyBMNS42ODY2ODE2LDEyLjcyMzcxMTcgQzUuNTMyNjIxMjIsMTIuNTY1MzgxOCA1LjI3OTM3ODg4LDEyLjU2MTkyMDcgNS4xMjEwNDksMTIuNzE1OTgxMSBDNS4wNDM2NTc3NSwxMi43OTEyODU0IDUsMTIuODk0NjgwNSA1LDEzLjAwMjY2MjcgTDUsMTYuMTE3MDA2NCBDNSwxNi4yMjA2NDAzIDUuMDQwMjIxNjQsMTYuMzIwMjI5MiA1LjExMjE5MjY0LDE2LjM5NDc5NTcgWlwiLFxuICAgIGlkOiBcIkRvd25PdXRsaW5lLWRvd25cIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRG93bk91dGxpbmU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIEV4Y2xhbWF0aW9uQ2lyY2xlRmlsbChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCJCRjMwMzY3Ni00N0ZDLTRBODMtOEE0Ri0wMzhCMTFFQ0M1Q0NAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiRXhjbGFtYXRpb25DaXJjbGVGaWxsLUV4Y2xhbWF0aW9uQ2lyY2xlRmlsbFwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIkV4Y2xhbWF0aW9uQ2lyY2xlRmlsbC1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0Q3NjA2MFwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI0LDIgQzM2LjE1MDI2NDUsMiA0NiwxMS44NDk3MzU1IDQ2LDI0IEM0NiwzNi4xNTAyNjQ1IDM2LjE1MDI2NDUsNDYgMjQsNDYgQzExLjg0OTczNTUsNDYgMiwzNi4xNTAyNjQ1IDIsMjQgQzIsMTEuODQ5NzM1NSAxMS44NDk3MzU1LDIgMjQsMiBaIE0yNS4xLDMxIEwyMi45LDMxIEMyMi42NzkwODYxLDMxIDIyLjUsMzEuMTc5MDg2MSAyMi41LDMxLjQgTDIyLjUsMzEuNCBMMjIuNSwzMy42IEMyMi41LDMzLjgyMDkxMzkgMjIuNjc5MDg2MSwzNCAyMi45LDM0IEwyMi45LDM0IEwyNS4xLDM0IEMyNS4zMjA5MTM5LDM0IDI1LjUsMzMuODIwOTEzOSAyNS41LDMzLjYgTDI1LjUsMzMuNiBMMjUuNSwzMS40IEMyNS41LDMxLjE3OTA4NjEgMjUuMzIwOTEzOSwzMSAyNS4xLDMxIEwyNS4xLDMxIFogTTI1LjEsMTQgTDIyLjksMTQgQzIyLjY3OTA4NjEsMTQgMjIuNSwxNC4xNzkwODYxIDIyLjUsMTQuNCBMMjIuNSwxNC40IEwyMi41LDI3LjYgQzIyLjUsMjcuODIwOTEzOSAyMi42NzkwODYxLDI4IDIyLjksMjggTDIyLjksMjggTDI1LjEsMjggQzI1LjMyMDkxMzksMjggMjUuNSwyNy44MjA5MTM5IDI1LjUsMjcuNiBMMjUuNSwyNy42IEwyNS41LDE0LjQgQzI1LjUsMTQuMTc5MDg2MSAyNS4zMjA5MTM5LDE0IDI1LjEsMTQgTDI1LjEsMTQgWlwiLFxuICAgIGlkOiBcIkV4Y2xhbWF0aW9uQ2lyY2xlRmlsbC1cXHU1RjYyXFx1NzJCNlxcdTdFRDNcXHU1NDA4XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2xhbWF0aW9uQ2lyY2xlRmlsbDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gSW5mb3JtYXRpb25DaXJjbGVGaWxsKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxZW1cIixcbiAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHhtbG5zWGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH0sIHByb3BzLnN0eWxlKSxcbiAgICBjbGFzc05hbWU6IFsnYW50ZC1tb2JpbGUtaWNvbicsIHByb3BzLmNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIjUyNjE1MjlGLTYzRUItNDAwNS05MUFFLUREQjJCOTFDNDMxQ0AyeFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJJbmZvcm1hdGlvbkNpcmNsZUZpbGwtSW5mb3JtYXRpb25DaXJjbGVGaWxsXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJJbmZvcm1hdGlvbkNpcmNsZUZpbGwtXFx1N0YxNlxcdTdFQzRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIkluZm9ybWF0aW9uQ2lyY2xlRmlsbC1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI0LDIgQzM2LjE1MDI2NDUsMiA0NiwxMS44NDk3MzU1IDQ2LDI0IEM0NiwzNi4xNTAyNjQ1IDM2LjE1MDI2NDUsNDYgMjQsNDYgQzExLjg0OTczNTUsNDYgMiwzNi4xNTAyNjQ1IDIsMjQgQzIsMTEuODQ5NzM1NSAxMS44NDk3MzU1LDIgMjQsMiBaIE0yNS42LDIwIEwyMS40LDIwIEMyMS4xNzkwODYxLDIwIDIxLDIwLjE3OTA4NjEgMjEsMjAuNCBMMjEsMjAuNCBMMjEsMjIuNiBDMjEsMjIuODIwOTEzOSAyMS4xNzkwODYxLDIzIDIxLjQsMjMgTDIxLjQsMjMgTDIyLjYsMjMgQzIyLjgyMDkxMzksMjMgMjMsMjMuMTc5MDg2MSAyMywyMy40IEwyMywyMy40IEwyMywzNC42IEMyMywzNC44MjA5MTM5IDIzLjE3OTA4NjEsMzUgMjMuNCwzNSBMMjMuNCwzNSBMMjUuNiwzNSBDMjUuODIwOTEzOSwzNSAyNiwzNC44MjA5MTM5IDI2LDM0LjYgTDI2LDM0LjYgTDI2LDIwLjQgQzI2LDIwLjE3OTA4NjEgMjUuODIwOTEzOSwyMCAyNS42LDIwIEwyNS42LDIwIFogTTI1LjYsMTQgTDIzLjQsMTQgQzIzLjE3OTA4NjEsMTQgMjMsMTQuMTc5MDg2MSAyMywxNC40IEwyMywxNC40IEwyMywxNi42IEMyMywxNi44MjA5MTM5IDIzLjE3OTA4NjEsMTcgMjMuNCwxNyBMMjMuNCwxNyBMMjUuNiwxNyBDMjUuODIwOTEzOSwxNyAyNiwxNi44MjA5MTM5IDI2LDE2LjYgTDI2LDE2LjYgTDI2LDE0LjQgQzI2LDE0LjE3OTA4NjEgMjUuODIwOTEzOSwxNCAyNS42LDE0IEwyNS42LDE0IFpcIixcbiAgICBpZDogXCJJbmZvcm1hdGlvbkNpcmNsZUZpbGwtXFx1NUY2MlxcdTcyQjZcXHU3RUQzXFx1NTQwOFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbmZvcm1hdGlvbkNpcmNsZUZpbGw7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIExlZnRPdXRsaW5lKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxZW1cIixcbiAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHhtbG5zWGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH0sIHByb3BzLnN0eWxlKSxcbiAgICBjbGFzc05hbWU6IFsnYW50ZC1tb2JpbGUtaWNvbicsIHByb3BzLmNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIkEyMDQ3NzZDLTlEQUUtNEQyRi04MDZBLTM2Mjk2NDkyNDExNEAyeFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJMZWZ0T3V0bGluZS1MZWZ0T3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiTGVmdE91dGxpbmUtXFx1N0YxNlxcdTdFQzRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIkxlZnRPdXRsaW5lLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMzEuNzA1MzgxOCw1LjExMjE5MjY0IEwxMy41MjM0MzkzLDIyLjY2MTI1NzIgTDEzLjUyMzQzOTMsMjIuNjYxMjU3MiBDMTIuOTY5Njk5LDIzLjIxMjU4NTYgMTIuOTM3MTI2MSwyNC4wODYzMTU1IDEzLjQyNTcyMDQsMjQuNjc1NTczNSBMMTMuNTIzNDM5MywyNC43ODI1Nzc1IEwzMS43MDQ1NzE0LDQyLjg4MzQ2NzYgQzMxLjc3OTUzNDUsNDIuOTU4MDk5OCAzMS44ODEwMDc4LDQzIDMxLjk4Njc4NzksNDMgTDM1LjExMzUxMDIsNDMgQzM1LjMzNDQyNDEsNDMgMzUuNTEzNTEwMiw0Mi44MjA5MTM5IDM1LjUxMzUxMDIsNDIuNiBDMzUuNTEzNTEwMiw0Mi40OTM2MTE1IDM1LjQ3MTEyNzksNDIuMzkxNjA2IDM1LjM5NTczNjIsNDIuMzE2NTQyIEwxNi43Nzk5ODQyLDIzLjc4MTY5MzcgTDE2Ljc3OTk4NDIsMjMuNzgxNjkzNyBMMzUuMzc2NDY1OCw1LjY4NjY4MTYgQzM1LjUzNDc5NTcsNS41MzI2MjEyMiAzNS41MzgyNTY4LDUuMjc5Mzc4ODggMzUuMzg0MTk2NCw1LjEyMTA0OSBDMzUuMzA4ODkyMSw1LjA0MzY1Nzc1IDM1LjIwNTQ5Nyw1IDM1LjA5NzUxNDgsNSBMMzEuOTgzMTcxMSw1IEMzMS44Nzk1MzcyLDUgMzEuNzc5OTQ4Myw1LjA0MDIyMTY0IDMxLjcwNTM4MTgsNS4xMTIxOTI2NCBaXCIsXG4gICAgaWQ6IFwiTGVmdE91dGxpbmUtXFx1OERFRlxcdTVGODRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGVmdE91dGxpbmU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIE1pbnVzT3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCJDODRBMkI5MC1DMTIwLTRFQkYtQUM3MC1BODUyMDY1RjI3M0RAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiTWludXNPdXRsaW5lLU1pbnVzT3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiTWludXNPdXRsaW5lLWFkZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiTWludXNPdXRsaW5lLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNDEuMSwyMi41IEM0MS4zMjA5MTM5LDIyLjUgNDEuNSwyMi42NzkwODYxIDQxLjUsMjIuOSBMNDEuNSwyNS4xIEM0MS41LDI1LjMyMDkxMzkgNDEuMzIwOTEzOSwyNS41IDQxLjEsMjUuNSBMNi45LDI1LjUgQzYuNjc5MDg2MSwyNS41IDYuNSwyNS4zMjA5MTM5IDYuNSwyNS4xIEw2LjUsMjIuOSBDNi41LDIyLjY3OTA4NjEgNi42NzkwODYxLDIyLjUgNi45LDIyLjUgTDQxLjEsMjIuNSBaXCIsXG4gICAgaWQ6IFwiTWludXNPdXRsaW5lLVxcdThERUZcXHU1Rjg0XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1pbnVzT3V0bGluZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gUGljdHVyZU91dGxpbmUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sbnNYbGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnLTAuMTI1ZW0nXG4gICAgfSwgcHJvcHMuc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogWydhbnRkLW1vYmlsZS1pY29uJywgcHJvcHMuY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiMTQ5MkRBODQtNERFRS00MzY4LTk2N0MtNUU3N0I3NTVENzBFQDJ4XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIlBpY3R1cmVPdXRsaW5lLVBpY3R1cmVPdXRsaW5lXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJQaWN0dXJlT3V0bGluZS1cXHU3RjE2XFx1N0VDNFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiUGljdHVyZU91dGxpbmUtXFx1NzdFOVxcdTVGNjJcIixcbiAgICBmaWxsOiBcIiNGRkZGRkZcIixcbiAgICBvcGFjaXR5OiAwLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogNDgsXG4gICAgaGVpZ2h0OiA0OFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zOCw0IEM0MS4zMTM3MDg1LDQgNDQsNi42ODYyOTE1IDQ0LDEwIEw0NCwzOCBDNDQsNDEuMzEzNzA4NSA0MS4zMTM3MDg1LDQ0IDM4LDQ0IEwxMCw0NCBDNi42ODYyOTE1LDQ0IDQsNDEuMzEzNzA4NSA0LDM4IEw0LDEwIEM0LDYuNjg2MjkxNSA2LjY4NjI5MTUsNCAxMCw0IEwzOCw0IFogTTM4LDcgTDEwLDcgQzguNDAyMzE5MTIsNyA3LjA5NjMzOTEyLDguMjQ4OTE5OTYgNy4wMDUwOTI2OSw5LjgyMzcyNzIxIEw3LDEwIEw3LDM4IEM3LDM5LjU5NzY4MDkgOC4yNDg5MTk5Niw0MC45MDM2NjA5IDkuODIzNzI3MjEsNDAuOTk0OTA3MyBMMTAsNDEgTDM4LDQxIEMzOS41OTc2ODA5LDQxIDQwLjkwMzY2MDksMzkuNzUxMDggNDAuOTk0OTA3MywzOC4xNzYyNzI4IEw0MSwzOCBMNDEsMzcuMzMyIEwzMi43ODA4MjUyLDI5LjExMjYyMTggQzMyLjA4MTg3NTUsMjguNDEzNjcyMSAzMC45NjgzOTM3LDI4LjM4MTkwMTYgMzAuMjMxNzU5MiwyOS4wMTczMTA1IEwzMC4xMjkxNzQ4LDI5LjExMjYyMTggTDE3LjI0Miw0MS45OTkwMTAxIEwxMyw0MS45OTkwMTAxIEwyOC42MjY1NzI5LDI2LjM3MjU4MyBDMzAuMTg4NjcsMjQuODEwNDg1OCAzMi43MjEzMywyNC44MTA0ODU4IDM0LjI4MzQyNzEsMjYuMzcyNTgzIEw0MC4zMTcxNjA2LDMyLjQwNjE3NjQgQzQwLjQ3MzM3MjEsMzIuNTYyMzg0MyA0MC43MjY2MzgxLDMyLjU2MjM4MTQgNDAuODgyODQ2LDMyLjQwNjE2OTkgQzQwLjk1Nzg1ODUsMzIuMzMxMTU1NiA0MSwzMi4yMjk0MTU0IDQxLDMyLjEyMzMzMDQgTDQxLDEwIEM0MSw4LjQwMjMxOTEyIDM5Ljc1MTA4LDcuMDk2MzM5MTIgMzguMTc2MjcyOCw3LjAwNTA5MjY5IEwzOCw3IFpcIixcbiAgICBpZDogXCJQaWN0dXJlT3V0bGluZS1cXHU1RjYyXFx1NzJCNlwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE2LDEyIEMxOC43NjE0MjM3LDEyIDIxLDE0LjIzODU3NjMgMjEsMTcgQzIxLDE5Ljc2MTQyMzcgMTguNzYxNDIzNywyMiAxNiwyMiBDMTMuMjM4NTc2MywyMiAxMSwxOS43NjE0MjM3IDExLDE3IEMxMSwxNC4yMzg1NzYzIDEzLjIzODU3NjMsMTIgMTYsMTIgWiBNMTYsMTUgQzE0Ljg5NTQzMDUsMTUgMTQsMTUuODk1NDMwNSAxNCwxNyBDMTQsMTguMTA0NTY5NSAxNC44OTU0MzA1LDE5IDE2LDE5IEMxNy4xMDQ1Njk1LDE5IDE4LDE4LjEwNDU2OTUgMTgsMTcgQzE4LDE1Ljg5NTQzMDUgMTcuMTA0NTY5NSwxNSAxNiwxNSBaXCIsXG4gICAgaWQ6IFwiUGljdHVyZU91dGxpbmUtXFx1NUY2MlxcdTcyQjZcXHU3RUQzXFx1NTQwOFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQaWN0dXJlT3V0bGluZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gUGljdHVyZVdyb25nT3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCJFM0NDMTg2QS03MzJCLTQxRjctODQwRi05NERGRUI0QTE5RDdAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiUGljdHVyZVdyb25nT3V0bGluZS1QaWN0dXJlV3JvbmdPdXRsaW5lXCIsXG4gICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJQaWN0dXJlV3JvbmdPdXRsaW5lLVxcdTdGMTZcXHU3RUM0XCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJQaWN0dXJlV3JvbmdPdXRsaW5lLVxcdTc3RTlcXHU1RjYyXCIsXG4gICAgZmlsbDogXCIjRkZGRkZGXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDQ4LFxuICAgIGhlaWdodDogNDhcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjYuNiw0MSBDMjYuODIwOTEzOSw0MSAyNyw0MS4xNzkwODYxIDI3LDQxLjQgTDI3LDQzLjYgQzI3LDQzLjgyMDkxMzkgMjYuODIwOTEzOSw0NCAyNi42LDQ0IEwxMCw0NCBDNi42ODYyOTE1LDQ0IDQsNDEuMzEzNzA4NSA0LDM4IEw0LDEwIEM0LDYuNjg2MjkxNSA2LjY4NjI5MTUsNCAxMCw0IEwzOCw0IEM0MS4zMTM3MDg1LDQgNDQsNi42ODYyOTE1IDQ0LDEwIEw0NCwyNy41OTMgQzQ0LDI3LjgxMzkxMzkgNDMuODIwOTEzOSwyNy45OTMgNDMuNiwyNy45OTMgTDQxLjQsMjcuOTkzIEM0MS4xNzkwODYxLDI3Ljk5MyA0MSwyNy44MTM5MTM5IDQxLDI3LjU5MyBMNDEsMTAgQzQxLDguNDAyMzE5MTIgMzkuNzUxMDgsNy4wOTYzMzkxMiAzOC4xNzYyNzI4LDcuMDA1MDkyNjkgTDM4LDcgTDEwLDcgQzguNDAyMzE5MTIsNyA3LjA5NjMzOTEyLDguMjQ4OTE5OTYgNy4wMDUwOTI2OSw5LjgyMzcyNzIxIEw3LDEwIEw3LDM4IEM3LDM5LjU5NzY4MDkgOC4yNDg5MTk5Niw0MC45MDM2NjA5IDkuODIzNzI3MjEsNDAuOTk0OTA3MyBMMTAsNDEgTTQwLjY3MTk2ODcsMzEuMjY1MjgwMSBMNDIuMjI3NTI2MiwzMi44MjA0MTE3IEM0Mi4zODM4NTUsMzIuOTc2NTAyMiA0Mi4zODM4ODk3LDMzLjIyOTc2ODIgNDIuMjI3NzAxNCwzMy4zODU5OTkzIEM0Mi4yMjc2Njg4LDMzLjM4NjAzMTkgNDIuMjI3NjM2MiwzMy4zODYwNjQ1IDQyLjIyNzUwNTksMzMuMzg1OTk5MyBMMzguOTAzOTAxNywzNi43MDgyMTYzIEMzOC43NDc1NTg3LDM2Ljg2NDI5MjcgMzguNzQ3NTA1OCwzNy4xMTc1NTg3IDM4LjkwMzY4MywzNy4yNzM4MDEgQzM4LjkwMzcxNjUsMzcuMjczODM0NiAzOC45MDM3NTAxLDM3LjI3Mzg2ODIgMzguOTAzODg0NCwzNy4yNzM4MDEgTDQyLjIyNzUyMzIsNDAuNTk2NDU5NSBDNDIuMzgzODM2NCw0MC43NTI1NjU3IDQyLjM4Mzg3MzcsNDEuMDA1ODMxNyA0Mi4yMjc2ODcxLDQxLjE2MjA2NDUgQzQyLjIyNzY2MDMsNDEuMTYyMDkxMyA0Mi4yMjc2MzM0LDQxLjE2MjExODEgNDIuMjI3NTI2Miw0MS4xNjIwNjQ1IEw0MC42NzE5Njg3LDQyLjcxNzE5NiBDNDAuNTE1Njg5OSw0Mi44NzMyNzU1IDQwLjI2MjQ4NDMsNDIuODczMjc1OSA0MC4xMDYyMDUxLDQyLjcxNzE5NjggTDM2Ljc4MTg4MjIsMzkuMzkzODAzMiBDMzYuNjI1NjQ2OCwzOS4yMzc2MjQxIDM2LjM3MjM4NTcsMzkuMjM3NjU2NyAzNi4yMTYxOTA1LDM5LjM5Mzg3NTkgTDMyLjg5MzcyMjIsNDIuNzE3MTI0MSBDMzIuNzM3NTI3NSw0Mi44NzMzNDQ0IDMyLjQ4NDI2NTcsNDIuODczMzc2NiAzMi4zMjgwMzEzLDQyLjcxNzE5NiBMMzAuNzcyNDczOCw0MS4xNjIwNjQ1IEMzMC42MTYxOTg2LDQxLjAwNTkyMDIgMzAuNjE2MTYzOSw0MC43NTI2NTQyIDMwLjc3MjM1MjMsNDAuNTk2NDIzMSBDMzAuNzcyMzY3LDQwLjU5NjQwODQgMzAuNzcyMzgxNyw0MC41OTYzOTM4IDMwLjc3MjQ0MDQsNDAuNTk2NDIzMSBMMzQuMDk1MTUxOSwzNy4yNzM4Mzc0IEMzNC4yNTEzOTI2LDM3LjExNzY1ODYgMzQuMjUxMzk3NCwzNi44NjQzOTI2IDM0LjA5NTE5MDcsMzYuNzA4MTggQzM0LjA5NTE4MTMsMzYuNzA4MTcwNiAzNC4wOTUxNzIsMzYuNzA4MTYxMyAzNC4wOTUxMzQ2LDM2LjcwODE4IEwzMC43NzI0NTc3LDMzLjM4NjAzNTcgQzMwLjYxNjE3NDEsMzMuMjI5ODk5OSAzMC42MTYxNTM4LDMyLjk3NjYzMzkgMzAuNzcyMzUxLDMyLjgyMDQxMTcgQzMwLjc3MjM3MTUsMzIuODIwMzkxMiAzMC43NzIzOTE5LDMyLjgyMDM3MDcgMzAuNzcyNDczOCwzMi44MjA0MTE3IEwzMi4zMjgwMzEzLDMxLjI2NTI4MDEgQzMyLjQ4NDMyMDYsMzEuMTA5MjI0NyAzMi43Mzc1MTI5LDMxLjEwOTIxNjYgMzIuODkzODEyMywzMS4yNjUyNjIgTDM2LjIxNzEwMDQsMzQuNTg3MjE0MiBDMzYuMzczNDEwOSwzNC43NDMyMzQzIDM2LjYyNjU4OTEsMzQuNzQzMjM0MyAzNi43ODI4OTk2LDM0LjU4NzIxNDIgTDQwLjEwNjE4NzcsMzEuMjY1MjYyIEM0MC4yNjI0ODcxLDMxLjEwOTIxNjYgNDAuNTE1Njc5NCwzMS4xMDkyMjQ3IDQwLjY3MTk2ODcsMzEuMjY1MjgwMSBaIE0xMyw0MC45OTkwMTAxIEwyOC42MjY1NzI5LDI1LjM3MjU4MyBDMzAuMTg4NjcsMjMuODEwNDg1OCAzMi43MjEzMywyMy44MTA0ODU4IDM0LjI4MzQyNzEsMjUuMzcyNTgzIEwzNi4yMjExMDA0LDI3LjMxMDE0MSBDMzYuMzc3MzE0NywyNy40NjYzNDYxIDM2LjM3NzMyMjMsMjcuNzE5NjEyMSAzNi4yMjExMTcyLDI3Ljg3NTgyNjQgQzM2LjE0NjEwMTIsMjcuOTUwODQ2OSAzNi4wNDQzNTQ3LDI3Ljk5Mjk5MyAzNS45MzgyNjI4LDI3Ljk5Mjk5MjEgTDMyLjY0OTQ0MDUsMjcuOTkyOTY1MyBDMzEuOTQ4Mzc4NiwyNy40MTIyNzEgMzAuOTIzNzc4NCwyNy40MjAzODYxIDMwLjIzMTc1OTIsMjguMDE3MzEwNSBMMzAuMTI5MTc0OCwyOC4xMTI2MjE4IEwxNy4zNTkxNTU4LDQwLjg4MTg2MTUgQzE3LjI4NDE0Miw0MC45NTY4NzA3IDE3LjE4MjQwNDEsNDAuOTk5MDEwMSAxNy4wNzYzMjE3LDQwLjk5OTAxMDEgTDEzLDQwLjk5OTAxMDEgTDEzLDQwLjk5OTAxMDEgWiBNMTYsMTIgQzE4Ljc2MTQyMzcsMTIgMjEsMTQuMjM4NTc2MyAyMSwxNyBDMjEsMTkuNzYxNDIzNyAxOC43NjE0MjM3LDIyIDE2LDIyIEMxMy4yMzg1NzYzLDIyIDExLDE5Ljc2MTQyMzcgMTEsMTcgQzExLDE0LjIzODU3NjMgMTMuMjM4NTc2MywxMiAxNiwxMiBaIE0xNiwxNSBDMTQuODk1NDMwNSwxNSAxNCwxNS44OTU0MzA1IDE0LDE3IEMxNCwxOC4xMDQ1Njk1IDE0Ljg5NTQzMDUsMTkgMTYsMTkgQzE3LjEwNDU2OTUsMTkgMTgsMTguMTA0NTY5NSAxOCwxNyBDMTgsMTUuODk1NDMwNSAxNy4xMDQ1Njk1LDE1IDE2LDE1IFpcIixcbiAgICBpZDogXCJQaWN0dXJlV3JvbmdPdXRsaW5lLVxcdTVGNjJcXHU3MkI2XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBpY3R1cmVXcm9uZ091dGxpbmU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIFJpZ2h0T3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCI4OUJBRDNFQS04ODcwLTQ4NTYtQURBMy1ERUNDMDhDM0IyODNAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiUmlnaHRPdXRsaW5lLVJpZ2h0T3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiUmlnaHRPdXRsaW5lLVJpZ2h0T3V0bGluZWRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIlJpZ2h0T3V0bGluZS1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE3LjM5NDc5NTcsNS4xMTIxOTI2NCBMMzUuNTc2NzM4MiwyMi42NjEyNTcyIEwzNS41NzY3MzgyLDIyLjY2MTI1NzIgQzM2LjEzMDQ3ODUsMjMuMjEyNTg1NiAzNi4xNjMwNTE0LDI0LjA4NjMxNTUgMzUuNjc0NDU3MSwyNC42NzU1NzM1IEwzNS41NzY3MzgyLDI0Ljc4MjU3NzUgTDE3LjM5NTYwNjEsNDIuODgzNDY3NiBDMTcuMzIwNjQzLDQyLjk1ODA5OTggMTcuMjE5MTY5Nyw0MyAxNy4xMTMzODk2LDQzIEwxMy45ODY2NjczLDQzIEMxMy43NjU3NTM0LDQzIDEzLjU4NjY2NzMsNDIuODIwOTEzOSAxMy41ODY2NjczLDQyLjYgQzEzLjU4NjY2NzMsNDIuNDkzNjExNSAxMy42MjkwNDk2LDQyLjM5MTYwNiAxMy43MDQ0NDEzLDQyLjMxNjU0MiBMMzIuMzIwMTkzMywyMy43ODE2OTM3IEwzMi4zMjAxOTMzLDIzLjc4MTY5MzcgTDEzLjcyMzcxMTcsNS42ODY2ODE2IEMxMy41NjUzODE4LDUuNTMyNjIxMjIgMTMuNTYxOTIwNyw1LjI3OTM3ODg4IDEzLjcxNTk4MTEsNS4xMjEwNDkgQzEzLjc5MTI4NTQsNS4wNDM2NTc3NSAxMy44OTQ2ODA1LDUgMTQuMDAyNjYyNyw1IEwxNy4xMTcwMDY0LDUgQzE3LjIyMDY0MDMsNSAxNy4zMjAyMjkyLDUuMDQwMjIxNjQgMTcuMzk0Nzk1Nyw1LjExMjE5MjY0IFpcIixcbiAgICBpZDogXCJSaWdodE91dGxpbmUtcmlnaHRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmlnaHRPdXRsaW5lOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBTZWFyY2hPdXRsaW5lKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxZW1cIixcbiAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHhtbG5zWGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gIH0sIHByb3BzLCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH0sIHByb3BzLnN0eWxlKSxcbiAgICBjbGFzc05hbWU6IFsnYW50ZC1tb2JpbGUtaWNvbicsIHByb3BzLmNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIjFBN0YwQTdFLTYwMjMtNEE4Qy05QzI2LTRERDU0NTJEMEM4NUAyeFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJTZWFyY2hPdXRsaW5lLVNlYXJjaE91dGxpbmVcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIlNlYXJjaE91dGxpbmUtXFx1N0YxNlxcdTdFQzRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIlNlYXJjaE91dGxpbmUtXFx1NzdFOVxcdTVGNjJcIixcbiAgICBmaWxsOiBcIiNGRkZGRkZcIixcbiAgICBvcGFjaXR5OiAwLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogNDgsXG4gICAgaGVpZ2h0OiA0OFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMC4yNDM0MTM1LDEwLjE1MDUzNzEgQzE3LjIzNDYzMTUsMy4yODMxNTQyOSAyOC41Njk2MzU0LDMuMjgzMTU0MjkgMzUuNTYwODUzNCwxMC4xNTA1MzcxIEM0Mi4zMTU5MzMxLDE2Ljc4NTk2NDQgNDIuNTQ0MDk1NCwyNy40MDQ4NjY3IDM2LjI0NTM0MDUsMzQuMzA5Mzg4OSBMNDMuNzA5NTI5NCw0MS42NDIyMjQ5IEM0My44NjcxMTk2LDQxLjc5NzA0MTkgNDMuODY5MzY3Nyw0Mi4wNTAyOTc5IDQzLjcxNDU1MDgsNDIuMjA3ODg4MSBDNDMuNzEyODg2NCw0Mi4yMDk1ODIyIDQzLjcxMTIwNjksNDIuMjExMjYxNiA0My43MDk1MTI2LDQyLjIxMjkyNTkgTDQyLjE3MDUzMjIsNDMuNzI0NjQ2NCBDNDIuMDE0OTE1LDQzLjg3NzUwNzIgNDEuNzY1NTE4MSw0My44Nzc1MDA2IDQxLjYwOTkwODksNDMuNzI0NjMxNiBMMzQuMDc3NTI2OCwzNi4zMjQ4OTE2IEwzNC4wNzc1MjY4LDM2LjMyNDg5MTYgQzI3LjA0ODU1NzksNDEuODU1MTc1MSAxNi43NTkzNTQ1LDQxLjQyMDA1NDcgMTAuMjQzNDEzNSwzNS4wMTk1MzAzIEMzLjI1MjE5NTUxLDI4LjE1MjE0NzQgMy4yNTIxOTU1MSwxNy4wMTc5MTk5IDEwLjI0MzQxMzUsMTAuMTUwNTM3MSBaIE0xMi4zNTMyMDAxLDEyLjIyMjk1MzIgQzYuNTI3MTg1MTYsMTcuOTQ1NzcyMiA2LjUyNzE4NTE2LDI3LjIyNDI5NTEgMTIuMzUzMjAwMSwzMi45NDcxMTQyIEMxOC4xNzkyMTUxLDM4LjY2OTkzMzIgMjcuNjI1MDUxNywzOC42Njk5MzMyIDMzLjQ1MTA2NjcsMzIuOTQ3MTE0MiBDMzkuMjc3MDgxNywyNy4yMjQyOTUxIDM5LjI3NzA4MTcsMTcuOTQ1NzcyMiAzMy40NTEwNjY3LDEyLjIyMjk1MzIgQzI3LjYyNTA1MTcsNi41MDAxMzQxOSAxOC4xNzkyMTUxLDYuNTAwMTM0MTkgMTIuMzUzMjAwMSwxMi4yMjI5NTMyIFpcIixcbiAgICBpZDogXCJTZWFyY2hPdXRsaW5lLVxcdTVGNjJcXHU3MkI2XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaE91dGxpbmU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIFNvdW5kT3V0bGluZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCI2RUFBNEY4OC05NDk0LTQyMkQtOTU1RC1GMTdFNEY4NEU4MDdAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiU291bmRPdXRsaW5lLVNvdW5kT3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiU291bmRPdXRsaW5lLVxcdTdGMTZcXHU3RUM0XCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJTb3VuZE91dGxpbmUtXFx1NzdFOVxcdTVGNjJcIixcbiAgICBmaWxsOiBcIiNGRkZGRkZcIixcbiAgICBvcGFjaXR5OiAwLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogNDgsXG4gICAgaGVpZ2h0OiA0OFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yOC4yNjczMzMsNy40MjM2NDUyMiBDMjguNjIxNzM0NSw3Ljk0ODY5MTE5IDI4LjgxMDg1MTUsOC41NjU1OTg5OSAyOC44MTA4NTE1LDkuMTk2NjI1NzEgTDI4LjgxMDg1MTUsMzguODAzNzE0IEMyOC44MTA4NTE1LDQwLjU2ODk3NCAyNy4zNjE5NTYzLDQyIDI1LjU3NDY1MzUsNDIgQzI0LjkzNTc0NzIsNDIgMjQuMzExMTM2LDQxLjgxMzIxNTMgMjMuNzc5NTMzOCw0MS40NjMxODQ3IEwxMy41MTc2NTg0LDM0LjcwNTg0NDkgTDguMzE0OTMwNywzNC43MDYyNTYgQzUuOTMxODYwMjgsMzQuNzA2MjU2IDQsMzIuNzk4MjIxMyA0LDMwLjQ0NDU0MTMgTDQsMTcuNjU5Mzk3MSBDNCwxNS4zMDU3MTcxIDUuOTMxODYwMjgsMTMuMzk3NjgyNCA4LjMxNDkzMDcsMTMuMzk3NjgyNCBMMTMuMzYwMTYzNCwxMy4zOTcyNzEzIEwyMy43Nzk1MzM4LDYuNTM3MTU0OTggQzI1LjI2NjY1OTcsNS41NTc5NjQ4OSAyNy4yNzU5MTU4LDUuOTU0ODYwMDkgMjguMjY3MzMzLDcuNDIzNjQ1MjIgWiBNNDAuNDY0OTIzMSw4Ljk5ODY4NjY2IEM0MC41NTExMjE4LDkuMTc3NDIzODMgNDAuNjE5OTk2LDkuMzIyMjMxMjEgNDAuNjcxNTQ1Nyw5LjQzMzEwODgxIEM0Mi44MDg1MjAxLDE0LjAyOTUwMzQgNDQsMTkuMTQzNzAyNyA0NCwyNC41MzI3NTUgQzQ0LDI5Ljc4Mzc0MDQgNDIuODY4Nzg5MiwzNC43NzM3NzU4IDQwLjgzMzkyNjksMzkuMjc4MTA4MyBDNDAuNzQ2OTUxMiwzOS40NzA2MzYyIDQwLjYyMzc4MDIsMzkuNzMzMDk4OCA0MC40NjQ0MTQxLDQwLjA2NTQ5NjEgQzQwLjM2ODk0NjksNDAuMjY0NzUzMyA0MC4xMzAwMDMxLDQwLjM0ODgyNzcgMzkuOTMwNzcxNSw0MC4yNTMzMDcyIEMzOS45MzA2NDE0LDQwLjI1MzI0NDggMzkuOTMwNTExMyw0MC4yNTMxODI0IDM5LjkzMDM4MTIsNDAuMjUzMTE5OCBDMzkuNjcwNjU0Miw0MC4xMjgyNDkyIDM5LjQ3NTExMDIsNDAuMDM0MjM2MyAzOS4zNDM3NDkyLDM5Ljk3MTA4MTEgQzM4Ljk0MTA0MDEsMzkuNzc3NDY4IDM4LjYxMzA2NjMsMzkuNjE5Nzg2IDM4LjM1OTgyNzksMzkuNDk4MDM1IEMzOC4yMDcwNzE2LDM5LjQyNDU5MzQgMzguMDAwNzI2MywzOS4zMjUzODc1IDM3Ljc0MDc5MiwzOS4yMDA0MTcyIEMzNy41NDE5MTA0LDM5LjEwNDg1MyAzNy40NTgwMDkyLDM4Ljg2NjI4NTYgMzcuNTUzMjQ2OCwzOC42NjcyNDczIEMzNy43MDM0OTM3LDM4LjM1MzI0NDUgMzcuODE5NzQ3OSwzOC4xMDQ3NDQgMzcuOTAyMDA5NSwzNy45MjE3NDU3IEMzOS43NDE2Mzc2LDMzLjgyOTMyNzggNDAuNzYzODAyLDI5LjI5ODkzODkgNDAuNzYzODAyLDI0LjUzMjc1NSBDNDAuNzYzODAyLDE5LjY5MzE0MzMgMzkuNzA5OTAwMSwxNS4wOTY2NDc4IDM3LjgxNjQwNDIsMTAuOTU0OTMzNCBDMzcuNzUyNjgwNywxMC44MTU1NDg3IDM3LjY2NTIwNDMsMTAuNjMwMDMwOCAzNy41NTM5NzQ4LDEwLjM5ODM3OTYgQzM3LjQ1ODUyNjUsMTAuMTk5MzExNiAzNy41NDIzMjc5LDkuOTYwNTA5NzMgMzcuNzQxMjk0OSw5Ljg2NDg1MTEgQzM3LjkyOTg3OTksOS43NzQxODM5IDM4LjA4MTgzNzMsOS43MDExMjYzOSAzOC4xOTcxNjcxLDkuNjQ1Njc4NTYgQzM4LjU0MDMzOTcsOS40ODA2ODkyOCAzOS4wMTAwOTE4LDkuMjU0ODQzNiAzOS42MDY0MjM0LDguOTY4MTQxNSBDMzkuNjg2NzIxMSw4LjkyOTUzNjMgMzkuNzk0OTg5Myw4Ljg3NzQ4MzQ5IDM5LjkzMTIyODIsOC44MTE5ODMwNyBDNDAuMTMwMTYyNyw4LjcxNjIzNTUzIDQwLjM2OTAyMDEsOC43OTk4MjcwOSA0MC40NjQ5MjMxLDguOTk4Njg2NjYgWiBNMjQuOTU0Njg5LDkuNjA0ODEwNDggTDE0LjQ0MDE2NDIsMTYuNTI3NTc2NSBDMTQuMzc0ODY5NSwxNi41NzA1NjY1IDE0LjI5ODQwODYsMTYuNTkzNDgwOSAxNC4yMjAyMzIzLDE2LjU5MzQ4NzMgTDguMzE0OTMwNywxNi41OTM5Njg1IEw4LjMxNDkzMDcsMTYuNTkzOTY4NSBDNy43NjE3MTc5MiwxNi41OTM5Njg1IDcuMzA1NzY4NTYsMTcuMDA1MjY2OCA3LjI0MzQ1NTQ1LDE3LjUzNTE0NTcgTDcuMjM2MTk4MDMsMTcuNjU5Mzk3MSBMNy4yMzYxOTgwMywzMC40NDQ1NDEzIEM3LjIzNjE5ODAzLDMwLjk5MDkzMTMgNy42NTI2MzIxOSwzMS40NDEyNTc0IDguMTg4OTIwMzcsMzEuNTAyODAyIEw4LjMxNDY3MTc4LDMxLjUwOTk3IEwxNC4zNzc1NTA2LDMxLjUwOTQ5MDkgQzE0LjQ1NTc1NzMsMzEuNTA5NDg0NyAxNC41MzIyNTAyLDMxLjUzMjQwNDUgMTQuNTk3NTY3NiwzMS41NzU0MTUzIEwyNC45NTQ2NjgyLDM4LjM5NTQ2IEMyNS4xMzkxNzMsMzguNTE2OTU0NSAyNS4zODcyMzQ1LDM4LjQ2NTg3NDYgMjUuNTA4NzI5LDM4LjI4MTM2OTggQzI1LjU1MTczMzksMzguMjE2MDYxNCAyNS41NzQ2NTM1LDM4LjEzOTU4MDQgMjUuNTc0NjUzNSwzOC4wNjEzODQ1IEwyNS41NzQ2NTM1LDkuOTM4ODk5NzUgQzI1LjU3NDY1MzUsOS43MTc5ODU4NSAyNS4zOTU1Njc0LDkuNTM4ODk5NzUgMjUuMTc0NjUzNSw5LjUzODg5OTc1IEMyNS4wOTY0NjYxLDkuNTM4ODk5NzUgMjUuMDE5OTkzLDkuNTYxODE0MzYgMjQuOTU0Njg5LDkuNjA0ODEwNDggWiBNMzQuNjQzNjExNSwxMS43OTg2NDggQzM0Ljc1NDczMzUsMTIuMDMwNzk0IDM0Ljg0MTk4NTQsMTIuMjE2Nzg4OSAzNC45MDUzNjcxLDEyLjM1NjYzMjggQzM2LjU5MDUwMiwxNi4wNzQ2NzYzIDM3LjUyNzYwMzksMjAuMTk1NjI5NCAzNy41Mjc2MDM5LDI0LjUzMjc1NSBDMzcuNTI3NjAzOSwyOC43NjQxMzk0IDM2LjYzNTYzOSwzMi43ODk3NjM1IDM1LjAyNzI4MzcsMzYuNDM2MjE4MyBDMzQuOTM4MDQyNywzNi42Mzg1NDQ5IDM0LjgxMDE1NTIsMzYuOTE0NjcwNiAzNC42NDM2MjExLDM3LjI2NDU5NTIgQzM0LjU0ODY2MDIsMzcuNDY0MDMyNiAzNC4zMTAwMTkxLDM3LjU0ODc3MjMgMzQuMTEwNTYzOSwzNy40NTM4NDg3IEMzNC4xMTAxMDkxLDM3LjQ1MzYzMjMgMzQuMTA5NjU0NywzNy40NTM0MTUgMzQuMTA5MjAwNywzNy40NTMxOTY4IEMzMy45MTkwNTczLDM3LjM2MTgyMjIgMzMuNzcyMTQyNCwzNy4yOTEyMjEzIDMzLjY2ODQ1NjEsMzcuMjQxMzk0MiBDMzMuMTg2NDY3LDM3LjAwOTc3MTMgMzIuODAwNzMsMzYuODI0NDAzIDMyLjUxMTI0NTEsMzYuNjg1Mjg5MiBDMzIuMzY0NzUzOCwzNi42MTQ4OTE5IDMyLjE2NzUyOTQsMzYuNTIwMTE0NCAzMS45MTk1NzE5LDM2LjQwMDk1NjkgQzMxLjcyMTA1MzgsMzYuMzA1NTM1OCAzMS42MzcwMTg4LDM2LjA2NzU4MiAzMS43MzE2MDQyLDM1Ljg2ODY2NDQgQzMxLjg2OTAzMjIsMzUuNTc5NjQ2NCAzMS45NzUzNzI3LDM1LjM1MDAxMjIgMzIuMDUwNjI1NSwzNS4xNzk3NjE3IEMzMy40OTE5MjA2LDMxLjkxOTAwNzEgMzQuMjkxNDA1OSwyOC4zMTgwOTQ1IDM0LjI5MTQwNTksMjQuNTMyNzU1IEMzNC4yOTE0MDU5LDIwLjY5MzA0NzcgMzMuNDY4NzksMTcuMDQzMTAzMSAzMS45ODgxMjU5LDEzLjc0NTQ1OTEgQzMxLjkyNjE5MDUsMTMuNjA3NTIwMyAzMS44NDA3NDksMTMuNDI0MzYyIDMxLjczMTgwMTQsMTMuMTk1OTg0MiBDMzEuNjM2ODg1LDEyLjk5Njk5OTEgMzEuNzIwODYzMiwxMi43NTg3MjYzIDMxLjkxOTU3MywxMi42NjMyMzQ4IEMzMi4wOTI5MzczLDEyLjU3OTkyMzMgMzIuMjMzMjE2NCwxMi41MTI1MTEyIDMyLjM0MDQxMDIsMTIuNDYwOTk4NSBDMzIuNjg4ODQ0OSwxMi4yOTM1NTU2IDMzLjE2NTU3MDYsMTIuMDY0NDYxNiAzMy43NzA1ODc1LDExLjc3MzcxNjMgQzMzLjg1NDAxOTgsMTEuNzMzNjIyMyAzMy45NjcwNDU4LDExLjY3OTMwNjggMzQuMTA5NjY1NSwxMS42MTA3Njk5IEMzNC4zMDg3NzM2LDExLjUxNTIxNjggMzQuNTQ3Njg4MSwxMS41OTkwMzgyIDM0LjY0MzM0NjYsMTEuNzk4MDk1NiBDMzQuNjQzNDM1LDExLjc5ODI3OTcgMzQuNjQzNTIzMywxMS43OTg0NjM4IDM0LjY0MzYxMTUsMTEuNzk4NjQ4IFpcIixcbiAgICBpZDogXCJTb3VuZE91dGxpbmUtXFx1NUY2MlxcdTcyQjZcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU291bmRPdXRsaW5lOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBTdGFyRmlsbChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB4bWxuc1hsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICB9LCBwcm9wcywge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICctMC4xMjVlbSdcbiAgICB9LCBwcm9wcy5zdHlsZSksXG4gICAgY2xhc3NOYW1lOiBbJ2FudGQtbW9iaWxlLWljb24nLCBwcm9wcy5jbGFzc05hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCIzQkI0Q0Q1QS00M0Q1LTQ1MDMtQUNFNy0yNkFGMUZFRUNCMDdAMnhcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiU3RhckZpbGwtU3RhckZpbGxcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIlN0YXJGaWxsLVxcdTdGMTZcXHU3RUM0XCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJTdGFyRmlsbC1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI1Ljg0NTU5Niw0LjQ0OTAwNTUxIEMyNi42NjgxMzY0LDQuODcxMjk4NDggMjcuMzMzOTE1OCw1LjU2Mzg4NDY3IDI3LjczOTg2MzgsNi40MTk1NDM2OSBMMzEuNjYwODMyMSwxNC42ODQxNzg4IEw0MC40MjgzODM4LDE2LjAwOTQ3NDcgQzQyLjcwNzkzLDE2LjM1NDA0OSA0NC4yODczNDYzLDE4LjU1NTcyMzkgNDMuOTU2MTA4OSwyMC45MjcwNTMzIEM0My44MjQyMDg0LDIxLjg3MTMyOTEgNDMuMzk2NzUxNywyMi43NDQwMzg2IDQyLjczOTkxNDEsMjMuNDEwMDc2MiBMMzYuMzk1NjU0MSwyOS44NDMxOTc1IEwzNy44OTMzMzA3LDM4LjkyNjkxMDUgQzM4LjI4MjcyMzcsNDEuMjg4NjU4MSAzNi43NTc5MTg3LDQzLjUzMTYwOCAzNC40ODc1ODM0LDQzLjkzNjY3OTQgQzMzLjU4MzUyMzksNDQuMDk3OTgxIDMyLjY1MzU2MTgsNDMuOTQ0NzU4OSAzMS44NDE2NjU4LDQzLjUwMDczMzggTDIzLjk5OTcyOTIsMzkuMjExOTg2MyBMMTYuMTU3NzkyNiw0My41MDA3MzM4IEMxNC4xMTg5MDQ0LDQ0LjYxNTc5OTggMTEuNTk3MTA2OCw0My44MDAzNDQxIDEwLjUyNTE5OTksNDEuNjc5MzYyNyBDMTAuMDk4MzYwOSw0MC44MzQ3NzY3IDkuOTUxMDY5MzYsMzkuODY3MzcwOCAxMC4xMDYxMjc3LDM4LjkyNjkxMDUgTDExLjYwMzgwNDMsMjkuODQzMTk3NSBMNS4yNTk1NDQzMywyMy40MTAwNzYyIEMzLjYxMDA0OTE4LDIxLjczNzQ3NzMgMy41NzYyOTc1NCwxOC45OTA1NDgxIDUuMTg0MTU3OTIsMTcuMjc0NjM4IEM1LjgyNDQxNjM3LDE2LjU5MTM1MzcgNi42NjMzNDczNiwxNi4xNDY2ODYgNy41NzEwNzQ2MywxNi4wMDk0NzQ3IEwxNi4zMzg2MjYzLDE0LjY4NDE3ODggTDIwLjI1OTU5NDYsNi40MTk1NDM2OSBDMjEuMjc5MDM4Nyw0LjI3MDc1NDc4IDIzLjc3OTk3NjcsMy4zODg1MTQ3OCAyNS44NDU1OTYsNC40NDkwMDU1MSBaXCIsXG4gICAgaWQ6IFwiU3RhckZpbGwtXFx1OERFRlxcdTVGODRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhckZpbGw7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIFRleHREZWxldGlvbk91dGxpbmUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sbnNYbGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnLTAuMTI1ZW0nXG4gICAgfSwgcHJvcHMuc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogWydhbnRkLW1vYmlsZS1pY29uJywgcHJvcHMuY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiNzc1M0NEMkQtRDQ1Ny00M0ZFLUJDMDctQTExNUVGNjFCQkEwQDJ4XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIlRleHREZWxldGlvbk91dGxpbmUtVGV4dERlbGV0aW9uT3V0bGluZVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiVGV4dERlbGV0aW9uT3V0bGluZS1cXHU3RjE2XFx1N0VDNFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgaWQ6IFwiVGV4dERlbGV0aW9uT3V0bGluZS1cXHU3N0U5XFx1NUY2MlwiLFxuICAgIGZpbGw6IFwiI0ZGRkZGRlwiLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiA0OCxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTM4LjU0OTIzMDIsNiBDNDEuNTU5NjA1MSw2IDQ0LDguNDYyNDA5MDYgNDQsMTEuNDk5OTgxIEw0NCwzNS41IEM0NCwzOC41Mzc1NzQyIDQxLjU1OTYwNTEsNDEuMDAwMDEzIDM4LjU0OTIzLDQxLjAwMDAxMyBMMTcuMzA1ODQ2Miw0MS4wMDAwMTMgQzE0LjY2NjUxNTIsNDEuMDAwMDEzIDEyLjIzNDcxMzgsMzkuNTU1OTgyIDEwLjk1Mjk3MzgsMzcuMjI3OTIzOCBMNC45MTQ1MTI4NCwyNy4wNjEyNjA4IEMzLjY5NTE2MjMsMjQuODQ2NDkzMiAzLjY5NTE2MjMsMjIuMTUzNTM1NCA0LjkxNDUxMzM1LDE5LjkzODc1MTYgTDEwLjk1Mjk3NDMsOS43NzIwODg1NiBDMTIuMjM0Njk3LDcuNDQ0MDMwOTggMTQuNjY2NTE1NCw2IDE3LjMwNTg0NjQsNiBMMzguNTQ5MjMwMiw2IFogTTM4LjU0OTIyNzMsOC43NDk5NDcwNyBMMTcuMzA1ODQ2NSw4Ljc0OTk0NzA3IEMxNS43MzI5MTYzLDguNzQ5OTQ3MDcgMTQuMjcxOTY1MSw5LjU3MTIwMTc2IDEzLjQ0Mzk3NjIsMTAuOTIwNjQ1NSBMMTMuMzM0OTYwOCwxMS4xMDc2NDU3IEw3LjI5NzM5NDA4LDIxLjI3NDMwODcgQzYuNTc1NjY5NzUsMjIuNTg1MDA3MiA2LjUzNDk1NTA1LDI0LjE2OTA0MzQgNy4xODgzNzg0NiwyNS41MTU3Mjg2IEw3LjI5NzM5Mzg2LDI1LjcyNjU2MjMgTDEzLjMzNDk2MDUsMzUuODkzMjI1MyBDMTQuMDk5MjIyNSwzNy4yODAzNzg4IDE1LjUyMDI5MzYsMzguMTY5ODU0NCAxNy4wOTE0NDgzLDM4LjI0NDQ3ODMgTDE3LjMwNTg0NTQsMzguMjQ5OTc4MyBMMzguNTQ5MjI5MiwzOC4yNDk5NzgzIEMzOS45OTIzNzE2LDM4LjI0OTk3ODMgNDEuMTg1NDA4OCwzNy4xMTQ5NzkgNDEuMjcwMDcwNCwzNS42NjEzMTAxIEw0MS4yNzQ2MTI3LDM1LjQ5OTk3NjkgTDQxLjI3NDYxMjcsMTEuNDk5OTUxMyBDNDEuMjc0NjEyNywxMC4wNDM2MTk4IDQwLjE0OTYyOTEsOC44Mzk4NzAzNyAzOC43MDg5NjUxLDguNzU0NTIxNDQgTDM4LjU0OTIyNzMsOC43NDk5NDcwNyBaIE0yMi4zNDkyODQyLDE3IEMyMi40NTQ3OTY4LDE3IDIyLjU1NjAzNiwxNy4wNDE2ODkyIDIyLjYzMDk1MzEsMTcuMTE1OTg4MyBMMjYuNzU3LDIxLjIwOCBMMzAuODgzMDQ2OSwxNy4xMTU5ODgzIEMzMC45NTc5NjQsMTcuMDQxNjg5MiAzMS4wNTkyMDMyLDE3IDMxLjE2NDcxNTgsMTcgTDM0LjI3MTkxOTYsMTcgQzM0LjQ5MjgzMzUsMTcgMzQuNjcxOTE5NiwxNy4xNzkwODYxIDM0LjY3MTkxOTYsMTcuNCBDMzQuNjcxOTE5NiwxNy41MDY3MzIxIDM0LjYyOTI2MzksMTcuNjA5MDM3OCAzNC41NTM0NDIzLDE3LjY4NDE1NjYgTDI4Ljg3OSwyMy4zMDYgTDM0LjgyNDUwNzEsMjkuMTk2ODU0MyBDMzQuOTgxNDM2NCwyOS4zNTIzNDExIDM0Ljk4MjYwNTksMjkuNjA1NjA0NCAzNC44MjcxMTkxLDI5Ljc2MjUzMzcgQzM0Ljc1MjAwMTEsMjkuODM4MzQ4NiAzNC42NDk3MDAxLDI5Ljg4MSAzNC41NDI5NzM0LDI5Ljg4MSBMMzEuNDM2Njk1OSwyOS44ODEgQzMxLjMzMTE5NSwyOS44ODEgMzEuMjI5OTY2MiwyOS44MzkzMjAxIDMxLjE1NTA1MTIsMjkuNzY1MDM1NyBMMjYuNzU4LDI1LjQwNSBMMjIuMzU5OTQzMiwyOS43NjUwNjY5IEMyMi4yODUwMzA5LDI5LjgzOTMzMjIgMjIuMTgzODE1NSwyOS44ODEgMjIuMDc4MzMsMjkuODgxIEwxOC45NzIwMjY2LDI5Ljg4MSBDMTguNzUxMTEyNywyOS44ODEgMTguNTcyMDI2NiwyOS43MDE5MTM5IDE4LjU3MjAyNjYsMjkuNDgxIEMxOC41NzIwMjY2LDI5LjM3NDI3MzMgMTguNjE0Njc4LDI5LjI3MTk3MjMgMTguNjkwNDkyOSwyOS4xOTY4NTQzIEwyNC42MzYsMjMuMzA2IEwxOC45NjI0MjY5LDE3LjY4NDEzNDUgQzE4LjgwNTUwMzcsMTcuNTI4NjQxNSAxOC44MDQzNDQ0LDE3LjI3NTM3ODIgMTguOTU5ODM3NCwxNy4xMTg0NTUgQzE5LjAzNDk1NDUsMTcuMDQyNjQ3IDE5LjEzNzI1MDYsMTcgMTkuMjQzOTcxOSwxNyBMMjIuMzQ5Mjg0MiwxNyBaXCIsXG4gICAgaWQ6IFwiVGV4dERlbGV0aW9uT3V0bGluZS1cXHU1RjYyXFx1NzJCNlxcdTdFRDNcXHU1NDA4XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHREZWxldGlvbk91dGxpbmU7IiwiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZVJlZiwgZm9yd2FyZFJlZiwgdXNlRWZmZWN0LCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uL3BvcHVwJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcbmltcG9ydCB7IHJlbmRlclRvQm9keSB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1ib2R5JztcbmltcG9ydCBTYWZlQXJlYSBmcm9tICcuLi9zYWZlLWFyZWEnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWFjdGlvbi1zaGVldGA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHZpc2libGU6IGZhbHNlLFxuICBhY3Rpb25zOiBbXSxcbiAgY2FuY2VsVGV4dDogJycsXG4gIGNsb3NlT25BY3Rpb246IGZhbHNlLFxuICBjbG9zZU9uTWFza0NsaWNrOiB0cnVlLFxuICBzYWZlQXJlYTogdHJ1ZVxufTtcbmV4cG9ydCBjb25zdCBBY3Rpb25TaGVldCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXAsIHtcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIG9uTWFza0NsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICAoX2EgPSBwcm9wcy5vbk1hc2tDbGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuXG4gICAgICBpZiAocHJvcHMuY2xvc2VPbk1hc2tDbGljaykge1xuICAgICAgICAoX2IgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhZnRlckNsb3NlOiBwcm9wcy5hZnRlckNsb3NlLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXBvcHVwYCxcbiAgICBnZXRDb250YWluZXI6IHByb3BzLmdldENvbnRhaW5lclxuICB9LCB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgcHJvcHMuZXh0cmEgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZXh0cmFgXG4gIH0sIHByb3BzLmV4dHJhKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYnV0dG9uLWxpc3RgXG4gIH0sIHByb3BzLmFjdGlvbnMubWFwKChhY3Rpb24sIGluZGV4KSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBrZXk6IGFjdGlvbi5rZXksXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYnV0dG9uLWl0ZW0td3JhcHBlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBibG9jazogdHJ1ZSxcbiAgICBmaWxsOiAnbm9uZScsXG4gICAgc2hhcGU6ICdyZWN0YW5ndWxhcicsXG4gICAgZGlzYWJsZWQ6IGFjdGlvbi5kaXNhYmxlZCxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYztcblxuICAgICAgKF9hID0gYWN0aW9uLm9uQ2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGFjdGlvbik7XG4gICAgICAoX2IgPSBwcm9wcy5vbkFjdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMsIGFjdGlvbiwgaW5kZXgpO1xuXG4gICAgICBpZiAocHJvcHMuY2xvc2VPbkFjdGlvbikge1xuICAgICAgICAoX2MgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtYCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1idXR0b24taXRlbS1kYW5nZXJgXTogYWN0aW9uLmRhbmdlclxuICAgIH0pXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtLW5hbWVgXG4gIH0sIGFjdGlvbi50ZXh0KSwgYWN0aW9uLmRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtLWRlc2NyaXB0aW9uYFxuICB9LCBhY3Rpb24uZGVzY3JpcHRpb24pKSkpKSwgcHJvcHMuY2FuY2VsVGV4dCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jYW5jZWxgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtLXdyYXBwZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgYmxvY2s6IHRydWUsXG4gICAgZmlsbDogJ25vbmUnLFxuICAgIHNoYXBlOiAncmVjdGFuZ3VsYXInLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtYCxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJ1dHRvbi1pdGVtLW5hbWVgXG4gIH0sIHByb3BzLmNhbmNlbFRleHQpKSkpLCBwcm9wcy5zYWZlQXJlYSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFNhZmVBcmVhLCB7XG4gICAgcG9zaXRpb246ICdib3R0b20nXG4gIH0pKSkpO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBzaG93QWN0aW9uU2hlZXQocHJvcHMpIHtcbiAgY29uc3QgV3JhcHBlciA9IGZvcndhcmRSZWYoKF8sIHJlZikgPT4ge1xuICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB9LCBbXSk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbG9zZSgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgICBjbG9zZTogaGFuZGxlQ2xvc2VcbiAgICB9KSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aW9uU2hlZXQsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgb25DbG9zZTogaGFuZGxlQ2xvc2UsXG4gICAgICBhZnRlckNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcblxuICAgICAgICAoX2EgPSBwcm9wcy5hZnRlckNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgIHVubW91bnQoKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0pO1xuICBjb25zdCByZWYgPSBjcmVhdGVSZWYoKTtcbiAgY29uc3QgdW5tb3VudCA9IHJlbmRlclRvQm9keShSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIHtcbiAgICByZWY6IHJlZlxuICB9KSk7XG4gIHJldHVybiB7XG4gICAgY2xvc2U6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgXCIuL2FjdGlvbi1zaGVldC5jc3NcIjtcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25TaGVldCwgc2hvd0FjdGlvblNoZWV0IH0gZnJvbSAnLi9hY3Rpb24tc2hlZXQnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KEFjdGlvblNoZWV0LCB7XG4gIHNob3c6IHNob3dBY3Rpb25TaGVldFxufSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9ICdhZG0tYXV0by1jZW50ZXInO1xuZXhwb3J0IGNvbnN0IEF1dG9DZW50ZXIgPSBwcm9wcyA9PiB7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGBcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59OyIsImltcG9ydCBcIi4vYXV0by1jZW50ZXIuY3NzXCI7XG5pbXBvcnQgeyBBdXRvQ2VudGVyIH0gZnJvbSAnLi9hdXRvLWNlbnRlcic7XG5leHBvcnQgZGVmYXVsdCBBdXRvQ2VudGVyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tICcuLi8uLi9pbmRleCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEZhbGxiYWNrIH0gZnJvbSAnLi9mYWxsYmFjayc7XG5jb25zdCBjbGFzc1ByZWZpeCA9ICdhZG0tYXZhdGFyJztcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZmFsbGJhY2s6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmFsbGJhY2ssIG51bGwpLFxuICBmaXQ6ICdjb3Zlcidcbn07XG5leHBvcnQgY29uc3QgQXZhdGFyID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeCxcbiAgICBzcmM6IHByb3BzLnNyYyxcbiAgICBmYWxsYmFjazogcHJvcHMuZmFsbGJhY2ssXG4gICAgcGxhY2Vob2xkZXI6IHByb3BzLmZhbGxiYWNrLFxuICAgIGFsdDogcHJvcHMuYWx0LFxuICAgIGxhenk6IHByb3BzLmxhenksXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBvbkVycm9yOiBwcm9wcy5vbkVycm9yXG4gIH0pKTtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgRmFsbGJhY2sgPSBtZW1vKCgpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICBjbGFzc05hbWU6ICdhZG0tYXZhdGFyLWZhbGxiYWNrJyxcbiAgd2lkdGg6ICc4OHB4JyxcbiAgaGVpZ2h0OiAnODhweCcsXG4gIHZpZXdCb3g6ICcwIDAgODggODgnLFxuICB2ZXJzaW9uOiAnMS4xJ1xufSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiXFx1N0YxNlxcdTdFQzQgM1wiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBvbHlnb25cIiwge1xuICBpZDogJ3BhdGgtMScsXG4gIHBvaW50czogJzAgMCA4OCAwIDg4IDg4IDAgODgnXG59KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgaWQ6ICdcXHU5ODc1XFx1OTc2Mi0xJyxcbiAgc3Ryb2tlOiAnbm9uZScsXG4gIHN0cm9rZVdpZHRoOiAnMScsXG4gIGZpbGw6ICdub25lJyxcbiAgZmlsbFJ1bGU6ICdldmVub2RkJ1xufSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICBpZDogJ1xcdThCRURcXHU5NkMwJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC00OTUuMDAwMDAwLCAtNzEuMDAwMDAwKSdcbn0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgaWQ6ICdcXHU3RjE2XFx1N0VDNC0zJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDQ5NS4wMDAwMDAsIDcxLjAwMDAwMCknXG59LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibWFza1wiLCB7XG4gIGlkOiAnbWFzay0yJyxcbiAgZmlsbDogJ3doaXRlJ1xufSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInVzZVwiLCB7XG4gIHhsaW5rSHJlZjogJyNwYXRoLTEnXG59KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1c2VcIiwge1xuICBpZDogJ01hc2snLFxuICBmaWxsOiAnI0VFRUVFRScsXG4gIGZpbGxSdWxlOiAnbm9uemVybycsXG4gIHhsaW5rSHJlZjogJyNwYXRoLTEnXG59KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiAnTTQ0LjU3MDc1MjgsMTYgTDQzLjQyOTIxMTcsMTYgTDQyLjk1NzUxOTcsMTYuMDA4NjQwMyBMNDIuOTU3NTE5NSwxNi4wMDg2NDAzIEMzNi41MjE1Nzg3LDE2LjI2MTU0NjQgMzEuNDM0MTgwMywyMS41Njc4MDc4IDMxLjQzNDQ4MzIsMjguMDI3Mzg2NCBMMzEuNDM0NDgzMiwzNC43Nzc2NTUxIEwzMS40NDk1NjAxLDM1LjM3MTY3ODggTDMxLjQ0OTU1OTMsMzUuMzcxNjYyOCBDMzEuNTk5Njg3LDM4LjUzNjg3MjMgMzIuOTQyMjA0MSw0MS41MjY5MzI3IDM1LjIwNTg1MTMsNDMuNzM3NjcxNiBMMzguMjE0Nzc1OSw0Ni42Nzc1NTA1IEwzOC40MDg2MjE5LDQ2Ljg5MTM5ODkgQzM4Ljc3NDc3NTksNDcuMzM4NTM2NSAzOC45NzUwODM1LDQ3LjkwMDE1ODkgMzguOTc1MDgzNSw0OC40ODMzODQ4IEwzOC45NzUwODM1LDQ4Ljg5MzgwMDYgTDM4Ljk1NTY5ODksNDkuMTg5NzMyNiBMMzguOTU1Njk4OSw0OS4xODk3MzI1IEMzOC44NTc3NzQ2LDQ5Ljk4MTI2NjIgMzguMzc1NDcxMyw1MC42NzI4NCAzNy42Njc3MDMsNTEuMDM2NjA1IEwxOC43Mzc1MjY5LDYwLjc0NDAyNjUgTDE4LjQxMDE0MjEsNjAuOTI3NjMzNCBMMTguNDEwMTQyMyw2MC45Mjc2MzMzIEMxNi45MTQxNjU4LDYxLjg0MTg2MzYgMTYuMDAwOTM4OSw2My40NzE0Njc0IDE2LDY1LjIyODM3NTggTDE2LDY2LjA3MDgwOSBMMTYuMDEyOTIzMSw2Ni4zOTQ4MjE3IEMxNi4xNzY2MTQ5LDY4LjQxMjMzNzYgMTcuODYwOTIyLDcwIDE5LjkxNTY5LDcwIEw2OC4wODQzMTAxLDcwIEw2OC4wODQzMSw3MCBDNzAuMjQ2MDQ2Nyw3MCA3MS45OTg4MDg3LDY4LjI0MzEyMiA3Miw2Ni4wNzUxMjI0IEw3Miw2NS4yMzI2ODkzIEM3Miw2My4zMzgyOTgyIDcwLjk0NDYxOTQsNjEuNjAzNzQ2NiA2OS4yNjI0NTk4LDYwLjc0NDAyOTUgTDUwLjMzMjI4MzcsNTEuMDM2NjA4IEw1MC4zMzIyODM1LDUxLjAzNjYwNzkgQzQ5LjUyOTEyMTgsNTAuNjI0OTA4MiA0OS4wMjQwNDQ4LDQ5Ljc5NjI0NjYgNDkuMDI0OTAzLDQ4Ljg5MTY0MzYgTDQ5LjAyNDkwMyw0OC40ODEyMjc4IEM0OS4wMjQ5MDMsNDcuODAyOTYwOCA0OS4zMDA1OTU1LDQ3LjE1Mjc3NTYgNDkuNzg1MjEwNiw0Ni42Nzc1NjAzIEw1Mi43OTQxMzUyLDQzLjczNzY4MTMgTDUyLjc5NDEzNTQsNDMuNzM3NjgxMSBDNTUuMjA0MzA4LDQxLjM4MzIzMjUgNTYuNTYzNjAyOSwzOC4xNTE5NzUgNTYuNTYzMzYwNiwzNC43Nzc2NDU2IEw1Ni41NjMzNjA2LDI4LjAyNzM3NjkgTDU2LjU2MzM2MDYsMjguMDI3Mzc3NCBDNTYuNTYzMzYwNiwyMS4zODQ4NTMxIDUxLjE5NDA4NzgsMTYgNDQuNTcwNzUyNCwxNiBMNDQuNTcwNzUyOCwxNiBaJyxcbiAgaWQ6ICdcXHU1RjYyXFx1NzJCNicsXG4gIGZpbGw6ICcjQ0NDQ0NDJyxcbiAgZmlsbFJ1bGU6ICdub256ZXJvJyxcbiAgbWFzazogJ3VybCgjbWFzay0yKSdcbn0pKSkpKSk7IiwiaW1wb3J0IFwiLi9hdmF0YXIuY3NzXCI7XG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tICcuL2F2YXRhcic7XG5leHBvcnQgZGVmYXVsdCBBdmF0YXI7IiwiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1iYWRnZWA7XG5leHBvcnQgY29uc3QgZG90ID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgQmFkZ2UgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb250ZW50LFxuICAgIGNvbG9yLFxuICAgIGNoaWxkcmVuXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaXNEb3QgPSBjb250ZW50ID09PSBkb3Q7XG4gIGNvbnN0IGJhZGdlQ2xzID0gY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwge1xuICAgIFtgJHtjbGFzc1ByZWZpeH0tZml4ZWRgXTogISFjaGlsZHJlbixcbiAgICBbYCR7Y2xhc3NQcmVmaXh9LWRvdGBdOiBpc0RvdFxuICB9KTtcbiAgY29uc3QgZWxlbWVudCA9IGNvbnRlbnQgPyB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYmFkZ2VDbHMsXG4gICAgc3R5bGU6IHtcbiAgICAgICctLWNvbG9yJzogY29sb3JcbiAgICB9XG4gIH0sICFpc0RvdCAmJiBjb250ZW50KSkgOiBudWxsO1xuICByZXR1cm4gY2hpbGRyZW4gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS13cmFwYFxuICB9LCBjaGlsZHJlbiwgZWxlbWVudCkgOiBlbGVtZW50O1xufTsiLCJpbXBvcnQgXCIuL2JhZGdlLmNzc1wiO1xuaW1wb3J0IHsgQmFkZ2UsIGRvdCB9IGZyb20gJy4vYmFkZ2UnO1xuaW1wb3J0IHsgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXR0YWNoLXByb3BlcnRpZXMtdG8tY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChCYWRnZSwge1xuICBkb3Rcbn0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBEb3RMb2FkaW5nIGZyb20gJy4uL2RvdC1sb2FkaW5nJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1idXR0b25gO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb2xvcjogJ2RlZmF1bHQnLFxuICBmaWxsOiAnc29saWQnLFxuICBibG9jazogZmFsc2UsXG4gIGxvYWRpbmc6IGZhbHNlLFxuICB0eXBlOiAnYnV0dG9uJyxcbiAgc2hhcGU6ICdkZWZhdWx0JyxcbiAgc2l6ZTogJ21pZGRsZSdcbn07XG5leHBvcnQgY29uc3QgQnV0dG9uID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmxvYWRpbmc7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IHByb3BzLnR5cGUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIHByb3BzLmNvbG9yID8gYCR7Y2xhc3NQcmVmaXh9LSR7cHJvcHMuY29sb3J9YCA6IG51bGwsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tYmxvY2tgXTogcHJvcHMuYmxvY2ssXG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWRpc2FibGVkYF06IGRpc2FibGVkLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1maWxsLW91dGxpbmVgXTogcHJvcHMuZmlsbCA9PT0gJ291dGxpbmUnLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1maWxsLW5vbmVgXTogcHJvcHMuZmlsbCA9PT0gJ25vbmUnLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1taW5pYF06IHByb3BzLnNpemUgPT09ICdtaW5pJyxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tc21hbGxgXTogcHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJyxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tbGFyZ2VgXTogcHJvcHMuc2l6ZSA9PT0gJ2xhcmdlJyxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tbG9hZGluZ2BdOiBwcm9wcy5sb2FkaW5nXG4gICAgfSwgYCR7Y2xhc3NQcmVmaXh9LXNoYXBlLSR7cHJvcHMuc2hhcGV9YCksXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gIH0sIHByb3BzLmxvYWRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1sb2FkaW5nLXdyYXBwZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRG90TG9hZGluZywge1xuICAgIGNvbG9yOiAnY3VycmVudENvbG9yJ1xuICB9KSwgcHJvcHMubG9hZGluZ1RleHQpIDogcHJvcHMuY2hpbGRyZW4pKTtcbn07IiwiaW1wb3J0IFwiLi9idXR0b24uY3NzXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL2J1dHRvbic7XG5leHBvcnQgZGVmYXVsdCBCdXR0b247IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBBcnJvd0xlZnREb3VibGUgPSAoKSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICBoZWlnaHQ6ICcxZW0nLFxuICAgIHZpZXdCb3g6ICcwIDAgNDQgNDQnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBzdHJva2U6ICdub25lJyxcbiAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBmaWxsUnVsZTogJ2V2ZW5vZGQnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTI0LjAwMDAwMCwgLTIyLjAwMDAwMCknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyMi4wMDAwMDApJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgeDogJzAnLFxuICAgIHk6ICcwJyxcbiAgICB3aWR0aDogJzQ0JyxcbiAgICBoZWlnaHQ6ICc0NCdcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoNy4wMDAwMDAsIDQuMDAwMDAwKScsXG4gICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgZmlsbFJ1bGU6ICdub256ZXJvJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogJ00xOS40ODMzMDU4LDIuNzE5ODU2MTEgTDMuNTMwNTExMzksMTcuMDY5OTc0NCBDMy4wMTczODMxLDE3LjUzMTU2NjUgMi45NzUyMjk1MiwxOC4zMjIwOTAzIDMuNDM2MzA4MDMsMTguODM1NzQzMyBMMy40MzYzMDc5NiwxOC44MzU3NDMyIEMzLjQ2NjAxMjg5LDE4Ljg2ODgxNjQgMy40OTc0NTg0NSwxOC45MDAyODAxIDMuNTMwNTExMzMsMTguOTMwMDAwNyBMMTkuNDgzMzA1NywzMy4yODAxNjExIEMyMC4xMjM0MDAxLDMzLjg1NTkwNzcgMjAuMTc1OTU1MiwzNC44NDIwNzA3IDE5LjYwMDc5NjcsMzUuNDgyNzc3NCBDMTkuMDI1NjM4MiwzNi4xMjM1MjYzIDE4LjA0MDQ4MjQsMzYuMTc2MTM1MSAxNy40MDAzODgsMzUuNjAwMzg4NSBMMS40NDc1OTM2NywyMS4yNTAyNzAzIEwxLjQ0NzU5MzMsMjEuMjUwMjcgQzEuMzMyMDg3NDMsMjEuMTQ2MzY5MiAxLjIyMjIwMjU5LDIxLjAzNjM3MiAxLjExODQwNzkyLDIwLjkyMDc0OCBDLTAuNDkzMDI5NjksMTkuMTI1NjgxNyAtMC4zNDU2Mzk1MzYsMTYuMzYyODMxNyAxLjQ0NzU5MzMsMTQuNzQ5NzQ2NSBMMTcuNDAwMzg3NywwLjM5OTYyODI4MiBDMTguMDQwNDgyMSwtMC4xNzYxNjA0MjggMTkuMDI1NjM3OCwtMC4xMjM1MDk0MjIgMTkuNjAwNzk2MywwLjUxNzIzOTQxNyBDMjAuMTc1OTU0OCwxLjE1Nzk0NjEgMjAuMTIzMzk5NywyLjE0NDEwOTE1IDE5LjQ4MzMwNTMsMi43MTk4NTU3IEwxOS40ODMzMDU4LDIuNzE5ODU2MTEgWidcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiAnTTE5LjUzMDUxMTQsMTcuMDY5OTc0NCBDMTkuMDE3MzgzMSwxNy41MzE1NjY1IDE4Ljk3NTIyOTUsMTguMzIyMDkwMyAxOS40MzYzMDgsMTguODM1NzQzMyBDMTkuNDY2MDEyOSwxOC44Njg4MTY0IDE5LjQ5NzQ1ODUsMTguOTAwMjgwMSAxOS41MzA1MTEzLDE4LjkzMDAwMDcgTDI5LjQ4MzMwNTcsMjcuMjgwMTYxMSBDMzAuMTIzNDAwMSwyNy44NTU5MDc3IDMwLjE3NTk1NTIsMjguODQyMDcwNyAyOS42MDA3OTY3LDI5LjQ4Mjc3NzQgQzI5LjAyNTYzODIsMzAuMTIzNTI2MyAyOC4wNDA0ODI0LDMwLjE3NjEzNTEgMjcuNDAwMzg4LDI5LjYwMDM4ODUgTDE3LjQ0NzU5MzcsMjEuMjUwMjcwMyBDMTcuMzMyMDg3NCwyMS4xNDYzNjkyIDE3LjIyMjIwMjYsMjEuMDM2MzcyIDE3LjExODQwNzksMjAuOTIwNzQ4IEMxNS41MDY5NzAzLDE5LjEyNTY4MTcgMTUuNjU0MzYwNSwxNi4zNjI4MzE3IDE3LjQ0NzU5MzMsMTQuNzQ5NzQ2NSBMMjcuNDAwMzg3Nyw2LjM5OTYyODI4IEMyOC4wNDA0ODIxLDUuODIzODM5NTcgMjkuMDI1NjM3OCw1Ljg3NjQ5MDU4IDI5LjYwMDc5NjMsNi41MTcyMzk0MiBDMzAuMTc1OTU0OCw3LjE1Nzk0NjEgMzAuMTIzMzk5Nyw4LjE0NDEwOTE1IDI5LjQ4MzMwNTMsOC43MTk4NTU3IEwxOS41MzA1MTE0LDE3LjA2OTk3NDQgWidcbiAgfSkpKSkpKTtcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBBcnJvd0xlZnQgPSAoKSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICBoZWlnaHQ6ICcxZW0nLFxuICAgIHZpZXdCb3g6ICcwIDAgNDQgNDQnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBzdHJva2U6ICdub25lJyxcbiAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBmaWxsUnVsZTogJ2V2ZW5vZGQnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTEwMC4wMDAwMDAsIC0yMi4wMDAwMDApJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDEwMC4wMDAwMDAsIDIyLjAwMDAwMCknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICB4OiAnMCcsXG4gICAgeTogJzAnLFxuICAgIHdpZHRoOiAnNDQnLFxuICAgIGhlaWdodDogJzQ0J1xuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgxMi4wMDAwMDAsIDQuMDAwMDAwKScsXG4gICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgZmlsbFJ1bGU6ICdub256ZXJvJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogJ00xOS40ODMzMDU4LDIuNzE5ODU2MTEgTDMuNTMwNTExMzksMTcuMDY5OTc0NCBDMy4wMTczODMxLDE3LjUzMTU2NjUgMi45NzUyMjk1MiwxOC4zMjIwOTAzIDMuNDM2MzA4MDMsMTguODM1NzQzMyBMMy40MzYzMDc5NiwxOC44MzU3NDMyIEMzLjQ2NjAxMjg5LDE4Ljg2ODgxNjQgMy40OTc0NTg0NSwxOC45MDAyODAxIDMuNTMwNTExMzMsMTguOTMwMDAwNyBMMTkuNDgzMzA1NywzMy4yODAxNjExIEMyMC4xMjM0MDAxLDMzLjg1NTkwNzcgMjAuMTc1OTU1MiwzNC44NDIwNzA3IDE5LjYwMDc5NjcsMzUuNDgyNzc3NCBDMTkuMDI1NjM4MiwzNi4xMjM1MjYzIDE4LjA0MDQ4MjQsMzYuMTc2MTM1MSAxNy40MDAzODgsMzUuNjAwMzg4NSBMMS40NDc1OTM2NywyMS4yNTAyNzAzIEwxLjQ0NzU5MzMsMjEuMjUwMjcgQzEuMzMyMDg3NDMsMjEuMTQ2MzY5MiAxLjIyMjIwMjU5LDIxLjAzNjM3MiAxLjExODQwNzkyLDIwLjkyMDc0OCBDLTAuNDkzMDI5NjksMTkuMTI1NjgxNyAtMC4zNDU2Mzk1MzYsMTYuMzYyODMxNyAxLjQ0NzU5MzMsMTQuNzQ5NzQ2NSBMMTcuNDAwMzg3NywwLjM5OTYyODI4MiBDMTguMDQwNDgyMSwtMC4xNzYxNjA0MjggMTkuMDI1NjM3OCwtMC4xMjM1MDk0MjIgMTkuNjAwNzk2MywwLjUxNzIzOTQxNyBDMjAuMTc1OTU0OCwxLjE1Nzk0NjEgMjAuMTIzMzk5NywyLjE0NDEwOTE1IDE5LjQ4MzMwNTMsMi43MTk4NTU3IEwxOS40ODMzMDU4LDIuNzE5ODU2MTEgWidcbiAgfSkpKSkpKTtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUxheW91dEVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBBcnJvd0xlZnQgfSBmcm9tICcuL2Fycm93LWxlZnQnO1xuaW1wb3J0IHsgQXJyb3dMZWZ0RG91YmxlIH0gZnJvbSAnLi9hcnJvdy1sZWZ0LWRvdWJsZSc7XG5pbXBvcnQgeyB1c2VDb25maWcgfSBmcm9tICcuLi9jb25maWctcHJvdmlkZXInO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLWNhbGVuZGFyJztcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgd2Vla1N0YXJ0c09uOiAnU3VuZGF5J1xufTtcbmV4cG9ydCBjb25zdCBDYWxlbmRhciA9IHAgPT4ge1xuICBjb25zdCB0b2RheSA9IGRheWpzKCk7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgbG9jYWxlXG4gIH0gPSB1c2VDb25maWcoKTtcbiAgY29uc3QgbWFya0l0ZW1zID0gWy4uLmxvY2FsZS5DYWxlbmRhci5tYXJrSXRlbXNdO1xuXG4gIGlmIChwcm9wcy53ZWVrU3RhcnRzT24gPT09ICdTdW5kYXknKSB7XG4gICAgY29uc3QgaXRlbSA9IG1hcmtJdGVtcy5wb3AoKTtcbiAgICBpZiAoaXRlbSkgbWFya0l0ZW1zLnVuc2hpZnQoaXRlbSk7XG4gIH1cblxuICBjb25zdCBbY3VycmVudCwgc2V0Q3VycmVudF0gPSB1c2VTdGF0ZSgoKSA9PiBkYXlqcygpLmRhdGUoMSkpO1xuICBjb25zdCBoZWFkZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1hcnJvdy1idXR0b25gLFxuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldEN1cnJlbnQoY3VycmVudC5zdWJ0cmFjdCgxLCAneWVhcicpKTtcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXJyb3dMZWZ0RG91YmxlLCBudWxsKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1hcnJvdy1idXR0b25gLFxuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldEN1cnJlbnQoY3VycmVudC5zdWJ0cmFjdCgxLCAnbW9udGgnKSk7XG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFycm93TGVmdCwgbnVsbCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aXRsZWBcbiAgfSwgbG9jYWxlLkNhbGVuZGFyLnJlbmRlclllYXJBbmRNb250aChjdXJyZW50LnllYXIoKSwgY3VycmVudC5tb250aCgpICsgMSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYXJyb3ctYnV0dG9uICR7Y2xhc3NQcmVmaXh9LWFycm93LWJ1dHRvbi1yaWdodGAsXG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudChjdXJyZW50LmFkZCgxLCAnbW9udGgnKSk7XG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFycm93TGVmdCwgbnVsbCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYXJyb3ctYnV0dG9uICR7Y2xhc3NQcmVmaXh9LWFycm93LWJ1dHRvbi1yaWdodGAsXG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudChjdXJyZW50LmFkZCgxLCAneWVhcicpKTtcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXJyb3dMZWZ0RG91YmxlLCBudWxsKSkpO1xuICBjb25zdCBkYXRlUmFuZ2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG5cbiAgICBpZiAocHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gKF9iID0gKF9hID0gcHJvcHMudmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb3BzLmRlZmF1bHRWYWx1ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICAgIHJldHVybiBbdmFsdWUsIHZhbHVlXTtcbiAgICB9IGVsc2UgaWYgKHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdyYW5nZScpIHtcbiAgICAgIHJldHVybiAoX2QgPSAoX2MgPSBwcm9wcy52YWx1ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcHJvcHMuZGVmYXVsdFZhbHVlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbbnVsbCwgbnVsbF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9LCBbcHJvcHMuc2VsZWN0aW9uTW9kZSwgcHJvcHMudmFsdWUsIHByb3BzLmRlZmF1bHRWYWx1ZV0pO1xuICBjb25zdCBbYmVnaW4sIHNldEJlZ2luXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZW5kLCBzZXRFbmRdID0gdXNlU3RhdGUobnVsbCk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgc2V0QmVnaW4oZGF0ZVJhbmdlWzBdID8gZGF5anMoZGF0ZVJhbmdlWzBdKSA6IG51bGwpO1xuICAgIHNldEVuZChkYXRlUmFuZ2VbMV0gPyBkYXlqcyhkYXRlUmFuZ2VbMV0pIDogbnVsbCk7XG4gIH0sIFtkYXRlUmFuZ2VbMF0sIGRhdGVSYW5nZVsxXV0pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlckNlbGxzKCkge1xuICAgIHZhciBfYTtcblxuICAgIGNvbnN0IGNlbGxzID0gW107XG4gICAgbGV0IGl0ZXJhdG9yID0gY3VycmVudC5zdWJ0cmFjdChjdXJyZW50Lmlzb1dlZWtkYXkoKSwgJ2RheScpO1xuXG4gICAgaWYgKHByb3BzLndlZWtTdGFydHNPbiA9PT0gJ01vbmRheScpIHtcbiAgICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IuYWRkKDEsICdkYXknKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgNiAqIDcpIHtcbiAgICAgIGNvbnN0IGQgPSBpdGVyYXRvcjtcblxuICAgICAgY29uc3QgaXNTZWxlY3QgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoIWJlZ2luKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChkLmlzU2FtZShiZWdpbiwgJ2RheScpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCFlbmQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGQuaXNTYW1lKGVuZCwgJ2RheScpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGQuaXNBZnRlcihiZWdpbiwgJ2RheScpICYmIGQuaXNCZWZvcmUoZW5kLCAnZGF5Jyk7XG4gICAgICB9KSgpO1xuXG4gICAgICBjb25zdCBpblRoaXNNb250aCA9IGQubW9udGgoKSA9PT0gY3VycmVudC5tb250aCgpO1xuICAgICAgY2VsbHMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBkLnZhbHVlT2YoKSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jZWxsYCwgaW5UaGlzTW9udGggPyBgJHtjbGFzc1ByZWZpeH0tY2VsbC1pbmAgOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC1vdXRgLCBpblRoaXNNb250aCAmJiB7XG4gICAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1jZWxsLXRvZGF5YF06IGQuaXNTYW1lKHRvZGF5LCAnZGF5JyksXG4gICAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1jZWxsLXNlbGVjdGVkYF06IGlzU2VsZWN0LFxuICAgICAgICAgIFtgJHtjbGFzc1ByZWZpeH0tY2VsbC1zZWxlY3RlZC1iZWdpbmBdOiBpc1NlbGVjdCAmJiBkLmlzU2FtZShiZWdpbiwgJ2RheScpLFxuICAgICAgICAgIFtgJHtjbGFzc1ByZWZpeH0tY2VsbC1zZWxlY3RlZC1lbmRgXTogaXNTZWxlY3QgJiYgKCFlbmQgfHwgZC5pc1NhbWUoZW5kLCAnZGF5JykpXG4gICAgICAgIH0pLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG5cbiAgICAgICAgICBpZiAoIXByb3BzLnNlbGVjdGlvbk1vZGUpIHJldHVybjtcblxuICAgICAgICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJykge1xuICAgICAgICAgICAgc2V0QmVnaW4oZCk7XG4gICAgICAgICAgICBzZXRFbmQoZCk7XG4gICAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGQudG9EYXRlKCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgaWYgKGJlZ2luICE9PSBudWxsICYmIGVuZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAoZC5pc0JlZm9yZShiZWdpbikpIHtcbiAgICAgICAgICAgICAgICBzZXRFbmQoYmVnaW4pO1xuICAgICAgICAgICAgICAgIHNldEJlZ2luKGQpO1xuICAgICAgICAgICAgICAgIChfYiA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcywgW2QudG9EYXRlKCksIGJlZ2luLnRvRGF0ZSgpXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0RW5kKGQpO1xuICAgICAgICAgICAgICAgIChfYyA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChwcm9wcywgW2JlZ2luLnRvRGF0ZSgpLCBkLnRvRGF0ZSgpXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldEJlZ2luKGQpO1xuICAgICAgICAgICAgICBzZXRFbmQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFpblRoaXNNb250aCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudChkLmNsb25lKCkuZGF0ZSgxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC10b3BgXG4gICAgICB9LCBkLmRhdGUoKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jZWxsLWJvdHRvbWBcbiAgICAgIH0sIChfYSA9IHByb3BzLnJlbmRlckxhYmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZC50b0RhdGUoKSkpKSk7XG4gICAgICBpdGVyYXRvciA9IGl0ZXJhdG9yLmFkZCgxLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNlbGxzO1xuICB9XG5cbiAgY29uc3QgYm9keSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNlbGxzYFxuICB9LCByZW5kZXJDZWxscygpKTtcbiAgY29uc3QgbWFyayA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LW1hcmtgXG4gIH0sIG1hcmtJdGVtcy5tYXAoaXRlbSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBrZXk6IGl0ZW0sXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbWFyay1jZWxsYFxuICB9LCBpdGVtKSkpO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4XG4gIH0sIGhlYWRlciwgbWFyaywgYm9keSkpO1xufTsiLCJpbXBvcnQgXCIuL2NhbGVuZGFyLmNzc1wiO1xuaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICcuL2NhbGVuZGFyJztcbmV4cG9ydCBkZWZhdWx0IENhbGVuZGFyOyIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgdXNlUmVzaXplRWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXJlc2l6ZS1lZmZlY3QnO1xuaW1wb3J0IHsgdXNlVGFiTGlzdFNjcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS10YWItbGlzdC1zY3JvbGwnO1xuaW1wb3J0IFNjcm9sbE1hc2sgZnJvbSAnLi4vc2Nyb2xsLW1hc2snO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWNhcHN1bGUtdGFic2A7XG5leHBvcnQgY29uc3QgQ2Fwc3VsZVRhYiA9ICgpID0+IHtcbiAgcmV0dXJuIG51bGw7XG59O1xuZXhwb3J0IGNvbnN0IENhcHN1bGVUYWJzID0gcHJvcHMgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgdGFiTGlzdENvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qga2V5VG9JbmRleFJlY29yZCA9IHt9O1xuICBsZXQgZmlyc3RBY3RpdmVLZXkgPSBudWxsO1xuICBjb25zdCBwYW5lcyA9IFtdO1xuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCAoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybjtcbiAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIGZpcnN0QWN0aXZlS2V5ID0ga2V5O1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aCA9IHBhbmVzLnB1c2goY2hpbGQpO1xuICAgIGtleVRvSW5kZXhSZWNvcmRba2V5XSA9IGxlbmd0aCAtIDE7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlS2V5LCBzZXRBY3RpdmVLZXldID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0QWN0aXZlS2V5LFxuICAgIG9uQ2hhbmdlOiB2ID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKHYgPT09IG51bGwpIHJldHVybjtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdik7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qge1xuICAgIHNjcm9sbExlZnQsXG4gICAgYW5pbWF0ZVxuICB9ID0gdXNlVGFiTGlzdFNjcm9sbCh0YWJMaXN0Q29udGFpbmVyUmVmLCBrZXlUb0luZGV4UmVjb3JkW2FjdGl2ZUtleV0pO1xuICB1c2VSZXNpemVFZmZlY3QoKCkgPT4ge1xuICAgIGFuaW1hdGUodHJ1ZSk7XG4gIH0sIHJvb3RSZWYpO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIHJlZjogcm9vdFJlZlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsTWFzaywge1xuICAgIHNjcm9sbFRyYWNrUmVmOiB0YWJMaXN0Q29udGFpbmVyUmVmXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRhYi1saXN0YCxcbiAgICByZWY6IHRhYkxpc3RDb250YWluZXJSZWYsXG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdFxuICB9LCBwYW5lcy5tYXAocGFuZSA9PiB3aXRoTmF0aXZlUHJvcHMocGFuZS5wcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBwYW5lLmtleSxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10YWItd3JhcHBlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlcbiAgICAgIH0gPSBwYW5lO1xuICAgICAgaWYgKHBhbmUucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZUtleShrZXkudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXRhYmAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGFiLWFjdGl2ZWBdOiBwYW5lLmtleSA9PT0gYWN0aXZlS2V5LFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS10YWItZGlzYWJsZWRgXTogcGFuZS5wcm9wcy5kaXNhYmxlZFxuICAgIH0pXG4gIH0sIHBhbmUucHJvcHMudGl0bGUpKSkpKSksIHBhbmVzLm1hcChwYW5lID0+IHtcbiAgICBpZiAocGFuZS5wcm9wcy5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocGFuZS5rZXkgPT09IGFjdGl2ZUtleSkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IHBhbmUua2V5LFxuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50YFxuICAgICAgfSwgcGFuZS5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaWYgKHBhbmUucHJvcHMuZm9yY2VSZW5kZXIpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBwYW5lLmtleSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgfVxuICAgICAgfSwgcGFuZS5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pKSk7XG59OyIsImltcG9ydCBcIi4vY2Fwc3VsZS10YWJzLmNzc1wiO1xuaW1wb3J0IHsgQ2Fwc3VsZVRhYiwgQ2Fwc3VsZVRhYnMgfSBmcm9tICcuL2NhcHN1bGUtdGFicyc7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KENhcHN1bGVUYWJzLCB7XG4gIFRhYjogQ2Fwc3VsZVRhYlxufSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1jYXJkYDtcbmV4cG9ydCBjb25zdCBDYXJkID0gcHJvcHMgPT4ge1xuICBjb25zdCByZW5kZXJIZWFkZXIgPSAoKSA9PiB7XG4gICAgaWYgKCEocHJvcHMudGl0bGUgfHwgcHJvcHMuZXh0cmEpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWhlYWRlcmAsIHByb3BzLmhlYWRlckNsYXNzTmFtZSksXG4gICAgICBzdHlsZTogcHJvcHMuaGVhZGVyU3R5bGUsXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkhlYWRlckNsaWNrXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXItdGl0bGVgXG4gICAgfSwgcHJvcHMudGl0bGUpLCBwcm9wcy5leHRyYSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQm9keSA9ICgpID0+IHtcbiAgICBpZiAoIXByb3BzLmNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWJvZHlgLCBwcm9wcy5ib2R5Q2xhc3NOYW1lKSxcbiAgICAgIHN0eWxlOiBwcm9wcy5ib2R5U3R5bGUsXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkJvZHlDbGlja1xuICAgIH0sIHByb3BzLmNoaWxkcmVuKTtcbiAgfTtcblxuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgfSwgcmVuZGVySGVhZGVyKCksIHJlbmRlckJvZHkoKSkpO1xufTsiLCJpbXBvcnQgXCIuL2NhcmQuY3NzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi9jYXJkJztcbmV4cG9ydCBkZWZhdWx0IENhcmQ7IiwiaW1wb3J0IHsgX19yZXN0IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBpY2tlclZpZXcgZnJvbSAnLi4vcGlja2VyLXZpZXcnO1xuaW1wb3J0IHsgdXNlQ2FzY2FkZVBpY2tlck9wdGlvbnMgfSBmcm9tICcuLi9jYXNjYWRlLXBpY2tlci91c2UtY2FzY2FkZS1waWNrZXItb3B0aW9ucyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhc2NhZGVQaWNrZXJDb2x1bW5zIH0gZnJvbSAnLi4vY2FzY2FkZS1waWNrZXIvY2FzY2FkZS1waWNrZXItdXRpbHMnO1xuZXhwb3J0IGNvbnN0IENhc2NhZGVQaWNrZXJWaWV3ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgb3B0aW9uc1xuICB9ID0gcHJvcHMsXG4gICAgICAgIHBpY2tlclByb3BzID0gX19yZXN0KHByb3BzLCBbXCJvcHRpb25zXCJdKTtcblxuICBjb25zdCB7XG4gICAgZGVwdGgsXG4gICAgc3ViT3B0aW9uc1JlY29yZFxuICB9ID0gdXNlQ2FzY2FkZVBpY2tlck9wdGlvbnMob3B0aW9ucyk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBpY2tlclZpZXcsIE9iamVjdC5hc3NpZ24oe30sIHBpY2tlclByb3BzLCB7XG4gICAgY29sdW1uczogc2VsZWN0ZWQgPT4gZ2VuZXJhdGVDYXNjYWRlUGlja2VyQ29sdW1ucyhzZWxlY3RlZCwgb3B0aW9ucywgZGVwdGgsIHN1Yk9wdGlvbnNSZWNvcmQpXG4gIH0pKTtcbn07IiwiaW1wb3J0IHsgQ2FzY2FkZVBpY2tlclZpZXcgfSBmcm9tICcuL2Nhc2NhZGUtcGlja2VyLXZpZXcnO1xuZXhwb3J0IGRlZmF1bHQgQ2FzY2FkZVBpY2tlclZpZXc7IiwiZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ2FzY2FkZVBpY2tlckNvbHVtbnModmFsdWUsIG9wdGlvbnMsIGRlcHRoLCBzdWJPcHRpb25zUmVjb3JkKSB7XG4gIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgY29sdW1ucy5wdXNoKG9wdGlvbnMubWFwKG9wdGlvbiA9PiAoe1xuICAgIGxhYmVsOiBvcHRpb24ubGFiZWwsXG4gICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICB9KSkpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwdGggLSAxOyBpKyspIHtcbiAgICBjb25zdCB4ID0gdmFsdWVbaV07XG4gICAgY29uc3Qgc3ViT3B0aW9ucyA9IHN1Yk9wdGlvbnNSZWNvcmRbeF07XG5cbiAgICBpZiAoIXN1Yk9wdGlvbnMpIHtcbiAgICAgIGNvbHVtbnMucHVzaChbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbHVtbnMucHVzaChzdWJPcHRpb25zLm1hcChvcHRpb24gPT4gKHtcbiAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgfSkpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29sdW1ucztcbn0iLCJpbXBvcnQgeyBfX3Jlc3QgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGlja2VyIGZyb20gJy4uL3BpY2tlcic7XG5pbXBvcnQgeyB1c2VDYXNjYWRlUGlja2VyT3B0aW9ucyB9IGZyb20gJy4vdXNlLWNhc2NhZGUtcGlja2VyLW9wdGlvbnMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVDYXNjYWRlUGlja2VyQ29sdW1ucyB9IGZyb20gJy4vY2FzY2FkZS1waWNrZXItdXRpbHMnO1xuZXhwb3J0IGNvbnN0IENhc2NhZGVQaWNrZXIgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBvcHRpb25zXG4gIH0gPSBwcm9wcyxcbiAgICAgICAgcGlja2VyUHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcIm9wdGlvbnNcIl0pO1xuXG4gIGNvbnN0IHtcbiAgICBkZXB0aCxcbiAgICBzdWJPcHRpb25zUmVjb3JkXG4gIH0gPSB1c2VDYXNjYWRlUGlja2VyT3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGlja2VyLCBPYmplY3QuYXNzaWduKHt9LCBwaWNrZXJQcm9wcywge1xuICAgIGNvbHVtbnM6IHNlbGVjdGVkID0+IGdlbmVyYXRlQ2FzY2FkZVBpY2tlckNvbHVtbnMoc2VsZWN0ZWQsIG9wdGlvbnMsIGRlcHRoLCBzdWJPcHRpb25zUmVjb3JkKVxuICB9KSk7XG59OyIsImltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBwcm9tcHQgfSBmcm9tICcuL3Byb21wdCc7XG5pbXBvcnQgeyBDYXNjYWRlUGlja2VyIH0gZnJvbSAnLi9jYXNjYWRlLXBpY2tlcic7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoQ2FzY2FkZVBpY2tlciwge1xuICBwcm9tcHRcbn0pOyIsImltcG9ydCB7IENhc2NhZGVQaWNrZXIgfSBmcm9tICcuL2Nhc2NhZGUtcGlja2VyJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyVG9Cb2R5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLXRvLWJvZHknO1xuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChwcm9wcykge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgV3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYXNjYWRlUGlja2VyLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBvbkNvbmZpcm06ICh2YWwsIGV4dGVuZCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIChfYSA9IHByb3BzLm9uQ29uZmlybSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZXh0ZW5kKTtcbiAgICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgICB1bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdW5tb3VudCA9IHJlbmRlclRvQm9keShSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIG51bGwpKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBmdW5jdGlvbiB1c2VDYXNjYWRlUGlja2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgZGVwdGggPSAxO1xuICAgIGNvbnN0IHN1Yk9wdGlvbnNSZWNvcmQgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlKG9wdGlvbiwgY3VycmVudERlcHRoKSB7XG4gICAgICBpZiAoIW9wdGlvbi5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN1Yk9wdGlvbnNSZWNvcmRbb3B0aW9uLnZhbHVlXSA9IG9wdGlvbi5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IG5leHREZXB0aCA9IGN1cnJlbnREZXB0aCArIDE7XG5cbiAgICAgIGlmIChuZXh0RGVwdGggPiBkZXB0aCkge1xuICAgICAgICBkZXB0aCA9IG5leHREZXB0aDtcbiAgICAgIH1cblxuICAgICAgb3B0aW9uLmNoaWxkcmVuLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgdHJhdmVyc2Uob3B0aW9uLCBuZXh0RGVwdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICB0cmF2ZXJzZShvcHRpb24sIDEpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBkZXB0aCxcbiAgICAgIHN1Yk9wdGlvbnNSZWNvcmRcbiAgICB9O1xuICB9LCBbb3B0aW9uc10pO1xufSIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgVGFicyBmcm9tICcuLi90YWJzJztcbmltcG9ydCBDaGVja0xpc3QgZnJvbSAnLi4vY2hlY2stbGlzdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IHVzZUNhc2NhZGVyVmFsdWVFeHRlbmQgfSBmcm9tICcuL3VzZS1jYXNjYWRlci12YWx1ZS1leHRlbmQnO1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnLXByb3ZpZGVyJztcbmltcG9ydCB7IG9wdGlvblNrZWxldG9uIH0gZnJvbSAnLi9vcHRpb24tc2tlbGV0b24nO1xuaW1wb3J0IFNrZWxldG9uIGZyb20gJy4uL3NrZWxldG9uJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1jYXNjYWRlci12aWV3YDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdFZhbHVlOiBbXVxufTtcbmV4cG9ydCBjb25zdCBDYXNjYWRlclZpZXcgPSBwID0+IHtcbiAgY29uc3Qge1xuICAgIGxvY2FsZVxuICB9ID0gdXNlQ29uZmlnKCk7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHtcbiAgICBwbGFjZWhvbGRlcjogbG9jYWxlLkNhc2NhZGVyLnBsYWNlaG9sZGVyXG4gIH0sIHApO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVByb3BzVmFsdWUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHtcbiAgICBvbkNoYW5nZTogdmFsID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2YWwsIGdlbmVyYXRlVmFsdWVFeHRlbmQodmFsKSk7XG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IFt0YWJBY3RpdmVLZXksIHNldFRhYkFjdGl2ZUtleV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgZ2VuZXJhdGVWYWx1ZUV4dGVuZCA9IHVzZUNhc2NhZGVyVmFsdWVFeHRlbmQocHJvcHMub3B0aW9ucyk7XG4gIGNvbnN0IGxldmVscyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHJldCA9IFtdO1xuICAgIGxldCBjdXJyZW50T3B0aW9ucyA9IHByb3BzLm9wdGlvbnM7XG4gICAgbGV0IHJlYWNoZWRFbmQgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gY3VycmVudE9wdGlvbnMuZmluZChvcHRpb24gPT4gb3B0aW9uLnZhbHVlID09PSB2KTtcbiAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgc2VsZWN0ZWQ6IHRhcmdldCxcbiAgICAgICAgb3B0aW9uczogY3VycmVudE9wdGlvbnNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICAgIHJlYWNoZWRFbmQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY3VycmVudE9wdGlvbnMgPSB0YXJnZXQuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgaWYgKCFyZWFjaGVkRW5kKSB7XG4gICAgICByZXQucHVzaCh7XG4gICAgICAgIHNlbGVjdGVkOiB1bmRlZmluZWQsXG4gICAgICAgIG9wdGlvbnM6IGN1cnJlbnRPcHRpb25zXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LCBbdmFsdWUsIHByb3BzLm9wdGlvbnNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUYWJBY3RpdmVLZXkobGV2ZWxzLmxlbmd0aCAtIDEpO1xuICB9LCBbdmFsdWVdKTtcblxuICBjb25zdCBvbkl0ZW1TZWxlY3QgPSAoc2VsZWN0VmFsdWUsIGRlcHRoKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9IHZhbHVlLnNsaWNlKDAsIGRlcHRoKTtcblxuICAgIGlmIChzZWxlY3RWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXh0W2RlcHRoXSA9IHNlbGVjdFZhbHVlO1xuICAgIH1cblxuICAgIHNldFZhbHVlKG5leHQpO1xuICB9O1xuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgYWN0aXZlS2V5OiB0YWJBY3RpdmVLZXkudG9TdHJpbmcoKSxcbiAgICBvbkNoYW5nZToga2V5ID0+IHNldFRhYkFjdGl2ZUtleShwYXJzZUludChrZXkpKSxcbiAgICBzdHJldGNoOiBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10YWJzYFxuICB9LCBsZXZlbHMubWFwKChsZXZlbCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGxldmVsLnNlbGVjdGVkO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYnMuVGFiLCB7XG4gICAgICBrZXk6IGluZGV4LFxuICAgICAgdGl0bGU6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXItdGl0bGVgXG4gICAgICB9LCBzZWxlY3RlZCA/IHNlbGVjdGVkLmxhYmVsIDogcHJvcHMucGxhY2Vob2xkZXIpLFxuICAgICAgZm9yY2VSZW5kZXI6IHRydWVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gICAgfSwgbGV2ZWwub3B0aW9ucyA9PT0gb3B0aW9uU2tlbGV0b24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXNrZWxldG9uYFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2tlbGV0b24sIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXNrZWxldG9uLWxpbmUtMWAsXG4gICAgICBhbmltYXRlZDogdHJ1ZVxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNrZWxldG9uLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1za2VsZXRvbi1saW5lLTJgLFxuICAgICAgYW5pbWF0ZWQ6IHRydWVcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChTa2VsZXRvbiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tc2tlbGV0b24tbGluZS0zYCxcbiAgICAgIGFuaW1hdGVkOiB0cnVlXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2tlbGV0b24sIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXNrZWxldG9uLWxpbmUtNGAsXG4gICAgICBhbmltYXRlZDogdHJ1ZVxuICAgIH0pKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tMaXN0LCB7XG4gICAgICB2YWx1ZTogW3ZhbHVlW2luZGV4XV0sXG4gICAgICBvbkNoYW5nZTogc2VsZWN0VmFsdWUgPT4gb25JdGVtU2VsZWN0KHNlbGVjdFZhbHVlWzBdLCBpbmRleClcbiAgICB9LCBsZXZlbC5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgY29uc3QgYWN0aXZlID0gdmFsdWVbaW5kZXhdID09PSBvcHRpb24udmFsdWU7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja0xpc3QuSXRlbSwge1xuICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlLFxuICAgICAgICBrZXk6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgZGlzYWJsZWQ6IG9wdGlvbi5kaXNhYmxlZCxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1pdGVtYCwge1xuICAgICAgICAgIFtgJHtjbGFzc1ByZWZpeH0taXRlbS1hY3RpdmVgXTogYWN0aXZlXG4gICAgICAgIH0pXG4gICAgICB9LCBvcHRpb24ubGFiZWwpO1xuICAgIH0pKSkpO1xuICB9KSkpKTtcbn07IiwiaW1wb3J0IFwiLi9jYXNjYWRlci12aWV3LmNzc1wiO1xuaW1wb3J0IHsgQ2FzY2FkZXJWaWV3IH0gZnJvbSAnLi9jYXNjYWRlci12aWV3JztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBvcHRpb25Ta2VsZXRvbiB9IGZyb20gJy4vb3B0aW9uLXNrZWxldG9uJztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChDYXNjYWRlclZpZXcsIHtcbiAgb3B0aW9uU2tlbGV0b25cbn0pOyIsImV4cG9ydCBjb25zdCBvcHRpb25Ta2VsZXRvbiA9IFtdOyIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdsb2Rhc2gvbWVtb2l6ZSc7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FzY2FkZXJWYWx1ZUV4dGVuZChvcHRpb25zKSB7XG4gIGNvbnN0IGdlbmVyYXRlSXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gbWVtb2l6ZSh2YWwgPT4ge1xuICAgICAgY29uc3QgcmV0ID0gW107XG4gICAgICBsZXQgY3VycmVudE9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGN1cnJlbnRPcHRpb25zLmZpbmQob3B0aW9uID0+IG9wdGlvbi52YWx1ZSA9PT0gdik7XG5cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldC5wdXNoKHRhcmdldCk7XG4gICAgICAgIGlmICghdGFyZ2V0LmNoaWxkcmVuKSBicmVhaztcbiAgICAgICAgY3VycmVudE9wdGlvbnMgPSB0YXJnZXQuY2hpbGRyZW47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSwgdmFsID0+IEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICB9LCBbb3B0aW9uc10pO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlVmFsdWVFeHRlbmQodmFsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlSXRlbXModmFsKTtcbiAgICAgIH1cblxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdGVWYWx1ZUV4dGVuZDtcbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9wb3B1cCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCBDYXNjYWRlclZpZXcgZnJvbSAnLi4vY2FzY2FkZXItdmlldyc7XG5pbXBvcnQgeyB1c2VDb25maWcgfSBmcm9tICcuLi9jb25maWctcHJvdmlkZXInO1xuaW1wb3J0IHsgdXNlQ2FzY2FkZXJWYWx1ZUV4dGVuZCB9IGZyb20gJy4uL2Nhc2NhZGVyLXZpZXcvdXNlLWNhc2NhZGVyLXZhbHVlLWV4dGVuZCc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tY2FzY2FkZXJgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0VmFsdWU6IFtdXG59O1xuZXhwb3J0IGNvbnN0IENhc2NhZGVyID0gcCA9PiB7XG4gIHZhciBfYTtcblxuICBjb25zdCB7XG4gICAgbG9jYWxlXG4gIH0gPSB1c2VDb25maWcoKTtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywge1xuICAgIGNvbmZpcm1UZXh0OiBsb2NhbGUuY29tbW9uLmNvbmZpcm0sXG4gICAgY2FuY2VsVGV4dDogbG9jYWxlLmNvbW1vbi5jYW5jZWwsXG4gICAgcGxhY2Vob2xkZXI6IGxvY2FsZS5DYXNjYWRlci5wbGFjZWhvbGRlclxuICB9LCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCB7XG4gICAgb25DaGFuZ2U6IHZhbCA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQ29uZmlybSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZ2VuZXJhdGVWYWx1ZUV4dGVuZCh2YWwpKTtcbiAgICB9XG4gIH0pKTtcbiAgY29uc3QgZ2VuZXJhdGVWYWx1ZUV4dGVuZCA9IHVzZUNhc2NhZGVyVmFsdWVFeHRlbmQocHJvcHMub3B0aW9ucyk7XG4gIGNvbnN0IFtpbm5lclZhbHVlLCBzZXRJbm5lclZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXByb3BzLnZpc2libGUpIHtcbiAgICAgIHNldElubmVyVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfSwgW3Byb3BzLnZpc2libGVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXByb3BzLnZpc2libGUpIHtcbiAgICAgIHNldElubmVyVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfSwgW3ZhbHVlXSk7XG4gIGNvbnN0IGNhc2NhZGVyRWxlbWVudCA9IHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXItYnV0dG9uYCxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICAoX2EgPSBwcm9wcy5vbkNhbmNlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgKF9iID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICAgIH1cbiAgfSwgcHJvcHMuY2FuY2VsVGV4dCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci10aXRsZWBcbiAgfSwgcHJvcHMudGl0bGUpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taGVhZGVyLWJ1dHRvbmAsXG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBzZXRWYWx1ZShpbm5lclZhbHVlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICB9XG4gIH0sIHByb3BzLmNvbmZpcm1UZXh0KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJvZHlgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FzY2FkZXJWaWV3LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgIHZhbHVlOiBpbm5lclZhbHVlLFxuICAgIG9uQ2hhbmdlOiAodmFsLCBleHQpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgc2V0SW5uZXJWYWx1ZSh2YWwpO1xuXG4gICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuICAgICAgICAoX2EgPSBwcm9wcy5vblNlbGVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pKSkpKTtcbiAgY29uc3QgcG9wdXBFbGVtZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChQb3B1cCwge1xuICAgIHZpc2libGU6IHByb3BzLnZpc2libGUsXG4gICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgIG9uTWFza0NsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICAoX2EgPSBwcm9wcy5vbkNhbmNlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgKF9iID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICAgIH0sXG4gICAgZ2V0Q29udGFpbmVyOiBwcm9wcy5nZXRDb250YWluZXIsXG4gICAgZGVzdHJveU9uQ2xvc2U6IHRydWUsXG4gICAgYWZ0ZXJTaG93OiBwcm9wcy5hZnRlclNob3csXG4gICAgYWZ0ZXJDbG9zZTogcHJvcHMuYWZ0ZXJDbG9zZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgIHN0b3BQcm9wYWdhdGlvbjogcHJvcHMuc3RvcFByb3BhZ2F0aW9uXG4gIH0sIGNhc2NhZGVyRWxlbWVudCk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBwb3B1cEVsZW1lbnQsIChfYSA9IHByb3BzLmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZ2VuZXJhdGVWYWx1ZUV4dGVuZCh2YWx1ZSkuaXRlbXMpKTtcbn07IiwiaW1wb3J0IHsgQ2FzY2FkZXIgfSBmcm9tICcuL2Nhc2NhZGVyJztcbmltcG9ydCB7IHByb21wdCB9IGZyb20gJy4vcHJvbXB0JztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgXCIuL2Nhc2NhZGVyLmNzc1wiO1xuaW1wb3J0IHsgb3B0aW9uU2tlbGV0b24gfSBmcm9tICcuLi9jYXNjYWRlci12aWV3L29wdGlvbi1za2VsZXRvbic7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoQ2FzY2FkZXIsIHtcbiAgcHJvbXB0LFxuICBvcHRpb25Ta2VsZXRvblxufSk7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXJUb0JvZHkgfSBmcm9tICcuLi8uLi91dGlscy9yZW5kZXItdG8tYm9keSc7XG5pbXBvcnQgeyBDYXNjYWRlciB9IGZyb20gJy4vY2FzY2FkZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChwcm9wcykge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgV3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYXNjYWRlciwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgb25Db25maXJtOiAodmFsLCBleHRlbmQpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNvbmZpcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2YWwsIGV4dGVuZCk7XG4gICAgICAgICAgcmVzb2x2ZSh2YWwpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgICAgKF9hID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgICAoX2EgPSBwcm9wcy5hZnRlckNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgICAgdW5tb3VudCgpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVubW91bnQgPSByZW5kZXJUb0JvZHkoUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCBudWxsKSk7XG4gIH0pO1xufSIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vbGlzdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgQ2hlY2tMaXN0Q29udGV4dCB9IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQgeyBkZXZXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGV2LWxvZyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1jaGVjay1saXN0LWl0ZW1gO1xuZXhwb3J0IGNvbnN0IENoZWNrTGlzdEl0ZW0gPSBwcm9wcyA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KENoZWNrTGlzdENvbnRleHQpO1xuXG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgZGV2V2FybmluZygnQ2hlY2tMaXN0Lkl0ZW0nLCAnQ2hlY2tMaXN0Lkl0ZW0gY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgQ2hlY2tMaXN0LicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgYWN0aXZlID0gY29udGV4dC52YWx1ZS5pbmNsdWRlcyhwcm9wcy52YWx1ZSk7XG4gIGNvbnN0IHJlYWRPbmx5ID0gcHJvcHMucmVhZE9ubHkgfHwgY29udGV4dC5yZWFkT25seTtcbiAgY29uc3QgZXh0cmEgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1leHRyYWBcbiAgfSwgYWN0aXZlID8gY29udGV4dC5hY3RpdmVJY29uIDogbnVsbCk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdC5JdGVtLCB7XG4gICAgdGl0bGU6IHByb3BzLnRpdGxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwgcmVhZE9ubHkgJiYgYCR7Y2xhc3NQcmVmaXh9LXJlYWRvbmx5YCksXG4gICAgZGVzY3JpcHRpb246IHByb3BzLmRlc2NyaXB0aW9uLFxuICAgIHByZWZpeDogcHJvcHMucHJlZml4LFxuICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAocmVhZE9ubHkpIHJldHVybjtcblxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBjb250ZXh0LnVuY2hlY2socHJvcHMudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5jaGVjayhwcm9wcy52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQ2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICB9LFxuICAgIGFycm93OiBmYWxzZSxcbiAgICBjbGlja2FibGU6ICFyZWFkT25seSxcbiAgICBleHRyYTogZXh0cmEsXG4gICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIHx8IGNvbnRleHQuZGlzYWJsZWRcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKTtcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgTGlzdCBmcm9tICcuLi9saXN0JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQ2hlY2tMaXN0Q29udGV4dCB9IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IENoZWNrT3V0bGluZSB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gJ2FkbS1jaGVjay1saXN0JztcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBkZWZhdWx0VmFsdWU6IFtdLFxuICBhY3RpdmVJY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrT3V0bGluZSwgbnVsbClcbn07XG5leHBvcnQgY29uc3QgQ2hlY2tMaXN0ID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVByb3BzVmFsdWUocHJvcHMpO1xuXG4gIGZ1bmN0aW9uIGNoZWNrKHZhbCkge1xuICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgc2V0VmFsdWUoWy4uLnZhbHVlLCB2YWxdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFsdWUoW3ZhbF0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVuY2hlY2sodmFsKSB7XG4gICAgc2V0VmFsdWUodmFsdWUuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdmFsKSk7XG4gIH1cblxuICBjb25zdCB7XG4gICAgYWN0aXZlSWNvbixcbiAgICBkaXNhYmxlZCxcbiAgICByZWFkT25seVxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrTGlzdENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgdmFsdWUsXG4gICAgICBjaGVjayxcbiAgICAgIHVuY2hlY2ssXG4gICAgICBhY3RpdmVJY29uLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZWFkT25seVxuICAgIH1cbiAgfSwgd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHtcbiAgICBtb2RlOiBwcm9wcy5tb2RlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59OyIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgQ2hlY2tMaXN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7IiwiaW1wb3J0IFwiLi9jaGVjay1saXN0LmNzc1wiO1xuaW1wb3J0IHsgQ2hlY2tMaXN0IH0gZnJvbSAnLi9jaGVjay1saXN0JztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBDaGVja0xpc3RJdGVtIH0gZnJvbSAnLi9jaGVjay1saXN0LWl0ZW0nO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KENoZWNrTGlzdCwge1xuICBJdGVtOiBDaGVja0xpc3RJdGVtXG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5leHBvcnQgY29uc3QgQ2hlY2tJY29uID0gbWVtbyhwcm9wcyA9PiB7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHZpZXdCb3g6ICcwIDAgMjQgMTYnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBzdHJva2U6ICdub25lJyxcbiAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBmaWxsUnVsZTogJ2V2ZW5vZGQnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTM1LjAwMDAwMCwgLTQwLjAwMDAwMCknLFxuICAgIGZpbGw6ICdjdXJyZW50Q29sb3InXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNi4wMDAwMDApJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogJ00xOC44NTc0Mzc1LDI1LjkzNjMzMDQgTDE0LjQxMzgwNTgsMjEuNDkyNjk4NyBDMTMuODAwMTIyNSwyMC44NzkwMTU0IDEyLjgwNTE0NTMsMjAuODc5MDE1NCAxMi4xOTE0NjIxLDIxLjQ5MjY5ODcgQzExLjU3Nzc4MDcsMjIuMTA2MzggMTEuNTc3NzgwNywyMy4xMDEzNTQxIDEyLjE5MTQ2MjEsMjMuNzE1MDM1NCBDMTIuMTkxNDYzMiwyMy43MTUwMzY2IDEyLjE5MTQ2NDQsMjMuNzE1MDM3NyAxMi4xOTE0NjU2LDIzLjcxNTAzODkgTDE3LjQ0NDI1MDcsMjguOTY3NzkwOSBDMTguMjI1MzE0LDI5Ljc0ODgwOTEgMTkuNDkxNjI4NSwyOS43NDg4MTQxIDIwLjI3MjY5NzksMjguOTY3ODAyMSBMMjEuMDgwODEyNSwyOC4xNTk3MDU0IEwyMS4wODA4MTI1LDI4LjE1OTcwNTQgTDMyLjU2MjcxODIsMTYuNjc1OTE5MSBDMzMuMTc2MzY2LDE2LjA2MjE3MDkgMzMuMTc2MzI1MiwxNS4wNjcxODI0IDMyLjU2MjYyNzIsMTQuNDUzNDg0NCBDMzEuOTQ4OTQ0LDEzLjgzOTgwMTEgMzAuOTUzOTY2OCwxMy44Mzk4MDExIDMwLjM0MDI4MzUsMTQuNDUzNDg0NCBMMTguODU3NDM3NSwyNS45MzYzMzA0IEwxOC44NTc0Mzc1LDI1LjkzNjMzMDQgWidcbiAgfSkpKSkpKTtcbn0pOyIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgQ2hlY2tib3hHcm91cENvbnRleHQgfSBmcm9tICcuL2dyb3VwLWNvbnRleHQnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGRldldhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy9kZXYtbG9nJztcbmltcG9ydCB7IENoZWNrSWNvbiB9IGZyb20gJy4vY2hlY2staWNvbic7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tY2hlY2tib3hgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0Q2hlY2tlZDogZmFsc2UsXG4gIGluZGV0ZXJtaW5hdGU6IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IENoZWNrYm94ID0gcCA9PiB7XG4gIGNvbnN0IGdyb3VwQ29udGV4dCA9IHVzZUNvbnRleHQoQ2hlY2tib3hHcm91cENvbnRleHQpO1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgbGV0IFtjaGVja2VkLCBzZXRDaGVja2VkXSA9IHVzZVByb3BzVmFsdWUoe1xuICAgIHZhbHVlOiBwcm9wcy5jaGVja2VkLFxuICAgIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlXG4gIH0pO1xuICBsZXQgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcblxuICBjb25zdCB1c2FnZVdhcm5pbmcgPSAoKSA9PiB7XG4gICAgaWYgKHAuY2hlY2tlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXZXYXJuaW5nKCdDaGVja2JveCcsICdXaGVuIHVzZWQgd2l0aCBgQ2hlY2tib3guR3JvdXBgLCB0aGUgYGNoZWNrZWRgIHByb3Agb2YgYENoZWNrYm94YCB3aWxsIG5vdCB3b3JrIGlmIGB2YWx1ZWAgcHJvcCBvZiBgQ2hlY2tib3hgIGlzIG5vdCB1bmRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHAuZGVmYXVsdENoZWNrZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGV2V2FybmluZygnQ2hlY2tib3gnLCAnV2hlbiB1c2VkIHdpdGggYENoZWNrYm94Lkdyb3VwYCwgdGhlIGBkZWZhdWx0Q2hlY2tlZGAgcHJvcCBvZiBgQ2hlY2tib3hgIHdpbGwgbm90IHdvcmsgaWYgYHZhbHVlYCBwcm9wIG9mIGBDaGVja2JveGAgaXMgbm90IHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qge1xuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcblxuICBpZiAoZ3JvdXBDb250ZXh0ICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICB1c2FnZVdhcm5pbmcoKTtcbiAgICBjaGVja2VkID0gZ3JvdXBDb250ZXh0LnZhbHVlLmluY2x1ZGVzKHZhbHVlKTtcblxuICAgIHNldENoZWNrZWQgPSBjaGVja2VkID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgZ3JvdXBDb250ZXh0LmNoZWNrKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwQ29udGV4dC51bmNoZWNrKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBjaGVja2VkKTtcbiAgICB9O1xuXG4gICAgZGlzYWJsZWQgPSBkaXNhYmxlZCB8fCBncm91cENvbnRleHQuZGlzYWJsZWQ7XG4gIH1cblxuICBjb25zdCByZW5kZXJJY29uID0gKCkgPT4ge1xuICAgIGlmIChwcm9wcy5pY29uKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWN1c3RvbS1pY29uYFxuICAgICAgfSwgcHJvcHMuaWNvbihjaGVja2VkLCBwcm9wcy5pbmRldGVybWluYXRlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taWNvbmBcbiAgICB9LCBwcm9wcy5pbmRldGVybWluYXRlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbmRldGVybWluYXRlLWNoZWNrZWRgXG4gICAgfSkgOiBjaGVja2VkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tJY29uLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pY29uLWNoZWNrZWRgXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWNoZWNrZWRgXTogY2hlY2tlZCxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0taW5kZXRlcm1pbmF0ZWBdOiBwcm9wcy5pbmRldGVybWluYXRlLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1kaXNhYmxlZGBdOiBkaXNhYmxlZCxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tYmxvY2tgXTogcHJvcHMuYmxvY2tcbiAgICB9KVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBzZXRDaGVja2VkKGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgIH0sXG4gICAgb25DbGljazogZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBpZDogcHJvcHMuaWRcbiAgfSksIHJlbmRlckljb24oKSwgcHJvcHMuY2hpbGRyZW4gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGBcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59OyIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgQ2hlY2tib3hHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IENoZWNrYm94R3JvdXBDb250ZXh0IH0gZnJvbSAnLi9ncm91cC1jb250ZXh0JztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlZDogZmFsc2UsXG4gIGRlZmF1bHRWYWx1ZTogW11cbn07XG5leHBvcnQgY29uc3QgR3JvdXAgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZShwcm9wcyk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrYm94R3JvdXBDb250ZXh0LlByb3ZpZGVyIC8vIFRPRE86IOaAp+iDveS8mOWMllxuICAsIHtcbiAgICAvLyBUT0RPOiDmgKfog73kvJjljJZcbiAgICB2YWx1ZToge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgY2hlY2s6IHYgPT4ge1xuICAgICAgICBzZXRWYWx1ZShbLi4udmFsdWUsIHZdKTtcbiAgICAgIH0sXG4gICAgICB1bmNoZWNrOiB2ID0+IHtcbiAgICAgICAgc2V0VmFsdWUodmFsdWUuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdikpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgcHJvcHMuY2hpbGRyZW4pO1xufTsiLCJpbXBvcnQgXCIuL2NoZWNrYm94LmNzc1wiO1xuaW1wb3J0IHsgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXR0YWNoLXByb3BlcnRpZXMtdG8tY29tcG9uZW50JztcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSAnLi9ncm91cCc7XG5pbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJy4vY2hlY2tib3gnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KENoZWNrYm94LCB7XG4gIEdyb3VwXG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCBMaXN0IGZyb20gJy4uL2xpc3QnO1xuaW1wb3J0IHsgRG93bk91dGxpbmUgfSBmcm9tICdhbnRkLW1vYmlsZS1pY29ucyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVNwcmluZywgYW5pbWF0ZWQgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3dlYic7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IHVzZU1vdW50LCB1c2VVcGRhdGVMYXlvdXRFZmZlY3QgfSBmcm9tICdhaG9va3MnO1xuaW1wb3J0IHsgdXNlU2hvdWxkUmVuZGVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXNob3VsZC1yZW5kZXInO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWNvbGxhcHNlYDtcbmV4cG9ydCBjb25zdCBDb2xsYXBzZVBhbmVsID0gKCkgPT4ge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IENvbGxhcHNlUGFuZWxDb250ZW50ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgdmlzaWJsZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlubmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzaG91bGRSZW5kZXIgPSB1c2VTaG91bGRSZW5kZXIodmlzaWJsZSwgcHJvcHMuZm9yY2VSZW5kZXIsIHByb3BzLmRlc3Ryb3lPbkNsb3NlKTtcbiAgY29uc3QgW3tcbiAgICBoZWlnaHRcbiAgfSwgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgIGhlaWdodDogMFxuICAgIH1cbiAgfSkpO1xuICB1c2VNb3VudCgoKSA9PiB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm47XG4gICAgY29uc3QgaW5uZXIgPSBpbm5lclJlZi5jdXJyZW50O1xuICAgIGlmICghaW5uZXIpIHJldHVybjtcbiAgICBhcGkuc3RhcnQoe1xuICAgICAgaGVpZ2h0OiBpbm5lci5vZmZzZXRIZWlnaHQsXG4gICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG4gIHVzZVVwZGF0ZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5uZXIgPSBpbm5lclJlZi5jdXJyZW50O1xuICAgIGlmICghaW5uZXIpIHJldHVybjtcblxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICBhcGkuc3RhcnQoe1xuICAgICAgICBoZWlnaHQ6IGlubmVyLm9mZnNldEhlaWdodFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIGhlaWdodDogaW5uZXIub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgaGVpZ2h0OiAwXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2aXNpYmxlXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXBhbmVsLWNvbnRlbnRgLFxuICAgIHN0eWxlOiB7XG4gICAgICBoZWlnaHQ6IGhlaWdodC50byh2ID0+IHtcbiAgICAgICAgaWYgKGhlaWdodC5pZGxlICYmIHZpc2libGUpIHtcbiAgICAgICAgICByZXR1cm4gJ2F1dG8nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tcGFuZWwtY29udGVudC1pbm5lcmAsXG4gICAgcmVmOiBpbm5lclJlZlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QuSXRlbSwgbnVsbCwgc2hvdWxkUmVuZGVyICYmIHByb3BzLmNoaWxkcmVuKSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IENvbGxhcHNlID0gcHJvcHMgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgcGFuZWxzID0gW107XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHJldHVybjtcbiAgICBwYW5lbHMucHVzaChjaGlsZCk7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlS2V5LCBzZXRBY3RpdmVLZXldID0gdXNlUHJvcHNWYWx1ZShwcm9wcy5hY2NvcmRpb24gPyB7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogcHJvcHMuYWN0aXZlS2V5ID09PSBudWxsID8gW10gOiBbcHJvcHMuYWN0aXZlS2V5XSxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkgPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5kZWZhdWx0QWN0aXZlS2V5ID09PSBudWxsID8gW10gOiBbcHJvcHMuZGVmYXVsdEFjdGl2ZUtleV0sXG4gICAgb25DaGFuZ2U6IHYgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCAoX2IgPSB2WzBdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsKTtcbiAgICB9XG4gIH0gOiB7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZVxuICB9KTtcbiAgY29uc3QgYWN0aXZlS2V5TGlzdCA9IGFjdGl2ZUtleSA9PT0gbnVsbCA/IFtdIDogQXJyYXkuaXNBcnJheShhY3RpdmVLZXkpID8gYWN0aXZlS2V5IDogW2FjdGl2ZUtleV07XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCBudWxsLCBwYW5lbHMubWFwKHBhbmVsID0+IHtcbiAgICBjb25zdCBrZXkgPSBwYW5lbC5rZXk7XG4gICAgY29uc3QgYWN0aXZlID0gYWN0aXZlS2V5TGlzdC5pbmNsdWRlcyhrZXkpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBfYSwgX2I7XG5cbiAgICAgIGlmIChwcm9wcy5hY2NvcmRpb24pIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHNldEFjdGl2ZUtleShbXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0QWN0aXZlS2V5KFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHNldEFjdGl2ZUtleShhY3RpdmVLZXlMaXN0LmZpbHRlcih2ID0+IHYgIT09IGtleSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEFjdGl2ZUtleShbLi4uYWN0aXZlS2V5TGlzdCwga2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgKF9iID0gKF9hID0gcGFuZWwucHJvcHMpLm9uQ2xpY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBldmVudCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyQXJyb3cgPSAoKSA9PiB7XG4gICAgICBsZXQgYXJyb3cgPSBSZWFjdC5jcmVhdGVFbGVtZW50KERvd25PdXRsaW5lLCBudWxsKTtcblxuICAgICAgaWYgKHByb3BzLmFycm93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXJyb3cgPSBwcm9wcy5hcnJvdztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhbmVsLnByb3BzLmFycm93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXJyb3cgPSBwYW5lbC5wcm9wcy5hcnJvdztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGVvZiBhcnJvdyA9PT0gJ2Z1bmN0aW9uJyA/IGFycm93KGFjdGl2ZSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1hcnJvd2AsIHtcbiAgICAgICAgICBbYCR7Y2xhc3NQcmVmaXh9LWFycm93LWFjdGl2ZWBdOiBhY3RpdmVcbiAgICAgICAgfSlcbiAgICAgIH0sIGFycm93KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgIGtleToga2V5XG4gICAgfSwgd2l0aE5hdGl2ZVByb3BzKHBhbmVsLnByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QuSXRlbSwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tcGFuZWwtaGVhZGVyYCxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgICAgZGlzYWJsZWQ6IHBhbmVsLnByb3BzLmRpc2FibGVkLFxuICAgICAgYXJyb3c6IHJlbmRlckFycm93KClcbiAgICB9LCBwYW5lbC5wcm9wcy50aXRsZSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxhcHNlUGFuZWxDb250ZW50LCB7XG4gICAgICB2aXNpYmxlOiBhY3RpdmUsXG4gICAgICBmb3JjZVJlbmRlcjogISFwYW5lbC5wcm9wcy5mb3JjZVJlbmRlcixcbiAgICAgIGRlc3Ryb3lPbkNsb3NlOiAhIXBhbmVsLnByb3BzLmRlc3Ryb3lPbkNsb3NlXG4gICAgfSwgcGFuZWwucHJvcHMuY2hpbGRyZW4pKTtcbiAgfSkpKSk7XG59OyIsImltcG9ydCBcIi4vY29sbGFwc2UuY3NzXCI7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29sbGFwc2UsIENvbGxhcHNlUGFuZWwgfSBmcm9tICcuL2NvbGxhcHNlJztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChDb2xsYXBzZSwge1xuICBQYW5lbDogQ29sbGFwc2VQYW5lbFxufSk7IiwiaW1wb3J0IHsgX19yZXN0IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB6aENOIGZyb20gJy4uLy4uL2xvY2FsZXMvemgtQ04nO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWdSZWYgPSB7XG4gIGN1cnJlbnQ6IHtcbiAgICBsb2NhbGU6IHpoQ05cbiAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnKGNvbmZpZykge1xuICBkZWZhdWx0Q29uZmlnUmVmLmN1cnJlbnQgPSBjb25maWc7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdENvbmZpZygpIHtcbiAgcmV0dXJuIGRlZmF1bHRDb25maWdSZWYuY3VycmVudDtcbn1cbmNvbnN0IENvbmZpZ0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuZXhwb3J0IGNvbnN0IENvbmZpZ1Byb3ZpZGVyID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IHByb3BzLFxuICAgICAgICBjb25maWcgPSBfX3Jlc3QocHJvcHMsIFtcImNoaWxkcmVuXCJdKTtcblxuICBjb25zdCBwYXJlbnRDb25maWcgPSB1c2VDb25maWcoKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlnQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmVudENvbmZpZyksIGNvbmZpZylcbiAgfSwgY2hpbGRyZW4pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VDb25maWcoKSB7XG4gIHZhciBfYTtcblxuICByZXR1cm4gKF9hID0gdXNlQ29udGV4dChDb25maWdDb250ZXh0KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZ2V0RGVmYXVsdENvbmZpZygpO1xufSIsImltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSAnLi9jb25maWctcHJvdmlkZXInO1xuZXhwb3J0IHsgdXNlQ29uZmlnLCBzZXREZWZhdWx0Q29uZmlnLCBnZXREZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9jb25maWctcHJvdmlkZXInO1xuZXhwb3J0IGRlZmF1bHQgQ29uZmlnUHJvdmlkZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBpY2tlclZpZXcgZnJvbSAnLi4vcGlja2VyLXZpZXcnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZURhdGVQaWNrZXJDb2x1bW5zLCBjb252ZXJ0RGF0ZVRvU3RyaW5nQXJyYXksIGNvbnZlcnRTdHJpbmdBcnJheVRvRGF0ZSwgZGVmYXVsdFJlbmRlckxhYmVsIH0gZnJvbSAnLi4vZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXItdXRpbHMnO1xuY29uc3QgdGhpc1llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG1pbjogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcih0aGlzWWVhciAtIDEwKSksXG4gIG1heDogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcih0aGlzWWVhciArIDEwKSksXG4gIHByZWNpc2lvbjogJ2RheScsXG4gIHJlbmRlckxhYmVsOiBkZWZhdWx0UmVuZGVyTGFiZWxcbn07XG5leHBvcnQgY29uc3QgRGF0ZVBpY2tlclZpZXcgPSBwID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVByb3BzVmFsdWUoe1xuICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRWYWx1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbFxuICB9KTtcbiAgY29uc3QgcGlja2VyVmFsdWUgPSB1c2VNZW1vKCgpID0+IGNvbnZlcnREYXRlVG9TdHJpbmdBcnJheSh2YWx1ZSwgcHJvcHMucHJlY2lzaW9uKSwgW3ZhbHVlLCBwcm9wcy5wcmVjaXNpb25dKTtcbiAgY29uc3Qgb25DaGFuZ2UgPSB1c2VDYWxsYmFjayh2YWwgPT4ge1xuICAgIHZhciBfYTtcblxuICAgIGNvbnN0IGRhdGUgPSBjb252ZXJ0U3RyaW5nQXJyYXlUb0RhdGUodmFsLCBwcm9wcy5wcmVjaXNpb24pO1xuXG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIHNldFZhbHVlKGRhdGUpO1xuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBkYXRlKTtcbiAgICB9XG4gIH0sIFtwcm9wcy5vbkNoYW5nZSwgcHJvcHMucHJlY2lzaW9uXSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGlja2VyVmlldywge1xuICAgIGNvbHVtbnM6IHNlbGVjdGVkID0+IGdlbmVyYXRlRGF0ZVBpY2tlckNvbHVtbnMoc2VsZWN0ZWQsIHByb3BzLm1pbiwgcHJvcHMubWF4LCBwcm9wcy5wcmVjaXNpb24sIHByb3BzLnJlbmRlckxhYmVsLCBwcm9wcy5maWx0ZXIpLFxuICAgIHZhbHVlOiBwaWNrZXJWYWx1ZSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSkpO1xufTsiLCJpbXBvcnQgeyBEYXRlUGlja2VyVmlldyB9IGZyb20gJy4vZGF0ZS1waWNrZXItdmlldyc7XG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyVmlldzsiLCJpbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnO1xuaW1wb3J0IGlzb1dlZWsgZnJvbSAnZGF5anMvcGx1Z2luL2lzb1dlZWsnO1xuaW1wb3J0IGlzb1dlZWtzSW5ZZWFyIGZyb20gJ2RheWpzL3BsdWdpbi9pc29XZWVrc0luWWVhcic7XG5pbXBvcnQgaXNMZWFwWWVhciBmcm9tICdkYXlqcy9wbHVnaW4vaXNMZWFwWWVhcic7XG5kYXlqcy5leHRlbmQoaXNvV2Vlayk7XG5kYXlqcy5leHRlbmQoaXNvV2Vla3NJblllYXIpO1xuZGF5anMuZXh0ZW5kKGlzTGVhcFllYXIpO1xuY29uc3QgcHJlY2lzaW9uUmFua1JlY29yZCA9IHtcbiAgeWVhcjogMCxcbiAgbW9udGg6IDEsXG4gIGRheTogMixcbiAgaG91cjogMyxcbiAgbWludXRlOiA0LFxuICBzZWNvbmQ6IDVcbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlbmRlckxhYmVsKHR5cGUsIGRhdGEpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgICAgcmV0dXJuICgnMCcgKyBkYXRhLnRvU3RyaW5nKCkpLnNsaWNlKC0yKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVEYXRlUGlja2VyQ29sdW1ucyhzZWxlY3RlZCwgbWluLCBtYXgsIHByZWNpc2lvbiwgcmVuZGVyTGFiZWwsIGZpbHRlcikge1xuICBjb25zdCByZXQgPSBbXTtcbiAgY29uc3QgbWluWWVhciA9IG1pbi5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtaW5Nb250aCA9IG1pbi5nZXRNb250aCgpICsgMTtcbiAgY29uc3QgbWluRGF5ID0gbWluLmdldERhdGUoKTtcbiAgY29uc3QgbWluSG91ciA9IG1pbi5nZXRIb3VycygpO1xuICBjb25zdCBtaW5NaW51dGUgPSBtaW4uZ2V0TWludXRlcygpO1xuICBjb25zdCBtaW5TZWNvbmQgPSBtaW4uZ2V0U2Vjb25kcygpO1xuICBjb25zdCBtYXhZZWFyID0gbWF4LmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1heE1vbnRoID0gbWF4LmdldE1vbnRoKCkgKyAxO1xuICBjb25zdCBtYXhEYXkgPSBtYXguZ2V0RGF0ZSgpO1xuICBjb25zdCBtYXhIb3VyID0gbWF4LmdldEhvdXJzKCk7XG4gIGNvbnN0IG1heE1pbnV0ZSA9IG1heC5nZXRNaW51dGVzKCk7XG4gIGNvbnN0IG1heFNlY29uZCA9IG1heC5nZXRTZWNvbmRzKCk7XG4gIGNvbnN0IHJhbmsgPSBwcmVjaXNpb25SYW5rUmVjb3JkW3ByZWNpc2lvbl07XG5cbiAgaWYgKHJhbmsgPj0gcHJlY2lzaW9uUmFua1JlY29yZC55ZWFyKSB7XG4gICAgY29uc3QgeWVhcnMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSBtaW5ZZWFyOyBpIDw9IG1heFllYXI7IGkrKykge1xuICAgICAgY29uc3QgdmFsdWUgPSBpLnRvU3RyaW5nKCk7XG4gICAgICB5ZWFycy5wdXNoKHtcbiAgICAgICAgbGFiZWw6IHJlbmRlckxhYmVsID8gcmVuZGVyTGFiZWwoJ3llYXInLCBpKSA6IHZhbHVlLFxuICAgICAgICB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0LnB1c2goeWVhcnMpO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0ZWRZZWFyID0gcGFyc2VJbnQoc2VsZWN0ZWRbMF0pO1xuICBjb25zdCBmaXJzdERheUluU2VsZWN0ZWRNb250aCA9IGRheWpzKGNvbnZlcnRTdHJpbmdBcnJheVRvRGF0ZShbc2VsZWN0ZWRbMF0sIHNlbGVjdGVkWzFdLCAnMSddKSk7XG4gIGNvbnN0IHNlbGVjdGVkTW9udGggPSBwYXJzZUludChzZWxlY3RlZFsxXSk7XG4gIGNvbnN0IHNlbGVjdGVkRGF5ID0gcGFyc2VJbnQoc2VsZWN0ZWRbMl0pO1xuICBjb25zdCBzZWxlY3RlZEhvdXIgPSBwYXJzZUludChzZWxlY3RlZFszXSk7XG4gIGNvbnN0IHNlbGVjdGVkTWludXRlID0gcGFyc2VJbnQoc2VsZWN0ZWRbNF0pO1xuICBjb25zdCBpc0luTWluWWVhciA9IHNlbGVjdGVkWWVhciA9PT0gbWluWWVhcjtcbiAgY29uc3QgaXNJbk1heFllYXIgPSBzZWxlY3RlZFllYXIgPT09IG1heFllYXI7XG4gIGNvbnN0IGlzSW5NaW5Nb250aCA9IGlzSW5NaW5ZZWFyICYmIHNlbGVjdGVkTW9udGggPT09IG1pbk1vbnRoO1xuICBjb25zdCBpc0luTWF4TW9udGggPSBpc0luTWF4WWVhciAmJiBzZWxlY3RlZE1vbnRoID09PSBtYXhNb250aDtcbiAgY29uc3QgaXNJbk1pbkRheSA9IGlzSW5NaW5Nb250aCAmJiBzZWxlY3RlZERheSA9PT0gbWluRGF5O1xuICBjb25zdCBpc0luTWF4RGF5ID0gaXNJbk1heE1vbnRoICYmIHNlbGVjdGVkRGF5ID09PSBtYXhEYXk7XG4gIGNvbnN0IGlzSW5NaW5Ib3VyID0gaXNJbk1pbkRheSAmJiBzZWxlY3RlZEhvdXIgPT09IG1pbkhvdXI7XG4gIGNvbnN0IGlzSW5NYXhIb3VyID0gaXNJbk1heERheSAmJiBzZWxlY3RlZEhvdXIgPT09IG1heEhvdXI7XG4gIGNvbnN0IGlzSW5NaW5NaW51dGUgPSBpc0luTWluSG91ciAmJiBzZWxlY3RlZE1pbnV0ZSA9PT0gbWluTWludXRlO1xuICBjb25zdCBpc0luTWF4TWludXRlID0gaXNJbk1heEhvdXIgJiYgc2VsZWN0ZWRNaW51dGUgPT09IG1heE1pbnV0ZTtcblxuICBjb25zdCBnZW5lcmF0ZUNvbHVtbiA9IChmcm9tLCB0bywgcHJlY2lzaW9uKSA9PiB7XG4gICAgbGV0IGNvbHVtbiA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IGZyb207IGkgPD0gdG87IGkrKykge1xuICAgICAgY29sdW1uLnB1c2goaSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlZml4ID0gc2VsZWN0ZWQuc2xpY2UoMCwgcHJlY2lzaW9uUmFua1JlY29yZFtwcmVjaXNpb25dKTtcbiAgICBjb25zdCBjdXJyZW50RmlsdGVyID0gZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsdGVyW3ByZWNpc2lvbl07XG5cbiAgICBpZiAoY3VycmVudEZpbHRlciAmJiB0eXBlb2YgY3VycmVudEZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29sdW1uID0gY29sdW1uLmZpbHRlcihpID0+IGN1cnJlbnRGaWx0ZXIoaSwge1xuICAgICAgICBnZXQgZGF0ZSgpIHtcbiAgICAgICAgICBjb25zdCBzdHJpbmdBcnJheSA9IFsuLi5wcmVmaXgsIGkudG9TdHJpbmcoKV07XG4gICAgICAgICAgcmV0dXJuIGNvbnZlcnRTdHJpbmdBcnJheVRvRGF0ZShzdHJpbmdBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBjb2x1bW47XG4gIH07XG5cbiAgaWYgKHJhbmsgPj0gcHJlY2lzaW9uUmFua1JlY29yZC5tb250aCkge1xuICAgIGNvbnN0IGxvd2VyID0gaXNJbk1pblllYXIgPyBtaW5Nb250aCA6IDE7XG4gICAgY29uc3QgdXBwZXIgPSBpc0luTWF4WWVhciA/IG1heE1vbnRoIDogMTI7XG4gICAgY29uc3QgbW9udGhzID0gZ2VuZXJhdGVDb2x1bW4obG93ZXIsIHVwcGVyLCAnbW9udGgnKTtcbiAgICByZXQucHVzaChtb250aHMubWFwKHYgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWw6IHJlbmRlckxhYmVsKCdtb250aCcsIHYpLFxuICAgICAgICB2YWx1ZTogdi50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIGlmIChyYW5rID49IHByZWNpc2lvblJhbmtSZWNvcmQuZGF5KSB7XG4gICAgY29uc3QgbG93ZXIgPSBpc0luTWluTW9udGggPyBtaW5EYXkgOiAxO1xuICAgIGNvbnN0IHVwcGVyID0gaXNJbk1heE1vbnRoID8gbWF4RGF5IDogZmlyc3REYXlJblNlbGVjdGVkTW9udGguZGF5c0luTW9udGgoKTtcbiAgICBjb25zdCBkYXlzID0gZ2VuZXJhdGVDb2x1bW4obG93ZXIsIHVwcGVyLCAnZGF5Jyk7XG4gICAgcmV0LnB1c2goZGF5cy5tYXAodiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwoJ2RheScsIHYpLFxuICAgICAgICB2YWx1ZTogdi50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIGlmIChyYW5rID49IHByZWNpc2lvblJhbmtSZWNvcmQuaG91cikge1xuICAgIGNvbnN0IGxvd2VyID0gaXNJbk1pbkRheSA/IG1pbkhvdXIgOiAwO1xuICAgIGNvbnN0IHVwcGVyID0gaXNJbk1heERheSA/IG1heEhvdXIgOiAyMztcbiAgICBjb25zdCBob3VycyA9IGdlbmVyYXRlQ29sdW1uKGxvd2VyLCB1cHBlciwgJ2hvdXInKTtcbiAgICByZXQucHVzaChob3Vycy5tYXAodiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwoJ2hvdXInLCB2KSxcbiAgICAgICAgdmFsdWU6IHYudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9KSk7XG4gIH1cblxuICBpZiAocmFuayA+PSBwcmVjaXNpb25SYW5rUmVjb3JkLm1pbnV0ZSkge1xuICAgIGNvbnN0IGxvd2VyID0gaXNJbk1pbkhvdXIgPyBtaW5NaW51dGUgOiAwO1xuICAgIGNvbnN0IHVwcGVyID0gaXNJbk1heEhvdXIgPyBtYXhNaW51dGUgOiA1OTtcbiAgICBjb25zdCBtaW51dGVzID0gZ2VuZXJhdGVDb2x1bW4obG93ZXIsIHVwcGVyLCAnbWludXRlJyk7XG4gICAgcmV0LnB1c2gobWludXRlcy5tYXAodiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwoJ21pbnV0ZScsIHYpLFxuICAgICAgICB2YWx1ZTogdi50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIGlmIChyYW5rID49IHByZWNpc2lvblJhbmtSZWNvcmQuc2Vjb25kKSB7XG4gICAgY29uc3QgbG93ZXIgPSBpc0luTWluTWludXRlID8gbWluU2Vjb25kIDogMDtcbiAgICBjb25zdCB1cHBlciA9IGlzSW5NYXhNaW51dGUgPyBtYXhTZWNvbmQgOiA1OTtcbiAgICBjb25zdCBzZWNvbmRzID0gZ2VuZXJhdGVDb2x1bW4obG93ZXIsIHVwcGVyLCAnc2Vjb25kJyk7XG4gICAgcmV0LnB1c2goc2Vjb25kcy5tYXAodiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwoJ3NlY29uZCcsIHYpLFxuICAgICAgICB2YWx1ZTogdi50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGVUb1N0cmluZ0FycmF5KGRhdGUpIHtcbiAgaWYgKCFkYXRlKSByZXR1cm4gW107XG4gIHJldHVybiBbZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCksIChkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLCBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLCBkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKSwgZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSwgZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKV07XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmVydFN0cmluZ0FycmF5VG9EYXRlKHZhbHVlKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuXG4gIGNvbnN0IHllYXJTdHJpbmcgPSAoX2EgPSB2YWx1ZVswXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJzE5MDAnO1xuICBjb25zdCBtb250aFN0cmluZyA9IChfYiA9IHZhbHVlWzFdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnMSc7XG4gIGNvbnN0IGRhdGVTdHJpbmcgPSAoX2MgPSB2YWx1ZVsyXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJzEnO1xuICBjb25zdCBob3VyU3RyaW5nID0gKF9kID0gdmFsdWVbM10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcwJztcbiAgY29uc3QgbWludXRlU3RyaW5nID0gKF9lID0gdmFsdWVbNF0pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcwJztcbiAgY29uc3Qgc2Vjb25kU3RyaW5nID0gKF9mID0gdmFsdWVbNV0pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6ICcwJztcbiAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHllYXJTdHJpbmcpLCBwYXJzZUludChtb250aFN0cmluZykgLSAxLCBwYXJzZUludChkYXRlU3RyaW5nKSwgcGFyc2VJbnQoaG91clN0cmluZyksIHBhcnNlSW50KG1pbnV0ZVN0cmluZyksIHBhcnNlSW50KHNlY29uZFN0cmluZykpO1xufSIsImltcG9ydCAqIGFzIGRhdGVVdGlscyBmcm9tICcuL2RhdGUtcGlja2VyLWRhdGUtdXRpbHMnO1xuaW1wb3J0ICogYXMgd2Vla1V0aWxzIGZyb20gJy4vZGF0ZS1waWNrZXItd2Vlay11dGlscyc7XG5leHBvcnQgY29uc3QgY29udmVydERhdGVUb1N0cmluZ0FycmF5ID0gKGRhdGUsIHByZWNpc2lvbikgPT4ge1xuICBpZiAocHJlY2lzaW9uLmluY2x1ZGVzKCd3ZWVrJykpIHtcbiAgICByZXR1cm4gd2Vla1V0aWxzLmNvbnZlcnREYXRlVG9TdHJpbmdBcnJheShkYXRlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGF0ZVV0aWxzLmNvbnZlcnREYXRlVG9TdHJpbmdBcnJheShkYXRlKTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBjb252ZXJ0U3RyaW5nQXJyYXlUb0RhdGUgPSAodmFsdWUsIHByZWNpc2lvbikgPT4ge1xuICBpZiAocHJlY2lzaW9uLmluY2x1ZGVzKCd3ZWVrJykpIHtcbiAgICByZXR1cm4gd2Vla1V0aWxzLmNvbnZlcnRTdHJpbmdBcnJheVRvRGF0ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRhdGVVdGlscy5jb252ZXJ0U3RyaW5nQXJyYXlUb0RhdGUodmFsdWUpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRGF0ZVBpY2tlckNvbHVtbnMgPSAoc2VsZWN0ZWQsIG1pbiwgbWF4LCBwcmVjaXNpb24sIHJlbmRlckxhYmVsLCBmaWx0ZXIpID0+IHtcbiAgaWYgKHByZWNpc2lvbi5zdGFydHNXaXRoKCd3ZWVrJykpIHtcbiAgICByZXR1cm4gd2Vla1V0aWxzLmdlbmVyYXRlRGF0ZVBpY2tlckNvbHVtbnMoc2VsZWN0ZWQsIG1pbiwgbWF4LCBwcmVjaXNpb24sIHJlbmRlckxhYmVsLCBmaWx0ZXIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYXRlVXRpbHMuZ2VuZXJhdGVEYXRlUGlja2VyQ29sdW1ucyhzZWxlY3RlZCwgbWluLCBtYXgsIHByZWNpc2lvbiwgcmVuZGVyTGFiZWwsIGZpbHRlcik7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdFJlbmRlckxhYmVsID0gKHByZWNpc2lvbiwgZGF0YSkgPT4ge1xuICBpZiAocHJlY2lzaW9uLmluY2x1ZGVzKCd3ZWVrJykpIHtcbiAgICByZXR1cm4gd2Vla1V0aWxzLmRlZmF1bHRSZW5kZXJMYWJlbChwcmVjaXNpb24sIGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYXRlVXRpbHMuZGVmYXVsdFJlbmRlckxhYmVsKHByZWNpc2lvbiwgZGF0YSk7XG4gIH1cbn07IiwiaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCBpc29XZWVrIGZyb20gJ2RheWpzL3BsdWdpbi9pc29XZWVrJztcbmltcG9ydCBpc29XZWVrc0luWWVhciBmcm9tICdkYXlqcy9wbHVnaW4vaXNvV2Vla3NJblllYXInO1xuaW1wb3J0IGlzTGVhcFllYXIgZnJvbSAnZGF5anMvcGx1Z2luL2lzTGVhcFllYXInO1xuZGF5anMuZXh0ZW5kKGlzb1dlZWspO1xuZGF5anMuZXh0ZW5kKGlzb1dlZWtzSW5ZZWFyKTtcbmRheWpzLmV4dGVuZChpc0xlYXBZZWFyKTtcbmNvbnN0IHByZWNpc2lvblJhbmtSZWNvcmQgPSB7XG4gIHllYXI6IDAsXG4gIHdlZWs6IDEsXG4gICd3ZWVrLWRheSc6IDJcbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlbmRlckxhYmVsKHR5cGUsIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZURhdGVQaWNrZXJDb2x1bW5zKHNlbGVjdGVkLCBtaW4sIG1heCwgcHJlY2lzaW9uLCByZW5kZXJMYWJlbCwgZmlsdGVyKSB7XG4gIGNvbnN0IHJldCA9IFtdO1xuICBjb25zdCBtaW5ZZWFyID0gbWluLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1heFllYXIgPSBtYXguZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgcmFuayA9IHByZWNpc2lvblJhbmtSZWNvcmRbcHJlY2lzaW9uXTtcblxuICBpZiAocmFuayA+PSBwcmVjaXNpb25SYW5rUmVjb3JkLnllYXIpIHtcbiAgICBjb25zdCB5ZWFycyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IG1pblllYXI7IGkgPD0gbWF4WWVhcjsgaSsrKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGkudG9TdHJpbmcoKTtcbiAgICAgIHllYXJzLnB1c2goe1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwgPyByZW5kZXJMYWJlbCgneWVhcicsIGkpIDogdmFsdWUsXG4gICAgICAgIHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXQucHVzaCh5ZWFycyk7XG4gIH1cblxuICBjb25zdCBzZWxlY3RlZFllYXIgPSBwYXJzZUludChzZWxlY3RlZFswXSk7XG4gIGNvbnN0IGlzSW5NaW5ZZWFyID0gc2VsZWN0ZWRZZWFyID09PSBtaW5ZZWFyO1xuICBjb25zdCBpc0luTWF4WWVhciA9IHNlbGVjdGVkWWVhciA9PT0gbWF4WWVhcjtcbiAgY29uc3QgbWluRGF5ID0gZGF5anMobWluKTtcbiAgY29uc3QgbWF4RGF5ID0gZGF5anMobWF4KTtcbiAgY29uc3QgbWluV2VlayA9IG1pbkRheS5pc29XZWVrKCk7XG4gIGNvbnN0IG1heFdlZWsgPSBtYXhEYXkuaXNvV2VlaygpO1xuICBjb25zdCBtaW5XZWVrZGF5ID0gbWluRGF5Lmlzb1dlZWtkYXkoKTtcbiAgY29uc3QgbWF4V2Vla2RheSA9IG1heERheS5pc29XZWVrZGF5KCk7XG4gIGNvbnN0IHNlbGVjdGVkV2VlayA9IHBhcnNlSW50KHNlbGVjdGVkWzFdKTtcbiAgY29uc3QgaXNJbk1pbldlZWsgPSBpc0luTWluWWVhciAmJiBzZWxlY3RlZFdlZWsgPT09IG1pbldlZWs7XG4gIGNvbnN0IGlzSW5NYXhXZWVrID0gaXNJbk1heFllYXIgJiYgc2VsZWN0ZWRXZWVrID09PSBtYXhXZWVrO1xuICBjb25zdCBzZWxlY3RlZFllYXJXZWVrcyA9IGRheWpzKGAke3NlbGVjdGVkWWVhcn0tMDEtMDFgKS5pc29XZWVrc0luWWVhcigpO1xuXG4gIGNvbnN0IGdlbmVyYXRlQ29sdW1uID0gKGZyb20sIHRvLCBwcmVjaXNpb24pID0+IHtcbiAgICBsZXQgY29sdW1uID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgaSsrKSB7XG4gICAgICBjb2x1bW4ucHVzaChpKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmVmaXggPSBzZWxlY3RlZC5zbGljZSgwLCBwcmVjaXNpb25SYW5rUmVjb3JkW3ByZWNpc2lvbl0pO1xuICAgIGNvbnN0IGN1cnJlbnRGaWx0ZXIgPSBmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWx0ZXJbcHJlY2lzaW9uXTtcblxuICAgIGlmIChjdXJyZW50RmlsdGVyICYmIHR5cGVvZiBjdXJyZW50RmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb2x1bW4gPSBjb2x1bW4uZmlsdGVyKGkgPT4gY3VycmVudEZpbHRlcihpLCB7XG4gICAgICAgIGdldCBkYXRlKCkge1xuICAgICAgICAgIGNvbnN0IHN0cmluZ0FycmF5ID0gWy4uLnByZWZpeCwgaS50b1N0cmluZygpXTtcbiAgICAgICAgICByZXR1cm4gY29udmVydFN0cmluZ0FycmF5VG9EYXRlKHN0cmluZ0FycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbHVtbjtcbiAgfTtcblxuICBpZiAocmFuayA+PSBwcmVjaXNpb25SYW5rUmVjb3JkLndlZWspIHtcbiAgICBjb25zdCBsb3dlciA9IGlzSW5NaW5ZZWFyID8gbWluV2VlayA6IDE7XG4gICAgY29uc3QgdXBwZXIgPSBpc0luTWF4WWVhciA/IG1heFdlZWsgOiBzZWxlY3RlZFllYXJXZWVrcztcbiAgICBjb25zdCB3ZWVrcyA9IGdlbmVyYXRlQ29sdW1uKGxvd2VyLCB1cHBlciwgJ3dlZWsnKTtcbiAgICByZXQucHVzaCh3ZWVrcy5tYXAodiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogcmVuZGVyTGFiZWwoJ3dlZWsnLCB2KSxcbiAgICAgICAgdmFsdWU6IHYudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9KSk7XG4gIH1cblxuICBpZiAocmFuayA+PSBwcmVjaXNpb25SYW5rUmVjb3JkWyd3ZWVrLWRheSddKSB7XG4gICAgY29uc3QgbG93ZXIgPSBpc0luTWluV2VlayA/IG1pbldlZWtkYXkgOiAxO1xuICAgIGNvbnN0IHVwcGVyID0gaXNJbk1heFdlZWsgPyBtYXhXZWVrZGF5IDogNztcbiAgICBjb25zdCB3ZWVrcyA9IGdlbmVyYXRlQ29sdW1uKGxvd2VyLCB1cHBlciwgJ3dlZWstZGF5Jyk7XG4gICAgcmV0LnB1c2god2Vla3MubWFwKHYgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWw6IHJlbmRlckxhYmVsKCd3ZWVrLWRheScsIHYpLFxuICAgICAgICB2YWx1ZTogdi50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGVUb1N0cmluZ0FycmF5KGRhdGUpIHtcbiAgaWYgKCFkYXRlKSByZXR1cm4gW107XG4gIGNvbnN0IGRheSA9IGRheWpzKGRhdGUpO1xuICByZXR1cm4gW2RheS5pc29XZWVrWWVhcigpLnRvU3RyaW5nKCksIGRheS5pc29XZWVrKCkudG9TdHJpbmcoKSwgZGF5Lmlzb1dlZWtkYXkoKS50b1N0cmluZygpXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U3RyaW5nQXJyYXlUb0RhdGUodmFsdWUpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG5cbiAgY29uc3QgeWVhclN0cmluZyA9IChfYSA9IHZhbHVlWzBdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnMTkwMCc7XG4gIGNvbnN0IHdlZWtTdHJpbmcgPSAoX2IgPSB2YWx1ZVsxXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJzEnO1xuICBjb25zdCB3ZWVrZGF5U3RyaW5nID0gKF9jID0gdmFsdWVbMl0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcxJztcbiAgY29uc3QgZGF5ID0gZGF5anMoKS55ZWFyKHBhcnNlSW50KHllYXJTdHJpbmcpKS5pc29XZWVrKHBhcnNlSW50KHdlZWtTdHJpbmcpKS5pc29XZWVrZGF5KHBhcnNlSW50KHdlZWtkYXlTdHJpbmcpKS5ob3VyKDApLm1pbnV0ZSgwKS5zZWNvbmQoMCk7XG4gIHJldHVybiBkYXkudG9EYXRlKCk7XG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTWVtb2l6ZWRGbiB9IGZyb20gJ2Fob29rcyc7XG5pbXBvcnQgUGlja2VyIGZyb20gJy4uL3BpY2tlcic7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IGNvbnZlcnREYXRlVG9TdHJpbmdBcnJheSwgY29udmVydFN0cmluZ0FycmF5VG9EYXRlLCBnZW5lcmF0ZURhdGVQaWNrZXJDb2x1bW5zLCBkZWZhdWx0UmVuZGVyTGFiZWwgfSBmcm9tICcuL2RhdGUtcGlja2VyLXV0aWxzJztcbmNvbnN0IHRoaXNZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBtaW46IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIodGhpc1llYXIgLSAxMCkpLFxuICBtYXg6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIodGhpc1llYXIgKyAxMCkpLFxuICBwcmVjaXNpb246ICdkYXknLFxuICByZW5kZXJMYWJlbDogZGVmYXVsdFJlbmRlckxhYmVsLFxuICBkZWZhdWx0VmFsdWU6IG51bGxcbn07XG5leHBvcnQgY29uc3QgRGF0ZVBpY2tlciA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgb25DaGFuZ2U6IHYgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAodiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgKF9hID0gcHJvcHMub25Db25maXJtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdik7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgbm93ID0gdXNlTWVtbygoKSA9PiBuZXcgRGF0ZSgpLCBbXSk7XG4gIGNvbnN0IHBpY2tlclZhbHVlID0gdXNlTWVtbygoKSA9PiBjb252ZXJ0RGF0ZVRvU3RyaW5nQXJyYXkodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogbm93LCBwcm9wcy5wcmVjaXNpb24pLCBbdmFsdWUsIHByb3BzLnByZWNpc2lvbl0pO1xuICBjb25zdCBvbkNvbmZpcm0gPSB1c2VDYWxsYmFjayh2YWwgPT4ge1xuICAgIHNldFZhbHVlKGNvbnZlcnRTdHJpbmdBcnJheVRvRGF0ZSh2YWwsIHByb3BzLnByZWNpc2lvbikpO1xuICB9LCBbc2V0VmFsdWUsIHByb3BzLnByZWNpc2lvbl0pO1xuICBjb25zdCBvblNlbGVjdCA9IHVzZU1lbW9pemVkRm4odmFsID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBjb25zdCBkYXRlID0gY29udmVydFN0cmluZ0FycmF5VG9EYXRlKHZhbCwgcHJvcHMucHJlY2lzaW9uKTtcbiAgICAoX2EgPSBwcm9wcy5vblNlbGVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGRhdGUpO1xuICB9KTtcbiAgY29uc3QgY29sdW1ucyA9IHVzZUNhbGxiYWNrKHNlbGVjdGVkID0+IGdlbmVyYXRlRGF0ZVBpY2tlckNvbHVtbnMoc2VsZWN0ZWQsIHByb3BzLm1pbiwgcHJvcHMubWF4LCBwcm9wcy5wcmVjaXNpb24sIHByb3BzLnJlbmRlckxhYmVsLCBwcm9wcy5maWx0ZXIpLCBbcHJvcHMubWluLCBwcm9wcy5tYXgsIHByb3BzLnByZWNpc2lvbiwgcHJvcHMucmVuZGVyTGFiZWxdKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChQaWNrZXIsIHtcbiAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgIHZhbHVlOiBwaWNrZXJWYWx1ZSxcbiAgICBvbkNhbmNlbDogcHJvcHMub25DYW5jZWwsXG4gICAgb25DbG9zZTogcHJvcHMub25DbG9zZSxcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIGNvbmZpcm1UZXh0OiBwcm9wcy5jb25maXJtVGV4dCxcbiAgICBjYW5jZWxUZXh0OiBwcm9wcy5jYW5jZWxUZXh0LFxuICAgIG9uQ29uZmlybTogb25Db25maXJtLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBnZXRDb250YWluZXI6IHByb3BzLmdldENvbnRhaW5lcixcbiAgICBhZnRlclNob3c6IHByb3BzLmFmdGVyU2hvdyxcbiAgICBhZnRlckNsb3NlOiBwcm9wcy5hZnRlckNsb3NlLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgdGl0bGU6IHByb3BzLnRpdGxlLFxuICAgIHN0b3BQcm9wYWdhdGlvbjogcHJvcHMuc3RvcFByb3BhZ2F0aW9uXG4gIH0sICgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICByZXR1cm4gKF9hID0gcHJvcHMuY2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2YWx1ZSk7XG4gIH0pKTtcbn07IiwiaW1wb3J0IFwiLi9kYXRlLXBpY2tlci5jc3NcIjtcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAnLi9kYXRlLXBpY2tlcic7XG5pbXBvcnQgeyBwcm9tcHQgfSBmcm9tICcuL3Byb21wdCc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoRGF0ZVBpY2tlciwge1xuICBwcm9tcHRcbn0pOyIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyVG9Cb2R5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLXRvLWJvZHknO1xuaW1wb3J0IHsgRGF0ZVBpY2tlciB9IGZyb20gJy4vZGF0ZS1waWNrZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChwcm9wcykge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgV3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlUGlja2VyLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBvbkNvbmZpcm06IHZhbCA9PiB7XG4gICAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgICAgKF9hID0gcHJvcHMub25Db25maXJtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdmFsKTtcbiAgICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgICB1bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdW5tb3VudCA9IHJlbmRlclRvQm9keShSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIG51bGwpKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgc2hvdyB9IGZyb20gJy4vc2hvdyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGdldERlZmF1bHRDb25maWcgfSBmcm9tICcuLi9jb25maWctcHJvdmlkZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0KHApIHtcbiAgY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbmZpcm1UZXh0OiBnZXREZWZhdWx0Q29uZmlnKCkubG9jYWxlLkRpYWxvZy5va1xuICB9O1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNob3coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHtcbiAgICAgIGNsb3NlT25BY3Rpb246IHRydWUsXG4gICAgICBhY3Rpb25zOiBbe1xuICAgICAgICBrZXk6ICdjb25maXJtJyxcbiAgICAgICAgdGV4dDogcHJvcHMuY29uZmlybVRleHRcbiAgICAgIH1dLFxuICAgICAgb25BY3Rpb246IHByb3BzLm9uQ29uZmlybSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBzaG93IH0gZnJvbSAnLi9zaG93JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb25maXJtVGV4dDogJ+ehruiupCcsXG4gIGNhbmNlbFRleHQ6ICflj5bmtognXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpcm0ocCkge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNob3coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHtcbiAgICAgIGNsb3NlT25BY3Rpb246IHRydWUsXG4gICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcblxuICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IFtbe1xuICAgICAgICBrZXk6ICdjYW5jZWwnLFxuICAgICAgICB0ZXh0OiBwcm9wcy5jYW5jZWxUZXh0LFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgICAgeWllbGQgKF9hID0gcHJvcHMub25DYW5jZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29uZmlybScsXG4gICAgICAgIHRleHQ6IHByb3BzLmNvbmZpcm1UZXh0LFxuICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9iO1xuXG4gICAgICAgICAgeWllbGQgKF9iID0gcHJvcHMub25Db25maXJtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcyk7XG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgIH1dXVxuICAgIH0pKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5leHBvcnQgY29uc3QgRGlhbG9nQWN0aW9uQnV0dG9uID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgYWN0aW9uXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gcHJvcHMub25BY3Rpb24oKTtcbiAgICAgICAgeWllbGQgcHJvbWlzZTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcy5hY3Rpb24sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAga2V5OiBhY3Rpb24ua2V5LFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnYWRtLWRpYWxvZy1idXR0b24nLCB7XG4gICAgICAnYWRtLWRpYWxvZy1idXR0b24tYm9sZCc6IGFjdGlvbi5ib2xkXG4gICAgfSksXG4gICAgZmlsbDogJ25vbmUnLFxuICAgIGJsb2NrOiB0cnVlLFxuICAgIGNvbG9yOiBhY3Rpb24uZGFuZ2VyID8gJ2RhbmdlcicgOiAncHJpbWFyeScsXG4gICAgbG9hZGluZzogbG9hZGluZyxcbiAgICBkaXNhYmxlZDogYWN0aW9uLmRpc2FibGVkXG4gIH0sIGFjdGlvbi50ZXh0KSk7XG59OyIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVVubW91bnRlZFJlZiB9IGZyb20gJ2Fob29rcyc7XG5pbXBvcnQgTWFzayBmcm9tICcuLi9tYXNrJztcbmltcG9ydCB7IERpYWxvZ0FjdGlvbkJ1dHRvbiB9IGZyb20gJy4vZGlhbG9nLWFjdGlvbi1idXR0b24nO1xuaW1wb3J0IEltYWdlIGZyb20gJy4uL2ltYWdlJztcbmltcG9ydCBTcGFjZSBmcm9tICcuLi9zcGFjZSc7XG5pbXBvcnQgeyByZW5kZXJUb0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1jb250YWluZXInO1xuaW1wb3J0IHsgd2l0aFN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtc3RvcC1wcm9wYWdhdGlvbic7XG5pbXBvcnQgQXV0b0NlbnRlciBmcm9tICcuLi9hdXRvLWNlbnRlcic7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1kaWFsb2dgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICB2aXNpYmxlOiBmYWxzZSxcbiAgYWN0aW9uczogW10sXG4gIGNsb3NlT25BY3Rpb246IGZhbHNlLFxuICBjbG9zZU9uTWFza0NsaWNrOiBmYWxzZSxcbiAgc3RvcFByb3BhZ2F0aW9uOiBbJ2NsaWNrJ10sXG4gIGdldENvbnRhaW5lcjogbnVsbFxufTtcbmV4cG9ydCBjb25zdCBEaWFsb2cgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHVubW91bnRlZFJlZiA9IHVzZVVubW91bnRlZFJlZigpO1xuICBjb25zdCBzdHlsZSA9IHVzZVNwcmluZyh7XG4gICAgc2NhbGU6IHByb3BzLnZpc2libGUgPyAxIDogMC44LFxuICAgIG9wYWNpdHk6IHByb3BzLnZpc2libGUgPyAxIDogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIG1hc3M6IDEsXG4gICAgICB0ZW5zaW9uOiAyMDAsXG4gICAgICBmcmljdGlvbjogMzAsXG4gICAgICBjbGFtcDogdHJ1ZVxuICAgIH0sXG4gICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlKHRydWUpO1xuICAgIH0sXG4gICAgb25SZXN0OiAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICBpZiAodW5tb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIHNldEFjdGl2ZShwcm9wcy52aXNpYmxlKTtcblxuICAgICAgaWYgKHByb3BzLnZpc2libGUpIHtcbiAgICAgICAgKF9hID0gcHJvcHMuYWZ0ZXJTaG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoX2IgPSBwcm9wcy5hZnRlckNsb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgW2FjdGl2ZSwgc2V0QWN0aXZlXSA9IHVzZVN0YXRlKHByb3BzLnZpc2libGUpO1xuICBjb25zdCBub2RlID0gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiBhY3RpdmUgPyAndW5zZXQnIDogJ25vbmUnXG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KE1hc2ssIHtcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIG9uTWFza0NsaWNrOiBwcm9wcy5jbG9zZU9uTWFza0NsaWNrID8gcHJvcHMub25DbG9zZSA6IHVuZGVmaW5lZCxcbiAgICBzdHlsZTogcHJvcHMubWFza1N0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tbWFza2AsIHByb3BzLm1hc2tDbGFzc05hbWUpXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS13cmFwYCxcbiAgICBzdHlsZToge1xuICAgICAgcG9pbnRlckV2ZW50czogcHJvcHMudmlzaWJsZSA/ICd1bnNldCcgOiAnbm9uZSdcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe30sIHN0eWxlKSxcbiAgICBvbkNsaWNrOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbWFpbmBcbiAgfSwgISFwcm9wcy5pbWFnZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlLCB7XG4gICAgc3JjOiBwcm9wcy5pbWFnZSxcbiAgICBhbHQ6ICdkaWFsb2cgaGVhZGVyIGltYWdlJyxcbiAgICB3aWR0aDogJzEwMCUnXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogcHJvcHMuYm9keVN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tYm9keWAsIHByb3BzLmJvZHlDbGFzc05hbWUpXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3BhY2UsIHtcbiAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgYmxvY2s6IHRydWVcbiAgfSwgISFwcm9wcy5oZWFkZXIgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keS1oZWFkZXItd3JhcHBlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keS1oZWFkZXJgXG4gIH0sIHByb3BzLmhlYWRlcikpLCAhIXByb3BzLnRpdGxlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJvZHktdGl0bGVgXG4gIH0sIHByb3BzLnRpdGxlKSwgISFwcm9wcy5jb250ZW50ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJvZHktY29udGVudGBcbiAgfSwgdHlwZW9mIHByb3BzLmNvbnRlbnQgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvQ2VudGVyLCBudWxsLCBwcm9wcy5jb250ZW50KSA6IHByb3BzLmNvbnRlbnQpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWZvb3RlcmBcbiAgfSwgcHJvcHMuYWN0aW9ucy5tYXAoKHJvdywgaW5kZXgpID0+IHtcbiAgICBjb25zdCBhY3Rpb25zID0gQXJyYXkuaXNBcnJheShyb3cpID8gcm93IDogW3Jvd107XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYWN0aW9uLXJvd2AsXG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgYWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9uQnV0dG9uLCB7XG4gICAgICBrZXk6IGFjdGlvbi5rZXksXG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgIG9uQWN0aW9uOiAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG5cbiAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwoWyhfYSA9IGFjdGlvbi5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChhY3Rpb24pLCAoX2IgPSBwcm9wcy5vbkFjdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMsIGFjdGlvbiwgaW5kZXgpXSk7XG5cbiAgICAgICAgaWYgKHByb3BzLmNsb3NlT25BY3Rpb24pIHtcbiAgICAgICAgICAoX2MgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSkpKTtcbiAgfSkpKSkpKTtcbiAgcmV0dXJuIHJlbmRlclRvQ29udGFpbmVyKHByb3BzLmdldENvbnRhaW5lciwgd2l0aFN0b3BQcm9wYWdhdGlvbihwcm9wcy5zdG9wUHJvcGFnYXRpb24sIG5vZGUpKTtcbn07IiwiaW1wb3J0IFwiLi9kaWFsb2cuY3NzXCI7XG5pbXBvcnQgeyBzaG93IH0gZnJvbSAnLi9zaG93JztcbmltcG9ydCB7IGFsZXJ0IH0gZnJvbSAnLi9hbGVydCc7XG5pbXBvcnQgeyBjb25maXJtIH0gZnJvbSAnLi9jb25maXJtJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICcuL2RpYWxvZyc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoRGlhbG9nLCB7XG4gIHNob3csXG4gIGFsZXJ0LFxuICBjb25maXJtXG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBmb3J3YXJkUmVmLCB1c2VFZmZlY3QsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyVG9Cb2R5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLXRvLWJvZHknO1xuaW1wb3J0IHsgRGlhbG9nIH0gZnJvbSAnLi9kaWFsb2cnO1xuZXhwb3J0IGZ1bmN0aW9uIHNob3cocHJvcHMpIHtcbiAgY29uc3QgV3JhcHBlciA9IGZvcndhcmRSZWYoKF8sIHJlZikgPT4ge1xuICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB9LCBbXSk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbG9zZSgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgICBjbG9zZTogaGFuZGxlQ2xvc2VcbiAgICB9KSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgIG9uQ2xvc2U6IGhhbmRsZUNsb3NlLFxuICAgICAgYWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgKF9hID0gcHJvcHMuYWZ0ZXJDbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICB1bm1vdW50KCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9KTtcbiAgY29uc3QgcmVmID0gY3JlYXRlUmVmKCk7XG4gIGNvbnN0IHVubW91bnQgPSByZW5kZXJUb0JvZHkoUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCB7XG4gICAgcmVmOiByZWZcbiAgfSkpO1xuICByZXR1cm4ge1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWRpdmlkZXJgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb250ZW50UG9zaXRpb246ICdjZW50ZXInXG59O1xuZXhwb3J0IGNvbnN0IERpdmlkZXIgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwgYCR7Y2xhc3NQcmVmaXh9LSR7cHJvcHMuY29udGVudFBvc2l0aW9ufWApXG4gIH0sIHByb3BzLmNoaWxkcmVuICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIHByb3BzLmNoaWxkcmVuKSkpO1xufTsiLCJpbXBvcnQgXCIuL2RpdmlkZXIuY3NzXCI7XG5pbXBvcnQgeyBEaXZpZGVyIH0gZnJvbSAnLi9kaXZpZGVyJztcbmV4cG9ydCBkZWZhdWx0IERpdmlkZXI7IiwiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1kb3QtbG9hZGluZ2A7XG5jb25zdCBjb2xvclJlY29yZCA9IHtcbiAgZGVmYXVsdDogJ3ZhcigtLWFkbS1jb2xvci13ZWFrKScsXG4gIHByaW1hcnk6ICd2YXIoLS1hZG0tY29sb3ItcHJpbWFyeSknLFxuICB3aGl0ZTogJ3ZhcigtLWFkbS1jb2xvci13aGl0ZSknXG59O1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb2xvcjogJ2RlZmF1bHQnXG59O1xuZXhwb3J0IGNvbnN0IERvdExvYWRpbmcgPSBtZW1vKHAgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICBjb2xvcjogKF9hID0gY29sb3JSZWNvcmRbcHJvcHMuY29sb3JdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwcm9wcy5jb2xvclxuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCdhZG0tbG9hZGluZycsIGNsYXNzUHJlZml4KVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICBoZWlnaHQ6ICcxZW0nLFxuICAgIHZpZXdCb3g6ICcwIDAgMTAwIDQwJyxcbiAgICBzdHlsZToge1xuICAgICAgdmVydGljYWxBbGlnbjogJy0wLjEyNWVtJ1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHN0cm9rZTogJ25vbmUnLFxuICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgZmlsbDogJ25vbmUnLFxuICAgIGZpbGxSdWxlOiAnZXZlbm9kZCdcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMTAwLjAwMDAwMCwgLTcxLjAwMDAwMCknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoOTUuMDAwMDAwLCA3MS4wMDAwMDApJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDUuMDAwMDAwLCAwLjAwMDAwMCknXG4gIH0sIFswLCAxLCAyXS5tYXAoaSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAga2V5OiBpLFxuICAgIGZpbGw6ICdjdXJyZW50Q29sb3InLFxuICAgIHg6IDIwICsgaSAqIDI2LFxuICAgIHk6ICcxNicsXG4gICAgd2lkdGg6ICc4JyxcbiAgICBoZWlnaHQ6ICc4JyxcbiAgICByeDogJzInXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhbmltYXRlXCIsIHtcbiAgICBhdHRyaWJ1dGVOYW1lOiAneScsXG4gICAgZnJvbTogJzE2JyxcbiAgICB0bzogJzE2JyxcbiAgICBkdXI6ICcycycsXG4gICAgYmVnaW46IGAke2kgKiAwLjJ9c2AsXG4gICAgcmVwZWF0Q291bnQ6ICdpbmRlZmluaXRlJyxcbiAgICB2YWx1ZXM6ICcxNjsgNjsgMjY7IDE2OyAxNicsXG4gICAga2V5VGltZXM6ICcwOyAwLjE7IDAuMzsgMC40OyAxJyxcbiAgICBpZDogJ2NpcmMtYW5pbSdcbiAgfSkpKSkpKSkpKSk7XG59KTsiLCJpbXBvcnQgXCIuL2RvdC1sb2FkaW5nLmNzc1wiO1xuaW1wb3J0IHsgRG90TG9hZGluZyB9IGZyb20gJy4vZG90LWxvYWRpbmcnO1xuZXhwb3J0IGRlZmF1bHQgRG90TG9hZGluZzsiLCJpbXBvcnQgeyB1c2VDbGlja0F3YXkgfSBmcm9tICdhaG9va3MnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vcG9wdXAnO1xuaW1wb3J0IHsgSXRlbUNoaWxkcmVuV3JhcCB9IGZyb20gJy4vaXRlbSc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1kcm9wZG93bmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRBY3RpdmVLZXk6IG51bGwsXG4gIGNsb3NlT25NYXNrQ2xpY2s6IHRydWUsXG4gIGNsb3NlT25DbGlja0F3YXk6IGZhbHNlXG59O1xuY29uc3QgRHJvcGRvd24gPSBmb3J3YXJkUmVmKChwLCByZWYpID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRBY3RpdmVLZXksXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlXG4gIH0pO1xuICBjb25zdCBuYXZSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNvbnRlbnRSZWYgPSB1c2VSZWYobnVsbCk7IC8vIOeCueWHu+WklumDqOWMuuWfn++8jOWFs+mXrVxuXG4gIHVzZUNsaWNrQXdheSgoKSA9PiB7XG4gICAgaWYgKCFwcm9wcy5jbG9zZU9uQ2xpY2tBd2F5KSByZXR1cm47XG4gICAgc2V0VmFsdWUobnVsbCk7XG4gIH0sIFtuYXZSZWYsIGNvbnRlbnRSZWZdKTsgLy8g6K6h566XIG5hdnMg55qEIHRvcCDlgLxcblxuICBjb25zdCBbdG9wLCBzZXRUb3BdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzZXRUb3AocmVjdC5ib3R0b20pO1xuICAgIH1cbiAgfSwgW3ZhbHVlXSk7XG5cbiAgY29uc3QgY2hhbmdlQWN0aXZlID0ga2V5ID0+IHtcbiAgICBpZiAodmFsdWUgPT09IGtleSkge1xuICAgICAgc2V0VmFsdWUobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbHVlKGtleSk7XG4gICAgfVxuICB9O1xuXG4gIGxldCBwb3B1cEZvcmNlUmVuZGVyID0gZmFsc2U7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGNvbnN0IG5hdnMgPSBSZWFjdC5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICBjb25zdCBjaGlsZFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjaGlsZC5wcm9wcyksIHtcbiAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgIGNoYW5nZUFjdGl2ZShjaGlsZC5rZXkpO1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmU6IGNoaWxkLmtleSA9PT0gdmFsdWUsXG4gICAgICAgIGFycm93OiBjaGlsZC5wcm9wcy5hcnJvdyA9PT0gdW5kZWZpbmVkID8gcHJvcHMuYXJyb3cgOiBjaGlsZC5wcm9wcy5hcnJvd1xuICAgICAgfSk7XG4gICAgICBpdGVtcy5wdXNoKGNoaWxkKTtcbiAgICAgIGlmIChjaGlsZC5wcm9wcy5mb3JjZVJlbmRlcikgcG9wdXBGb3JjZVJlbmRlciA9IHRydWU7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkLCBjaGlsZFByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICBzZXRWYWx1ZShudWxsKTtcbiAgICB9XG4gIH0pLCBbc2V0VmFsdWVdKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LW9wZW5gXTogISF2YWx1ZVxuICAgIH0pLFxuICAgIHJlZjogY29udGFpbmVyUmVmXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LW5hdmAsXG4gICAgcmVmOiBuYXZSZWZcbiAgfSwgbmF2cyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXAsIHtcbiAgICB2aXNpYmxlOiAhIXZhbHVlLFxuICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1wb3B1cGAsXG4gICAgbWFza0NsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXBvcHVwLW1hc2tgLFxuICAgIGJvZHlDbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1wb3B1cC1ib2R5YCxcbiAgICBzdHlsZToge1xuICAgICAgdG9wXG4gICAgfSxcbiAgICBmb3JjZVJlbmRlcjogcG9wdXBGb3JjZVJlbmRlcixcbiAgICBvbk1hc2tDbGljazogcHJvcHMuY2xvc2VPbk1hc2tDbGljayA/ICgpID0+IHtcbiAgICAgIGNoYW5nZUFjdGl2ZShudWxsKTtcbiAgICB9IDogdW5kZWZpbmVkXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogY29udGVudFJlZlxuICB9LCBpdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmtleSA9PT0gdmFsdWU7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSXRlbUNoaWxkcmVuV3JhcCwge1xuICAgICAga2V5OiBpdGVtLmtleSxcbiAgICAgIGFjdGl2ZTogaXNBY3RpdmUsXG4gICAgICBmb3JjZVJlbmRlcjogaXRlbS5wcm9wcy5mb3JjZVJlbmRlcixcbiAgICAgIGRlc3Ryb3lPbkNsb3NlOiBpdGVtLnByb3BzLmRlc3Ryb3lPbkNsb3NlXG4gICAgfSwgaXRlbS5wcm9wcy5jaGlsZHJlbik7XG4gIH0pKSkpKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd247IiwiaW1wb3J0IFwiLi9kcm9wZG93bi5jc3NcIjtcbmltcG9ydCBEcm9wZG93biBmcm9tICcuL2Ryb3Bkb3duJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgSXRlbSBmcm9tICcuL2l0ZW0nO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KERyb3Bkb3duLCB7XG4gIEl0ZW1cbn0pOyIsImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VTaG91bGRSZW5kZXIgfSBmcm9tICcuLi8uLi91dGlscy91c2Utc2hvdWxkLXJlbmRlcic7XG5pbXBvcnQgeyBEb3duRmlsbCB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1kcm9wZG93bi1pdGVtYDtcblxuY29uc3QgSXRlbSA9IHByb3BzID0+IHtcbiAgY29uc3QgY2xzID0gY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwge1xuICAgIFtgJHtjbGFzc1ByZWZpeH0tYWN0aXZlYF06IHByb3BzLmFjdGl2ZSxcbiAgICBbYCR7Y2xhc3NQcmVmaXh9LWhpZ2hsaWdodGBdOiBwcm9wcy5oaWdobGlnaHRcbiAgfSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xzLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdGl0bGVgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aXRsZS10ZXh0YFxuICB9LCBwcm9wcy50aXRsZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXRpdGxlLWFycm93YCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS10aXRsZS1hcnJvdy1hY3RpdmVgXTogcHJvcHMuYWN0aXZlXG4gICAgfSlcbiAgfSwgcHJvcHMuYXJyb3cgPT09IHVuZGVmaW5lZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRG93bkZpbGwsIG51bGwpIDogcHJvcHMuYXJyb3cpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSXRlbTtcbmV4cG9ydCBjb25zdCBJdGVtQ2hpbGRyZW5XcmFwID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgYWN0aXZlID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzaG91bGRSZW5kZXIgPSB1c2VTaG91bGRSZW5kZXIoYWN0aXZlLCBwcm9wcy5mb3JjZVJlbmRlciwgcHJvcHMuZGVzdHJveU9uQ2xvc2UpO1xuICBjb25zdCBjbHMgPSBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jb250ZW50YCwge1xuICAgIFtgJHtjbGFzc1ByZWZpeH0tY29udGVudC1oaWRkZW5gXTogIWFjdGl2ZVxuICB9KTtcbiAgcmV0dXJuIHNob3VsZFJlbmRlciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xzLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgfSwgcHJvcHMuY2hpbGRyZW4pIDogbnVsbDtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUxheW91dEVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IHVzZVJlc2l6ZUVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1yZXNpemUtZWZmZWN0JztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1lbGxpcHNpc2A7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRpcmVjdGlvbjogJ2VuZCcsXG4gIHJvd3M6IDEsXG4gIGV4cGFuZFRleHQ6ICcnLFxuICBjb2xsYXBzZVRleHQ6ICcnXG59O1xuZXhwb3J0IGNvbnN0IEVsbGlwc2lzID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCByb290UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbZWxsaXBzaXNlZCwgc2V0RWxsaXBzaXNlZF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXhjZWVkZWQsIHNldEV4Y2VlZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBmdW5jdGlvbiBjYWxjRWxsaXBzaXNlZCgpIHtcbiAgICBjb25zdCByb290ID0gcm9vdFJlZi5jdXJyZW50O1xuICAgIGlmICghcm9vdCkgcmV0dXJuO1xuICAgIGNvbnN0IG9yaWdpblN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocm9vdCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3Qgc3R5bGVOYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShvcmlnaW5TdHlsZSk7XG4gICAgc3R5bGVOYW1lcy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIG9yaWdpblN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkpO1xuICAgIH0pO1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnOTk5OTk5cHgnO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnOTk5OTk5cHgnO1xuICAgIGNvbnRhaW5lci5zdHlsZS56SW5kZXggPSAnLTEwMDAnO1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgY29udGFpbmVyLnN0eWxlLm1pbkhlaWdodCA9ICdhdXRvJztcbiAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gJ2F1dG8nO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0T3ZlcmZsb3cgPSAnY2xpcCc7XG4gICAgY29udGFpbmVyLnN0eWxlLndoaXRlU3BhY2UgPSAnbm9ybWFsJztcbiAgICBjb250YWluZXIuc3R5bGUud2Via2l0TGluZUNsYW1wID0gJ3Vuc2V0JztcbiAgICBjb250YWluZXIuc3R5bGUud2Via2l0Qm94T3JpZW50ID0gJ3Vuc2V0JztcbiAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgY29uc3QgbGluZUhlaWdodCA9IHB4VG9OdW1iZXIob3JpZ2luU3R5bGUubGluZUhlaWdodCk7XG4gICAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5mbG9vcihsaW5lSGVpZ2h0ICogKHByb3BzLnJvd3MgKyAwLjUpICsgcHhUb051bWJlcihvcmlnaW5TdHlsZS5wYWRkaW5nVG9wKSArIHB4VG9OdW1iZXIob3JpZ2luU3R5bGUucGFkZGluZ0JvdHRvbSkpO1xuICAgIGNvbnRhaW5lci5pbm5lclRleHQgPSBwcm9wcy5jb250ZW50O1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGlmIChjb250YWluZXIub2Zmc2V0SGVpZ2h0IDw9IG1heEhlaWdodCkge1xuICAgICAgc2V0RXhjZWVkZWQoZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFeGNlZWRlZCh0cnVlKTtcbiAgICAgIGNvbnN0IGVuZCA9IHByb3BzLmNvbnRlbnQubGVuZ3RoO1xuICAgICAgY29uc3QgYWN0aW9uVGV4dCA9IGV4cGFuZGVkID8gcHJvcHMuY29sbGFwc2VUZXh0IDogcHJvcHMuZXhwYW5kVGV4dDtcblxuICAgICAgZnVuY3Rpb24gY2hlY2sobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSAxKSB7XG4gICAgICAgICAgaWYgKHByb3BzLmRpcmVjdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGxlYWRpbmc6IHByb3BzLmNvbnRlbnQuc2xpY2UoMCwgbGVmdCkgKyAnLi4uJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdGFpbGluZzogJy4uLicgKyBwcm9wcy5jb250ZW50LnNsaWNlKHJpZ2h0LCBlbmQpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IE1hdGgucm91bmQoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgICAgICBpZiAocHJvcHMuZGlyZWN0aW9uID09PSAnZW5kJykge1xuICAgICAgICAgIGNvbnRhaW5lci5pbm5lclRleHQgPSBwcm9wcy5jb250ZW50LnNsaWNlKDAsIG1pZGRsZSkgKyAnLi4uJyArIGFjdGlvblRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyLmlubmVyVGV4dCA9IGFjdGlvblRleHQgKyAnLi4uJyArIHByb3BzLmNvbnRlbnQuc2xpY2UobWlkZGxlLCBlbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgPD0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHByb3BzLmRpcmVjdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVjayhtaWRkbGUsIHJpZ2h0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrKGxlZnQsIG1pZGRsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9wcy5kaXJlY3Rpb24gPT09ICdlbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2sobGVmdCwgbWlkZGxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrKG1pZGRsZSwgcmlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja01pZGRsZShsZWZ0UGFydCwgcmlnaHRQYXJ0KSB7XG4gICAgICAgIGlmIChsZWZ0UGFydFsxXSAtIGxlZnRQYXJ0WzBdIDw9IDEgJiYgcmlnaHRQYXJ0WzFdIC0gcmlnaHRQYXJ0WzBdIDw9IDEpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVhZGluZzogcHJvcHMuY29udGVudC5zbGljZSgwLCBsZWZ0UGFydFswXSkgKyAnLi4uJyxcbiAgICAgICAgICAgIHRhaWxpbmc6ICcuLi4nICsgcHJvcHMuY29udGVudC5zbGljZShyaWdodFBhcnRbMV0sIGVuZClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVmdFBhcnRNaWRkbGUgPSBNYXRoLmZsb29yKChsZWZ0UGFydFswXSArIGxlZnRQYXJ0WzFdKSAvIDIpO1xuICAgICAgICBjb25zdCByaWdodFBhcnRNaWRkbGUgPSBNYXRoLmZsb29yKChyaWdodFBhcnRbMF0gKyByaWdodFBhcnRbMV0pIC8gMik7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lclRleHQgPSBwcm9wcy5jb250ZW50LnNsaWNlKDAsIGxlZnRQYXJ0TWlkZGxlKSArICcuLi4nICsgYWN0aW9uVGV4dCArICcuLi4nICsgcHJvcHMuY29udGVudC5zbGljZShyaWdodFBhcnRNaWRkbGUsIGVuZCk7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgPD0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrTWlkZGxlKFtsZWZ0UGFydE1pZGRsZSwgbGVmdFBhcnRbMV1dLCBbcmlnaHRQYXJ0WzBdLCByaWdodFBhcnRNaWRkbGVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tNaWRkbGUoW2xlZnRQYXJ0WzBdLCBsZWZ0UGFydE1pZGRsZV0sIFtyaWdodFBhcnRNaWRkbGUsIHJpZ2h0UGFydFsxXV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1pZGRsZSA9IE1hdGguZmxvb3IoKDAgKyBlbmQpIC8gMik7XG4gICAgICBjb25zdCBlbGxpcHNpc2VkID0gcHJvcHMuZGlyZWN0aW9uID09PSAnbWlkZGxlJyA/IGNoZWNrTWlkZGxlKFswLCBtaWRkbGVdLCBbbWlkZGxlLCBlbmRdKSA6IGNoZWNrKDAsIGVuZCk7XG4gICAgICBzZXRFbGxpcHNpc2VkKGVsbGlwc2lzZWQpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgfVxuXG4gIHVzZVJlc2l6ZUVmZmVjdChjYWxjRWxsaXBzaXNlZCwgcm9vdFJlZik7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY2FsY0VsbGlwc2lzZWQoKTtcbiAgfSwgW3Byb3BzLmNvbnRlbnQsIHByb3BzLmRpcmVjdGlvbiwgcHJvcHMucm93cywgcHJvcHMuZXhwYW5kVGV4dCwgcHJvcHMuY29sbGFwc2VUZXh0XSk7XG4gIGNvbnN0IGV4cGFuZEFjdGlvbkVsZW1lbnQgPSBleGNlZWRlZCAmJiBwcm9wcy5leHBhbmRUZXh0ID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldEV4cGFuZGVkKHRydWUpO1xuICAgIH1cbiAgfSwgcHJvcHMuZXhwYW5kVGV4dCkgOiBudWxsO1xuICBjb25zdCBjb2xsYXBzZUFjdGlvbkVsZW1lbnQgPSBleGNlZWRlZCAmJiBwcm9wcy5leHBhbmRUZXh0ID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldEV4cGFuZGVkKGZhbHNlKTtcbiAgICB9XG4gIH0sIHByb3BzLmNvbGxhcHNlVGV4dCkgOiBudWxsO1xuXG4gIGNvbnN0IHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG4gICAgaWYgKCFleGNlZWRlZCkge1xuICAgICAgcmV0dXJuIHByb3BzLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgcHJvcHMuY29udGVudCwgY29sbGFwc2VBY3Rpb25FbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGVsbGlwc2lzZWQubGVhZGluZywgZXhwYW5kQWN0aW9uRWxlbWVudCwgZWxsaXBzaXNlZC50YWlsaW5nKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiByb290UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgcmVuZGVyQ29udGVudCgpKSk7XG59O1xuXG5mdW5jdGlvbiBweFRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiAwO1xuICBjb25zdCBtYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxkKihcXC5cXGQqKT8vKTtcbiAgcmV0dXJuIG1hdGNoID8gTnVtYmVyKG1hdGNoWzBdKSA6IDA7XG59IiwiaW1wb3J0IFwiLi9lbGxpcHNpcy5jc3NcIjtcbmltcG9ydCB7IEVsbGlwc2lzIH0gZnJvbSAnLi9lbGxpcHNpcyc7XG5leHBvcnQgZGVmYXVsdCBFbGxpcHNpczsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgRW1wdHlJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9lbXB0eS1pY29uLnN2Zyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tZW1wdHlgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBpbWFnZTogRW1wdHlJY29uXG59O1xuZXhwb3J0IGNvbnN0IEVtcHR5ID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBpbWFnZU5vZGUgPSB0eXBlb2YgcHJvcHMuaW1hZ2UgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taW1hZ2VgLFxuICAgIHN0eWxlOiBwcm9wcy5pbWFnZVN0eWxlLFxuICAgIHNyYzogcHJvcHMuaW1hZ2UsXG4gICAgYWx0OiAnZW1wdHknXG4gIH0pIDogcHJvcHMuaW1hZ2U7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taW1hZ2UtY29udGFpbmVyYFxuICB9LCBpbWFnZU5vZGUpLCBwcm9wcy5kZXNjcmlwdGlvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWRlc2NyaXB0aW9uYClcbiAgfSwgcHJvcHMuZGVzY3JpcHRpb24pKSk7XG59OyIsImltcG9ydCBcIi4vZW1wdHkuY3NzXCI7XG5pbXBvcnQgeyBFbXB0eSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGRlZmF1bHQgRW1wdHk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgaWNvblJlY29yZCB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnLXByb3ZpZGVyJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1lcnJvci1ibG9ja2A7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHN0YXR1czogJ2RlZmF1bHQnXG59O1xuZXhwb3J0IGNvbnN0IEVycm9yQmxvY2sgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IGljb24gPSBpY29uUmVjb3JkW3Byb3BzLnN0YXR1c107XG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUNvbmZpZygpO1xuICBjb25zdCBjb250ZW50UGFjayA9IGxvY2FsZS5FcnJvckJsb2NrW3Byb3BzLnN0YXR1c107XG4gIGNvbnN0IGRlcyA9ICdkZXNjcmlwdGlvbicgaW4gcHJvcHMgPyBwcm9wcy5kZXNjcmlwdGlvbiA6IGNvbnRlbnRQYWNrLmRlc2NyaXB0aW9uO1xuICBjb25zdCB0aXRsZSA9ICd0aXRsZScgaW4gcHJvcHMgPyBwcm9wcy50aXRsZSA6IGNvbnRlbnRQYWNrLnRpdGxlO1xuICBsZXQgaW1hZ2VOb2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBpY29uXG4gIH0pO1xuXG4gIGlmIChwcm9wcy5pbWFnZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcHMuaW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbWFnZU5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgICAgc3JjOiBwcm9wcy5pbWFnZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlTm9kZSA9IHByb3BzLmltYWdlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1mdWxsLXBhZ2VgXTogcHJvcHMuZnVsbFBhZ2VcbiAgICB9KVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbWFnZWBcbiAgfSwgaW1hZ2VOb2RlKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZGVzY3JpcHRpb25gXG4gIH0sIHRpdGxlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWRlc2NyaXB0aW9uLXRpdGxlYFxuICB9LCB0aXRsZSksIGRlcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1kZXNjcmlwdGlvbi1zdWJ0aXRsZWBcbiAgfSwgZGVzKSksIHByb3BzLmNoaWxkcmVuICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIHByb3BzLmNoaWxkcmVuKSkpO1xufTsiLCJpbXBvcnQgRGVmYXVsdEVycm9ySWNvbiBmcm9tICcuLi8uLi9hc3NldHMvZGVmYXVsdC5zdmcnO1xuaW1wb3J0IEJ1c3kgZnJvbSAnLi4vLi4vYXNzZXRzL2J1c3kuc3ZnJztcbmltcG9ydCBEaXNjb25uZWN0ZWRJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9kaXNjb25uZWN0ZWQuc3ZnJztcbmltcG9ydCBFbXB0eUVycm9ySWNvbiBmcm9tICcuLi8uLi9hc3NldHMvZW1wdHkuc3ZnJztcbmV4cG9ydCBjb25zdCBpY29uUmVjb3JkID0ge1xuICBkZWZhdWx0OiBEZWZhdWx0RXJyb3JJY29uLFxuICBidXN5OiBCdXN5LFxuICBkaXNjb25uZWN0ZWQ6IERpc2Nvbm5lY3RlZEljb24sXG4gIGVtcHR5OiBFbXB0eUVycm9ySWNvblxufTsiLCJpbXBvcnQgXCIuL2Vycm9yLWJsb2NrLmNzc1wiO1xuaW1wb3J0IHsgRXJyb3JCbG9jayB9IGZyb20gJy4vZXJyb3ItYmxvY2snO1xuZXhwb3J0IGRlZmF1bHQgRXJyb3JCbG9jazsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3ByaW5nLCBhbmltYXRlZCB9IGZyb20gJ0ByZWFjdC1zcHJpbmcvd2ViJztcbmltcG9ydCB7IHVzZURyYWcgfSBmcm9tICdAdXNlLWdlc3R1cmUvcmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWZsb2F0aW5nLWJ1YmJsZWA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7fTtcbmV4cG9ydCBjb25zdCBGbG9hdGluZ0J1YmJsZSA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgYm91bmRhcnlSZWYgPSB1c2VSZWYobnVsbCk7XG4gIC8qKlxuICAgKiBtZW1vaXplIHRoZSBgdG9gIGZ1bmN0aW9uXG4gICAqIGluc2lkZSBhIGNvbXBvbmVudCB0aGF0IHJlbmRlcnMgZnJlcXVlbnRseVxuICAgKiB0byBwcmV2ZW50IGFuIHVuaW50ZW5kZWQgcmVzdGFydFxuICAgKi9cblxuICBjb25zdCBbYW5pbWF0aW9uU3R5bGVzLCBhbmltYXRpb25dID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgeTogMCxcbiAgICBzY2FsZTogMSxcbiAgICBvcGFjaXR5OiAxXG4gIH0pKTtcbiAgY29uc3QgYmluZCA9IHVzZURyYWcoc3RhdGUgPT4ge1xuICAgIGlmIChzdGF0ZS5kb3duKSB7XG4gICAgICAvLyBiZSBtb3ZhYmxlIGluIHkgYXhpc1xuICAgICAgYW5pbWF0aW9uLnN0YXJ0KHtcbiAgICAgICAgeTogc3RhdGUub2Zmc2V0WzFdXG4gICAgICB9KTtcbiAgICB9IC8vIGFjdGl2ZSBzdGF0dXNcblxuXG4gICAgYW5pbWF0aW9uLnN0YXJ0KHtcbiAgICAgIHNjYWxlOiBzdGF0ZS5hY3RpdmUgPyAxLjEgOiAxLFxuICAgICAgb3BhY2l0eTogc3RhdGUuYWN0aXZlID8gMC44IDogMVxuICAgIH0pO1xuICB9LCB7XG4gICAgLy8gb25seSB0cmlnZ2VyIGlmIGEgbW92ZW1lbnQgaXMgZGV0ZWN0ZWQgb24gdGhlIHNwZWNpZmllZCBheGlzLlxuICAgIGF4aXM6ICd5JyxcbiAgICBwb2ludGVyOiB7XG4gICAgICB0b3VjaDogdHJ1ZVxuICAgIH0sXG4gICAgLy8gdGhlIGNvbXBvbmVudCB3b24ndCB0cmlnZ2VyIGRyYWcgbG9naWMgaWYgdGhlIHVzZXIganVzdCBjbGlja2VkIG9uIHRoZSBjb21wb25lbnQuXG4gICAgZmlsdGVyVGFwczogdHJ1ZSxcbiAgICAvLyBzZXQgY29uc3RyYWludHMgdG8gdGhlIHVzZXIgZ2VzdHVyZVxuICAgIGJvdW5kczogYm91bmRhcnlSZWZcbiAgfSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm91bmRhcnktb3V0ZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWJvdW5kYXJ5YCxcbiAgICByZWY6IGJvdW5kYXJ5UmVmXG4gIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIE9iamVjdC5hc3NpZ24oe30sIGJpbmQoKSwge1xuICAgIHN0eWxlOiBPYmplY3QuYXNzaWduKHt9LCBhbmltYXRpb25TdHlsZXMpLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYnV0dG9uYFxuICB9KSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59OyIsImltcG9ydCBcIi4vZmxvYXRpbmctYnViYmxlLmNzc1wiO1xuaW1wb3J0IHsgRmxvYXRpbmdCdWJibGUgfSBmcm9tICcuL2Zsb2F0aW5nLWJ1YmJsZSc7XG5leHBvcnQgZGVmYXVsdCBGbG9hdGluZ0J1YmJsZTsiLCJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VEcmFnIH0gZnJvbSAnQHVzZS1nZXN0dXJlL3JlYWN0JztcbmltcG9ydCB7IHVzZVNwcmluZywgYW5pbWF0ZWQgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3dlYic7XG5pbXBvcnQgeyBzdXBwb3J0c1Bhc3NpdmUgfSBmcm9tICcuLi8uLi91dGlscy9zdXBwb3J0cy1wYXNzaXZlJztcbmltcG9ydCB7IG5lYXJlc3QgfSBmcm9tICcuLi8uLi91dGlscy9uZWFyZXN0JztcbmV4cG9ydCBjb25zdCBGbG9hdGluZ1BhbmVsID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3Qge1xuICAgIGFuY2hvcnNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBtYXhIZWlnaHQgPSAoX2EgPSBhbmNob3JzW2FuY2hvcnMubGVuZ3RoIC0gMV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgY29uc3QgcG9zc2libGVzID0gYW5jaG9ycy5tYXAoeCA9PiAteCk7XG4gIGNvbnN0IGVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhlYWRlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY29udGVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3B1bGxpbmcsIHNldFB1bGxpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBwdWxsaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgYm91bmRzID0ge1xuICAgIHRvcDogcG9zc2libGVzW3Bvc3NpYmxlcy5sZW5ndGggLSAxXSxcbiAgICBib3R0b206IHBvc3NpYmxlc1swXVxuICB9O1xuICBjb25zdCBbe1xuICAgIHlcbiAgfSwgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgIHk6IGJvdW5kcy5ib3R0b20sXG4gICAgY29uZmlnOiB7XG4gICAgICB0ZW5zaW9uOiAzMDBcbiAgICB9XG4gIH0pKTtcbiAgdXNlRHJhZyhzdGF0ZSA9PiB7XG4gICAgY29uc3QgWywgb2Zmc2V0WV0gPSBzdGF0ZS5vZmZzZXQ7XG5cbiAgICBpZiAoc3RhdGUuZmlyc3QpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHN0YXRlLmV2ZW50LnRhcmdldDtcbiAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlclJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAoaGVhZGVyID09PSB0YXJnZXQgfHwgKGhlYWRlciA9PT0gbnVsbCB8fCBoZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlci5jb250YWlucyh0YXJnZXQpKSkge1xuICAgICAgICBwdWxsaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVhY2hlZFRvcCA9IHkuZ29hbCA8PSBib3VuZHMudG9wO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcblxuICAgICAgICBpZiAocmVhY2hlZFRvcCkge1xuICAgICAgICAgIGlmIChjb250ZW50LnNjcm9sbFRvcCA8PSAwICYmIHN0YXRlLmRpcmVjdGlvblsxXSA+IDApIHtcbiAgICAgICAgICAgIHB1bGxpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHB1bGxpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQdWxsaW5nKHB1bGxpbmdSZWYuY3VycmVudCk7XG4gICAgaWYgKCFwdWxsaW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBldmVudFxuICAgIH0gPSBzdGF0ZTtcblxuICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGxldCBuZXh0WSA9IG9mZnNldFk7XG5cbiAgICBpZiAoc3RhdGUubGFzdCkge1xuICAgICAgcHVsbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBzZXRQdWxsaW5nKGZhbHNlKTtcbiAgICAgIG5leHRZID0gbmVhcmVzdChwb3NzaWJsZXMsIG9mZnNldFkpO1xuICAgIH1cblxuICAgIGFwaS5zdGFydCh7XG4gICAgICB5OiBuZXh0WVxuICAgIH0pO1xuICB9LCB7XG4gICAgYXhpczogJ3knLFxuICAgIGJvdW5kcyxcbiAgICBydWJiZXJiYW5kOiB0cnVlLFxuICAgIGZyb206ICgpID0+IFswLCB5LmdldCgpXSxcbiAgICBwb2ludGVyOiB7XG4gICAgICB0b3VjaDogdHJ1ZVxuICAgIH0sXG4gICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgIGV2ZW50T3B0aW9uczogc3VwcG9ydHNQYXNzaXZlID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9IDogZmFsc2VcbiAgfSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIHNldEhlaWdodDogKGhlaWdodCwgb3B0aW9ucykgPT4ge1xuICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgeTogLWhlaWdodCxcbiAgICAgICAgaW1tZWRpYXRlOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaW1tZWRpYXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCBbYXBpXSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGNsYXNzTmFtZTogJ2FkbS1mbG9hdGluZy1wYW5lbCcsXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogbWF4SGVpZ2h0LFxuICAgICAgeVxuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiAnYWRtLWZsb2F0aW5nLXBhbmVsLW1hc2snLFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiBwdWxsaW5nID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgIH1cbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogJ2FkbS1mbG9hdGluZy1wYW5lbC1oZWFkZXInLFxuICAgIHJlZjogaGVhZGVyUmVmXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogJ2FkbS1mbG9hdGluZy1wYW5lbC1iYXInXG4gIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiAnYWRtLWZsb2F0aW5nLXBhbmVsLWNvbnRlbnQnLFxuICAgIHJlZjogY29udGVudFJlZlxuICB9LCBwcm9wcy5jaGlsZHJlbikpKTtcbn0pOyIsImltcG9ydCBcIi4vZmxvYXRpbmctcGFuZWwuY3NzXCI7XG5pbXBvcnQgeyBGbG9hdGluZ1BhbmVsIH0gZnJvbSAnLi9mbG9hdGluZy1wYW5lbCc7XG5leHBvcnQgZGVmYXVsdCBGbG9hdGluZ1BhbmVsOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9GT1JNX0NPTlRFWFQgPSB7XG4gIGhhc0ZlZWRiYWNrOiB0cnVlLFxuICBsYXlvdXQ6ICd2ZXJ0aWNhbCdcbn07XG5leHBvcnQgY29uc3QgRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KERFRkFVTFRfRk9STV9DT05URVhUKTtcbmV4cG9ydCBjb25zdCBOb1N0eWxlSXRlbUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpOyIsImltcG9ydCB7IF9fcmVzdCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tICdyYy1maWVsZC1mb3JtJztcbmltcG9ydCBGaWVsZENvbnRleHQgZnJvbSAncmMtZmllbGQtZm9ybS9saWIvRmllbGRDb250ZXh0JztcbmltcG9ydCB7IGRldldhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy9kZXYtbG9nJztcbmltcG9ydCB7IEZvcm1Db250ZXh0LCBOb1N0eWxlSXRlbUNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vbGlzdCc7XG5jb25zdCBOQU1FX1NQTElUID0gJ19fU1BMSVRfXyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tZm9ybS1pdGVtYDtcbmNvbnN0IE1lbW9JbnB1dCA9IFJlYWN0Lm1lbW8oKHtcbiAgY2hpbGRyZW5cbn0pID0+IGNoaWxkcmVuLCAocHJldiwgbmV4dCkgPT4gcHJldi52YWx1ZSA9PT0gbmV4dC52YWx1ZSAmJiBwcmV2LnVwZGF0ZSA9PT0gbmV4dC51cGRhdGUpO1xuXG5jb25zdCBGb3JtSXRlbUxheW91dCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBleHRyYSxcbiAgICBsYWJlbCxcbiAgICBoZWxwLFxuICAgIHJlcXVpcmVkLFxuICAgIGRpc2FibGVkLFxuICAgIGNoaWxkcmVuLFxuICAgIGh0bWxGb3IsXG4gICAgaGlkZGVuLFxuICAgIGVycm9yc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEZvcm1Db250ZXh0KTtcbiAgY29uc3QgaGFzRmVlZGJhY2sgPSBwcm9wcy5oYXNGZWVkYmFjayAhPT0gdW5kZWZpbmVkID8gcHJvcHMuaGFzRmVlZGJhY2sgOiBjb250ZXh0Lmhhc0ZlZWRiYWNrO1xuICBjb25zdCBsYXlvdXQgPSBwcm9wcy5sYXlvdXQgfHwgY29udGV4dC5sYXlvdXQ7XG4gIGNvbnN0IGZlZWRiYWNrID0gaGFzRmVlZGJhY2sgJiYgZXJyb3JzICYmIGVycm9ycy5sZW5ndGggPiAwID8gZXJyb3JzWzBdIDogbnVsbDtcbiAgY29uc3QgbGFiZWxFbGVtZW50ID0gbGFiZWwgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWxhYmVsYCxcbiAgICBodG1sRm9yOiBodG1sRm9yXG4gIH0sIGxhYmVsLCByZXF1aXJlZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbGFiZWwtcmVxdWlyZWRgXG4gIH0sIFwiKlwiKSwgaGVscCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbGFiZWwtaGVscGBcbiAgfSwgaGVscCkpIDogbnVsbDtcbiAgY29uc3QgZGVzY3JpcHRpb25FbGVtZW50ID0gZmVlZGJhY2sgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZm9vdGVyYFxuICB9LCBmZWVkYmFjayk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QuSXRlbSwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICB0aXRsZTogbGF5b3V0ID09PSAndmVydGljYWwnICYmIGxhYmVsRWxlbWVudCxcbiAgICBwcmVmaXg6IGxheW91dCA9PT0gJ2hvcml6b250YWwnICYmIGxhYmVsRWxlbWVudCxcbiAgICBleHRyYTogZXh0cmEsXG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uRWxlbWVudCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIGNsYXNzTmFtZSwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1oaWRkZW5gXTogaGlkZGVuXG4gICAgfSksXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IEZvcm1JdGVtID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgLy8g5qC35byP55u45YWzXG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlLFxuICAgIC8vIEZvcm1JdGVtIOebuOWFs1xuICAgIGxhYmVsLFxuICAgIGhlbHAsXG4gICAgZXh0cmEsXG4gICAgaGFzRmVlZGJhY2ssXG4gICAgbmFtZSxcbiAgICByZXF1aXJlZCxcbiAgICBub1N0eWxlLFxuICAgIGhpZGRlbixcbiAgICBsYXlvdXQsXG4gICAgLy8gRmllbGQg55u45YWzXG4gICAgZGlzYWJsZWQsXG4gICAgcnVsZXMsXG4gICAgY2hpbGRyZW4sXG4gICAgbWVzc2FnZVZhcmlhYmxlcyxcbiAgICB0cmlnZ2VyID0gJ29uQ2hhbmdlJyxcbiAgICB2YWxpZGF0ZVRyaWdnZXIsXG4gICAgb25DbGljayxcbiAgICBzaG91bGRVcGRhdGUsXG4gICAgZGVwZW5kZW5jaWVzXG4gIH0gPSBwcm9wcyxcbiAgICAgICAgZmllbGRQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiY2xhc3NOYW1lXCIsIFwic3R5bGVcIiwgXCJsYWJlbFwiLCBcImhlbHBcIiwgXCJleHRyYVwiLCBcImhhc0ZlZWRiYWNrXCIsIFwibmFtZVwiLCBcInJlcXVpcmVkXCIsIFwibm9TdHlsZVwiLCBcImhpZGRlblwiLCBcImxheW91dFwiLCBcImRpc2FibGVkXCIsIFwicnVsZXNcIiwgXCJjaGlsZHJlblwiLCBcIm1lc3NhZ2VWYXJpYWJsZXNcIiwgXCJ0cmlnZ2VyXCIsIFwidmFsaWRhdGVUcmlnZ2VyXCIsIFwib25DbGlja1wiLCBcInNob3VsZFVwZGF0ZVwiLCBcImRlcGVuZGVuY2llc1wiXSk7XG5cbiAgY29uc3Qge1xuICAgIHZhbGlkYXRlVHJpZ2dlcjogY29udGV4dFZhbGlkYXRlVHJpZ2dlclxuICB9ID0gUmVhY3QudXNlQ29udGV4dChGaWVsZENvbnRleHQpO1xuICBjb25zdCBtZXJnZWRWYWxpZGF0ZVRyaWdnZXIgPSB2YWxpZGF0ZVRyaWdnZXIgIT09IHVuZGVmaW5lZCA/IHZhbGlkYXRlVHJpZ2dlciA6IGNvbnRleHRWYWxpZGF0ZVRyaWdnZXI7XG4gIGNvbnN0IHVwZGF0ZVJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgdXBkYXRlUmVmLmN1cnJlbnQgKz0gMTtcbiAgY29uc3QgW3N1Yk1ldGFzLCBzZXRTdWJNZXRhc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IG9uU3ViTWV0YUNoYW5nZSA9IHVzZUNhbGxiYWNrKChzdWJNZXRhLCBuYW1lUGF0aCkgPT4ge1xuICAgIHNldFN1Yk1ldGFzKHByZXZTdWJNZXRhcyA9PiB7XG4gICAgICBjb25zdCBuZXh0U3ViTWV0YXMgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3ViTWV0YXMpO1xuICAgICAgY29uc3QgbmFtZUtleSA9IG5hbWVQYXRoLmpvaW4oTkFNRV9TUExJVCk7XG5cbiAgICAgIGlmIChzdWJNZXRhLmRlc3Ryb3kpIHtcbiAgICAgICAgZGVsZXRlIG5leHRTdWJNZXRhc1tuYW1lS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTdWJNZXRhc1tuYW1lS2V5XSA9IHN1Yk1ldGE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0U3ViTWV0YXM7XG4gICAgfSk7XG4gIH0sIFtzZXRTdWJNZXRhc10pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlckxheW91dChiYXNlQ2hpbGRyZW4sIGZpZWxkSWQsIG1ldGEsIGlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAobm9TdHlsZSAmJiAhaGlkZGVuKSB7XG4gICAgICByZXR1cm4gYmFzZUNoaWxkcmVuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1ckVycm9ycyA9IChfYSA9IG1ldGEgPT09IG51bGwgfHwgbWV0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0YS5lcnJvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIGNvbnN0IGVycm9ycyA9IE9iamVjdC5rZXlzKHN1Yk1ldGFzKS5yZWR1Y2UoKHN1YkVycm9ycywga2V5KSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICBjb25zdCBlcnJvcnMgPSAoX2IgPSAoX2EgPSBzdWJNZXRhc1trZXldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXJyb3JzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgc3ViRXJyb3JzID0gWy4uLnN1YkVycm9ycywgLi4uZXJyb3JzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1YkVycm9ycztcbiAgICB9LCBjdXJFcnJvcnMpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1JdGVtTGF5b3V0LCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIGV4dHJhOiBleHRyYSxcbiAgICAgIGhlbHA6IGhlbHAsXG4gICAgICByZXF1aXJlZDogaXNSZXF1aXJlZCxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIGhhc0ZlZWRiYWNrOiBoYXNGZWVkYmFjayxcbiAgICAgIGh0bWxGb3I6IGZpZWxkSWQsXG4gICAgICBlcnJvcnM6IGVycm9ycyxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgICBoaWRkZW46IGhpZGRlbixcbiAgICAgIGxheW91dDogbGF5b3V0XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChOb1N0eWxlSXRlbUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBvblN1Yk1ldGFDaGFuZ2VcbiAgICB9LCBiYXNlQ2hpbGRyZW4pKTtcbiAgfVxuXG4gIGNvbnN0IGlzUmVuZGVyUHJvcHMgPSB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbic7XG5cbiAgaWYgKCFuYW1lICYmICFpc1JlbmRlclByb3BzICYmICFwcm9wcy5kZXBlbmRlbmNpZXMpIHtcbiAgICByZXR1cm4gcmVuZGVyTGF5b3V0KGNoaWxkcmVuKTtcbiAgfVxuXG4gIGxldCBWYXJpYWJsZXMgPSB7fTtcblxuICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgIFZhcmlhYmxlcy5sYWJlbCA9IGxhYmVsO1xuICB9XG5cbiAgaWYgKG1lc3NhZ2VWYXJpYWJsZXMpIHtcbiAgICBWYXJpYWJsZXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIFZhcmlhYmxlcyksIG1lc3NhZ2VWYXJpYWJsZXMpO1xuICB9XG5cbiAgY29uc3Qgbm90aWZ5UGFyZW50TWV0YUNoYW5nZSA9IHVzZUNvbnRleHQoTm9TdHlsZUl0ZW1Db250ZXh0KTtcblxuICBjb25zdCBvbk1ldGFDaGFuZ2UgPSBtZXRhID0+IHtcbiAgICBpZiAobm9TdHlsZSAmJiBub3RpZnlQYXJlbnRNZXRhQ2hhbmdlKSB7XG4gICAgICBjb25zdCBuYW1lUGF0aCA9IG1ldGEubmFtZTtcbiAgICAgIG5vdGlmeVBhcmVudE1ldGFDaGFuZ2UobWV0YSwgbmFtZVBhdGgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZCwgT2JqZWN0LmFzc2lnbih7fSwgZmllbGRQcm9wcywge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgc2hvdWxkVXBkYXRlOiBzaG91bGRVcGRhdGUsXG4gICAgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXMsXG4gICAgcnVsZXM6IHJ1bGVzLFxuICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgdmFsaWRhdGVUcmlnZ2VyOiBtZXJnZWRWYWxpZGF0ZVRyaWdnZXIsXG4gICAgb25NZXRhQ2hhbmdlOiBvbk1ldGFDaGFuZ2UsXG4gICAgbWVzc2FnZVZhcmlhYmxlczogVmFyaWFibGVzXG4gIH0pLCAoY29udHJvbCwgbWV0YSwgY29udGV4dCkgPT4ge1xuICAgIGxldCBjaGlsZE5vZGUgPSBudWxsO1xuICAgIGNvbnN0IGlzUmVxdWlyZWQgPSByZXF1aXJlZCAhPT0gdW5kZWZpbmVkID8gcmVxdWlyZWQgOiAhIShydWxlcyAmJiBydWxlcy5zb21lKHJ1bGUgPT4ge1xuICAgICAgaWYgKHJ1bGUgJiYgdHlwZW9mIHJ1bGUgPT09ICdvYmplY3QnICYmIHJ1bGUucmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSk7XG4gICAgY29uc3QgZmllbGRJZCA9ICh0b0FycmF5KG5hbWUpLmxlbmd0aCAmJiBtZXRhID8gbWV0YS5uYW1lIDogW10pLmpvaW4oJ18nKTtcblxuICAgIGlmIChzaG91bGRVcGRhdGUgJiYgZGVwZW5kZW5jaWVzKSB7XG4gICAgICBkZXZXYXJuaW5nKCdGb3JtLkl0ZW0nLCBcImBzaG91bGRVcGRhdGVgIGFuZCBgZGVwZW5kZW5jaWVzYCBzaG91bGRuJ3QgYmUgdXNlZCB0b2dldGhlci5cIik7XG4gICAgfVxuXG4gICAgaWYgKGlzUmVuZGVyUHJvcHMpIHtcbiAgICAgIGlmICgoc2hvdWxkVXBkYXRlIHx8IGRlcGVuZGVuY2llcykgJiYgIW5hbWUpIHtcbiAgICAgICAgY2hpbGROb2RlID0gY2hpbGRyZW4oY29udGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIShzaG91bGRVcGRhdGUgfHwgZGVwZW5kZW5jaWVzKSkge1xuICAgICAgICAgIGRldldhcm5pbmcoJ0Zvcm0uSXRlbScsICdgY2hpbGRyZW5gIG9mIHJlbmRlciBwcm9wcyBvbmx5IHdvcmsgd2l0aCBgc2hvdWxkVXBkYXRlYCBvciBgZGVwZW5kZW5jaWVzYC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgZGV2V2FybmluZygnRm9ybS5JdGVtJywgXCJEbyBub3QgdXNlIGBuYW1lYCB3aXRoIGBjaGlsZHJlbmAgb2YgcmVuZGVyIHByb3BzIHNpbmNlIGl0J3Mgbm90IGEgZmllbGQuXCIpO1xuICAgICAgICB9XG4gICAgICB9IC8vIG5vdCByZW5kZXIgcHJvcHNcblxuICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jaWVzICYmICFuYW1lKSB7XG4gICAgICBkZXZXYXJuaW5nKCdGb3JtLkl0ZW0nLCAnTXVzdCBzZXQgYG5hbWVgIG9yIHVzZSByZW5kZXIgcHJvcHMgd2hlbiBgZGVwZW5kZW5jaWVzYCBpcyBzZXQuJyk7XG4gICAgfSBlbHNlIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHtcbiAgICAgIGlmIChjaGlsZHJlbi5wcm9wcy5kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgZGV2V2FybmluZygnRm9ybS5JdGVtJywgJ2BkZWZhdWx0VmFsdWVgIHdpbGwgbm90IHdvcmsgb24gY29udHJvbGxlZCBGaWVsZC4gWW91IHNob3VsZCB1c2UgYGluaXRpYWxWYWx1ZXNgIG9mIEZvcm0gaW5zdGVhZC4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hpbGRQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRyZW4ucHJvcHMpLCBjb250cm9sKTtcblxuICAgICAgaWYgKCFjaGlsZFByb3BzLmlkKSB7XG4gICAgICAgIGNoaWxkUHJvcHMuaWQgPSBmaWVsZElkO1xuICAgICAgfSAvLyBXZSBzaG91bGQga2VlcCB1c2VyIG9yaWdpbiBldmVudCBoYW5kbGVyXG5cblxuICAgICAgY29uc3QgdHJpZ2dlcnMgPSBuZXcgU2V0KFsuLi50b0FycmF5KHRyaWdnZXIpLCAuLi50b0FycmF5KG1lcmdlZFZhbGlkYXRlVHJpZ2dlcildKTtcbiAgICAgIHRyaWdnZXJzLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgY2hpbGRQcm9wc1tldmVudE5hbWVdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcblxuICAgICAgICAgIChfYSA9IGNvbnRyb2xbZXZlbnROYW1lXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29udHJvbCwgLi4uYXJncyk7XG4gICAgICAgICAgKF9jID0gKF9iID0gY2hpbGRyZW4ucHJvcHMpW2V2ZW50TmFtZV0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCAuLi5hcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgY2hpbGROb2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChNZW1vSW5wdXQsIHtcbiAgICAgICAgdmFsdWU6IGNvbnRyb2xbcHJvcHMudmFsdWVQcm9wTmFtZSB8fCAndmFsdWUnXSxcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVSZWYuY3VycmVudFxuICAgICAgfSwgUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCBjaGlsZFByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGRldldhcm5pbmcoJ0Zvcm0uSXRlbScsICdgbmFtZWAgaXMgb25seSB1c2VkIGZvciB2YWxpZGF0ZSBSZWFjdCBlbGVtZW50LiBJZiB5b3UgYXJlIHVzaW5nIEZvcm0uSXRlbSBhcyBsYXlvdXQgZGlzcGxheSwgcGxlYXNlIHJlbW92ZSBgbmFtZWAgaW5zdGVhZC4nKTtcbiAgICAgIH1cblxuICAgICAgY2hpbGROb2RlID0gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlckxheW91dChjaGlsZE5vZGUsIGZpZWxkSWQsIG1ldGEsIGlzUmVxdWlyZWQpO1xuICB9KTtcbn07IiwiaW1wb3J0IHsgX19yZXN0IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vbGlzdCc7XG5pbXBvcnQgUmNGb3JtIGZyb20gJ3JjLWZpZWxkLWZvcm0nO1xuaW1wb3J0IHsgRm9ybUNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICcuL2hlYWRlcic7XG5jb25zdCBjbGFzc1ByZWZpeCA9ICdhZG0tZm9ybSc7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGhhc0ZlZWRiYWNrOiB0cnVlLFxuICBsYXlvdXQ6ICd2ZXJ0aWNhbCdcbn07XG5leHBvcnQgY29uc3QgRm9ybSA9IGZvcndhcmRSZWYoKHAsIHJlZikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcblxuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlLFxuICAgIGhhc0ZlZWRiYWNrLFxuICAgIGNoaWxkcmVuLFxuICAgIGxheW91dCxcbiAgICBmb290ZXIsXG4gICAgbW9kZVxuICB9ID0gcHJvcHMsXG4gICAgICAgIGZvcm1Qcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiY2xhc3NOYW1lXCIsIFwic3R5bGVcIiwgXCJoYXNGZWVkYmFja1wiLCBcImNoaWxkcmVuXCIsIFwibGF5b3V0XCIsIFwiZm9vdGVyXCIsIFwibW9kZVwiXSk7XG5cbiAgY29uc3QgbGlzdHMgPSBbXTtcbiAgbGV0IGN1cnJlbnRIZWFkZXIgPSBudWxsO1xuICBsZXQgaXRlbXMgPSBbXTtcbiAgbGV0IGNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBjb2xsZWN0KCkge1xuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb3VudCArPSAxO1xuICAgIGxpc3RzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCB7XG4gICAgICBoZWFkZXI6IGN1cnJlbnRIZWFkZXIsXG4gICAgICBrZXk6IGNvdW50LFxuICAgICAgbW9kZTogbW9kZSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgICctLXByZWZpeC13aWR0aCc6ICc2ZW0nLFxuICAgICAgICAnLS1hbGlnbi1pdGVtcyc6ICdzdHJldGNoJ1xuICAgICAgfVxuICAgIH0sIGl0ZW1zKSk7XG4gICAgaXRlbXMgPSBbXTtcbiAgfVxuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIGNoaWxkLnR5cGUgPT09IEhlYWRlcikge1xuICAgICAgY29sbGVjdCgpO1xuICAgICAgY3VycmVudEhlYWRlciA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtcy5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH0pO1xuICBjb2xsZWN0KCk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJjRm9ybSwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCBgJHtjbGFzc1ByZWZpeH0tJHtsYXlvdXR9YCwgY2xhc3NOYW1lKSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgcmVmOiByZWZcbiAgfSwgZm9ybVByb3BzKSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBoYXNGZWVkYmFjazogaGFzRmVlZGJhY2ssXG4gICAgICBsYXlvdXRcbiAgICB9XG4gIH0sIGxpc3RzKSwgZm9vdGVyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWZvb3RlcmBcbiAgfSwgZm9vdGVyKSk7XG59KTsiLCJleHBvcnQgY29uc3QgSGVhZGVyID0gKCkgPT4gbnVsbDsiLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgRm9ybSB9IGZyb20gJy4vZm9ybSc7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybUl0ZW0gfSBmcm9tICcuL2Zvcm0taXRlbSc7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICcuL2hlYWRlcic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmMtZmllbGQtZm9ybSc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoRm9ybSwge1xuICBJdGVtOiBGb3JtSXRlbSxcbiAgSGVhZGVyLFxuICB1c2VGb3JtXG59KTsiLCJleHBvcnQgZnVuY3Rpb24gdG9BcnJheShjYW5kaWRhdGUpIHtcbiAgaWYgKGNhbmRpZGF0ZSA9PT0gdW5kZWZpbmVkIHx8IGNhbmRpZGF0ZSA9PT0gZmFsc2UpIHJldHVybiBbXTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlKSA/IGNhbmRpZGF0ZSA6IFtjYW5kaWRhdGVdO1xufSIsImltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB0b0NTU0xlbmd0aCB9IGZyb20gJy4uLy4uL3V0aWxzL3RvLWNzcy1sZW5ndGgnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWdyaWRgO1xuZXhwb3J0IGNvbnN0IEdyaWQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHN0eWxlID0ge1xuICAgICctLWNvbHVtbnMnOiBwcm9wcy5jb2x1bW5zLnRvU3RyaW5nKClcbiAgfTtcbiAgY29uc3Qge1xuICAgIGdhcFxuICB9ID0gcHJvcHM7XG5cbiAgaWYgKGdhcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZ2FwKSkge1xuICAgICAgc3R5bGVbJy0tZ2FwLWhvcml6b250YWwnXSA9IHRvQ1NTTGVuZ3RoKGdhcFswXSk7XG4gICAgICBzdHlsZVsnLS1nYXAtdmVydGljYWwnXSA9IHRvQ1NTTGVuZ3RoKGdhcFsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlWyctLWdhcCddID0gdG9DU1NMZW5ndGgoZ2FwKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIHN0eWxlOiBzdHlsZVxuICB9LCBwcm9wcy5jaGlsZHJlbikpO1xufTtcbmV4cG9ydCBjb25zdCBHcmlkSXRlbSA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoe1xuICAgIHNwYW46IDFcbiAgfSwgcCk7XG4gIGNvbnN0IGl0ZW1TdHlsZSA9IHtcbiAgICAnLS1pdGVtLXNwYW4nOiBwcm9wcy5zcGFuXG4gIH07XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWl0ZW1gLFxuICAgIHN0eWxlOiBpdGVtU3R5bGUsXG4gICAgb25DbGljazogcHJvcHMub25DbGlja1xuICB9LCBwcm9wcy5jaGlsZHJlbikpO1xufTsiLCJpbXBvcnQgXCIuL2dyaWQuY3NzXCI7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuaW1wb3J0IHsgR3JpZCwgR3JpZEl0ZW0gfSBmcm9tICcuL2dyaWQnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KEdyaWQsIHtcbiAgSXRlbTogR3JpZEl0ZW1cbn0pOyIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUxheW91dEVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFkZE91dGxpbmUgfSBmcm9tICdhbnRkLW1vYmlsZS1pY29ucyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBJbWFnZVZpZXdlciBmcm9tICcuLi9pbWFnZS12aWV3ZXInO1xuaW1wb3J0IFByZXZpZXdJdGVtIGZyb20gJy4vcHJldmlldy1pdGVtJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgdXNlTWVtb2l6ZWRGbiwgdXNlVW5tb3VudCB9IGZyb20gJ2Fob29rcyc7XG5pbXBvcnQgU3BhY2UgZnJvbSAnLi4vc3BhY2UnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1pbWFnZS11cGxvYWRlcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVVcGxvYWQ6IGZhbHNlLFxuICBkZWxldGFibGU6IHRydWUsXG4gIHNob3dVcGxvYWQ6IHRydWUsXG4gIG11bHRpcGxlOiBmYWxzZSxcbiAgbWF4Q291bnQ6IDAsXG4gIGRlZmF1bHRWYWx1ZTogW10sXG4gIGFjY2VwdDogJ2ltYWdlLyonLFxuICBwcmV2aWV3OiB0cnVlXG59O1xuZXhwb3J0IGNvbnN0IEltYWdlVXBsb2FkZXIgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZShwcm9wcyk7XG4gIGNvbnN0IHVwZGF0ZVZhbHVlID0gdXNlTWVtb2l6ZWRGbih1cGRhdGVyID0+IHtcbiAgICBzZXRWYWx1ZSh1cGRhdGVyKHZhbHVlKSk7XG4gIH0pO1xuICBjb25zdCBbdGFza3MsIHNldFRhc2tzXSA9IHVzZVN0YXRlKFtdKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBzZXRUYXNrcyhwcmV2ID0+IHByZXYuZmlsdGVyKHRhc2sgPT4ge1xuICAgICAgaWYgKHRhc2sudXJsID09PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuICF2YWx1ZS5zb21lKGZpbGVJdGVtID0+IGZpbGVJdGVtLnVybCA9PT0gdGFzay51cmwpO1xuICAgIH0pKTtcbiAgfSwgW3ZhbHVlXSk7XG4gIGNvbnN0IGlkQ291bnRSZWYgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IHtcbiAgICBtYXhDb3VudCxcbiAgICBvblByZXZpZXdcbiAgfSA9IHByb3BzO1xuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICB2YXIgX2E7XG5cbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzOiByYXdGaWxlc1xuICAgICAgfSA9IGUudGFyZ2V0O1xuICAgICAgaWYgKCFyYXdGaWxlcykgcmV0dXJuO1xuICAgICAgbGV0IGZpbGVzID0gW10uc2xpY2UuY2FsbChyYXdGaWxlcyk7XG5cbiAgICAgIGlmIChwcm9wcy5iZWZvcmVVcGxvYWQpIHtcbiAgICAgICAgZmlsZXMgPSB5aWVsZCBwcm9wcy5iZWZvcmVVcGxvYWQoZmlsZXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heENvdW50ID4gMCkge1xuICAgICAgICBjb25zdCBleGNlZWQgPSB2YWx1ZS5sZW5ndGggKyBmaWxlcy5sZW5ndGggLSBtYXhDb3VudDtcblxuICAgICAgICBpZiAoZXhjZWVkID4gMCkge1xuICAgICAgICAgIGZpbGVzID0gZmlsZXMuc2xpY2UoMCwgZmlsZXMubGVuZ3RoIC0gZXhjZWVkKTtcbiAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNvdW50RXhjZWVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZXhjZWVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdUYXNrcyA9IGZpbGVzLm1hcChmaWxlID0+ICh7XG4gICAgICAgIGlkOiBpZENvdW50UmVmLmN1cnJlbnQrKyxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGZpbGVcbiAgICAgIH0pKTtcbiAgICAgIHNldFRhc2tzKHByZXYgPT4gWy4uLnByZXYsIC4uLm5ld1Rhc2tzXSk7XG4gICAgICB5aWVsZCBQcm9taXNlLmFsbChuZXdUYXNrcy5tYXAoY3VycmVudFRhc2sgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIHByb3BzLnVwbG9hZChjdXJyZW50VGFzay5maWxlKTtcbiAgICAgICAgICBzZXRUYXNrcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2Lm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRhc2suaWQgPT09IGN1cnJlbnRUYXNrLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGFzayksIHtcbiAgICAgICAgICAgICAgICAgIHVybDogcmVzdWx0LnVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZShwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIG5ld1ZhbF07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBzZXRUYXNrcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2Lm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRhc2suaWQgPT09IGN1cnJlbnRUYXNrLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGFzayksIHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2ZhaWwnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH0pKSkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xuICAgICAgZS50YXJnZXQudmFsdWUgPSAnJzsgLy8gSEFDSzogZml4IHRoZSBzYW1lIGZpbGUgZG9lc24ndCB0cmlnZ2VyIG9uQ2hhbmdlXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBpbWFnZVZpZXdlckhhbmRsZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgZnVuY3Rpb24gcHJldmlld0ltYWdlKGluZGV4KSB7XG4gICAgaW1hZ2VWaWV3ZXJIYW5kbGVyUmVmLmN1cnJlbnQgPSBJbWFnZVZpZXdlci5NdWx0aS5zaG93KHtcbiAgICAgIGltYWdlczogdmFsdWUubWFwKGZpbGVJdGVtID0+IGZpbGVJdGVtLnVybCksXG4gICAgICBkZWZhdWx0SW5kZXg6IGluZGV4LFxuICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICBpbWFnZVZpZXdlckhhbmRsZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1c2VVbm1vdW50KCgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICAoX2EgPSBpbWFnZVZpZXdlckhhbmRsZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gIH0pO1xuICBjb25zdCBzaG93VXBsb2FkID0gcHJvcHMuc2hvd1VwbG9hZCAmJiAobWF4Q291bnQgPT09IDAgfHwgdmFsdWUubGVuZ3RoICsgdGFza3MubGVuZ3RoIDwgbWF4Q291bnQpO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3BhY2UsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1zcGFjZWAsXG4gICAgd3JhcDogdHJ1ZVxuICB9LCB2YWx1ZS5tYXAoKGZpbGVJdGVtLCBpbmRleCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcmV2aWV3SXRlbSwge1xuICAgICAga2V5OiAoX2EgPSBmaWxlSXRlbS5rZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGluZGV4LFxuICAgICAgdXJsOiAoX2IgPSBmaWxlSXRlbS50aHVtYm5haWxVcmwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZpbGVJdGVtLnVybCxcbiAgICAgIGRlbGV0YWJsZTogcHJvcHMuZGVsZXRhYmxlLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMucHJldmlldykge1xuICAgICAgICAgIHByZXZpZXdJbWFnZShpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBvblByZXZpZXcgJiYgb25QcmV2aWV3KGluZGV4KTtcbiAgICAgIH0sXG4gICAgICBvbkRlbGV0ZTogKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYztcblxuICAgICAgICBjb25zdCBjYW5EZWxldGUgPSB5aWVsZCAoX2MgPSBwcm9wcy5vbkRlbGV0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwocHJvcHMsIGZpbGVJdGVtKTtcbiAgICAgICAgaWYgKGNhbkRlbGV0ZSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgc2V0VmFsdWUodmFsdWUuZmlsdGVyKCh4LCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSksIHRhc2tzLm1hcCh0YXNrID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldmlld0l0ZW0sIHtcbiAgICBrZXk6IHRhc2suaWQsXG4gICAgZmlsZTogdGFzay5maWxlLFxuICAgIGRlbGV0YWJsZTogdGFzay5zdGF0dXMgIT09ICdwZW5kaW5nJyxcbiAgICBzdGF0dXM6IHRhc2suc3RhdHVzLFxuICAgIG9uRGVsZXRlOiAoKSA9PiB7XG4gICAgICBzZXRUYXNrcyh0YXNrcy5maWx0ZXIoeCA9PiB4LmlkICE9PSB0YXNrLmlkKSk7XG4gICAgfVxuICB9KSksIHNob3dVcGxvYWQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdXBsb2FkLWJ1dHRvbi13cmFwYFxuICB9LCBwcm9wcy5jaGlsZHJlbiA/IHByb3BzLmNoaWxkcmVuIDogUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNlbGwgJHtjbGFzc1ByZWZpeH0tdXBsb2FkLWJ1dHRvbmAsXG4gICAgcm9sZTogJ2J1dHRvbidcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXVwbG9hZC1idXR0b24taWNvbmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBZGRPdXRsaW5lLCBudWxsKSkpLCAhcHJvcHMuZGlzYWJsZVVwbG9hZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIGNhcHR1cmU6IHByb3BzLmNhcHR1cmUsXG4gICAgYWNjZXB0OiBwcm9wcy5hY2NlcHQsXG4gICAgbXVsdGlwbGU6IHByb3BzLm11bHRpcGxlLFxuICAgIHR5cGU6ICdmaWxlJyxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbnB1dGAsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gIH0pKSkpKTtcbn07IiwiaW1wb3J0IHsgSW1hZ2VVcGxvYWRlciB9IGZyb20gJy4vaW1hZ2UtdXBsb2FkZXInO1xuaW1wb3J0IFwiLi9pbWFnZS11cGxvYWRlci5jc3NcIjtcbmV4cG9ydCBkZWZhdWx0IEltYWdlVXBsb2FkZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDbG9zZU91dGxpbmUgfSBmcm9tICdhbnRkLW1vYmlsZS1pY29ucyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBJbWFnZSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQgU3BpbkxvYWRpbmcgZnJvbSAnLi4vc3Bpbi1sb2FkaW5nJztcbmltcG9ydCB7IHVzZUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy1wcm92aWRlcic7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0taW1hZ2UtdXBsb2FkZXJgO1xuXG5jb25zdCBQcmV2aWV3SXRlbSA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGxvY2FsZVxuICB9ID0gdXNlQ29uZmlnKCk7XG4gIGNvbnN0IHtcbiAgICB1cmwsXG4gICAgZmlsZSxcbiAgICBkZWxldGFibGUsXG4gICAgb25EZWxldGVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzcmMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodXJsKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIGlmIChmaWxlKSB7XG4gICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH0sIFt1cmwsIGZpbGVdKTtcblxuICBmdW5jdGlvbiByZW5kZXJMb2FkaW5nKCkge1xuICAgIHJldHVybiBwcm9wcy5zdGF0dXMgPT09ICdwZW5kaW5nJyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNlbGwtbWFza2BcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jZWxsLWxvYWRpbmdgXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTcGluTG9hZGluZywge1xuICAgICAgY29sb3I6ICd3aGl0ZSdcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC1tYXNrLW1lc3NhZ2VgXG4gICAgfSwgbG9jYWxlLkltYWdlVXBsb2FkZXIudXBsb2FkaW5nKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRGVsZXRlKCkge1xuICAgIHJldHVybiBkZWxldGFibGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC1kZWxldGVgLFxuICAgICAgb25DbGljazogb25EZWxldGVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlT3V0bGluZSwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC1kZWxldGUtaWNvbmBcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jZWxsYCwgcHJvcHMuc3RhdHVzID09PSAnZmFpbCcgJiYgYCR7Y2xhc3NQcmVmaXh9LWNlbGwtZmFpbGApXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2UsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jZWxsLWltYWdlYCxcbiAgICBzcmM6IHNyYyxcbiAgICBmaXQ6ICdjb3ZlcicsXG4gICAgb25DbGljazogcHJvcHMub25DbGlja1xuICB9KSwgcmVuZGVyTG9hZGluZygpLCByZW5kZXJEZWxldGUoKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcmV2aWV3SXRlbTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyByZW5kZXJUb0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1jb250YWluZXInO1xuaW1wb3J0IE1hc2sgZnJvbSAnLi4vbWFzayc7XG5pbXBvcnQgeyBTbGlkZSB9IGZyb20gJy4vc2xpZGUnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnLi9zbGlkZXMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWltYWdlLXZpZXdlcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG1heFpvb206IDMsXG4gIGdldENvbnRhaW5lcjogbnVsbCxcbiAgdmlzaWJsZTogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgSW1hZ2VWaWV3ZXIgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IG5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KE1hc2ssIHtcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIGRpc2FibGVCb2R5U2Nyb2xsOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAndGhpY2snLFxuICAgIGFmdGVyQ2xvc2U6IHByb3BzLmFmdGVyQ2xvc2VcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGBcbiAgfSwgcHJvcHMuaW1hZ2UgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChTbGlkZSwge1xuICAgIGltYWdlOiBwcm9wcy5pbWFnZSxcbiAgICBvblRhcDogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgfSxcbiAgICBtYXhab29tOiBwcm9wcy5tYXhab29tXG4gIH0pKSk7XG4gIHJldHVybiByZW5kZXJUb0NvbnRhaW5lcihwcm9wcy5nZXRDb250YWluZXIsIG5vZGUpO1xufTtcbmNvbnN0IG11bHRpRGVmYXVsdFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UHJvcHMpLCB7XG4gIGRlZmF1bHRJbmRleDogMFxufSk7XG5leHBvcnQgY29uc3QgTXVsdGlJbWFnZVZpZXdlciA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMobXVsdGlEZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBub2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChNYXNrLCB7XG4gICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZSxcbiAgICBkaXNhYmxlQm9keVNjcm9sbDogZmFsc2UsXG4gICAgb3BhY2l0eTogJ3RoaWNrJyxcbiAgICBhZnRlckNsb3NlOiBwcm9wcy5hZnRlckNsb3NlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIHByb3BzLmltYWdlcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlcywge1xuICAgIGRlZmF1bHRJbmRleDogcHJvcHMuZGVmYXVsdEluZGV4LFxuICAgIG9uSW5kZXhDaGFuZ2U6IHByb3BzLm9uSW5kZXhDaGFuZ2UsXG4gICAgaW1hZ2VzOiBwcm9wcy5pbWFnZXMsXG4gICAgb25UYXA6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgIH0sXG4gICAgbWF4Wm9vbTogcHJvcHMubWF4Wm9vbVxuICB9KSkpO1xuICByZXR1cm4gcmVuZGVyVG9Db250YWluZXIocHJvcHMuZ2V0Q29udGFpbmVyLCBub2RlKTtcbn07IiwiaW1wb3J0IFwiLi9pbWFnZS12aWV3ZXIuY3NzXCI7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuaW1wb3J0IHsgSW1hZ2VWaWV3ZXIsIE11bHRpSW1hZ2VWaWV3ZXIgfSBmcm9tICcuL2ltYWdlLXZpZXdlcic7XG5pbXBvcnQgeyBzaG93TXVsdGlJbWFnZVZpZXdlciwgc2hvd0ltYWdlVmlld2VyLCBjbGVhckltYWdlVmlld2VyIH0gZnJvbSAnLi9tZXRob2RzJztcbmNvbnN0IE11bHRpID0gYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KE11bHRpSW1hZ2VWaWV3ZXIsIHtcbiAgc2hvdzogc2hvd011bHRpSW1hZ2VWaWV3ZXJcbn0pO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KEltYWdlVmlld2VyLCB7XG4gIE11bHRpLFxuICBzaG93OiBzaG93SW1hZ2VWaWV3ZXIsXG4gIGNsZWFyOiBjbGVhckltYWdlVmlld2VyXG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBmb3J3YXJkUmVmLCB1c2VFZmZlY3QsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyVG9Cb2R5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLXRvLWJvZHknO1xuaW1wb3J0IHsgSW1hZ2VWaWV3ZXIsIE11bHRpSW1hZ2VWaWV3ZXIgfSBmcm9tICcuL2ltYWdlLXZpZXdlcic7XG5pbXBvcnQgeyB1c2VVbm1vdW50ZWRSZWYgfSBmcm9tICdhaG9va3MnO1xuY29uc3QgaGFuZGxlclNldCA9IG5ldyBTZXQoKTtcbmV4cG9ydCBmdW5jdGlvbiBzaG93SW1hZ2VWaWV3ZXIocHJvcHMpIHtcbiAgY2xlYXJJbWFnZVZpZXdlcigpO1xuICBjb25zdCBXcmFwcGVyID0gZm9yd2FyZFJlZigoXywgcmVmKSA9PiB7XG4gICAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBpc1VubW91bnRlZFJlZiA9IHVzZVVubW91bnRlZFJlZigpO1xuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgaWYgKGlzVW5tb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlVmlld2VyLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICB9LFxuICAgICAgYWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgKF9hID0gcHJvcHMuYWZ0ZXJDbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICB1bm1vdW50KCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9KTtcbiAgY29uc3QgcmVmID0gY3JlYXRlUmVmKCk7XG4gIGNvbnN0IHVubW91bnQgPSByZW5kZXJUb0JvZHkoUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCB7XG4gICAgcmVmOiByZWZcbiAgfSkpO1xuICBjb25zdCBoYW5kbGVyID0ge1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICB9XG4gIH07XG4gIGhhbmRsZXJTZXQuYWRkKGhhbmRsZXIpO1xuICByZXR1cm4gaGFuZGxlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG93TXVsdGlJbWFnZVZpZXdlcihwcm9wcykge1xuICBjbGVhckltYWdlVmlld2VyKCk7XG4gIGNvbnN0IFdyYXBwZXIgPSBmb3J3YXJkUmVmKChfLCByZWYpID0+IHtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGlzVW5tb3VudGVkUmVmID0gdXNlVW5tb3VudGVkUmVmKCk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICBpZiAoaXNVbm1vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTXVsdGlJbWFnZVZpZXdlciwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcblxuICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGFmdGVyQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgdW5tb3VudCgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSk7XG4gIGNvbnN0IHJlZiA9IGNyZWF0ZVJlZigpO1xuICBjb25zdCB1bm1vdW50ID0gcmVuZGVyVG9Cb2R5KFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwge1xuICAgIHJlZjogcmVmXG4gIH0pKTtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICAoX2EgPSByZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuICBoYW5kbGVyU2V0LmFkZChoYW5kbGVyKTtcbiAgcmV0dXJuIGhhbmRsZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJJbWFnZVZpZXdlcigpIHtcbiAgaGFuZGxlclNldC5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgIGhhbmRsZXIuY2xvc2UoKTtcbiAgfSk7XG4gIGhhbmRsZXJTZXQuY2xlYXIoKTtcbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlR2VzdHVyZSB9IGZyb20gJ0B1c2UtZ2VzdHVyZS9yZWFjdCc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWltYWdlLXZpZXdlcmA7XG5leHBvcnQgY29uc3QgU2xpZGUgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBkcmFnTG9ja1JlZlxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRyb2xSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFt7XG4gICAgem9vbSxcbiAgICB4LFxuICAgIHlcbiAgfSwgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgIHpvb206IDEsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGNvbmZpZzoge1xuICAgICAgdGVuc2lvbjogMzAwXG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IHBpbmNoTG9ja1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUdlc3R1cmUoe1xuICAgIG9uRHJhZzogc3RhdGUgPT4ge1xuICAgICAgaWYgKHN0YXRlLnRhcCAmJiBzdGF0ZS5lbGFwc2VkVGltZSA+IDApIHtcbiAgICAgICAgLy8g5Yik5pat54K55Ye75pe26Ze0PjDmmK/kuLrkuobov4fmu6TmjonpnZ7mraPluLjmk43kvZzvvIzkvovlpoLnlKjmiLfplb/mjInpgInmi6nlm77niYfkuYvlkI7nmoTlj5bmtojmk43kvZzvvIjkuZ/mmK/kuIDmrKHngrnlh7vvvIlcbiAgICAgICAgcHJvcHMub25UYXAoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyZW50Wm9vbSA9IHpvb20uZ2V0KCk7XG5cbiAgICAgIGlmIChkcmFnTG9ja1JlZikge1xuICAgICAgICBkcmFnTG9ja1JlZi5jdXJyZW50ID0gY3VycmVudFpvb20gIT09IDE7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGluY2hMb2NrUmVmLmN1cnJlbnQgJiYgY3VycmVudFpvb20gPD0gMSkge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHN0YXRlLm9mZnNldDtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICB4LFxuICAgICAgICAgIHksXG4gICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25QaW5jaDogc3RhdGUgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBwaW5jaExvY2tSZWYuY3VycmVudCA9ICFzdGF0ZS5sYXN0O1xuICAgICAgY29uc3QgW2RdID0gc3RhdGUub2Zmc2V0O1xuICAgICAgaWYgKGQgPCAwKSByZXR1cm47IC8vIHBpbmNo55qEcnViYmVyYmFuZOS4jeS8muiHquWKqOW8ueWbnmJvdW5k77yM6L+Z6YeM5omL5Yqo5a6e546w5LqGXG5cbiAgICAgIGNvbnN0IHpvb20gPSBzdGF0ZS5sYXN0ID8gTWF0aC5tYXgoTWF0aC5taW4oZCwgcHJvcHMubWF4Wm9vbSksIDEpIDogZDtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIHpvb20sXG4gICAgICAgIGltbWVkaWF0ZTogIXN0YXRlLmxhc3RcbiAgICAgIH0pO1xuICAgICAgKF9hID0gcHJvcHMub25ab29tQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgem9vbSk7XG5cbiAgICAgIGlmIChzdGF0ZS5sYXN0ICYmIHpvb20gPD0gMSkge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZHJhZ0xvY2tSZWYpIHtcbiAgICAgICAgICBkcmFnTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkcmFnTG9ja1JlZikge1xuICAgICAgICAgIGRyYWdMb2NrUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgdGFyZ2V0OiBjb250cm9sUmVmLFxuICAgIGRyYWc6IHtcbiAgICAgIC8vIGZpbHRlclRhcHM6IHRydWUsXG4gICAgICBmcm9tOiAoKSA9PiBbeC5nZXQoKSwgeS5nZXQoKV1cbiAgICB9LFxuICAgIHBpbmNoOiB7XG4gICAgICBmcm9tOiAoKSA9PiBbem9vbS5nZXQoKSwgMF1cbiAgICB9LFxuICAgIHBvaW50ZXI6IHtcbiAgICAgIHRvdWNoOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXNsaWRlYCxcbiAgICBvblBvaW50ZXJNb3ZlOiBlID0+IHtcbiAgICAgIGlmICh6b29tLmdldCgpICE9PSAxKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250cm9sYCxcbiAgICByZWY6IGNvbnRyb2xSZWZcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbWFnZS13cmFwcGVyYCxcbiAgICBzdHlsZToge1xuICAgICAgc2NhbGU6IHpvb20sXG4gICAgICB4LFxuICAgICAgeVxuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBwcm9wcy5pbWFnZSxcbiAgICBkcmFnZ2FibGU6IGZhbHNlXG4gIH0pKSkpO1xufTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJ0B1c2UtZ2VzdHVyZS9yZWFjdCc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgU2xpZGUgfSBmcm9tICcuL3NsaWRlJztcbmltcG9ydCB7IGNvbnZlcnRQeCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnZlcnQtcHgnO1xuaW1wb3J0IHsgYm91bmQgfSBmcm9tICcuLi8uLi91dGlscy9ib3VuZCc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0taW1hZ2Utdmlld2VyYDtcbmV4cG9ydCBjb25zdCBTbGlkZXMgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHNsaWRlV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArIGNvbnZlcnRQeCgxNik7XG4gIGNvbnN0IFt7XG4gICAgeFxuICB9LCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgeDogcHJvcHMuZGVmYXVsdEluZGV4ICogc2xpZGVXaWR0aCxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDI1MCxcbiAgICAgIGNsYW1wOiB0cnVlXG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IGNvdW50ID0gcHJvcHMuaW1hZ2VzLmxlbmd0aDtcbiAgY29uc3QgZHJhZ0xvY2tSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBiaW5kID0gdXNlRHJhZyhzdGF0ZSA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKGRyYWdMb2NrUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBbb2Zmc2V0WF0gPSBzdGF0ZS5vZmZzZXQ7XG5cbiAgICBpZiAoc3RhdGUubGFzdCkge1xuICAgICAgY29uc3QgbWluSW5kZXggPSBNYXRoLmZsb29yKG9mZnNldFggLyBzbGlkZVdpZHRoKTtcbiAgICAgIGNvbnN0IG1heEluZGV4ID0gbWluSW5kZXggKyAxO1xuICAgICAgY29uc3QgdmVsb2NpdHlPZmZzZXQgPSBNYXRoLm1pbihzdGF0ZS52ZWxvY2l0eVswXSAqIDIwMDAsIHNsaWRlV2lkdGgpICogc3RhdGUuZGlyZWN0aW9uWzBdO1xuICAgICAgY29uc3QgaW5kZXggPSBib3VuZChib3VuZChNYXRoLnJvdW5kKChvZmZzZXRYICsgdmVsb2NpdHlPZmZzZXQpIC8gc2xpZGVXaWR0aCksIG1pbkluZGV4LCBtYXhJbmRleCksIDAsIGNvdW50IC0gMSk7XG4gICAgICAoX2EgPSBwcm9wcy5vbkluZGV4Q2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgaW5kZXgpO1xuICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgeDogaW5kZXggKiBzbGlkZVdpZHRoXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgeDogb2Zmc2V0WCxcbiAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICB0cmFuc2Zvcm06IChbeCwgeV0pID0+IFsteCwgeV0sXG4gICAgZnJvbTogKCkgPT4gW3guZ2V0KCksIDBdLFxuICAgIGJvdW5kczogKCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IChjb3VudCAtIDEpICogc2xpZGVXaWR0aFxuICAgICAgfTtcbiAgICB9LFxuICAgIHJ1YmJlcmJhbmQ6IHRydWUsXG4gICAgYXhpczogJ3gnLFxuICAgIHBvaW50ZXI6IHtcbiAgICAgIHRvdWNoOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tc2xpZGVzYFxuICB9LCBiaW5kKCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWluZGljYXRvcmBcbiAgfSwgeC50byh2ID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGJvdW5kKE1hdGgucm91bmQodiAvIHNsaWRlV2lkdGgpLCAwLCBjb3VudCAtIDEpO1xuICAgIHJldHVybiBgJHtpbmRleCArIDF9IC8gJHtjb3VudH1gO1xuICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tc2xpZGVzLWlubmVyYCxcbiAgICBzdHlsZToge1xuICAgICAgeDogeC50byh4ID0+IC14KVxuICAgIH1cbiAgfSwgcHJvcHMuaW1hZ2VzLm1hcChpbWFnZSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlLCB7XG4gICAga2V5OiBpbWFnZSxcbiAgICBpbWFnZTogaW1hZ2UsXG4gICAgb25UYXA6IHByb3BzLm9uVGFwLFxuICAgIG1heFpvb206IHByb3BzLm1heFpvb20sXG4gICAgb25ab29tQ2hhbmdlOiB6b29tID0+IHtcbiAgICAgIGlmICh6b29tICE9PSAxKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5yb3VuZCh4LmdldCgpIC8gc2xpZGVXaWR0aCk7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgeDogaW5kZXggKiBzbGlkZVdpZHRoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ0xvY2tSZWY6IGRyYWdMb2NrUmVmXG4gIH0pKSkpO1xufTsiLCJpbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IFBpY3R1cmVPdXRsaW5lLCBQaWN0dXJlV3JvbmdPdXRsaW5lIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IHsgc3RhZ2VkIH0gZnJvbSAnc3RhZ2VkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgdG9DU1NMZW5ndGggfSBmcm9tICcuLi8uLi91dGlscy90by1jc3MtbGVuZ3RoJztcbmltcG9ydCB7IExhenlEZXRlY3RvciB9IGZyb20gJy4vbGF6eS1kZXRlY3Rvcic7XG5pbXBvcnQgeyB1c2VVcGRhdGVMYXlvdXRFZmZlY3QgfSBmcm9tICdhaG9va3MnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWltYWdlYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZml0OiAnZmlsbCcsXG4gIHBsYWNlaG9sZGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aXBgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGljdHVyZU91dGxpbmUsIG51bGwpKSxcbiAgZmFsbGJhY2s6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRpcGBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQaWN0dXJlV3JvbmdPdXRsaW5lLCBudWxsKSksXG4gIGxhenk6IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IEltYWdlID0gc3RhZ2VkKHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZhaWxlZCwgc2V0RmFpbGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICBsZXQgc3JjID0gcHJvcHMuc3JjO1xuICBsZXQgc3JjU2V0ID0gcHJvcHMuc3JjU2V0O1xuICBjb25zdCBbaW5pdGlhbGl6ZWQsIHNldEluaXRpYWxpemVkXSA9IHVzZVN0YXRlKCFwcm9wcy5sYXp5KTtcbiAgc3JjID0gaW5pdGlhbGl6ZWQgPyBwcm9wcy5zcmMgOiB1bmRlZmluZWQ7XG4gIHNyY1NldCA9IGluaXRpYWxpemVkID8gcHJvcHMuc3JjU2V0IDogdW5kZWZpbmVkO1xuICB1c2VVcGRhdGVMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHNldExvYWRlZChmYWxzZSk7XG4gICAgc2V0RmFpbGVkKGZhbHNlKTtcbiAgfSwgW3NyY10pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlcklubmVyKCkge1xuICAgIGlmIChmYWlsZWQpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBwcm9wcy5mYWxsYmFjayk7XG4gICAgfVxuXG4gICAgY29uc3QgaW1nID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbWdgLFxuICAgICAgc3JjOiBzcmMsXG4gICAgICBhbHQ6IHByb3BzLmFsdCxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbkxvYWQ6ICgpID0+IHtcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IGUgPT4ge1xuICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgc2V0RmFpbGVkKHRydWUpO1xuICAgICAgICAoX2EgPSBwcm9wcy5vbkVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgb2JqZWN0Rml0OiBwcm9wcy5maXQsXG4gICAgICAgIGRpc3BsYXk6IGxvYWRlZCA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgIH0sXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW4sXG4gICAgICBkZWNvZGluZzogcHJvcHMuZGVjb2RpbmcsXG4gICAgICBsb2FkaW5nOiBwcm9wcy5sb2FkaW5nLFxuICAgICAgcmVmZXJyZXJQb2xpY3k6IHByb3BzLnJlZmVycmVyUG9saWN5LFxuICAgICAgc2l6ZXM6IHByb3BzLnNpemVzLFxuICAgICAgc3JjU2V0OiBzcmNTZXQsXG4gICAgICB1c2VNYXA6IHByb3BzLnVzZU1hcFxuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAhbG9hZGVkICYmIHByb3BzLnBsYWNlaG9sZGVyLCBpbWcpO1xuICB9XG5cbiAgY29uc3Qgc3R5bGUgPSB7fTtcblxuICBpZiAocHJvcHMud2lkdGgpIHtcbiAgICBzdHlsZVsnLS13aWR0aCddID0gdG9DU1NMZW5ndGgocHJvcHMud2lkdGgpO1xuICB9XG5cbiAgaWYgKHByb3BzLmhlaWdodCkge1xuICAgIHN0eWxlWyctLWhlaWdodCddID0gdG9DU1NMZW5ndGgocHJvcHMuaGVpZ2h0KTtcbiAgfVxuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0sIHByb3BzLmxhenkgJiYgIWluaXRpYWxpemVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eURldGVjdG9yLCB7XG4gICAgb25BY3RpdmU6ICgpID0+IHtcbiAgICAgIHNldEluaXRpYWxpemVkKHRydWUpO1xuICAgIH1cbiAgfSksIHJlbmRlcklubmVyKCkpKTtcbn0pOyIsImltcG9ydCBcIi4vaW1hZ2UuY3NzXCI7XG5pbXBvcnQgeyBJbWFnZSB9IGZyb20gJy4vaW1hZ2UnO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2U7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSW5WaWV3cG9ydCB9IGZyb20gJ2Fob29rcyc7XG5leHBvcnQgY29uc3QgTGF6eURldGVjdG9yID0gcHJvcHMgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpblZpZXdwb3J0XSA9IHVzZUluVmlld3BvcnQocmVmKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5WaWV3cG9ydCkge1xuICAgICAgcHJvcHMub25BY3RpdmUoKTtcbiAgICB9XG4gIH0sIFtpblZpZXdwb3J0XSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlZlxuICB9KTtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VUaHJvdHRsZUZuIH0gZnJvbSAnYWhvb2tzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgU2lkZWJhciB9IGZyb20gJy4vc2lkZWJhcic7XG5pbXBvcnQgeyBjb252ZXJ0UHggfSBmcm9tICcuLi8uLi91dGlscy9jb252ZXJ0LXB4JztcbmltcG9ydCB7IFBhbmVsIH0gZnJvbSAnLi9wYW5lbCc7XG5pbXBvcnQgeyBkZXZXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGV2LWxvZyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0taW5kZXgtYmFyYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgc3RpY2t5OiB0cnVlXG59O1xuZXhwb3J0IGNvbnN0IEluZGV4QmFyID0gZm9yd2FyZFJlZigocCwgcmVmKSA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB0aXRsZUhlaWdodCA9IGNvbnZlcnRQeCgzNSk7XG4gIGNvbnN0IGJvZHlSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGluZGV4ZXMgPSBbXTtcbiAgY29uc3QgcGFuZWxzID0gW107XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuXG4gICAgaWYgKGNoaWxkLnR5cGUgIT09IFBhbmVsKSB7XG4gICAgICBkZXZXYXJuaW5nKCdJbmRleEJhcicsICdUaGUgY2hpbGRyZW4gb2YgYEluZGV4QmFyYCBtdXN0IGJlIGBJbmRleEJhci5QYW5lbGAgY29tcG9uZW50cy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbmRleGVzLnB1c2goY2hpbGQucHJvcHMuaW5kZXgpO1xuICAgIHBhbmVscy5wdXNoKHdpdGhOYXRpdmVQcm9wcyhjaGlsZC5wcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGNoaWxkLnByb3BzLmluZGV4LFxuICAgICAgXCJkYXRhLWluZGV4XCI6IGNoaWxkLnByb3BzLmluZGV4LFxuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYW5jaG9yYFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYW5jaG9yLXRpdGxlYFxuICAgIH0sIGNoaWxkLnByb3BzLnRpdGxlIHx8IGNoaWxkLnByb3BzLmluZGV4KSwgY2hpbGQucHJvcHMuY2hpbGRyZW4pKSk7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlSW5kZXgsIHNldEFjdGl2ZUluZGV4XSA9IHVzZVN0YXRlKGluZGV4ZXNbMF0pO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICBzY3JvbGxUb1xuICB9KSk7XG5cbiAgZnVuY3Rpb24gc2Nyb2xsVG8oaW5kZXgpIHtcbiAgICBjb25zdCBib2R5ID0gYm9keVJlZi5jdXJyZW50O1xuICAgIGlmICghYm9keSkgcmV0dXJuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gYm9keS5jaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhbmVsID0gY2hpbGRyZW4uaXRlbShpKTtcbiAgICAgIGlmICghcGFuZWwpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgcGFuZWxJbmRleCA9IHBhbmVsLmRhdGFzZXRbJ2luZGV4J107XG5cbiAgICAgIGlmIChwYW5lbEluZGV4ID09PSBpbmRleCkge1xuICAgICAgICBib2R5LnNjcm9sbFRvcCA9IHBhbmVsLm9mZnNldFRvcDtcbiAgICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qge1xuICAgIHJ1bjogY2hlY2tBY3RpdmVJbmRleFxuICB9ID0gdXNlVGhyb3R0bGVGbigoKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IGJvZHlSZWYuY3VycmVudDtcbiAgICBpZiAoIWJvZHkpIHJldHVybjtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBib2R5LnNjcm9sbFRvcDtcbiAgICBjb25zdCBlbGVtZW50cyA9IGJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgJHtjbGFzc1ByZWZpeH0tYW5jaG9yYCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYW5lbCA9IGVsZW1lbnRzLml0ZW0oaSk7XG4gICAgICBpZiAoIXBhbmVsKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHBhbmVsSW5kZXggPSBwYW5lbC5kYXRhc2V0WydpbmRleCddO1xuICAgICAgaWYgKCFwYW5lbEluZGV4KSBjb250aW51ZTtcblxuICAgICAgaWYgKHBhbmVsLm9mZnNldFRvcCArIHBhbmVsLmNsaWVudEhlaWdodCAtIHRpdGxlSGVpZ2h0ID4gc2Nyb2xsVG9wKSB7XG4gICAgICAgIHNldEFjdGl2ZUluZGV4KHBhbmVsSW5kZXgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgd2FpdDogNTAsXG4gICAgdHJhaWxpbmc6IHRydWUsXG4gICAgbGVhZGluZzogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fWAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tc3RpY2t5YF06IHByb3BzLnN0aWNreVxuICAgIH0pXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhciwge1xuICAgIGluZGV4ZXM6IGluZGV4ZXMsXG4gICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4LFxuICAgIG9uQWN0aXZlOiBpbmRleCA9PiB7XG4gICAgICBzY3JvbGxUbyhpbmRleCk7XG4gICAgfVxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keWAsXG4gICAgcmVmOiBib2R5UmVmLFxuICAgIG9uU2Nyb2xsOiBjaGVja0FjdGl2ZUluZGV4XG4gIH0sIHBhbmVscykpKTtcbn0pOyIsImltcG9ydCBcIi4vaW5kZXgtYmFyLmNzc1wiO1xuaW1wb3J0IHsgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXR0YWNoLXByb3BlcnRpZXMtdG8tY29tcG9uZW50JztcbmltcG9ydCB7IFBhbmVsIH0gZnJvbSAnLi9wYW5lbCc7XG5pbXBvcnQgeyBJbmRleEJhciB9IGZyb20gJy4vaW5kZXgtYmFyJztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChJbmRleEJhciwge1xuICBQYW5lbFxufSk7IiwiZXhwb3J0IGNvbnN0IFBhbmVsID0gKCkgPT4gbnVsbDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1pbmRleC1iYXJgO1xuZXhwb3J0IGNvbnN0IFNpZGViYXIgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IFtpbnRlcmFjdGluZywgc2V0SW50ZXJhY3RpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1zaWRlYmFyYCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1zaWRlYmFyLWludGVyYWN0aW5nYF06IGludGVyYWN0aW5nXG4gICAgfSksXG4gICAgb25Nb3VzZURvd246ICgpID0+IHtcbiAgICAgIHNldEludGVyYWN0aW5nKHRydWUpO1xuICAgIH0sXG4gICAgb25Nb3VzZVVwOiAoKSA9PiB7XG4gICAgICBzZXRJbnRlcmFjdGluZyhmYWxzZSk7XG4gICAgfSxcbiAgICBvblRvdWNoU3RhcnQ6ICgpID0+IHtcbiAgICAgIHNldEludGVyYWN0aW5nKHRydWUpO1xuICAgIH0sXG4gICAgb25Ub3VjaEVuZDogKCkgPT4ge1xuICAgICAgc2V0SW50ZXJhY3RpbmcoZmFsc2UpO1xuICAgIH0sXG4gICAgb25Ub3VjaE1vdmU6IGUgPT4ge1xuICAgICAgaWYgKCFpbnRlcmFjdGluZykgcmV0dXJuO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjbGllbnRYLFxuICAgICAgICBjbGllbnRZXG4gICAgICB9ID0gZS50b3VjaGVzWzBdO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgICBjb25zdCBpbmRleCA9IHRhcmdldC5kYXRhc2V0WydpbmRleCddO1xuXG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcHJvcHMub25BY3RpdmUoaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgcHJvcHMuaW5kZXhlcy5tYXAoaW5kZXggPT4ge1xuICAgIGNvbnN0IGFjdGl2ZSA9IGluZGV4ID09PSBwcm9wcy5hY3RpdmVJbmRleDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1zaWRlYmFyLXJvd2AsXG4gICAgICBvbk1vdXNlRG93bjogKCkgPT4ge1xuICAgICAgICBwcm9wcy5vbkFjdGl2ZShpbmRleCk7XG4gICAgICB9LFxuICAgICAgb25Ub3VjaFN0YXJ0OiAoKSA9PiB7XG4gICAgICAgIHByb3BzLm9uQWN0aXZlKGluZGV4KTtcbiAgICAgIH0sXG4gICAgICBvbk1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgICAgaWYgKGludGVyYWN0aW5nKSB7XG4gICAgICAgICAgcHJvcHMub25BY3RpdmUoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAga2V5OiBpbmRleFxuICAgIH0sIGludGVyYWN0aW5nICYmIGFjdGl2ZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXNpZGViYXItYnViYmxlYFxuICAgIH0sIGluZGV4KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXNpZGViYXItaXRlbWAsIHtcbiAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1zaWRlYmFyLWl0ZW0tYWN0aXZlYF06IGFjdGl2ZVxuICAgICAgfSksXG4gICAgICBcImRhdGEtaW5kZXhcIjogaW5kZXhcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIGluZGV4KSkpO1xuICB9KSk7XG59OyIsImltcG9ydCBcIi4vaW5maW5pdGUtc2Nyb2xsLmNzc1wiO1xuaW1wb3J0IHsgSW5maW5pdGVTY3JvbGwgfSBmcm9tICcuL2luZmluaXRlLXNjcm9sbCc7XG5leHBvcnQgZGVmYXVsdCBJbmZpbml0ZVNjcm9sbDsiLCJpbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxvY2tGbiwgdXNlTWVtb2l6ZWRGbiB9IGZyb20gJ2Fob29rcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgZ2V0U2Nyb2xsUGFyZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZ2V0LXNjcm9sbC1wYXJlbnQnO1xuaW1wb3J0IERvdExvYWRpbmcgZnJvbSAnLi4vZG90LWxvYWRpbmcnO1xuXG5mdW5jdGlvbiBpc1dpbmRvdyhlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ID09PSB3aW5kb3c7XG59XG5cbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1pbmZpbml0ZS1zY3JvbGxgO1xuXG5jb25zdCBJbmZpbml0ZVNjcm9sbENvbnRlbnQgPSAoe1xuICBoYXNNb3JlXG59KSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBoYXNNb3JlID8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJcXHU1MkEwXFx1OEY3RFxcdTRFMkRcIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRG90TG9hZGluZywgbnVsbCkpIDogUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJcXHU2Q0ExXFx1NjcwOVxcdTY2RjRcXHU1OTFBXFx1NEU4NlwiKSk7XG59O1xuXG5leHBvcnQgY29uc3QgSW5maW5pdGVTY3JvbGwgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKHtcbiAgICB0aHJlc2hvbGQ6IDI1MFxuICB9LCBwKTtcbiAgY29uc3QgZG9Mb2FkTW9yZSA9IHVzZUxvY2tGbigoKSA9PiBwcm9wcy5sb2FkTW9yZSgpKTtcbiAgY29uc3QgZWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2hlY2tUaW1lb3V0UmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGNoZWNrID0gdXNlTWVtb2l6ZWRGbigoKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChjaGVja1RpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgY2hlY2tUaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXByb3BzLmhhc01vcmUpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICAgIGlmICghZWxlbWVudC5vZmZzZXRQYXJlbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbGVtZW50KTtcbiAgICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGVsZW1lbnRUb3AgPSByZWN0LnRvcDtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBpc1dpbmRvdyhwYXJlbnQpID8gd2luZG93LmlubmVySGVpZ2h0IDogcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcblxuICAgICAgaWYgKGN1cnJlbnQgPj0gZWxlbWVudFRvcCAtIHByb3BzLnRocmVzaG9sZCkge1xuICAgICAgICBkb0xvYWRNb3JlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pOyAvLyDnoa7kv53lnKjlhoXlrrnkuI3otrPml7bkvJroh6rliqjop6blj5HliqDovb3kuovku7ZcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrKCk7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgY29uc3QgcGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGVsZW1lbnQpO1xuICAgIGlmICghcGFyZW50KSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgIGNoZWNrKCk7XG4gICAgfVxuXG4gICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgcmVmOiBlbGVtZW50UmVmXG4gIH0sIHByb3BzLmNoaWxkcmVuICYmIHByb3BzLmNoaWxkcmVuLCAhcHJvcHMuY2hpbGRyZW4gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChJbmZpbml0ZVNjcm9sbENvbnRlbnQsIHtcbiAgICBoYXNNb3JlOiBwcm9wcy5oYXNNb3JlXG4gIH0pKSk7XG59OyIsImltcG9ydCBcIi4vaW5wdXQuY3NzXCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQnO1xuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VSZWYsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgQ2xvc2VDaXJjbGVGaWxsIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWlucHV0YDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdFZhbHVlOiAnJ1xufTtcbmV4cG9ydCBjb25zdCBJbnB1dCA9IGZvcndhcmRSZWYoKHAsIHJlZikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHByb3BzKTtcbiAgY29uc3QgW2hhc0ZvY3VzLCBzZXRIYXNGb2N1c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IG5hdGl2ZUlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICBjbGVhcjogKCkgPT4ge1xuICAgICAgc2V0VmFsdWUoJycpO1xuICAgIH0sXG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gbmF0aXZlSW5wdXRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgfSxcbiAgICBibHVyOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IG5hdGl2ZUlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgfVxuICB9KSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5ZG93biA9IGUgPT4ge1xuICAgIHZhciBfYTtcblxuICAgIGlmIChwcm9wcy5vbkVudGVyUHJlc3MgJiYgKGUuY29kZSA9PT0gJ0VudGVyJyB8fCBlLmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgcHJvcHMub25FbnRlclByZXNzKGUpO1xuICAgIH1cblxuICAgIChfYSA9IHByb3BzLm9uS2V5RG93bikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICB9O1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKCFwcm9wcy5lbnRlcktleUhpbnQpIHJldHVybjtcbiAgICAoX2EgPSBuYXRpdmVJbnB1dFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0QXR0cmlidXRlKCdlbnRlcmtleWhpbnQnLCBwcm9wcy5lbnRlcktleUhpbnQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IG5hdGl2ZUlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVBdHRyaWJ1dGUoJ2VudGVya2V5aGludCcpO1xuICAgIH07XG4gIH0sIFtwcm9wcy5lbnRlcktleUhpbnRdKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0td3JhcHBlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICByZWY6IG5hdGl2ZUlucHV0UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9LFxuICAgIG9uRm9jdXM6IGUgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBzZXRIYXNGb2N1cyh0cnVlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uRm9jdXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogZSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHNldEhhc0ZvY3VzKGZhbHNlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uQmx1cikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgIH0sXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5LFxuICAgIG1heExlbmd0aDogcHJvcHMubWF4TGVuZ3RoLFxuICAgIG1pbkxlbmd0aDogcHJvcHMubWluTGVuZ3RoLFxuICAgIG1heDogcHJvcHMubWF4LFxuICAgIG1pbjogcHJvcHMubWluLFxuICAgIGF1dG9Db21wbGV0ZTogcHJvcHMuYXV0b0NvbXBsZXRlLFxuICAgIHBhdHRlcm46IHByb3BzLnBhdHRlcm4sXG4gICAgaW5wdXRNb2RlOiBwcm9wcy5pbnB1dE1vZGUsXG4gICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICBhdXRvQ2FwaXRhbGl6ZTogcHJvcHMuYXV0b0NhcGl0YWxpemUsXG4gICAgYXV0b0NvcnJlY3Q6IHByb3BzLmF1dG9Db3JyZWN0LFxuICAgIG9uS2V5RG93bjogaGFuZGxlS2V5ZG93bixcbiAgICBvbktleVVwOiBwcm9wcy5vbktleVVwXG4gIH0pLCBwcm9wcy5jbGVhcmFibGUgJiYgISF2YWx1ZSAmJiBoYXNGb2N1cyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jbGVhcmAsXG4gICAgb25Nb3VzZURvd246IGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBzZXRWYWx1ZSgnJyk7XG4gICAgICAoX2EgPSBwcm9wcy5vbkNsZWFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlQ2lyY2xlRmlsbCwgbnVsbCkpKSk7XG59KTsiLCJpbXBvcnQgXCIuL2p1bWJvLXRhYnMuY3NzXCI7XG5pbXBvcnQgeyBKdW1ib1RhYiwgSnVtYm9UYWJzIH0gZnJvbSAnLi9qdW1iby10YWJzJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoSnVtYm9UYWJzLCB7XG4gIFRhYjogSnVtYm9UYWJcbn0pOyIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgdXNlUmVzaXplRWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXJlc2l6ZS1lZmZlY3QnO1xuaW1wb3J0IHsgdXNlVGFiTGlzdFNjcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS10YWItbGlzdC1zY3JvbGwnO1xuaW1wb3J0IFNjcm9sbE1hc2sgZnJvbSAnLi4vc2Nyb2xsLW1hc2snO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLWp1bWJvLXRhYnNgO1xuZXhwb3J0IGNvbnN0IEp1bWJvVGFiID0gKCkgPT4ge1xuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnQgY29uc3QgSnVtYm9UYWJzID0gcHJvcHMgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgdGFiTGlzdENvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qga2V5VG9JbmRleFJlY29yZCA9IHt9O1xuICBsZXQgZmlyc3RBY3RpdmVLZXkgPSBudWxsO1xuICBjb25zdCBwYW5lcyA9IFtdO1xuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCAoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybjtcbiAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIGZpcnN0QWN0aXZlS2V5ID0ga2V5O1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aCA9IHBhbmVzLnB1c2goY2hpbGQpO1xuICAgIGtleVRvSW5kZXhSZWNvcmRba2V5XSA9IGxlbmd0aCAtIDE7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlS2V5LCBzZXRBY3RpdmVLZXldID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0QWN0aXZlS2V5LFxuICAgIG9uQ2hhbmdlOiB2ID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKHYgPT09IG51bGwpIHJldHVybjtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdik7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qge1xuICAgIHNjcm9sbExlZnQsXG4gICAgYW5pbWF0ZVxuICB9ID0gdXNlVGFiTGlzdFNjcm9sbCh0YWJMaXN0Q29udGFpbmVyUmVmLCBrZXlUb0luZGV4UmVjb3JkW2FjdGl2ZUtleV0pO1xuICB1c2VSZXNpemVFZmZlY3QoKCkgPT4ge1xuICAgIGFuaW1hdGUodHJ1ZSk7XG4gIH0sIHJvb3RSZWYpO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIHJlZjogcm9vdFJlZlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsTWFzaywge1xuICAgIHNjcm9sbFRyYWNrUmVmOiB0YWJMaXN0Q29udGFpbmVyUmVmXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRhYi1saXN0YCxcbiAgICByZWY6IHRhYkxpc3RDb250YWluZXJSZWYsXG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdFxuICB9LCBwYW5lcy5tYXAocGFuZSA9PiB3aXRoTmF0aXZlUHJvcHMocGFuZS5wcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBwYW5lLmtleSxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10YWItd3JhcHBlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlcbiAgICAgIH0gPSBwYW5lO1xuICAgICAgaWYgKHBhbmUucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZUtleShrZXkudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXRhYmAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGFiLWFjdGl2ZWBdOiBwYW5lLmtleSA9PT0gYWN0aXZlS2V5LFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS10YWItZGlzYWJsZWRgXTogcGFuZS5wcm9wcy5kaXNhYmxlZFxuICAgIH0pXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRhYi10aXRsZWBcbiAgfSwgcGFuZS5wcm9wcy50aXRsZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRhYi1kZXNjcmlwdGlvbmBcbiAgfSwgcGFuZS5wcm9wcy5kZXNjcmlwdGlvbikpKSkpKSksIHBhbmVzLm1hcChwYW5lID0+IHtcbiAgICBpZiAocGFuZS5wcm9wcy5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocGFuZS5rZXkgPT09IGFjdGl2ZUtleSkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IHBhbmUua2V5LFxuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50YFxuICAgICAgfSwgcGFuZS5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaWYgKHBhbmUucHJvcHMuZm9yY2VSZW5kZXIpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBwYW5lLmtleSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgfVxuICAgICAgfSwgcGFuZS5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pKSk7XG59OyIsImltcG9ydCBcIi4vbGlzdC5jc3NcIjtcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBMaXN0IH0gZnJvbSAnLi9saXN0JztcbmltcG9ydCB7IExpc3RJdGVtIH0gZnJvbSAnLi9saXN0LWl0ZW0nO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KExpc3QsIHtcbiAgSXRlbTogTGlzdEl0ZW1cbn0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgUmlnaHRPdXRsaW5lIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tbGlzdC1pdGVtYDtcbmV4cG9ydCBjb25zdCBMaXN0SXRlbSA9IHByb3BzID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IGNsaWNrYWJsZSA9IChfYSA9IHByb3BzLmNsaWNrYWJsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogISFwcm9wcy5vbkNsaWNrO1xuICBjb25zdCBhcnJvdyA9IHByb3BzLmFycm93ID09PSB1bmRlZmluZWQgPyBjbGlja2FibGUgOiBwcm9wcy5hcnJvdztcbiAgY29uc3QgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIHByb3BzLnByZWZpeCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50LXByZWZpeGBcbiAgfSwgcHJvcHMucHJlZml4KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jb250ZW50LW1haW5gLCAocHJvcHMudGl0bGUgfHwgcHJvcHMuZGVzY3JpcHRpb24pICYmIGAke2NsYXNzUHJlZml4fS1jb250ZW50LW1haW4tbXVsdGktcm93YClcbiAgfSwgcHJvcHMudGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdGl0bGVgXG4gIH0sIHByb3BzLnRpdGxlKSwgcHJvcHMuY2hpbGRyZW4sIHByb3BzLmRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWRlc2NyaXB0aW9uYFxuICB9LCBwcm9wcy5kZXNjcmlwdGlvbikpLCBwcm9wcy5leHRyYSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50LWV4dHJhYFxuICB9LCBwcm9wcy5leHRyYSksIGFycm93ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnQtYXJyb3dgXG4gIH0sIGFycm93ID09PSB0cnVlID8gUmVhY3QuY3JlYXRlRWxlbWVudChSaWdodE91dGxpbmUsIG51bGwpIDogYXJyb3cpKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChjbGlja2FibGUgPyAnYScgOiAnZGl2Jywge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH1gLCBjbGlja2FibGUgPyBbJ2FkbS1wbGFpbi1hbmNob3InXSA6IFtdLCBwcm9wcy5kaXNhYmxlZCAmJiBgJHtjbGFzc1ByZWZpeH0tZGlzYWJsZWRgKSxcbiAgICBvbkNsaWNrOiBwcm9wcy5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uQ2xpY2tcbiAgfSwgY29udGVudCkpO1xufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tbGlzdGA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG1vZGU6ICdkZWZhdWx0J1xufTtcbmV4cG9ydCBjb25zdCBMaXN0ID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIGAke2NsYXNzUHJlZml4fS0ke3Byb3BzLm1vZGV9YClcbiAgfSwgcHJvcHMuaGVhZGVyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRlcmBcbiAgfSwgcHJvcHMuaGVhZGVyKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keWBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keS1pbm5lcmBcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKSkpO1xufTsiLCIvLyBEZXByZWNhdGVkXG5pbXBvcnQgXCIuLi9kb3QtbG9hZGluZy9kb3QtbG9hZGluZy5jc3NcIjtcbmltcG9ydCB7IERvdExvYWRpbmcgfSBmcm9tICcuLi9kb3QtbG9hZGluZy9kb3QtbG9hZGluZyc7XG5leHBvcnQgZGVmYXVsdCBEb3RMb2FkaW5nOyIsImltcG9ydCBcIi4vbWFzay5jc3NcIjtcbmltcG9ydCB7IE1hc2sgfSBmcm9tICcuL21hc2snO1xuZXhwb3J0IGRlZmF1bHQgTWFzazsiLCJpbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VVbm1vdW50ZWRSZWYgfSBmcm9tICdhaG9va3MnO1xuaW1wb3J0IHsgdXNlTG9ja1Njcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1sb2NrLXNjcm9sbCc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgcmVuZGVyVG9Db250YWluZXIgfSBmcm9tICcuLi8uLi91dGlscy9yZW5kZXItdG8tY29udGFpbmVyJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnLXByb3ZpZGVyJztcbmltcG9ydCB7IHVzZVNob3VsZFJlbmRlciB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1zaG91bGQtcmVuZGVyJztcbmltcG9ydCB7IHdpdGhTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy93aXRoLXN0b3AtcHJvcGFnYXRpb24nO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLW1hc2tgO1xuY29uc3Qgb3BhY2l0eVJlY29yZCA9IHtcbiAgZGVmYXVsdDogMC41NSxcbiAgdGhpbjogMC4zNSxcbiAgdGhpY2s6IDAuNzVcbn07XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHZpc2libGU6IHRydWUsXG4gIGRlc3Ryb3lPbkNsb3NlOiBmYWxzZSxcbiAgZm9yY2VSZW5kZXI6IGZhbHNlLFxuICBjb2xvcjogJ2JsYWNrJyxcbiAgb3BhY2l0eTogJ2RlZmF1bHQnLFxuICBkaXNhYmxlQm9keVNjcm9sbDogdHJ1ZSxcbiAgZ2V0Q29udGFpbmVyOiBudWxsLFxuICBzdG9wUHJvcGFnYXRpb246IFsnY2xpY2snXVxufTtcbmV4cG9ydCBjb25zdCBNYXNrID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgbG9jYWxlXG4gIH0gPSB1c2VDb25maWcoKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VMb2NrU2Nyb2xsKHJlZiwgcHJvcHMudmlzaWJsZSAmJiBwcm9wcy5kaXNhYmxlQm9keVNjcm9sbCk7XG4gIGNvbnN0IGJhY2tncm91bmQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gKF9hID0gb3BhY2l0eVJlY29yZFtwcm9wcy5vcGFjaXR5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcHJvcHMub3BhY2l0eTtcbiAgICBjb25zdCByZ2IgPSBwcm9wcy5jb2xvciA9PT0gJ3doaXRlJyA/ICcyNTUsIDI1NSwgMjU1JyA6ICcwLCAwLCAwJztcbiAgICByZXR1cm4gYHJnYmEoJHtyZ2J9LCAke29wYWNpdHl9KWA7XG4gIH0sIFtwcm9wcy5jb2xvciwgcHJvcHMub3BhY2l0eV0pO1xuICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gdXNlU3RhdGUocHJvcHMudmlzaWJsZSk7XG4gIGNvbnN0IHVubW91bnRlZFJlZiA9IHVzZVVubW91bnRlZFJlZigpO1xuICBjb25zdCB7XG4gICAgb3BhY2l0eVxuICB9ID0gdXNlU3ByaW5nKHtcbiAgICBvcGFjaXR5OiBwcm9wcy52aXNpYmxlID8gMSA6IDAsXG4gICAgY29uZmlnOiB7XG4gICAgICBwcmVjaXNpb246IDAuMDEsXG4gICAgICBtYXNzOiAxLFxuICAgICAgdGVuc2lvbjogMjAwLFxuICAgICAgZnJpY3Rpb246IDMwLFxuICAgICAgY2xhbXA6IHRydWVcbiAgICB9LFxuICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgIHNldEFjdGl2ZSh0cnVlKTtcbiAgICB9LFxuICAgIG9uUmVzdDogKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgaWYgKHVubW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBzZXRBY3RpdmUocHJvcHMudmlzaWJsZSk7XG5cbiAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG4gICAgICAgIChfYSA9IHByb3BzLmFmdGVyU2hvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKF9iID0gcHJvcHMuYWZ0ZXJDbG9zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHNob3VsZFJlbmRlciA9IHVzZVNob3VsZFJlbmRlcihhY3RpdmUsIHByb3BzLmZvcmNlUmVuZGVyLCBwcm9wcy5kZXN0cm95T25DbG9zZSk7XG4gIGNvbnN0IG5vZGUgPSB3aXRoU3RvcFByb3BhZ2F0aW9uKHByb3BzLnN0b3BQcm9wYWdhdGlvbiwgd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgcmVmOiByZWYsXG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7XG4gICAgICBiYWNrZ3JvdW5kLFxuICAgICAgb3BhY2l0eVxuICAgIH0sIHByb3BzLnN0eWxlKSwge1xuICAgICAgZGlzcGxheTogYWN0aXZlID8gJ3Vuc2V0JyA6ICdub25lJ1xuICAgIH0pXG4gIH0sIHByb3BzLm9uTWFza0NsaWNrICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWFyaWEtYnV0dG9uYCxcbiAgICByb2xlOiAnYnV0dG9uJyxcbiAgICBcImFyaWEtbGFiZWxcIjogbG9jYWxlLk1hc2submFtZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbk1hc2tDbGlja1xuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGBcbiAgfSwgc2hvdWxkUmVuZGVyICYmIHByb3BzLmNoaWxkcmVuKSkpKTtcbiAgcmV0dXJuIHJlbmRlclRvQ29udGFpbmVyKHByb3BzLmdldENvbnRhaW5lciwgbm9kZSk7XG59OyIsImltcG9ydCB7IHNob3cgfSBmcm9tICcuL3Nob3cnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vY29uZmlnLXByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiBhbGVydChwKSB7XG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb25maXJtVGV4dDogZ2V0RGVmYXVsdENvbmZpZygpLmxvY2FsZS5Nb2RhbC5va1xuICB9O1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNob3coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHtcbiAgICAgIGNsb3NlT25BY3Rpb246IHRydWUsXG4gICAgICBhY3Rpb25zOiBbe1xuICAgICAgICBrZXk6ICdjb25maXJtJyxcbiAgICAgICAgdGV4dDogcHJvcHMuY29uZmlybVRleHQsXG4gICAgICAgIHByaW1hcnk6IHRydWVcbiAgICAgIH1dLFxuICAgICAgb25BY3Rpb246IHByb3BzLm9uQ29uZmlybSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBzaG93IH0gZnJvbSAnLi9zaG93JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb25maXJtVGV4dDogJ+ehruiupCcsXG4gIGNhbmNlbFRleHQ6ICflj5bmtognXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpcm0ocCkge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNob3coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHtcbiAgICAgIGNsb3NlT25BY3Rpb246IHRydWUsXG4gICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcblxuICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IFt7XG4gICAgICAgIGtleTogJ2NvbmZpcm0nLFxuICAgICAgICB0ZXh0OiBwcm9wcy5jb25maXJtVGV4dCxcbiAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgb25DbGljazogKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIHlpZWxkIChfYSA9IHByb3BzLm9uQ29uZmlybSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2NhbmNlbCcsXG4gICAgICAgIHRleHQ6IHByb3BzLmNhbmNlbFRleHQsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2I7XG5cbiAgICAgICAgICB5aWVsZCAoX2IgPSBwcm9wcy5vbkNhbmNlbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgfV1cbiAgICB9KSk7XG4gIH0pO1xufSIsImltcG9ydCBcIi4vbW9kYWwuY3NzXCI7XG5pbXBvcnQgeyBzaG93IH0gZnJvbSAnLi9zaG93JztcbmltcG9ydCB7IGFsZXJ0IH0gZnJvbSAnLi9hbGVydCc7XG5pbXBvcnQgeyBjb25maXJtIH0gZnJvbSAnLi9jb25maXJtJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KE1vZGFsLCB7XG4gIHNob3csXG4gIGFsZXJ0LFxuICBjb25maXJtXG59KTsiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24nO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmV4cG9ydCBjb25zdCBNb2RhbEFjdGlvbkJ1dHRvbiA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGFjdGlvblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHByb3BzLm9uQWN0aW9uKCk7XG4gICAgICAgIHlpZWxkIHByb21pc2U7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMuYWN0aW9uLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGtleTogYWN0aW9uLmtleSxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ2FkbS1tb2RhbC1idXR0b24nLCB7XG4gICAgICAnYWRtLW1vZGFsLWJ1dHRvbi1wcmltYXJ5JzogcHJvcHMuYWN0aW9uLnByaW1hcnlcbiAgICB9KSxcbiAgICBmaWxsOiBwcm9wcy5hY3Rpb24ucHJpbWFyeSA/ICdzb2xpZCcgOiAnbm9uZScsXG4gICAgc2l6ZTogcHJvcHMuYWN0aW9uLnByaW1hcnkgPyAnbGFyZ2UnIDogJ21pZGRsZScsXG4gICAgYmxvY2s6IHRydWUsXG4gICAgY29sb3I6IGFjdGlvbi5kYW5nZXIgPyAnZGFuZ2VyJyA6ICdwcmltYXJ5JyxcbiAgICBsb2FkaW5nOiBsb2FkaW5nLFxuICAgIGRpc2FibGVkOiBhY3Rpb24uZGlzYWJsZWRcbiAgfSwgYWN0aW9uLnRleHQpKTtcbn07IiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgdXNlVW5tb3VudGVkUmVmIH0gZnJvbSAnYWhvb2tzJztcbmltcG9ydCBNYXNrIGZyb20gJy4uL21hc2snO1xuaW1wb3J0IHsgTW9kYWxBY3Rpb25CdXR0b24gfSBmcm9tICcuL21vZGFsLWFjdGlvbi1idXR0b24nO1xuaW1wb3J0IEltYWdlIGZyb20gJy4uL2ltYWdlJztcbmltcG9ydCBTcGFjZSBmcm9tICcuLi9zcGFjZSc7XG5pbXBvcnQgeyByZW5kZXJUb0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1jb250YWluZXInO1xuaW1wb3J0IHsgd2l0aFN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtc3RvcC1wcm9wYWdhdGlvbic7XG5pbXBvcnQgQXV0b0NlbnRlciBmcm9tICcuLi9hdXRvLWNlbnRlcic7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IENsb3NlT3V0bGluZSB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1tb2RhbGA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHZpc2libGU6IGZhbHNlLFxuICBhY3Rpb25zOiBbXSxcbiAgY2xvc2VPbkFjdGlvbjogZmFsc2UsXG4gIGNsb3NlT25NYXNrQ2xpY2s6IGZhbHNlLFxuICBzdG9wUHJvcGFnYXRpb246IFsnY2xpY2snXSxcbiAgc2hvd0Nsb3NlQnV0dG9uOiBmYWxzZSxcbiAgZ2V0Q29udGFpbmVyOiBudWxsXG59O1xuZXhwb3J0IGNvbnN0IE1vZGFsID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB1bm1vdW50ZWRSZWYgPSB1c2VVbm1vdW50ZWRSZWYoKTtcbiAgY29uc3Qgc3R5bGUgPSB1c2VTcHJpbmcoe1xuICAgIHNjYWxlOiBwcm9wcy52aXNpYmxlID8gMSA6IDAuOCxcbiAgICBvcGFjaXR5OiBwcm9wcy52aXNpYmxlID8gMSA6IDAsXG4gICAgY29uZmlnOiB7XG4gICAgICBtYXNzOiAxLFxuICAgICAgdGVuc2lvbjogMjAwLFxuICAgICAgZnJpY3Rpb246IDMwLFxuICAgICAgY2xhbXA6IHRydWVcbiAgICB9LFxuICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgIHNldEFjdGl2ZSh0cnVlKTtcbiAgICB9LFxuICAgIG9uUmVzdDogKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgaWYgKHVubW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBzZXRBY3RpdmUocHJvcHMudmlzaWJsZSk7XG5cbiAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG4gICAgICAgIChfYSA9IHByb3BzLmFmdGVyU2hvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKF9iID0gcHJvcHMuYWZ0ZXJDbG9zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShwcm9wcy52aXNpYmxlKTtcbiAgY29uc3Qgbm9kZSA9IHdpdGhTdG9wUHJvcGFnYXRpb24ocHJvcHMuc3RvcFByb3BhZ2F0aW9uLCB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6IGFjdGl2ZSA/ICd1bnNldCcgOiAnbm9uZSdcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFzaywge1xuICAgIHZpc2libGU6IHByb3BzLnZpc2libGUsXG4gICAgb25NYXNrQ2xpY2s6IHByb3BzLmNsb3NlT25NYXNrQ2xpY2sgPyBwcm9wcy5vbkNsb3NlIDogdW5kZWZpbmVkLFxuICAgIHN0eWxlOiBwcm9wcy5tYXNrU3R5bGUsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1tYXNrYCwgcHJvcHMubWFza0NsYXNzTmFtZSlcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXdyYXBgLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiBwcm9wcy52aXNpYmxlID8gJ3Vuc2V0JyA6ICdub25lJ1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBzdHlsZTogT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUpLFxuICAgIG9uQ2xpY2s6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1tYWluYFxuICB9LCAhIXByb3BzLmltYWdlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2UsIHtcbiAgICBzcmM6IHByb3BzLmltYWdlLFxuICAgIGFsdDogJ21vZGFsIGhlYWRlciBpbWFnZScsXG4gICAgd2lkdGg6ICcxMDAlJ1xuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGU6IHByb3BzLmJvZHlTdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWJvZHlgLCBwcm9wcy5ib2R5Q2xhc3NOYW1lKVxuICB9LCBwcm9wcy5zaG93Q2xvc2VCdXR0b24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tY2xvc2VgLCAnYWRtLXBsYWluLWFuY2hvcicpLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xvc2VcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZU91dGxpbmUsIG51bGwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChTcGFjZSwge1xuICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBibG9jazogdHJ1ZVxuICB9LCAhIXByb3BzLmhlYWRlciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1ib2R5LWhlYWRlci13cmFwcGVyYFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1ib2R5LWhlYWRlcmBcbiAgfSwgcHJvcHMuaGVhZGVyKSksICEhcHJvcHMudGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keS10aXRsZWBcbiAgfSwgcHJvcHMudGl0bGUpLCAhIXByb3BzLmNvbnRlbnQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keS1jb250ZW50YFxuICB9LCB0eXBlb2YgcHJvcHMuY29udGVudCA9PT0gJ3N0cmluZycgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEF1dG9DZW50ZXIsIG51bGwsIHByb3BzLmNvbnRlbnQpIDogcHJvcHMuY29udGVudCkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZm9vdGVyYFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFNwYWNlLCB7XG4gICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgIGJsb2NrOiB0cnVlXG4gIH0sIHByb3BzLmFjdGlvbnMubWFwKChhY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxBY3Rpb25CdXR0b24sIHtcbiAgICAgIGtleTogYWN0aW9uLmtleSxcbiAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgb25BY3Rpb246ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcblxuICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChbKF9hID0gYWN0aW9uLm9uQ2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGFjdGlvbiksIChfYiA9IHByb3BzLm9uQWN0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcywgYWN0aW9uLCBpbmRleCldKTtcblxuICAgICAgICBpZiAocHJvcHMuY2xvc2VPbkFjdGlvbikge1xuICAgICAgICAgIChfYyA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSkpKSkpKSkpO1xuICByZXR1cm4gcmVuZGVyVG9Db250YWluZXIocHJvcHMuZ2V0Q29udGFpbmVyLCBub2RlKTtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZVJlZiwgZm9yd2FyZFJlZiwgdXNlRWZmZWN0LCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlclRvQm9keSB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1ib2R5JztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5leHBvcnQgZnVuY3Rpb24gc2hvdyhwcm9wcykge1xuICBjb25zdCBXcmFwcGVyID0gZm9yd2FyZFJlZigoXywgcmVmKSA9PiB7XG4gICAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgIH0sIFtdKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICAgIGNsb3NlOiBoYW5kbGVDbG9zZVxuICAgIH0pKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICBvbkNsb3NlOiBoYW5kbGVDbG9zZSxcbiAgICAgIGFmdGVyQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgdW5tb3VudCgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSk7XG4gIGNvbnN0IHJlZiA9IGNyZWF0ZVJlZigpO1xuICBjb25zdCB1bm1vdW50ID0gcmVuZGVyVG9Cb2R5KFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwge1xuICAgIHJlZjogcmVmXG4gIH0pKTtcbiAgcmV0dXJuIHtcbiAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICAoX2EgPSByZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCBcIi4vbmF2LWJhci5jc3NcIjtcbmltcG9ydCB7IE5hdkJhciB9IGZyb20gJy4vbmF2LWJhcic7XG5leHBvcnQgZGVmYXVsdCBOYXZCYXI7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgTGVmdE91dGxpbmUgfSBmcm9tICdhbnRkLW1vYmlsZS1pY29ucyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tbmF2LWJhcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGJhY2s6ICcnLFxuICBiYWNrQXJyb3c6IHRydWVcbn07XG5leHBvcnQgY29uc3QgTmF2QmFyID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgYmFjayxcbiAgICBiYWNrQXJyb3dcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgpXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWxlZnRgLFxuICAgIHJvbGU6ICdidXR0b24nXG4gIH0sIGJhY2sgIT09IG51bGwgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYmFja2AsXG4gICAgb25DbGljazogcHJvcHMub25CYWNrXG4gIH0sIGJhY2tBcnJvdyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYmFjay1hcnJvd2BcbiAgfSwgYmFja0Fycm93ID09PSB0cnVlID8gUmVhY3QuY3JlYXRlRWxlbWVudChMZWZ0T3V0bGluZSwgbnVsbCkgOiBiYWNrQXJyb3cpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiAndHJ1ZSdcbiAgfSwgYmFjaykpLCBwcm9wcy5sZWZ0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdGl0bGVgXG4gIH0sIHByb3BzLmNoaWxkcmVuKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tcmlnaHRgXG4gIH0sIHByb3BzLnJpZ2h0KSkpO1xufTsiLCJpbXBvcnQgXCIuL25vdGljZS1iYXIuY3NzXCI7XG5pbXBvcnQgeyBOb3RpY2VCYXIgfSBmcm9tICcuL25vdGljZS1iYXInO1xuZXhwb3J0IGRlZmF1bHQgTm90aWNlQmFyOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCBtZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBDbG9zZU91dGxpbmUsIFNvdW5kT3V0bGluZSB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmltcG9ydCB7IHVzZVRpbWVvdXQgfSBmcm9tICdhaG9va3MnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUmVzaXplRWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXJlc2l6ZS1lZmZlY3QnO1xuaW1wb3J0IHsgdXNlTXV0YXRpb25FZmZlY3QgfSBmcm9tICcuLi8uLi91dGlscy91c2UtbXV0YXRpb24tZWZmZWN0JztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1ub3RpY2UtYmFyYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgY29sb3I6ICdkZWZhdWx0JyxcbiAgZGVsYXk6IDIwMDAsXG4gIHNwZWVkOiA1MFxufTtcbmV4cG9ydCBjb25zdCBOb3RpY2VCYXIgPSBtZW1vKHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB0ZXh0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3Qgc3BlZWQgPSBwcm9wcy5zcGVlZDtcbiAgY29uc3QgZGVsYXlMb2NrUmVmID0gdXNlUmVmKHRydWUpO1xuICBjb25zdCBhbmltYXRpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGlmIChkZWxheUxvY2tSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHRleHQgPSB0ZXh0UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjb250YWluZXIgfHwgIXRleHQpIHJldHVybjtcblxuICAgIGlmIChjb250YWluZXIub2Zmc2V0V2lkdGggPj0gdGV4dC5vZmZzZXRXaWR0aCkge1xuICAgICAgYW5pbWF0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHRleHQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tZHVyYXRpb24nKTtcbiAgICAgIHRleHQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChhbmltYXRpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGluaXRpYWwgPSAhdGV4dC5zdHlsZS50cmFuc2Zvcm07XG4gICAgdGV4dC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xuXG4gICAgaWYgKGluaXRpYWwpIHtcbiAgICAgIHRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7Y29udGFpbmVyLm9mZnNldFdpZHRofXB4KWA7XG4gICAgfVxuXG4gICAgY29uc3QgZGlzdGFuY2UgPSBpbml0aWFsID8gdGV4dC5vZmZzZXRXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCArIHRleHQub2Zmc2V0V2lkdGg7XG4gICAgYW5pbWF0aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIHRleHQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7TWF0aC5yb3VuZChkaXN0YW5jZSAvIHNwZWVkKX1zYDtcbiAgICB0ZXh0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3RleHQub2Zmc2V0V2lkdGh9cHgpYDtcbiAgfVxuXG4gIHVzZVRpbWVvdXQoKCkgPT4ge1xuICAgIGRlbGF5TG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgc3RhcnQoKTtcbiAgfSwgcHJvcHMuZGVsYXkpO1xuICB1c2VSZXNpemVFZmZlY3QodGV4dCA9PiB7XG4gICAgc3RhcnQoKTtcbiAgfSwgY29udGFpbmVyUmVmKTtcbiAgdXNlTXV0YXRpb25FZmZlY3QoKCkgPT4ge1xuICAgIHN0YXJ0KCk7XG4gIH0sIHRleHRSZWYsIHtcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gIH0pO1xuICBpZiAoIXZpc2libGUpIHJldHVybiBudWxsO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIGAke2NsYXNzUHJlZml4fS0ke3Byb3BzLmNvbG9yfWApXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1sZWZ0YFxuICB9LCAnaWNvbicgaW4gcHJvcHMgPyBwcm9wcy5pY29uIDogUmVhY3QuY3JlYXRlRWxlbWVudChTb3VuZE91dGxpbmUsIG51bGwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvblRyYW5zaXRpb25FbmQ6ICgpID0+IHtcbiAgICAgIGFuaW1hdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBzdGFydCgpO1xuICAgIH0sXG4gICAgcmVmOiB0ZXh0UmVmLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnQtaW5uZXJgXG4gIH0sIHByb3BzLmNvbnRlbnQpKSwgKHByb3BzLmNsb3NlYWJsZSB8fCBwcm9wcy5leHRyYSkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXJpZ2h0YFxuICB9LCBwcm9wcy5leHRyYSwgcHJvcHMuY2xvc2VhYmxlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvc2VPdXRsaW5lLCB7XG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICB9XG4gIH0pKSkpO1xufSk7IiwiaW1wb3J0IFwiLi9udW1iZXIta2V5Ym9hcmQuY3NzXCI7XG5pbXBvcnQgeyBOdW1iZXJLZXlib2FyZCB9IGZyb20gJy4vbnVtYmVyLWtleWJvYXJkJztcbmV4cG9ydCBkZWZhdWx0IE51bWJlcktleWJvYXJkOyIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IERvd25PdXRsaW5lLCBUZXh0RGVsZXRpb25PdXRsaW5lIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBzaHVmZmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2h1ZmZsZSc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vcG9wdXAnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCBTYWZlQXJlYSBmcm9tICcuLi9zYWZlLWFyZWEnO1xuaW1wb3J0IHsgdXNlTWVtb2l6ZWRGbiB9IGZyb20gJ2Fob29rcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9ICdhZG0tbnVtYmVyLWtleWJvYXJkJztcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdFZpc2libGU6IGZhbHNlLFxuICByYW5kb21PcmRlcjogZmFsc2UsXG4gIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgY29uZmlybVRleHQ6IG51bGwsXG4gIGNsb3NlT25Db25maXJtOiB0cnVlLFxuICBzYWZlQXJlYTogdHJ1ZVxufTtcbmV4cG9ydCBjb25zdCBOdW1iZXJLZXlib2FyZCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3Qge1xuICAgIHZpc2libGUsXG4gICAgdGl0bGUsXG4gICAgZ2V0Q29udGFpbmVyLFxuICAgIGNvbmZpcm1UZXh0LFxuICAgIGN1c3RvbUtleSxcbiAgICByYW5kb21PcmRlcixcbiAgICBzaG93Q2xvc2VCdXR0b24sXG4gICAgb25JbnB1dFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGtleWJvYXJkUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBrZXlzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdEtleXMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5J107XG4gICAgY29uc3Qga2V5TGlzdCA9IHJhbmRvbU9yZGVyID8gc2h1ZmZsZShkZWZhdWx0S2V5cykgOiBkZWZhdWx0S2V5cztcbiAgICBrZXlMaXN0LnB1c2goJzAnKTtcblxuICAgIGlmIChjb25maXJtVGV4dCkge1xuICAgICAga2V5TGlzdC5wdXNoKGN1c3RvbUtleSB8fCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleUxpc3Quc3BsaWNlKDksIDAsIGN1c3RvbUtleSB8fCAnJyk7XG4gICAgICBrZXlMaXN0LnB1c2goJ0JBQ0tTUEFDRScpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlMaXN0O1xuICB9LCBbY3VzdG9tS2V5LCBjb25maXJtVGV4dCwgcmFuZG9tT3JkZXIsIHJhbmRvbU9yZGVyICYmIHZpc2libGVdKTtcbiAgY29uc3QgdGltZW91dFJlZiA9IHVzZVJlZigtMSk7XG4gIGNvbnN0IGludGVydmFsUmVmID0gdXNlUmVmKC0xKTtcbiAgY29uc3Qgb25EZWxldGUgPSB1c2VNZW1vaXplZEZuKCgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICAoX2EgPSBwcm9wcy5vbkRlbGV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICB9KTtcblxuICBjb25zdCBvbkJhY2tzcGFjZVByZXNzU3RhcnQgPSAoKSA9PiB7XG4gICAgdGltZW91dFJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgb25EZWxldGUoKTtcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwob25EZWxldGUsIDE1MCk7XG4gICAgfSwgNzAwKTtcbiAgfTtcblxuICBjb25zdCBvbkJhY2tzcGFjZVByZXNzRW5kID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gIH07IC8vIOeCueWHu+mUruebmOaMiemUrlxuXG5cbiAgY29uc3Qgb25LZXlQcmVzcyA9IChlLCBrZXkpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgJ0JBQ0tTUEFDRSc6XG4gICAgICAgIG9uRGVsZXRlID09PSBudWxsIHx8IG9uRGVsZXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRlbGV0ZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnT0snOlxuICAgICAgICAoX2EgPSBwcm9wcy5vbkNvbmZpcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcblxuICAgICAgICBpZiAocHJvcHMuY2xvc2VPbkNvbmZpcm0pIHtcbiAgICAgICAgICAoX2IgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8g5b2TIGN1c3RvbUtleSDkuI3lrZjlnKjml7bvvIzngrnlh7vor6XplK7kuI3lupTor6Xop6blj5Egb25JbnB1dFxuICAgICAgICBpZiAoa2V5ICE9PSAnJykgb25JbnB1dCA9PT0gbnVsbCB8fCBvbklucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbklucHV0KGtleSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTsgLy8g5riy5p+TIHRpdGxlIOWSjCBjbG9zZSBidXR0b25cblxuXG4gIGNvbnN0IHJlbmRlckhlYWRlciA9ICgpID0+IHtcbiAgICBpZiAoIXNob3dDbG9zZUJ1dHRvbiAmJiAhdGl0bGUpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0taGVhZGVyYCwge1xuICAgICAgICAnd2l0aC10aXRsZSc6ICEhdGl0bGVcbiAgICAgIH0pXG4gICAgfSwgdGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aXRsZWBcbiAgICB9LCB0aXRsZSksIHNob3dDbG9zZUJ1dHRvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXItY2xvc2UtYnV0dG9uYCxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgIH0sXG4gICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgIHRpdGxlOiAnQ0xPU0UnXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChEb3duT3V0bGluZSwgbnVsbCkpKTtcbiAgfTsgLy8g5riy5p+T5Z+656GA6ZSu55uY5oyJ6ZSuXG5cblxuICBjb25zdCByZW5kZXJLZXkgPSAoa2V5LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGlzTnVtYmVyS2V5ID0gL15cXGQkLy50ZXN0KGtleSk7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0ta2V5YCwge1xuICAgICAgJ251bWJlci1rZXknOiBpc051bWJlcktleSxcbiAgICAgICdzaWduLWtleSc6ICFpc051bWJlcktleSAmJiBrZXksXG4gICAgICAnbWlkLWtleSc6IGluZGV4ID09PSA5ICYmICEhY29uZmlybVRleHRcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25Ub3VjaFN0YXJ0OiAoKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09ICdCQUNLU1BBQ0UnKSB7XG4gICAgICAgICAgb25CYWNrc3BhY2VQcmVzc1N0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblRvdWNoRW5kOiBlID0+IHtcbiAgICAgICAgb25LZXlQcmVzcyhlLCBrZXkpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdCQUNLU1BBQ0UnKSB7XG4gICAgICAgICAgb25CYWNrc3BhY2VQcmVzc0VuZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Nb3VzZVVwOiBlID0+IHtcbiAgICAgICAgb25LZXlQcmVzcyhlLCBrZXkpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiBrZXksXG4gICAgICByb2xlOiAnYnV0dG9uJ1xuICAgIH0sIGtleSA9PT0gJ0JBQ0tTUEFDRScgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHREZWxldGlvbk91dGxpbmUsIG51bGwpIDoga2V5KTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQb3B1cCwge1xuICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgZ2V0Q29udGFpbmVyOiBnZXRDb250YWluZXIsXG4gICAgbWFzazogZmFsc2UsXG4gICAgYWZ0ZXJDbG9zZTogcHJvcHMuYWZ0ZXJDbG9zZSxcbiAgICBhZnRlclNob3c6IHByb3BzLmFmdGVyU2hvdyxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1wb3B1cGAsXG4gICAgc3RvcFByb3BhZ2F0aW9uOiBwcm9wcy5zdG9wUHJvcGFnYXRpb25cbiAgfSwgd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGtleWJvYXJkUmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgb25Nb3VzZURvd246IGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwgcmVuZGVySGVhZGVyKCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXdyYXBwZXJgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tbWFpbmAsIHtcbiAgICAgICdjb25maXJtZWQtc3R5bGUnOiAhIWNvbmZpcm1UZXh0XG4gICAgfSlcbiAgfSwga2V5cy5tYXAocmVuZGVyS2V5KSksICEhY29uZmlybVRleHQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29uZmlybWBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0ta2V5IGV4dHJhLWtleSBicy1rZXlgLFxuICAgIG9uVG91Y2hTdGFydDogKCkgPT4ge1xuICAgICAgb25CYWNrc3BhY2VQcmVzc1N0YXJ0KCk7XG4gICAgfSxcbiAgICBvblRvdWNoRW5kOiBlID0+IHtcbiAgICAgIG9uS2V5UHJlc3MoZSwgJ0JBQ0tTUEFDRScpO1xuICAgICAgb25CYWNrc3BhY2VQcmVzc0VuZCgpO1xuICAgIH0sXG4gICAgb25Nb3VzZVVwOiBlID0+IG9uS2V5UHJlc3MoZSwgJ0JBQ0tTUEFDRScpLFxuICAgIHRpdGxlOiAnQkFDS1NQQUNFJyxcbiAgICByb2xlOiAnYnV0dG9uJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHREZWxldGlvbk91dGxpbmUsIG51bGwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0ta2V5IGV4dHJhLWtleSBvay1rZXlgLFxuICAgIG9uVG91Y2hFbmQ6IGUgPT4gb25LZXlQcmVzcyhlLCAnT0snKSxcbiAgICBvbk1vdXNlVXA6IGUgPT4gb25LZXlQcmVzcyhlLCAnT0snKSxcbiAgICByb2xlOiAnYnV0dG9uJ1xuICB9LCBjb25maXJtVGV4dCkpKSwgcHJvcHMuc2FmZUFyZWEgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZm9vdGVyYFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFNhZmVBcmVhLCB7XG4gICAgcG9zaXRpb246ICdib3R0b20nXG4gIH0pKSkpKTtcbn07IiwiaW1wb3J0IFwiLi9wYWdlLWluZGljYXRvci5jc3NcIjtcbmltcG9ydCB7IFBhZ2VJbmRpY2F0b3IgfSBmcm9tICcuL3BhZ2UtaW5kaWNhdG9yJztcbmV4cG9ydCBkZWZhdWx0IFBhZ2VJbmRpY2F0b3I7IiwiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1wYWdlLWluZGljYXRvcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbG9yOiAncHJpbWFyeScsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnXG59O1xuZXhwb3J0IGNvbnN0IFBhZ2VJbmRpY2F0b3IgPSBtZW1vKHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgZG90cyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMudG90YWw7IGkrKykge1xuICAgIGRvdHMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogaSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tZG90YCwge1xuICAgICAgICBbYCR7Y2xhc3NQcmVmaXh9LWRvdC1hY3RpdmVgXTogcHJvcHMuY3VycmVudCA9PT0gaVxuICAgICAgfSlcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIGAke2NsYXNzUHJlZml4fS0ke3Byb3BzLmRpcmVjdGlvbn1gLCBgJHtjbGFzc1ByZWZpeH0tY29sb3ItJHtwcm9wcy5jb2xvcn1gKVxuICB9LCBkb3RzKSk7XG59KTsiLCJpbXBvcnQgXCIuL3Bhc3Njb2RlLWlucHV0LmNzc1wiO1xuaW1wb3J0IHsgUGFzc2NvZGVJbnB1dCB9IGZyb20gJy4vcGFzc2NvZGUtaW5wdXQnO1xuZXhwb3J0IGRlZmF1bHQgUGFzc2NvZGVJbnB1dDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBib3VuZCB9IGZyb20gJy4uLy4uL3V0aWxzL2JvdW5kJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLXBhc3Njb2RlLWlucHV0JztcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgbGVuZ3RoOiA2LFxuICBwbGFpbjogZmFsc2UsXG4gIGVycm9yOiBmYWxzZSxcbiAgc2VwZXJhdGVkOiBmYWxzZSxcbiAgY2FyZXQ6IHRydWVcbn07XG5leHBvcnQgY29uc3QgUGFzc2NvZGVJbnB1dCA9IGZvcndhcmRSZWYoKHAsIHJlZikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTsgLy8g6Ziy5q2iIGxlbmd0aCDlgLzkuI3lkIjms5VcblxuICBjb25zdCBjZWxsTGVuZ3RoID0gcHJvcHMubGVuZ3RoID4gMCAmJiBwcm9wcy5sZW5ndGggPCBJbmZpbml0eSA/IE1hdGguZmxvb3IocHJvcHMubGVuZ3RoKSA6IGRlZmF1bHRQcm9wcy5sZW5ndGg7XG4gIGNvbnN0IFtmb2N1c2VkLCBzZXRGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHByb3BzKTtcbiAgY29uc3Qgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbmF0aXZlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+PSBjZWxsTGVuZ3RoKSB7XG4gICAgICAoX2EgPSBwcm9wcy5vbkZpbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2YWx1ZSk7XG4gICAgfVxuICB9LCBbcHJvcHMub25GaWxsLCB2YWx1ZSwgY2VsbExlbmd0aF0pO1xuXG4gIGNvbnN0IG9uRm9jdXMgPSAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIGlmICghcHJvcHMua2V5Ym9hcmQpIHtcbiAgICAgIChfYSA9IG5hdGl2ZUlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgIH1cblxuICAgIHNldEZvY3VzZWQodHJ1ZSk7XG4gICAgKF9iID0gcHJvcHMub25Gb2N1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFmb2N1c2VkKSByZXR1cm47XG4gICAgY29uc3QgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcm9vdFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBibG9jazogJ2NlbnRlcicsXG4gICAgICAgIGlubGluZTogJ2NlbnRlcicsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gICAgfSwgMTAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9O1xuICB9LCBbZm9jdXNlZF0pO1xuXG4gIGNvbnN0IG9uQmx1ciA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBzZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAoX2EgPSBwcm9wcy5vbkJsdXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgfTtcblxuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICBmb2N1czogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gKF9hID0gcm9vdFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9LFxuICAgIGJsdXI6ICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG5cbiAgICAgIChfYSA9IHJvb3RSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICAgIChfYiA9IG5hdGl2ZUlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ibHVyKCk7XG4gICAgfVxuICB9KSk7XG5cbiAgY29uc3QgcmVuZGVyQ2VsbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBjaGFycyA9IHZhbHVlLnNwbGl0KCcnKTtcbiAgICBjb25zdCBjYXJldEluZGV4ID0gY2hhcnMubGVuZ3RoOyAvLyDlhYnmoIfkvY3nva5pbmRleOetieS6juW9k+WJjeaWh+Wtl+mVv+W6plxuXG4gICAgY29uc3QgZm9jdXNlZEluZGV4ID0gYm91bmQoY2hhcnMubGVuZ3RoLCAwLCBjZWxsTGVuZ3RoIC0gMSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNlbGxMZW5ndGg7IGkrKykge1xuICAgICAgY2VsbHMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jZWxsYCwge1xuICAgICAgICAgIGNhcmV0OiBwcm9wcy5jYXJldCAmJiBjYXJldEluZGV4ID09PSBpICYmIGZvY3VzZWQsXG4gICAgICAgICAgZm9jdXNlZDogZm9jdXNlZEluZGV4ID09PSBpICYmIGZvY3VzZWQsXG4gICAgICAgICAgZG90OiAhcHJvcHMucGxhaW4gJiYgY2hhcnNbaV1cbiAgICAgICAgfSksXG4gICAgICAgIGtleTogaVxuICAgICAgfSwgY2hhcnNbaV0gJiYgcHJvcHMucGxhaW4gPyBjaGFyc1tpXSA6ICcnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNlbGxzO1xuICB9O1xuXG4gIGNvbnN0IGNscyA9IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIHtcbiAgICBmb2N1c2VkOiBmb2N1c2VkLFxuICAgIGVycm9yOiBwcm9wcy5lcnJvcixcbiAgICBzZXBlcmF0ZWQ6IHByb3BzLnNlcGVyYXRlZFxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiByb290UmVmLFxuICAgIHRhYkluZGV4OiAwLFxuICAgIGNsYXNzTmFtZTogY2xzLFxuICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgb25CbHVyOiBvbkJsdXJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2VsbC1jb250YWluZXJgXG4gIH0sIHJlbmRlckNlbGxzKCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIHJlZjogbmF0aXZlSW5wdXRSZWYsXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbmF0aXZlLWlucHV0YCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgdHlwZTogJ3RleHQnLFxuICAgIHBhdHRlcm46ICdbMC05XSonLFxuICAgIGlucHV0TW9kZTogJ251bWVyaWMnLFxuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlLnNsaWNlKDAsIHByb3BzLmxlbmd0aCkpO1xuICAgIH1cbiAgfSkpKSwgcHJvcHMua2V5Ym9hcmQgJiYgUmVhY3QuY2xvbmVFbGVtZW50KHByb3BzLmtleWJvYXJkLCB7XG4gICAgdmlzaWJsZTogZm9jdXNlZCxcbiAgICBvbklucHV0OiB2ID0+IHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCBjZWxsTGVuZ3RoKSB7XG4gICAgICAgIHNldFZhbHVlKCh2YWx1ZSArIHYpLnNsaWNlKDAsIHByb3BzLmxlbmd0aCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25EZWxldGU6ICgpID0+IHtcbiAgICAgIHNldFZhbHVlKHZhbHVlLnNsaWNlKDAsIC0xKSk7XG4gICAgfSxcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHJvb3RSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9XG4gIH0pKTtcbn0pOyIsImltcG9ydCB7IFBpY2tlclZpZXcgfSBmcm9tICcuL3BpY2tlci12aWV3JztcbmltcG9ydCBcIi4vcGlja2VyLXZpZXcuY3NzXCI7XG5leHBvcnQgZGVmYXVsdCBQaWNrZXJWaWV3OyIsImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgV2hlZWwgfSBmcm9tICcuL3doZWVsJztcbmltcG9ydCB7IHVzZUNvbHVtbnMgfSBmcm9tICcuL3VzZS1jb2x1bW5zJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQaWNrZXJWYWx1ZUV4dGVuZCB9IGZyb20gJy4vdXNlLXBpY2tlci12YWx1ZS1leHRlbmQnO1xuaW1wb3J0IHsgdXNlRGVib3VuY2VFZmZlY3QgfSBmcm9tICdhaG9va3MnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXBpY2tlci12aWV3YDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdFZhbHVlOiBbXVxufTtcbmV4cG9ydCBjb25zdCBQaWNrZXJWaWV3ID0gbWVtbyhwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IFtpbm5lclZhbHVlLCBzZXRJbm5lclZhbHVlXSA9IHVzZVN0YXRlKHByb3BzLnZhbHVlID09PSB1bmRlZmluZWQgPyBwcm9wcy5kZWZhdWx0VmFsdWUgOiBwcm9wcy52YWx1ZSk7XG4gIHVzZURlYm91bmNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAocHJvcHMudmFsdWUgPT09IGlubmVyVmFsdWUpIHJldHVybjtcbiAgICAoX2EgPSBwcm9wcy5vbkNoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGlubmVyVmFsdWUsIGdlbmVyYXRlVmFsdWVFeHRlbmQoaW5uZXJWYWx1ZSkpO1xuICB9LCBbaW5uZXJWYWx1ZV0sIHtcbiAgICB3YWl0OiAwLFxuICAgIGxlYWRpbmc6IGZhbHNlLFxuICAgIHRyYWlsaW5nOiB0cnVlXG4gIH0pOyAvLyBTeW5jIGB2YWx1ZWAgdG8gYGlubmVyVmFsdWVgXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMudmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyAvLyBVbmNvbnRyb2xsZWQgbW9kZVxuXG4gICAgaWYgKHByb3BzLnZhbHVlID09PSBpbm5lclZhbHVlKSByZXR1cm47XG4gICAgc2V0SW5uZXJWYWx1ZShwcm9wcy52YWx1ZSk7XG4gIH0sIFtwcm9wcy52YWx1ZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9wcy52YWx1ZSA9PT0gaW5uZXJWYWx1ZSkgcmV0dXJuO1xuICAgIGNvbnN0IHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy52YWx1ZSAhPT0gaW5uZXJWYWx1ZSkge1xuICAgICAgICBzZXRJbm5lclZhbHVlKHByb3BzLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9O1xuICB9LCBbcHJvcHMudmFsdWUsIGlubmVyVmFsdWVdKTtcbiAgY29uc3QgY29sdW1ucyA9IHVzZUNvbHVtbnMocHJvcHMuY29sdW1ucywgaW5uZXJWYWx1ZSk7XG4gIGNvbnN0IGdlbmVyYXRlVmFsdWVFeHRlbmQgPSB1c2VQaWNrZXJWYWx1ZUV4dGVuZChjb2x1bW5zKTtcbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKHZhbCwgaW5kZXgpID0+IHtcbiAgICBzZXRJbm5lclZhbHVlKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgIG5leHRbaW5kZXhdID0gdmFsO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH1gXG4gIH0sIGNvbHVtbnMubWFwKChjb2x1bW4sIGluZGV4KSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFdoZWVsLCB7XG4gICAga2V5OiBpbmRleCxcbiAgICBpbmRleDogaW5kZXgsXG4gICAgY29sdW1uOiBjb2x1bW4sXG4gICAgdmFsdWU6IGlubmVyVmFsdWVbaW5kZXhdLFxuICAgIG9uU2VsZWN0OiBoYW5kbGVTZWxlY3RcbiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1tYXNrYFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1tYXNrLXRvcGBcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LW1hc2stbWlkZGxlYFxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tbWFzay1ib3R0b21gXG4gIH0pKSkpO1xufSk7XG5QaWNrZXJWaWV3LmRpc3BsYXlOYW1lID0gJ1BpY2tlclZpZXcnOyIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ29sdW1ucyhyYXdDb2x1bW5zLCB2YWx1ZSkge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY29sdW1ucyA9IHR5cGVvZiByYXdDb2x1bW5zID09PSAnZnVuY3Rpb24nID8gcmF3Q29sdW1ucyh2YWx1ZSkgOiByYXdDb2x1bW5zO1xuICAgIHJldHVybiBjb2x1bW5zLm1hcChjb2x1bW4gPT4gY29sdW1uLm1hcChpdGVtID0+IHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyA/IHtcbiAgICAgIGxhYmVsOiBpdGVtLFxuICAgICAgdmFsdWU6IGl0ZW1cbiAgICB9IDogaXRlbSkpO1xuICB9LCBbcmF3Q29sdW1ucywgdmFsdWVdKTtcbn0iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbG9kYXNoL21lbW9pemUnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBpY2tlclZhbHVlRXh0ZW5kKGNvbHVtbnMpIHtcbiAgY29uc3QgZ2VuZXJhdGVJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBtZW1vaXplKHZhbCA9PiB7XG4gICAgICByZXR1cm4gdmFsLm1hcCgodiwgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbaW5kZXhdO1xuICAgICAgICBpZiAoIWNvbHVtbikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiAoX2EgPSBjb2x1bW4uZmluZChpdGVtID0+IGl0ZW0udmFsdWUgPT09IHYpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgICAgfSk7XG4gICAgfSwgdmFsID0+IEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICB9LCBbY29sdW1uc10pO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlVmFsdWVFeHRlbmQodmFsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlSXRlbXModmFsKTtcbiAgICAgIH1cblxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdGVWYWx1ZUV4dGVuZDtcbn0iLCJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJ0B1c2UtZ2VzdHVyZS9yZWFjdCc7XG5pbXBvcnQgeyBjb252ZXJ0UHggfSBmcm9tICcuLi8uLi91dGlscy9jb252ZXJ0LXB4JztcbmltcG9ydCB7IHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcnViYmVyYmFuZCc7XG5pbXBvcnQgeyBib3VuZCB9IGZyb20gJy4uLy4uL3V0aWxzL2JvdW5kJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1waWNrZXItdmlld2A7XG5leHBvcnQgY29uc3QgV2hlZWwgPSBtZW1vKHByb3BzID0+IHtcbiAgY29uc3QgaXRlbUhlaWdodCA9IGNvbnZlcnRQeCgzNCk7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZSxcbiAgICBjb2x1bW5cbiAgfSA9IHByb3BzO1xuXG4gIGZ1bmN0aW9uIG9uU2VsZWN0KHZhbCkge1xuICAgIHByb3BzLm9uU2VsZWN0KHZhbCwgcHJvcHMuaW5kZXgpO1xuICB9XG5cbiAgY29uc3QgW3tcbiAgICB5XG4gIH0sIGFwaV0gPSB1c2VTcHJpbmcoKCkgPT4gKHtcbiAgICBmcm9tOiB7XG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDQwMCxcbiAgICAgIG1hc3M6IDAuOFxuICAgIH1cbiAgfSkpO1xuICBjb25zdCBkcmFnZ2luZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRyYWdnaW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSBjb2x1bW4uZmluZEluZGV4KGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIGlmICh0YXJnZXRJbmRleCA8IDApIHJldHVybjtcbiAgICBjb25zdCBmaW5hbFBvc2l0aW9uID0gdGFyZ2V0SW5kZXggKiAtaXRlbUhlaWdodDtcbiAgICBhcGkuc3RhcnQoe1xuICAgICAgeTogZmluYWxQb3NpdGlvbixcbiAgICAgIGltbWVkaWF0ZTogeS5nb2FsICE9PSBmaW5hbFBvc2l0aW9uXG4gICAgfSk7XG4gIH0sIFt2YWx1ZSwgY29sdW1uXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbHVtbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvblNlbGVjdChudWxsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjb2x1bW4uc29tZShpdGVtID0+IGl0ZW0udmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBjb2x1bW5bMF07XG4gICAgICAgIG9uU2VsZWN0KGZpcnN0SXRlbS52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29sdW1uLCB2YWx1ZV0pO1xuXG4gIGZ1bmN0aW9uIHNjcm9sbFNlbGVjdChpbmRleCkge1xuICAgIGNvbnN0IGZpbmFsUG9zaXRpb24gPSBpbmRleCAqIC1pdGVtSGVpZ2h0O1xuICAgIGFwaS5zdGFydCh7XG4gICAgICB5OiBmaW5hbFBvc2l0aW9uXG4gICAgfSk7XG4gICAgY29uc3QgaXRlbSA9IGNvbHVtbltpbmRleF07XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgb25TZWxlY3QoaXRlbS52YWx1ZSk7XG4gIH1cblxuICBjb25zdCBiaW5kID0gdXNlRHJhZyhzdGF0ZSA9PiB7XG4gICAgZHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgY29uc3QgbWluID0gLSgoY29sdW1uLmxlbmd0aCAtIDEpICogaXRlbUhlaWdodCk7XG4gICAgY29uc3QgbWF4ID0gMDtcblxuICAgIGlmIChzdGF0ZS5sYXN0KSB7XG4gICAgICBkcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHN0YXRlLm9mZnNldFsxXSArIHN0YXRlLnZlbG9jaXR5WzFdICogc3RhdGUuZGlyZWN0aW9uWzFdICogNTA7XG4gICAgICBjb25zdCB0YXJnZXRJbmRleCA9IG1pbiA8IG1heCA/IC1NYXRoLnJvdW5kKGJvdW5kKHBvc2l0aW9uLCBtaW4sIG1heCkgLyBpdGVtSGVpZ2h0KSA6IDA7XG4gICAgICBzY3JvbGxTZWxlY3QodGFyZ2V0SW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHN0YXRlLm9mZnNldFsxXTtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIHk6IHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzKHBvc2l0aW9uLCBtaW4sIG1heCwgaXRlbUhlaWdodCAqIDUwLCAwLjIpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBheGlzOiAneScsXG4gICAgZnJvbTogKCkgPT4gWzAsIHkuZ2V0KCldLFxuICAgIGZpbHRlclRhcHM6IHRydWUsXG4gICAgcG9pbnRlcjoge1xuICAgICAgdG91Y2g6IHRydWVcbiAgICB9XG4gIH0pO1xuICBsZXQgc2VsZWN0ZWRJbmRleCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gcmVuZGVyQWNjZXNzaWJsZSgpIHtcbiAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudCA9IGNvbHVtbltzZWxlY3RlZEluZGV4XTtcbiAgICBjb25zdCBwcmV2aW91c0luZGV4ID0gc2VsZWN0ZWRJbmRleCAtIDE7XG4gICAgY29uc3QgbmV4dEluZGV4ID0gc2VsZWN0ZWRJbmRleCArIDE7XG4gICAgY29uc3QgcHJldmlvdXMgPSBjb2x1bW5bcHJldmlvdXNJbmRleF07XG4gICAgY29uc3QgbmV4dCA9IGNvbHVtbltuZXh0SW5kZXhdO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2FkbS1waWNrZXItdmlldy1jb2x1bW4tYWNjZXNzaWJsZSdcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2FkbS1waWNrZXItdmlldy1jb2x1bW4tYWNjZXNzaWJsZS1jdXJyZW50JyxcbiAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGN1cnJlbnQgPyBg5b2T5YmN6YCJ5oup55qE5piv77yaJHtjdXJyZW50LmxhYmVsfWAgOiAn5b2T5YmN5pyq6YCJ5oupJ1xuICAgIH0sIFwiLVwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBwcmV2aW91cyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2FkbS1waWNrZXItdmlldy1jb2x1bW4tYWNjZXNzaWJsZS1idXR0b24nLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzY3JvbGxTZWxlY3QocHJldmlvdXNJbmRleCk7XG4gICAgICB9LFxuICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICBcImFyaWEtbGFiZWxcIjogYOmAieaLqeS4iuS4gOmhue+8miR7cHJldmlvdXMubGFiZWx9YFxuICAgIH0sIFwiLVwiKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgbmV4dCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2FkbS1waWNrZXItdmlldy1jb2x1bW4tYWNjZXNzaWJsZS1idXR0b24nLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzY3JvbGxTZWxlY3QobmV4dEluZGV4KTtcbiAgICAgIH0sXG4gICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBg6YCJ5oup5LiL5LiA6aG577yaJHtuZXh0LmxhYmVsfWBcbiAgICB9LCBcIi1cIikpKTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbHVtbmBcbiAgfSwgYmluZCgpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBzdHlsZToge1xuICAgICAgeVxuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29sdW1uLXdoZWVsYCxcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRydWVcbiAgfSwgY29sdW1uLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHByb3BzLnZhbHVlID09PSBpdGVtLnZhbHVlO1xuICAgIGlmIChzZWxlY3RlZCkgc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICBkcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBzY3JvbGxTZWxlY3QoaW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogaXRlbS52YWx1ZSxcbiAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiBpdGVtLnZhbHVlID09PSB2YWx1ZSxcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbHVtbi1pdGVtYCxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiAhc2VsZWN0ZWQsXG4gICAgICBcImFyaWEtbGFiZWxcIjogc2VsZWN0ZWQgPyAnYWN0aXZlJyA6ICcnXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb2x1bW4taXRlbS1sYWJlbGBcbiAgICB9LCBpdGVtLmxhYmVsKSk7XG4gIH0pKSwgcmVuZGVyQWNjZXNzaWJsZSgpKTtcbn0sIChwcmV2LCBuZXh0KSA9PiB7XG4gIGlmIChwcmV2LmluZGV4ICE9PSBuZXh0LmluZGV4KSByZXR1cm4gZmFsc2U7XG4gIGlmIChwcmV2LnZhbHVlICE9PSBuZXh0LnZhbHVlKSByZXR1cm4gZmFsc2U7XG4gIGlmIChwcmV2Lm9uU2VsZWN0ICE9PSBuZXh0Lm9uU2VsZWN0KSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKCFpc0VxdWFsKHByZXYuY29sdW1uLCBuZXh0LmNvbHVtbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0pO1xuV2hlZWwuZGlzcGxheU5hbWUgPSAnV2hlZWwnOyIsImltcG9ydCBcIi4vcGlja2VyLmNzc1wiO1xuaW1wb3J0IHsgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXR0YWNoLXByb3BlcnRpZXMtdG8tY29tcG9uZW50JztcbmltcG9ydCB7IFBpY2tlciB9IGZyb20gJy4vcGlja2VyJztcbmltcG9ydCB7IHByb21wdCB9IGZyb20gJy4vcHJvbXB0JztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChQaWNrZXIsIHtcbiAgcHJvbXB0XG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9wb3B1cCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCBQaWNrZXJWaWV3IGZyb20gJy4uL3BpY2tlci12aWV3JztcbmltcG9ydCB7IHVzZUNvbHVtbnMgfSBmcm9tICcuLi9waWNrZXItdmlldy91c2UtY29sdW1ucyc7XG5pbXBvcnQgeyB1c2VDb25maWcgfSBmcm9tICcuLi9jb25maWctcHJvdmlkZXInO1xuaW1wb3J0IHsgdXNlUGlja2VyVmFsdWVFeHRlbmQgfSBmcm9tICcuLi9waWNrZXItdmlldy91c2UtcGlja2VyLXZhbHVlLWV4dGVuZCc7XG5pbXBvcnQgeyB1c2VNZW1vaXplZEZuIH0gZnJvbSAnYWhvb2tzJztcbmltcG9ydCBTYWZlQXJlYSBmcm9tICcuLi9zYWZlLWFyZWEnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXBpY2tlcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRWYWx1ZTogW11cbn07XG5leHBvcnQgY29uc3QgUGlja2VyID0gbWVtbyhwID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUNvbmZpZygpO1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCB7XG4gICAgY29uZmlybVRleHQ6IGxvY2FsZS5jb21tb24uY29uZmlybSxcbiAgICBjYW5jZWxUZXh0OiBsb2NhbGUuY29tbW9uLmNhbmNlbFxuICB9LCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCB7XG4gICAgb25DaGFuZ2U6IHZhbCA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQ29uZmlybSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZ2VuZXJhdGVWYWx1ZUV4dGVuZCh2YWwpKTtcbiAgICB9XG4gIH0pKTsgLy8gVE9ETzogY29sdW1ucyBnZW5lcmF0ZWQgdHdpY2UgaW4gUGlja2VyIGFuZCBQaWNrZXJWaWV3LCB3aGljaCBjYW4gYmUgaW1wcm92ZWRcblxuICBjb25zdCBjb2x1bW5zID0gdXNlQ29sdW1ucyhwcm9wcy5jb2x1bW5zLCB2YWx1ZSk7XG4gIGNvbnN0IGdlbmVyYXRlVmFsdWVFeHRlbmQgPSB1c2VQaWNrZXJWYWx1ZUV4dGVuZChjb2x1bW5zKTtcbiAgY29uc3QgW2lubmVyVmFsdWUsIHNldElubmVyVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbm5lclZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgc2V0SW5uZXJWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9LCBbcHJvcHMudmlzaWJsZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcHJvcHMudmlzaWJsZSkge1xuICAgICAgc2V0SW5uZXJWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9LCBbdmFsdWVdKTtcbiAgY29uc3Qgb25DaGFuZ2UgPSB1c2VNZW1vaXplZEZuKCh2YWwsIGV4dCkgPT4ge1xuICAgIHZhciBfYTtcblxuICAgIHNldElubmVyVmFsdWUodmFsKTtcblxuICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG4gICAgICAoX2EgPSBwcm9wcy5vblNlbGVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZXh0KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBwaWNrZXJFbGVtZW50ID0gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci1idXR0b25gLFxuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQ2FuY2VsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAoX2IgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcyk7XG4gICAgfVxuICB9LCBwcm9wcy5jYW5jZWxUZXh0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taGVhZGVyLXRpdGxlYFxuICB9LCBwcm9wcy50aXRsZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1oZWFkZXItYnV0dG9uYCxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHNldFZhbHVlKGlubmVyVmFsdWUpO1xuICAgICAgKF9hID0gcHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgIH1cbiAgfSwgcHJvcHMuY29uZmlybVRleHQpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tYm9keWBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQaWNrZXJWaWV3LCB7XG4gICAgY29sdW1uczogcHJvcHMuY29sdW1ucyxcbiAgICB2YWx1ZTogaW5uZXJWYWx1ZSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSkpKSk7XG4gIGNvbnN0IHBvcHVwRWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXAsIHtcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICBvbk1hc2tDbGljazogKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgKF9hID0gcHJvcHMub25DYW5jZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgIChfYiA9IHByb3BzLm9uQ2xvc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHByb3BzKTtcbiAgICB9LFxuICAgIGdldENvbnRhaW5lcjogcHJvcHMuZ2V0Q29udGFpbmVyLFxuICAgIGRlc3Ryb3lPbkNsb3NlOiB0cnVlLFxuICAgIGFmdGVyU2hvdzogcHJvcHMuYWZ0ZXJTaG93LFxuICAgIGFmdGVyQ2xvc2U6IHByb3BzLmFmdGVyQ2xvc2UsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBmb3JjZVJlbmRlcjogdHJ1ZSxcbiAgICBzdG9wUHJvcGFnYXRpb246IHByb3BzLnN0b3BQcm9wYWdhdGlvblxuICB9LCBwaWNrZXJFbGVtZW50LCBSZWFjdC5jcmVhdGVFbGVtZW50KFNhZmVBcmVhLCB7XG4gICAgcG9zaXRpb246ICdib3R0b20nXG4gIH0pKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHBvcHVwRWxlbWVudCwgKF9hID0gcHJvcHMuY2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBnZW5lcmF0ZVZhbHVlRXh0ZW5kKHZhbHVlKS5pdGVtcykpO1xufSk7XG5QaWNrZXIuZGlzcGxheU5hbWUgPSAnUGlja2VyJzsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlclRvQm9keSB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1ib2R5JztcbmltcG9ydCB7IFBpY2tlciB9IGZyb20gJy4vcGlja2VyJztcbmV4cG9ydCBmdW5jdGlvbiBwcm9tcHQocHJvcHMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IFdyYXBwZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgfSwgW10pO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGlja2VyLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBvbkNvbmZpcm06ICh2YWwsIGV4dGVuZCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIChfYSA9IHByb3BzLm9uQ29uZmlybSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHZhbCwgZXh0ZW5kKTtcbiAgICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG5cbiAgICAgICAgICAoX2EgPSBwcm9wcy5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcyk7XG4gICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcblxuICAgICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgICB1bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdW5tb3VudCA9IHJlbmRlclRvQm9keShSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIG51bGwpKTtcbiAgfSk7XG59IiwiaW1wb3J0IFwiLi9wb3BvdmVyLmNzc1wiO1xuaW1wb3J0IHsgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXR0YWNoLXByb3BlcnRpZXMtdG8tY29tcG9uZW50JztcbmltcG9ydCB7IFBvcE1lbnUgfSBmcm9tICcuL3BvcC1tZW51JztcbmltcG9ydCB7IFBvcG92ZXIgfSBmcm9tICcuL3BvcG92ZXInO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KFBvcG92ZXIsIHtcbiAgTWVudTogUG9wTWVudVxufSk7IiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUNhbGxiYWNrLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcbmltcG9ydCB7IFBvcG92ZXIgfSBmcm9tICcuL3BvcG92ZXInO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXBvcG92ZXJgO1xuZXhwb3J0IGNvbnN0IFBvcE1lbnUgPSBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IGlubmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gaW5uZXJSZWYuY3VycmVudCwgW10pO1xuICBjb25zdCBvbkNsaWNrID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgY29uc3Qge1xuICAgICAgb25BY3Rpb25cbiAgICB9ID0gcHJvcHM7XG5cbiAgICBpZiAob25BY3Rpb24pIHtcbiAgICAgIG9uQWN0aW9uKGUpO1xuICAgIH1cblxuICAgIChfYSA9IGlubmVyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oaWRlKCk7XG4gIH0sIFtwcm9wcy5vbkFjdGlvbl0pO1xuICBjb25zdCBvdmVybGF5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChwcm9wcy5hY3Rpb25zIHx8IFtdKS5tYXAoKGVsZSwgaW5kZXgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWlubmVyLW1lbnVgLCB7XG4gICAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1pbm5lci1tZW51LXdpdGgtaWNvbmBdOiAhIWVsZS5pY29uXG4gICAgICAgIH0pLFxuICAgICAgICBrZXk6IChfYSA9IGVsZS5rZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGluZGV4XG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBkaXNhYmxlZDogZWxlLmRpc2FibGVkLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgICAgaWYgKCFlbGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZWxlKTtcbiAgICAgICAgICAgIChfYSA9IGVsZS5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChlbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBibG9jazogdHJ1ZVxuICAgICAgfSwgZWxlLmljb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbm5lci1tZW51LWljb25gXG4gICAgICB9LCBlbGUuaWNvbiksIGVsZS50ZXh0KSk7XG4gICAgfSkpO1xuICB9LCBbcHJvcHMuYWN0aW9ucywgb25DbGlja10pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCBPYmplY3QuYXNzaWduKHtcbiAgICByZWY6IGlubmVyUmVmXG4gIH0sIHByb3BzLCB7XG4gICAgb3ZlcmxheUNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tbWVudWAsIHByb3BzLm92ZXJsYXlDbGFzc05hbWUpLFxuICAgIGNvbnRlbnQ6IG92ZXJsYXlcbiAgfSksIHByb3BzLmNoaWxkcmVuKTtcbn0pOyIsImltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAncmMtdG9vbHRpcCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1zdG9wLXByb3BhZ2F0aW9uJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1wb3BvdmVyYDtcbmNvbnN0IGVudGVyQ2xhc3NOYW1lID0gJ2VudGVyaW5nJztcbmNvbnN0IGxlYXZlQ2xhc3NOYW1lID0gJ2xlYXZpbmcnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0VmlzaWJsZTogZmFsc2UsXG4gIHN0b3BQcm9wYWdhdGlvbjogWydjbGljayddXG59O1xuZXhwb3J0IGNvbnN0IFBvcG92ZXIgPSBmb3J3YXJkUmVmKChwLCByZWYpID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgbW9kZSA9ICdsaWdodCdcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMudmlzaWJsZSxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRWaXNpYmxlLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vblZpc2libGVDaGFuZ2VcbiAgfSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3c6ICgpID0+IHNldFZpc2libGUodHJ1ZSksXG4gICAgICBoaWRlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSxcbiAgICAgIHZpc2libGVcbiAgICB9O1xuICB9LCBbdmlzaWJsZV0pO1xuICByZXR1cm4gd2l0aFN0b3BQcm9wYWdhdGlvbihwcm9wcy5zdG9wUHJvcGFnYXRpb24sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBvdmVybGF5Q2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS0ke21vZGV9YCwgcHJvcHMub3ZlcmxheUNsYXNzTmFtZSksXG4gICAgZGVzdHJveVRvb2x0aXBPbkhpZGU6IHByb3BzLmRlc3Ryb3lPbkhpZGUsXG4gICAgcHJlZml4Q2xzOiBjbGFzc1ByZWZpeCxcbiAgICBnZXRUb29sdGlwQ29udGFpbmVyOiBwcm9wcy5nZXRDb250YWluZXIgfHwgKCgpID0+IGRvY3VtZW50LmJvZHkpLFxuICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgYXJyb3dDb250ZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1hcnJvdy1jb250ZW50YFxuICAgIH0pLFxuICAgIG9uVmlzaWJsZUNoYW5nZTogc2V0VmlzaWJsZSxcbiAgICB0cmlnZ2VyOiAoX2EgPSBwcm9wcy50cmlnZ2VyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICBtb3Rpb246IHtcbiAgICAgIG1vdGlvbk5hbWU6IHtcbiAgICAgICAgYXBwZWFyOiBlbnRlckNsYXNzTmFtZSxcbiAgICAgICAgYXBwZWFyQWN0aXZlOiBlbnRlckNsYXNzTmFtZSxcbiAgICAgICAgZW50ZXI6IGVudGVyQ2xhc3NOYW1lLFxuICAgICAgICBlbnRlckFjdGl2ZTogZW50ZXJDbGFzc05hbWUsXG4gICAgICAgIGxlYXZlQWN0aXZlOiBsZWF2ZUNsYXNzTmFtZSxcbiAgICAgICAgbGVhdmU6IGxlYXZlQ2xhc3NOYW1lXG4gICAgICB9LFxuICAgICAgbW90aW9uRGVhZGxpbmU6IDIwMFxuICAgIH0sXG4gICAgb3ZlcmxheTogUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbm5lci1jb250ZW50YFxuICAgIH0sIHByb3BzLmNvbnRlbnQpXG4gIH0pLCBwcm9wcy5jaGlsZHJlbikpO1xufSk7IiwiaW1wb3J0IFwiLi9wb3B1cC5jc3NcIjtcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9wb3B1cCc7XG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVW5tb3VudGVkUmVmIH0gZnJvbSAnYWhvb2tzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBNYXNrIGZyb20gJy4uL21hc2snO1xuaW1wb3J0IHsgdXNlTG9ja1Njcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1sb2NrLXNjcm9sbCc7XG5pbXBvcnQgeyByZW5kZXJUb0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci10by1jb250YWluZXInO1xuaW1wb3J0IHsgdXNlU3ByaW5nLCBhbmltYXRlZCB9IGZyb20gJ0ByZWFjdC1zcHJpbmcvd2ViJztcbmltcG9ydCB7IHVzZVNob3VsZFJlbmRlciB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1zaG91bGQtcmVuZGVyJztcbmltcG9ydCB7IHdpdGhTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy93aXRoLXN0b3AtcHJvcGFnYXRpb24nO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXBvcHVwYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgcG9zaXRpb246ICdib3R0b20nLFxuICB2aXNpYmxlOiBmYWxzZSxcbiAgZ2V0Q29udGFpbmVyOiAoKSA9PiBkb2N1bWVudC5ib2R5LFxuICBtYXNrOiB0cnVlLFxuICBzdG9wUHJvcGFnYXRpb246IFsnY2xpY2snXVxufTtcbmV4cG9ydCBjb25zdCBQb3B1cCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgYm9keUNscyA9IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWJvZHlgLCBwcm9wcy5ib2R5Q2xhc3NOYW1lLCBgJHtjbGFzc1ByZWZpeH0tYm9keS1wb3NpdGlvbi0ke3Byb3BzLnBvc2l0aW9ufWApO1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShwcm9wcy52aXNpYmxlKTtcbiAgdXNlTG9ja1Njcm9sbChyZWYsIGFjdGl2ZSk7XG4gIGNvbnN0IHNob3VsZFJlbmRlciA9IHVzZVNob3VsZFJlbmRlcihhY3RpdmUsIHByb3BzLmZvcmNlUmVuZGVyLCBwcm9wcy5kZXN0cm95T25DbG9zZSk7XG4gIGNvbnN0IHVubW91bnRlZFJlZiA9IHVzZVVubW91bnRlZFJlZigpO1xuICBjb25zdCB7XG4gICAgcGVyY2VudFxuICB9ID0gdXNlU3ByaW5nKHtcbiAgICBwZXJjZW50OiBwcm9wcy52aXNpYmxlID8gMCA6IDEwMCxcbiAgICBjb25maWc6IHtcbiAgICAgIHByZWNpc2lvbjogMC4xLFxuICAgICAgbWFzczogMC40LFxuICAgICAgdGVuc2lvbjogMzAwLFxuICAgICAgZnJpY3Rpb246IDMwXG4gICAgfSxcbiAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICBzZXRBY3RpdmUodHJ1ZSk7XG4gICAgfSxcbiAgICBvblJlc3Q6ICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG5cbiAgICAgIGlmICh1bm1vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgc2V0QWN0aXZlKHByb3BzLnZpc2libGUpO1xuXG4gICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuICAgICAgICAoX2EgPSBwcm9wcy5hZnRlclNob3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChfYiA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBub2RlID0gd2l0aFN0b3BQcm9wYWdhdGlvbihwcm9wcy5zdG9wUHJvcGFnYXRpb24sIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeCxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiBhY3RpdmUgPyAndW5zZXQnIDogJ25vbmUnXG4gICAgfVxuICB9LCBwcm9wcy5tYXNrICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFzaywge1xuICAgIHZpc2libGU6IHByb3BzLnZpc2libGUsXG4gICAgb25NYXNrQ2xpY2s6IHByb3BzLm9uTWFza0NsaWNrLFxuICAgIGNsYXNzTmFtZTogcHJvcHMubWFza0NsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMubWFza1N0eWxlLFxuICAgIGRpc2FibGVCb2R5U2Nyb2xsOiBmYWxzZSxcbiAgICBzdG9wUHJvcGFnYXRpb246IHByb3BzLnN0b3BQcm9wYWdhdGlvblxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBjbGFzc05hbWU6IGJvZHlDbHMsXG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMuYm9keVN0eWxlKSwge1xuICAgICAgdHJhbnNmb3JtOiBwZXJjZW50LnRvKHYgPT4ge1xuICAgICAgICBpZiAocHJvcHMucG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoMCwgJHt2fSUpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wcy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICByZXR1cm4gYHRyYW5zbGF0ZSgwLCAtJHt2fSUpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wcy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoLSR7dn0lLCAwKWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcHMucG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke3Z9JSwgMClgO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pXG4gICAgfSksXG4gICAgcmVmOiByZWZcbiAgfSwgc2hvdWxkUmVuZGVyICYmIHByb3BzLmNoaWxkcmVuKSkpKTtcbiAgcmV0dXJuIHJlbmRlclRvQ29udGFpbmVyKHByb3BzLmdldENvbnRhaW5lciwgbm9kZSk7XG59OyIsImltcG9ydCBcIi4vcHJvZ3Jlc3MtYmFyLmNzc1wiO1xuaW1wb3J0IHsgUHJvZ3Jlc3NCYXIgfSBmcm9tICcuL3Byb2dyZXNzLWJhcic7XG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXByb2dyZXNzLWJhcmA7XG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NCYXIgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKHtcbiAgICBwZXJjZW50OiAwXG4gIH0sIHApO1xuICBjb25zdCBmaWxsU3R5bGUgPSB7XG4gICAgd2lkdGg6IGAke3Byb3BzLnBlcmNlbnR9JWBcbiAgfTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10cmFpbGBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZmlsbGAsXG4gICAgc3R5bGU6IGZpbGxTdHlsZVxuICB9KSkpKTtcbn07IiwiaW1wb3J0IFwiLi9wcm9ncmVzcy1jaXJjbGUuY3NzXCI7XG5pbXBvcnQgeyBQcm9ncmVzc0NpcmNsZSB9IGZyb20gJy4vcHJvZ3Jlc3MtY2lyY2xlJztcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzQ2lyY2xlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tcHJvZ3Jlc3MtY2lyY2xlYDtcbmV4cG9ydCBjb25zdCBQcm9ncmVzc0NpcmNsZSA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoe1xuICAgIHBlcmNlbnQ6IDAsXG4gICAgc3Ryb2tlQ29sb3I6ICcjMTY3N0ZGJ1xuICB9LCBwKTtcbiAgY29uc3Qgc3R5bGUgPSB7XG4gICAgJy0tcGVyY2VudCc6IHByb3BzLnBlcmNlbnQudG9TdHJpbmcoKVxuICB9O1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fWAsXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXN2Z2BcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdHJhY2tgLFxuICAgIGZpbGw6ICd0cmFuc3BhcmVudCdcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWZpbGxgLFxuICAgIGZpbGw6ICd0cmFuc3BhcmVudCdcbiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbmZvYFxuICB9LCBwcm9wcy5jaGlsZHJlbikpKSk7XG59OyIsImltcG9ydCBcIi4vcHVsbC10by1yZWZyZXNoLmNzc1wiO1xuaW1wb3J0IHsgUHVsbFRvUmVmcmVzaCB9IGZyb20gJy4vcHVsbC10by1yZWZyZXNoJztcbmV4cG9ydCBkZWZhdWx0IFB1bGxUb1JlZnJlc2g7IiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGFuaW1hdGVkLCB1c2VTcHJpbmcgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3dlYic7XG5pbXBvcnQgeyB1c2VEcmFnIH0gZnJvbSAnQHVzZS1nZXN0dXJlL3JlYWN0JztcbmltcG9ydCB7IGdldFNjcm9sbFBhcmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2dldC1zY3JvbGwtcGFyZW50JztcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc3VwcG9ydHNQYXNzaXZlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3VwcG9ydHMtcGFzc2l2ZSc7XG5pbXBvcnQgeyBjb252ZXJ0UHggfSBmcm9tICcuLi8uLi91dGlscy9jb252ZXJ0LXB4JztcbmltcG9ydCB7IHJ1YmJlcmJhbmRJZk91dE9mQm91bmRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcnViYmVyYmFuZCc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4uLy4uL3V0aWxzL3NsZWVwJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1wdWxsLXRvLXJlZnJlc2hgO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgcHVsbGluZ1RleHQ6ICfkuIvmi4nliLfmlrAnLFxuICBjYW5SZWxlYXNlVGV4dDogJ+mHiuaUvueri+WNs+WIt+aWsCcsXG4gIHJlZnJlc2hpbmdUZXh0OiAn5Yqg6L295Lit4oCm4oCmJyxcbiAgY29tcGxldGVUZXh0OiAn5Yi35paw5oiQ5YqfJyxcbiAgY29tcGxldGVEZWxheTogNTAwLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIG9uUmVmcmVzaDogKCkgPT4ge31cbn07XG5leHBvcnQgY29uc3QgUHVsbFRvUmVmcmVzaCA9IHAgPT4ge1xuICB2YXIgX2EsIF9iO1xuXG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBoZWFkSGVpZ2h0ID0gKF9hID0gcHJvcHMuaGVhZEhlaWdodCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29udmVydFB4KDQwKTtcbiAgY29uc3QgdGhyZXNob2xkID0gKF9iID0gcHJvcHMudGhyZXNob2xkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb252ZXJ0UHgoNjApO1xuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoJ3B1bGxpbmcnKTtcbiAgY29uc3QgW3NwcmluZ1N0eWxlcywgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgIGhlaWdodDogMFxuICAgIH0sXG4gICAgY29uZmlnOiB7XG4gICAgICB0ZW5zaW9uOiAzMDAsXG4gICAgICBmcmljdGlvbjogMzAsXG4gICAgICBjbGFtcDogdHJ1ZVxuICAgIH1cbiAgfSkpO1xuICBjb25zdCBlbGVtZW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBwdWxsaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICBmdW5jdGlvbiBkb1JlZnJlc2goKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIGhlaWdodDogaGVhZEhlaWdodFxuICAgICAgfSk7XG4gICAgICBzZXRTdGF0dXMoJ3JlZnJlc2hpbmcnKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgeWllbGQgcHJvcHMub25SZWZyZXNoKCk7XG4gICAgICAgIHNldFN0YXR1cygnY29tcGxldGUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICB0bzogbmV4dCA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB5aWVsZCBuZXh0KHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFN0YXR1cygncHVsbGluZycpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuY29tcGxldGVEZWxheSA+IDApIHtcbiAgICAgICAgeWllbGQgc2xlZXAocHJvcHMuY29tcGxldGVEZWxheSk7XG4gICAgICB9XG5cbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIHRvOiBuZXh0ID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB5aWVsZCBuZXh0KHtcbiAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldFN0YXR1cygncHVsbGluZycpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB1c2VEcmFnKHN0YXRlID0+IHtcbiAgICBpZiAoc3RhdHVzID09PSAncmVmcmVzaGluZycgfHwgc3RhdHVzID09PSAnY29tcGxldGUnKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgZXZlbnRcbiAgICB9ID0gc3RhdGU7XG5cbiAgICBpZiAoc3RhdGUubGFzdCkge1xuICAgICAgcHVsbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgIGlmIChzdGF0dXMgPT09ICdjYW5SZWxlYXNlJykge1xuICAgICAgICBkb1JlZnJlc2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgWywgeV0gPSBzdGF0ZS5tb3ZlbWVudDtcblxuICAgIGlmIChzdGF0ZS5maXJzdCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGVsZW1lbnQpO1xuICAgICAgaWYgKCFzY3JvbGxQYXJlbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRvcCA9ICdzY3JvbGxUb3AnIGluIHNjcm9sbFBhcmVudCA/IHNjcm9sbFBhcmVudC5zY3JvbGxUb3AgOiBzY3JvbGxQYXJlbnQucGFnZVlPZmZzZXQ7XG5cbiAgICAgIGlmICh0b3AgPD0gMCAmJiB5ID4gMCkge1xuICAgICAgICBwdWxsaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcHVsbGluZ1JlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChydWJiZXJiYW5kSWZPdXRPZkJvdW5kcyh5LCAwLCAwLCBoZWFkSGVpZ2h0ICogNSwgMC41KSwgMCk7XG4gICAgYXBpLnN0YXJ0KHtcbiAgICAgIGhlaWdodFxuICAgIH0pO1xuICAgIHNldFN0YXR1cyhoZWlnaHQgPiB0aHJlc2hvbGQgPyAnY2FuUmVsZWFzZScgOiAncHVsbGluZycpO1xuICB9LCB7XG4gICAgcG9pbnRlcjoge1xuICAgICAgdG91Y2g6IHRydWVcbiAgICB9LFxuICAgIGF4aXM6ICd5JyxcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgZW5hYmxlZDogIXByb3BzLmRpc2FibGVkLFxuICAgIGV2ZW50T3B0aW9uczogc3VwcG9ydHNQYXNzaXZlID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9IDogZmFsc2VcbiAgfSk7XG5cbiAgY29uc3QgcmVuZGVyU3RhdHVzVGV4dCA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAocHJvcHMucmVuZGVyVGV4dCkge1xuICAgICAgcmV0dXJuIChfYSA9IHByb3BzLnJlbmRlclRleHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBzdGF0dXMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09ICdwdWxsaW5nJykgcmV0dXJuIHByb3BzLnB1bGxpbmdUZXh0O1xuICAgIGlmIChzdGF0dXMgPT09ICdjYW5SZWxlYXNlJykgcmV0dXJuIHByb3BzLmNhblJlbGVhc2VUZXh0O1xuICAgIGlmIChzdGF0dXMgPT09ICdyZWZyZXNoaW5nJykgcmV0dXJuIHByb3BzLnJlZnJlc2hpbmdUZXh0O1xuICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZScpIHJldHVybiBwcm9wcy5jb21wbGV0ZVRleHQ7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBzdHlsZTogc3ByaW5nU3R5bGVzLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWQtY29udGVudGAsXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogaGVhZEhlaWdodFxuICAgIH1cbiAgfSwgcmVuZGVyU3RhdHVzVGV4dCgpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG59OyIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgUmFkaW9Hcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFJhZGlvR3JvdXBDb250ZXh0IH0gZnJvbSAnLi9ncm91cC1jb250ZXh0JztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlZDogZmFsc2UsXG4gIGRlZmF1bHRWYWx1ZTogbnVsbFxufTtcbmV4cG9ydCBjb25zdCBHcm91cCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgb25DaGFuZ2U6IHYgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAodiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSYWRpb0dyb3VwQ29udGV4dC5Qcm92aWRlciAvLyBUT0RPOiDmgKfog73kvJjljJZcbiAgLCB7XG4gICAgLy8gVE9ETzog5oCn6IO95LyY5YyWXG4gICAgdmFsdWU6IHtcbiAgICAgIHZhbHVlOiB2YWx1ZSA9PT0gbnVsbCA/IFtdIDogW3ZhbHVlXSxcbiAgICAgIGNoZWNrOiB2ID0+IHtcbiAgICAgICAgc2V0VmFsdWUodik7XG4gICAgICB9LFxuICAgICAgdW5jaGVjazogKCkgPT4ge30sXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWRcbiAgICB9XG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07IiwiaW1wb3J0IFwiLi9yYWRpby5jc3NcIjtcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcm91cCB9IGZyb20gJy4vZ3JvdXAnO1xuaW1wb3J0IHsgUmFkaW8gfSBmcm9tICcuL3JhZGlvJztcbmV4cG9ydCBkZWZhdWx0IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudChSYWRpbywge1xuICBHcm91cFxufSk7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBSYWRpb0dyb3VwQ29udGV4dCB9IGZyb20gJy4vZ3JvdXAtY29udGV4dCc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQ2hlY2tJY29uIH0gZnJvbSAnLi4vY2hlY2tib3gvY2hlY2staWNvbic7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tcmFkaW9gO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0Q2hlY2tlZDogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgUmFkaW8gPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IGdyb3VwQ29udGV4dCA9IHVzZUNvbnRleHQoUmFkaW9Hcm91cENvbnRleHQpO1xuICBsZXQgW2NoZWNrZWQsIHNldENoZWNrZWRdID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmNoZWNrZWQsXG4gICAgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICBvbkNoYW5nZTogcHJvcHMub25DaGFuZ2VcbiAgfSk7XG4gIGxldCBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkO1xuICBjb25zdCB7XG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuXG4gIGlmIChncm91cENvbnRleHQgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNoZWNrZWQgPSBncm91cENvbnRleHQudmFsdWUuaW5jbHVkZXModmFsdWUpO1xuXG4gICAgc2V0Q2hlY2tlZCA9IGNoZWNrZWQgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICBncm91cENvbnRleHQuY2hlY2sodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBDb250ZXh0LnVuY2hlY2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAoX2EgPSBwcm9wcy5vbkNoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGNoZWNrZWQpO1xuICAgIH07XG5cbiAgICBkaXNhYmxlZCA9IGRpc2FibGVkIHx8IGdyb3VwQ29udGV4dC5kaXNhYmxlZDtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckljb24gPSAoKSA9PiB7XG4gICAgaWYgKHByb3BzLmljb24pIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY3VzdG9tLWljb25gXG4gICAgICB9LCBwcm9wcy5pY29uKGNoZWNrZWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pY29uYFxuICAgIH0sIGNoZWNrZWQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja0ljb24sIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWljb24tY2hlY2tlZGBcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIHByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1jaGVja2VkYF06IGNoZWNrZWQsXG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWRpc2FibGVkYF06IGRpc2FibGVkLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1ibG9ja2BdOiBwcm9wcy5ibG9ja1xuICAgIH0pLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIHR5cGU6ICdyYWRpbycsXG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBzZXRDaGVja2VkKGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgIH0sXG4gICAgb25DbGljazogZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBpZDogcHJvcHMuaWRcbiAgfSksIHJlbmRlckljb24oKSwgcHJvcHMuY2hpbGRyZW4gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGBcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59OyIsImltcG9ydCBcIi4vcmF0ZS5jc3NcIjtcbmltcG9ydCB7IFJhdGUgfSBmcm9tICcuL3JhdGUnO1xuZXhwb3J0IGRlZmF1bHQgUmF0ZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBTdGFyRmlsbCB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXJhdGVgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb3VudDogNSxcbiAgYWxsb3dIYWxmOiBmYWxzZSxcbiAgY2hhcmFjdGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YXJGaWxsLCBudWxsKSxcbiAgZGVmYXVsdFZhbHVlOiAwLFxuICByZWFkT25seTogZmFsc2UsXG4gIGFsbG93Q2xlYXI6IHRydWVcbn07XG5leHBvcnQgY29uc3QgUmF0ZSA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHByb3BzKTtcbiAgY29uc3Qgc3Rhckxpc3QgPSBBcnJheShwcm9wcy5jb3VudCkuZmlsbChudWxsKTtcblxuICBmdW5jdGlvbiByZW5kZXJTdGFyKHYsIGhhbGYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXN0YXJgLCB7XG4gICAgICAgIFtgJHtjbGFzc1ByZWZpeH0tc3Rhci1hY3RpdmVgXTogdmFsdWUgPj0gdixcbiAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1zdGFyLWhhbGZgXTogaGFsZixcbiAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1zdGFyLXJlYWRvbmx5YF06IHByb3BzLnJlYWRPbmx5XG4gICAgICB9KSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLnJlYWRPbmx5KSByZXR1cm47XG5cbiAgICAgICAgaWYgKHByb3BzLmFsbG93Q2xlYXIgJiYgdmFsdWUgPT09IHYpIHtcbiAgICAgICAgICBzZXRWYWx1ZSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRWYWx1ZSh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHByb3BzLmNoYXJhY3Rlcik7XG4gIH1cblxuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4XG4gIH0sIHN0YXJMaXN0Lm1hcCgoXywgaSkgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBpLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tYm94YClcbiAgfSwgcHJvcHMuYWxsb3dIYWxmICYmIHJlbmRlclN0YXIoaSArIDAuNSwgdHJ1ZSksIHJlbmRlclN0YXIoaSArIDEsIGZhbHNlKSkpKSk7XG59OyIsImltcG9ydCBcIi4vcmVzdWx0LmNzc1wiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi9yZXN1bHQnO1xuZXhwb3J0IGRlZmF1bHQgUmVzdWx0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IENoZWNrQ2lyY2xlRmlsbCwgQ2xvc2VDaXJjbGVGaWxsLCBJbmZvcm1hdGlvbkNpcmNsZUZpbGwsIENsb2NrQ2lyY2xlRmlsbCwgRXhjbGFtYXRpb25DaXJjbGVGaWxsIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1yZXN1bHRgO1xuY29uc3QgaWNvblJlY29yZCA9IHtcbiAgc3VjY2VzczogQ2hlY2tDaXJjbGVGaWxsLFxuICBlcnJvcjogQ2xvc2VDaXJjbGVGaWxsLFxuICBpbmZvOiBJbmZvcm1hdGlvbkNpcmNsZUZpbGwsXG4gIHdhaXRpbmc6IENsb2NrQ2lyY2xlRmlsbCxcbiAgd2FybmluZzogRXhjbGFtYXRpb25DaXJjbGVGaWxsXG59O1xuZXhwb3J0IGNvbnN0IFJlc3VsdCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIHN0YXR1cyxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBpY29uXG4gIH0gPSBwcm9wcztcbiAgaWYgKCFzdGF0dXMpIHJldHVybiBudWxsO1xuICBjb25zdCByZXN1bHRJY29uID0gaWNvbiB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KGljb25SZWNvcmRbc3RhdHVzXSk7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwgYCR7Y2xhc3NQcmVmaXh9LSR7c3RhdHVzfWApXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWljb25gXG4gIH0sIHJlc3VsdEljb24pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aXRsZWBcbiAgfSwgdGl0bGUpLCBkZXNjcmlwdGlvbiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWRlc2NyaXB0aW9uYFxuICB9LCBkZXNjcmlwdGlvbikgOiBudWxsKSk7XG59OyIsImltcG9ydCBcIi4vc2FmZS1hcmVhLmNzc1wiO1xuaW1wb3J0IHsgU2FmZUFyZWEgfSBmcm9tICcuL3NhZmUtYXJlYSc7XG5leHBvcnQgZGVmYXVsdCBTYWZlQXJlYTsiLCJpbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLXNhZmUtYXJlYSc7XG5leHBvcnQgY29uc3QgU2FmZUFyZWEgPSBwcm9wcyA9PiB7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwgYCR7Y2xhc3NQcmVmaXh9LXBvc2l0aW9uLSR7cHJvcHMucG9zaXRpb259YClcbiAgfSkpO1xufTsiLCJpbXBvcnQgXCIuL3Njcm9sbC1tYXNrLmNzc1wiO1xuaW1wb3J0IHsgU2Nyb2xsTWFzayB9IGZyb20gJy4vc2Nyb2xsLW1hc2snO1xuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsTWFzazsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGFuaW1hdGVkLCB1c2VTcHJpbmcgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3dlYic7XG5pbXBvcnQgeyB1c2VUaHJvdHRsZUZuIH0gZnJvbSAnYWhvb2tzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1zY3JvbGwtbWFza2A7XG5leHBvcnQgY29uc3QgU2Nyb2xsTWFzayA9IHByb3BzID0+IHtcbiAgY29uc3QgbWFza1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3tcbiAgICBsZWZ0TWFza09wYWNpdHksXG4gICAgcmlnaHRNYXNrT3BhY2l0eVxuICB9LCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgbGVmdE1hc2tPcGFjaXR5OiAwLFxuICAgIHJpZ2h0TWFza09wYWNpdHk6IDAsXG4gICAgY29uZmlnOiB7XG4gICAgICBjbGFtcDogdHJ1ZVxuICAgIH1cbiAgfSkpO1xuICBjb25zdCB7XG4gICAgcnVuOiB1cGRhdGVNYXNrXG4gIH0gPSB1c2VUaHJvdHRsZUZuKChpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IG1hc2sgPSBtYXNrUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFtYXNrKSByZXR1cm47XG4gICAgY29uc3Qgc2Nyb2xsRWwgPSBwcm9wcy5zY3JvbGxUcmFja1JlZi5jdXJyZW50O1xuICAgIGlmICghc2Nyb2xsRWwpIHJldHVybjtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gc2Nyb2xsRWwuc2Nyb2xsTGVmdDtcbiAgICBjb25zdCBzaG93TGVmdE1hc2sgPSBzY3JvbGxMZWZ0ID4gMDtcbiAgICBjb25zdCBzaG93UmlnaHRNYXNrID0gc2Nyb2xsTGVmdCArIHNjcm9sbEVsLm9mZnNldFdpZHRoIDwgc2Nyb2xsRWwuc2Nyb2xsV2lkdGg7XG4gICAgYXBpLnN0YXJ0KHtcbiAgICAgIGxlZnRNYXNrT3BhY2l0eTogc2hvd0xlZnRNYXNrID8gMSA6IDAsXG4gICAgICByaWdodE1hc2tPcGFjaXR5OiBzaG93UmlnaHRNYXNrID8gMSA6IDAsXG4gICAgICBpbW1lZGlhdGVcbiAgICB9KTtcbiAgfSwge1xuICAgIHdhaXQ6IDEwMCxcbiAgICB0cmFpbGluZzogdHJ1ZSxcbiAgICBsZWFkaW5nOiB0cnVlXG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZU1hc2sodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxFbCA9IHByb3BzLnNjcm9sbFRyYWNrUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFzY3JvbGxFbCkgcmV0dXJuO1xuICAgIHNjcm9sbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZU1hc2spO1xuICAgIHJldHVybiAoKSA9PiBzY3JvbGxFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVNYXNrKTtcbiAgfSwgW10pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICByZWY6IG1hc2tSZWYsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCBgJHtjbGFzc1ByZWZpeH0tbGVmdGApLFxuICAgIHN0eWxlOiB7XG4gICAgICBvcGFjaXR5OiBsZWZ0TWFza09wYWNpdHlcbiAgICB9XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwgYCR7Y2xhc3NQcmVmaXh9LXJpZ2h0YCksXG4gICAgc3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHJpZ2h0TWFza09wYWNpdHlcbiAgICB9XG4gIH0pKTtcbn07IiwiaW1wb3J0IFwiLi9zZWFyY2gtYmFyLmNzc1wiO1xuaW1wb3J0IHsgU2VhcmNoQmFyIH0gZnJvbSAnLi9zZWFyY2gtYmFyJztcbmV4cG9ydCBkZWZhdWx0IFNlYXJjaEJhcjsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uL2lucHV0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFNlYXJjaE91dGxpbmUgfSBmcm9tICdhbnRkLW1vYmlsZS1pY29ucyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IHVzZUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy1wcm92aWRlcic7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tc2VhcmNoLWJhcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGNsZWFyYWJsZTogdHJ1ZSxcbiAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsXG4gIGRlZmF1bHRWYWx1ZTogJycsXG4gIGNsZWFyT25DYW5jZWw6IHRydWUsXG4gIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoT3V0bGluZSwgbnVsbClcbn07XG5leHBvcnQgY29uc3QgU2VhcmNoQmFyID0gZm9yd2FyZFJlZigocCwgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUNvbmZpZygpO1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCB7XG4gICAgY2FuY2VsVGV4dDogbG9jYWxlLmNvbW1vbi5jYW5jZWxcbiAgfSwgcCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZShwcm9wcyk7XG4gIGNvbnN0IFtoYXNGb2N1cywgc2V0SGFzRm9jdXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgY2xlYXI6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIChfYSA9IGlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGVhcigpO1xuICAgIH0sXG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIChfYSA9IGlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgIH0sXG4gICAgYmx1cjogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gKF9hID0gaW5wdXRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9XG4gIH0pKTtcblxuICBjb25zdCByZW5kZXJDYW5jZWxCdXR0b24gPSAoKSA9PiB7XG4gICAgbGV0IGlzU2hvd0NhbmNlbCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9wcy5zaG93Q2FuY2VsQnV0dG9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpc1Nob3dDYW5jZWwgPSBwcm9wcy5zaG93Q2FuY2VsQnV0dG9uKGhhc0ZvY3VzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzU2hvd0NhbmNlbCA9IHByb3BzLnNob3dDYW5jZWxCdXR0b24gJiYgaGFzRm9jdXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzU2hvd0NhbmNlbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXN1ZmZpeGAsXG4gICAgICBvbk1vdXNlRG93bjogZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sXG4gICAgICBvblRvdWNoU3RhcnQ6IGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGZpbGw6ICdub25lJyxcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNhbmNlbC1idXR0b25gLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcblxuICAgICAgICBpZiAocHJvcHMuY2xlYXJPbkNhbmNlbCkge1xuICAgICAgICAgIChfYSA9IGlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgKF9iID0gaW5wdXRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJsdXIoKTtcbiAgICAgICAgKF9jID0gcHJvcHMub25DYW5jZWwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHByb3BzKTtcbiAgICAgIH1cbiAgICB9LCBwcm9wcy5jYW5jZWxUZXh0KSk7XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWFjdGl2ZWBdOiBoYXNGb2N1c1xuICAgIH0pXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWlucHV0LWJveGBcbiAgfSwgcHJvcHMuaWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbnB1dC1ib3gtaWNvbmBcbiAgfSwgcHJvcHMuaWNvbiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIHtcbiAgICByZWY6IGlucHV0UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0taW5wdXRgLCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWlucHV0LXdpdGhvdXQtaWNvbmBdOiAhcHJvcHMuaWNvblxuICAgIH0pLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBvbkNoYW5nZTogc2V0VmFsdWUsXG4gICAgbWF4TGVuZ3RoOiBwcm9wcy5tYXhMZW5ndGgsXG4gICAgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgIGNsZWFyYWJsZTogcHJvcHMuY2xlYXJhYmxlLFxuICAgIG9uRm9jdXM6IGUgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBzZXRIYXNGb2N1cyh0cnVlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uRm9jdXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogZSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHNldEhhc0ZvY3VzKGZhbHNlKTtcbiAgICAgIChfYSA9IHByb3BzLm9uQmx1cikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgIH0sXG4gICAgb25DbGVhcjogcHJvcHMub25DbGVhcixcbiAgICB0eXBlOiAnc2VhcmNoJyxcbiAgICBlbnRlcktleUhpbnQ6ICdzZWFyY2gnLFxuICAgIG9uRW50ZXJQcmVzczogKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgKF9hID0gaW5wdXRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICAgIChfYiA9IHByb3BzLm9uU2VhcmNoKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcywgdmFsdWUpO1xuICAgIH1cbiAgfSkpLCByZW5kZXJDYW5jZWxCdXR0b24oKSkpO1xufSk7IiwiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgQ2hlY2tNYXJrID0gbWVtbygoKSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogJzE3cHgnLFxuICAgIGhlaWdodDogJzEzcHgnLFxuICAgIHZpZXdCb3g6ICcwIDAgMTcgMTMnLFxuICAgIHZlcnNpb246ICcxLjEnLFxuICAgIHhtbG5zOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBzdHJva2U6ICdub25lJyxcbiAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBmaWxsUnVsZTogJ2V2ZW5vZGQnLFxuICAgIHN0cm9rZUxpbmVjYXA6ICdyb3VuZCcsXG4gICAgc3Ryb2tlTGluZWpvaW46ICdyb3VuZCdcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMjgzMi4wMDAwMDAsIC0xMTAzLjAwMDAwMCknLFxuICAgIHN0cm9rZTogJyNGRkZGRkYnLFxuICAgIHN0cm9rZVdpZHRoOiAnMydcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgyNjEwLjAwMDAwMCwgOTU1LjAwMDAwMCknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjQuMDAwMDAwLCA5MS4wMDAwMDApJ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDE3OS4xNzc0MDgsIDM2LjY4NzgxNiknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XG4gICAgcG9pbnRzOiAnMzQuMjc2NzM4OCAyMiAyNC43OTcwNDMgMzEuNDc5Njk1OCAyMSAyNy42ODI2NTI3J1xuICB9KSkpKSkpKTtcbn0pOyIsImltcG9ydCBcIi4vc2VsZWN0b3IuY3NzXCI7XG5pbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gJy4vc2VsZWN0b3InO1xuZXhwb3J0IGRlZmF1bHQgU2VsZWN0b3I7IiwiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IFNwYWNlIGZyb20gJy4uL3NwYWNlJztcbmltcG9ydCBHcmlkIGZyb20gJy4uL2dyaWQnO1xuaW1wb3J0IHsgY29udmVydFB4IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udmVydC1weCc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCB7IENoZWNrTWFyayB9IGZyb20gJy4vY2hlY2stbWFyayc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tc2VsZWN0b3JgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBtdWx0aXBsZTogZmFsc2UsXG4gIGRlZmF1bHRWYWx1ZTogW11cbn07XG5leHBvcnQgY29uc3QgU2VsZWN0b3IgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgIG9uQ2hhbmdlOiB2YWwgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBjb25zdCBleHRlbmQgPSB7XG4gICAgICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMub3B0aW9ucy5maWx0ZXIob3B0aW9uID0+IHZhbC5pbmNsdWRlcyhvcHRpb24udmFsdWUpKTtcbiAgICAgICAgfVxuXG4gICAgICB9O1xuICAgICAgKF9hID0gcHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCB2YWwsIGV4dGVuZCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaXRlbXMgPSBwcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgIGNvbnN0IGFjdGl2ZSA9ICh2YWx1ZSB8fCBbXSkuaW5jbHVkZXMob3B0aW9uLnZhbHVlKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZDtcbiAgICBjb25zdCBpdGVtQ2xzID0gY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0taXRlbWAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0taXRlbS1hY3RpdmVgXTogYWN0aXZlICYmICFwcm9wcy5tdWx0aXBsZSxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0taXRlbS1tdWx0aXBsZS1hY3RpdmVgXTogYWN0aXZlICYmIHByb3BzLm11bHRpcGxlLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1pdGVtLWRpc2FibGVkYF06IGRpc2FibGVkXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBvcHRpb24udmFsdWUsXG4gICAgICBjbGFzc05hbWU6IGl0ZW1DbHMsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IGFjdGl2ZSA/IHZhbHVlLmZpbHRlcih2ID0+IHYgIT09IG9wdGlvbi52YWx1ZSkgOiBbLi4udmFsdWUsIG9wdGlvbi52YWx1ZV07XG4gICAgICAgICAgc2V0VmFsdWUodmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB2YWwgPSBhY3RpdmUgPyBbXSA6IFtvcHRpb24udmFsdWVdO1xuICAgICAgICAgIHNldFZhbHVlKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBvcHRpb24ubGFiZWwsIG9wdGlvbi5kZXNjcmlwdGlvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tZGVzY3JpcHRpb25gXG4gICAgfSwgb3B0aW9uLmRlc2NyaXB0aW9uKSwgYWN0aXZlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2hlY2stbWFyay13cmFwcGVyYFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tNYXJrLCBudWxsKSkpO1xuICB9KTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeFxuICB9LCAhcHJvcHMuY29sdW1ucyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFNwYWNlLCB7XG4gICAgd3JhcDogdHJ1ZVxuICB9LCBpdGVtcyksIHByb3BzLmNvbHVtbnMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29sdW1uczogcHJvcHMuY29sdW1ucyxcbiAgICBnYXA6IGNvbnZlcnRQeCg4KVxuICB9LCBpdGVtcykpKTtcbn07IiwiaW1wb3J0IFwiLi9zaWRlLWJhci5jc3NcIjtcbmltcG9ydCB7IFNpZGVCYXIsIFNpZGVCYXJJdGVtIH0gZnJvbSAnLi9zaWRlLWJhcic7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KFNpZGVCYXIsIHtcbiAgSXRlbTogU2lkZUJhckl0ZW1cbn0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBCYWRnZSBmcm9tICcuLi9iYWRnZSc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tc2lkZS1iYXJgO1xuZXhwb3J0IGNvbnN0IFNpZGVCYXJJdGVtID0gKCkgPT4ge1xuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnQgY29uc3QgU2lkZUJhciA9IHByb3BzID0+IHtcbiAgdmFyIF9hO1xuXG4gIGxldCBmaXJzdEFjdGl2ZUtleSA9IG51bGw7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgZmlyc3RBY3RpdmVLZXkgPSBrZXk7XG4gICAgfVxuXG4gICAgaXRlbXMucHVzaChjaGlsZCk7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlS2V5LCBzZXRBY3RpdmVLZXldID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0QWN0aXZlS2V5LFxuICAgIG9uQ2hhbmdlOiB2ID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKHYgPT09IG51bGwpIHJldHVybjtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4KVxuICB9LCBpdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgY29uc3QgYWN0aXZlID0gaXRlbS5rZXkgPT09IGFjdGl2ZUtleTtcbiAgICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKGl0ZW0ucHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBpdGVtLmtleSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGtleVxuICAgICAgICB9ID0gaXRlbTtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCB8fCBpdGVtLnByb3BzLmRpc2FibGVkKSByZXR1cm47XG4gICAgICAgIHNldEFjdGl2ZUtleShrZXkudG9TdHJpbmcoKSk7XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1pdGVtYCwge1xuICAgICAgICBbYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tYWN0aXZlYF06IGFjdGl2ZSxcbiAgICAgICAgW2Ake2NsYXNzUHJlZml4fS1pdGVtLWRpc2FibGVkYF06IGl0ZW0ucHJvcHMuZGlzYWJsZWRcbiAgICAgIH0pXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCYWRnZSwge1xuICAgICAgY29udGVudDogaXRlbS5wcm9wcy5iYWRnZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taXRlbS10aXRsZWBcbiAgICB9LCBhY3RpdmUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pdGVtLWhpZ2hsaWdodGBcbiAgICB9KSwgaXRlbS5wcm9wcy50aXRsZSkpKSk7XG4gIH0pKSk7XG59OyIsImltcG9ydCBcIi4vc2tlbGV0b24uY3NzXCI7XG5pbXBvcnQgeyBTa2VsZXRvbiwgU2tlbGV0b25QYXJhZ3JhcGgsIFNrZWxldG9uVGl0bGUgfSBmcm9tICcuL3NrZWxldG9uJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoU2tlbGV0b24sIHtcbiAgVGl0bGU6IFNrZWxldG9uVGl0bGUsXG4gIFBhcmFncmFwaDogU2tlbGV0b25QYXJhZ3JhcGhcbn0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUludEFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZ2VuZXJhdGUtaW50LWFycmF5JztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLXNrZWxldG9uJztcbmV4cG9ydCBjb25zdCBTa2VsZXRvbiA9IHByb3BzID0+IHtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWFuaW1hdGVkYF06IHByb3BzLmFuaW1hdGVkXG4gICAgfSlcbiAgfSkpO1xufTtcbmV4cG9ydCBjb25zdCBTa2VsZXRvblRpdGxlID0gcHJvcHMgPT4ge1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNrZWxldG9uLCB7XG4gICAgYW5pbWF0ZWQ6IHByb3BzLmFuaW1hdGVkLFxuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRpdGxlYFxuICB9KSk7XG59O1xuY29uc3QgZGVmYXVsdFNrZWxldG9uUGFyYWdyYXBoUHJvcHMgPSB7XG4gIGxpbmVDb3VudDogM1xufTtcbmV4cG9ydCBjb25zdCBTa2VsZXRvblBhcmFncmFwaCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFNrZWxldG9uUGFyYWdyYXBoUHJvcHMsIHApO1xuICBjb25zdCBrZXlzID0gZ2VuZXJhdGVJbnRBcnJheSgxLCBwcm9wcy5saW5lQ291bnQpO1xuICBjb25zdCBub2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tcGFyYWdyYXBoYFxuICB9LCBrZXlzLm1hcChrZXkgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChTa2VsZXRvbiwge1xuICAgIGtleToga2V5LFxuICAgIGFuaW1hdGVkOiBwcm9wcy5hbmltYXRlZCxcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1wYXJhZ3JhcGgtbGluZWBcbiAgfSkpKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgbm9kZSk7XG59OyIsImltcG9ydCBcIi4vc2xpZGVyLmNzc1wiO1xuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSAnLi9zbGlkZXInO1xuZXhwb3J0IGRlZmF1bHQgU2xpZGVyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1zbGlkZXItbWFya2A7XG5cbmNvbnN0IE1hcmtzID0gKHtcbiAgbWFya3MsXG4gIHVwcGVyQm91bmQsXG4gIGxvd2VyQm91bmQsXG4gIG1heCxcbiAgbWluXG59KSA9PiB7XG4gIGNvbnN0IG1hcmtzS2V5cyA9IE9iamVjdC5rZXlzKG1hcmtzKTtcbiAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47XG4gIGNvbnN0IGVsZW1lbnRzID0gbWFya3NLZXlzLm1hcChwYXJzZUZsb2F0KS5zb3J0KChhLCBiKSA9PiBhIC0gYikuZmlsdGVyKHBvaW50ID0+IHBvaW50ID49IG1pbiAmJiBwb2ludCA8PSBtYXgpLm1hcChwb2ludCA9PiB7XG4gICAgY29uc3QgbWFya1BvaW50ID0gbWFya3NbcG9pbnRdO1xuXG4gICAgaWYgKCFtYXJrUG9pbnQgJiYgbWFya1BvaW50ICE9PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpc0FjdGl2ZSA9IHBvaW50IDw9IHVwcGVyQm91bmQgJiYgcG9pbnQgPj0gbG93ZXJCb3VuZDtcbiAgICBjb25zdCBtYXJrQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyh7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LXRleHRgXTogdHJ1ZSxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGV4dC1hY3RpdmVgXTogaXNBY3RpdmVcbiAgICB9KTtcbiAgICBjb25zdCBzdHlsZSA9IHtcbiAgICAgIGxlZnQ6IGAkeyhwb2ludCAtIG1pbikgLyByYW5nZSAqIDEwMH0lYFxuICAgIH07XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogbWFya0NsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgIGtleTogcG9pbnRcbiAgICB9LCBtYXJrUG9pbnQpO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgZWxlbWVudHMpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFya3M7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBUaWNrcyBmcm9tICcuL3RpY2tzJztcbmltcG9ydCBNYXJrcyBmcm9tICcuL21hcmtzJztcbmltcG9ydCBUaHVtYiBmcm9tICcuL3RodW1iJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgbmVhcmVzdCB9IGZyb20gJy4uLy4uL3V0aWxzL25lYXJlc3QnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tc2xpZGVyYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgbWluOiAwLFxuICBtYXg6IDEwMCxcbiAgc3RlcDogMSxcbiAgdGlja3M6IGZhbHNlLFxuICByYW5nZTogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZVxufTtcbmV4cG9ydCBjb25zdCBTbGlkZXIgPSBwID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgbWluLFxuICAgIG1heCxcbiAgICBkaXNhYmxlZCxcbiAgICBtYXJrcyxcbiAgICB0aWNrcyxcbiAgICBzdGVwXG4gIH0gPSBwcm9wcztcblxuICBmdW5jdGlvbiBzb3J0VmFsdWUodmFsKSB7XG4gICAgcmV0dXJuIHZhbC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gcHJvcHMucmFuZ2UgPyB2YWx1ZSA6IFtwcm9wcy5taW4sIHZhbHVlXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVyc2VWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiBwcm9wcy5yYW5nZSA/IHZhbHVlIDogdmFsdWVbMV07XG4gIH1cblxuICBmdW5jdGlvbiBvbkFmdGVyQ2hhbmdlKHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgKF9hID0gcHJvcHMub25BZnRlckNoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHJldmVyc2VWYWx1ZSh2YWx1ZSkpO1xuICB9XG5cbiAgY29uc3QgW3Jhd1ZhbHVlLCBzZXRSYXdWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgZGVmYXVsdFZhbHVlOiAoX2EgPSBwcm9wcy5kZWZhdWx0VmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb3BzLnJhbmdlID8gW21pbiwgbWluXSA6IG1pbixcbiAgICBvbkNoYW5nZTogcHJvcHMub25DaGFuZ2VcbiAgfSk7XG4gIGNvbnN0IHNsaWRlclZhbHVlID0gc29ydFZhbHVlKGNvbnZlcnRWYWx1ZShyYXdWYWx1ZSkpO1xuXG4gIGZ1bmN0aW9uIHNldFNsaWRlclZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3QgbmV4dCA9IHNvcnRWYWx1ZSh2YWx1ZSk7XG4gICAgY29uc3QgY3VycmVudCA9IHNsaWRlclZhbHVlO1xuICAgIGlmIChuZXh0WzBdID09PSBjdXJyZW50WzBdICYmIG5leHRbMV0gPT09IGN1cnJlbnRbMV0pIHJldHVybjtcbiAgICBzZXRSYXdWYWx1ZShyZXZlcnNlVmFsdWUobmV4dCkpO1xuICB9XG5cbiAgY29uc3QgdHJhY2tSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGZpbGxTaXplID0gYCR7MTAwICogKHNsaWRlclZhbHVlWzFdIC0gc2xpZGVyVmFsdWVbMF0pIC8gKG1heCAtIG1pbil9JWA7XG4gIGNvbnN0IGZpbGxTdGFydCA9IGAkezEwMCAqIChzbGlkZXJWYWx1ZVswXSAtIG1pbikgLyAobWF4IC0gbWluKX0lYDsgLy8g6K6h566X6KaB5pi+56S655qE54K5XG5cbiAgY29uc3QgcG9pbnRMaXN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hcmtzKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFya3MpLm1hcChwYXJzZUZsb2F0KS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBpID0gbWluOyBpIDw9IG1heDsgaSArPSBzdGVwKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKGkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbiAgfSwgW21hcmtzLCB0aWNrcywgc3RlcCwgbWluLCBtYXhdKTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUJ5UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uIDwgbWluID8gbWluIDogcG9zaXRpb24gPiBtYXggPyBtYXggOiBwb3NpdGlvbjtcbiAgICBsZXQgdmFsdWUgPSBtaW47IC8vIOaYvuekuuS6huWIu+W6pueCue+8jOWwseWPquiDveenu+WKqOWIsOeCueS4ilxuXG4gICAgaWYgKHBvaW50TGlzdC5sZW5ndGgpIHtcbiAgICAgIHZhbHVlID0gbmVhcmVzdChwb2ludExpc3QsIG5ld1Bvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGVuZ3RoUGVyU3RlcCA9IDEwMCAvICgobWF4IC0gbWluKSAvIHN0ZXApO1xuICAgICAgY29uc3Qgc3RlcHMgPSBNYXRoLnJvdW5kKG5ld1Bvc2l0aW9uIC8gbGVuZ3RoUGVyU3RlcCk7XG4gICAgICB2YWx1ZSA9IHN0ZXBzICogbGVuZ3RoUGVyU3RlcCAqIChtYXggLSBtaW4pICogMC4wMSArIG1pbjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBjb25zdCBkcmFnTG9ja1JlZiA9IHVzZVJlZigwKTtcblxuICBjb25zdCBvblRyYWNrQ2xpY2sgPSBldmVudCA9PiB7XG4gICAgaWYgKGRyYWdMb2NrUmVmLmN1cnJlbnQgPiAwKSByZXR1cm47XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgY29uc3QgdHJhY2sgPSB0cmFja1JlZi5jdXJyZW50O1xuICAgIGlmICghdHJhY2spIHJldHVybjtcbiAgICBjb25zdCBzbGlkZXJPZmZzZXRMZWZ0ID0gdHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBjb25zdCBwb3NpdGlvbiA9IChldmVudC5jbGllbnRYIC0gc2xpZGVyT2Zmc2V0TGVmdCkgLyBNYXRoLmNlaWwodHJhY2sub2Zmc2V0V2lkdGgpICogKG1heCAtIG1pbikgKyBtaW47XG4gICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBnZXRWYWx1ZUJ5UG9zaXRpb24ocG9zaXRpb24pO1xuICAgIGxldCBuZXh0U2xpZGVyVmFsdWU7XG5cbiAgICBpZiAocHJvcHMucmFuZ2UpIHtcbiAgICAgIC8vIOenu+WKqOeahOa7keWdl+mHh+eUqOWwsei/keWOn+WImVxuICAgICAgaWYgKE1hdGguYWJzKHRhcmdldFZhbHVlIC0gc2xpZGVyVmFsdWVbMF0pID4gTWF0aC5hYnModGFyZ2V0VmFsdWUgLSBzbGlkZXJWYWx1ZVsxXSkpIHtcbiAgICAgICAgbmV4dFNsaWRlclZhbHVlID0gW3NsaWRlclZhbHVlWzBdLCB0YXJnZXRWYWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0U2xpZGVyVmFsdWUgPSBbdGFyZ2V0VmFsdWUsIHNsaWRlclZhbHVlWzFdXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFNsaWRlclZhbHVlID0gW3Byb3BzLm1pbiwgdGFyZ2V0VmFsdWVdO1xuICAgIH1cblxuICAgIHNldFNsaWRlclZhbHVlKG5leHRTbGlkZXJWYWx1ZSk7XG4gICAgb25BZnRlckNoYW5nZShuZXh0U2xpZGVyVmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IHZhbHVlQmVmb3JlRHJhZ1JlZiA9IHVzZVJlZigpO1xuXG4gIGNvbnN0IHJlbmRlclRodW1iID0gaW5kZXggPT4ge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1iLCB7XG4gICAgICBrZXk6IGluZGV4LFxuICAgICAgdmFsdWU6IHNsaWRlclZhbHVlW2luZGV4XSxcbiAgICAgIG1pbjogbWluLFxuICAgICAgbWF4OiBtYXgsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICB0cmFja1JlZjogdHJhY2tSZWYsXG4gICAgICBvbkRyYWc6IChwb3NpdGlvbiwgZmlyc3QsIGxhc3QpID0+IHtcbiAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgZHJhZ0xvY2tSZWYuY3VycmVudCArPSAxO1xuICAgICAgICAgIHZhbHVlQmVmb3JlRHJhZ1JlZi5jdXJyZW50ID0gc2xpZGVyVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWwgPSBnZXRWYWx1ZUJ5UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICBjb25zdCB2YWx1ZUJlZm9yZURyYWcgPSB2YWx1ZUJlZm9yZURyYWdSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF2YWx1ZUJlZm9yZURyYWcpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IFsuLi52YWx1ZUJlZm9yZURyYWddO1xuICAgICAgICBuZXh0W2luZGV4XSA9IHZhbDtcbiAgICAgICAgc2V0U2xpZGVyVmFsdWUobmV4dCk7XG5cbiAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICBvbkFmdGVyQ2hhbmdlKG5leHQpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGRyYWdMb2NrUmVmLmN1cnJlbnQgLT0gMTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWRpc2FibGVkYF06IGRpc2FibGVkXG4gICAgfSlcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdHJhY2stY29udGFpbmVyYCxcbiAgICBvbkNsaWNrOiBvblRyYWNrQ2xpY2tcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdHJhY2tgLFxuICAgIG9uQ2xpY2s6IG9uVHJhY2tDbGljayxcbiAgICByZWY6IHRyYWNrUmVmXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWZpbGxgLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogZmlsbFNpemUsXG4gICAgICBsZWZ0OiBmaWxsU3RhcnRcbiAgICB9XG4gIH0pLCBwcm9wcy50aWNrcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRpY2tzLCB7XG4gICAgcG9pbnRzOiBwb2ludExpc3QsXG4gICAgbWluOiBtaW4sXG4gICAgbWF4OiBtYXgsXG4gICAgbG93ZXJCb3VuZDogc2xpZGVyVmFsdWVbMF0sXG4gICAgdXBwZXJCb3VuZDogc2xpZGVyVmFsdWVbMV1cbiAgfSksIHByb3BzLnJhbmdlICYmIHJlbmRlclRodW1iKDApLCByZW5kZXJUaHVtYigxKSkpLCBtYXJrcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtzLCB7XG4gICAgbWluOiBtaW4sXG4gICAgbWF4OiBtYXgsXG4gICAgbWFya3M6IG1hcmtzLFxuICAgIGxvd2VyQm91bmQ6IHNsaWRlclZhbHVlWzBdLFxuICAgIHVwcGVyQm91bmQ6IHNsaWRlclZhbHVlWzFdXG4gIH0pKSk7XG59OyIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEcmFnIH0gZnJvbSAnQHVzZS1nZXN0dXJlL3JlYWN0JztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1zbGlkZXJgO1xuXG5jb25zdCBUaHVtYiA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIHZhbHVlLFxuICAgIG1pbixcbiAgICBtYXgsXG4gICAgZGlzYWJsZWQsXG4gICAgb25EcmFnXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcHJldlZhbHVlID0gdXNlUmVmKHZhbHVlKTtcblxuICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGAkeyh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSAqIDEwMH0lYCxcbiAgICAgIHJpZ2h0OiAnYXV0bydcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGJpbmQgPSB1c2VEcmFnKHN0YXRlID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcblxuICAgIGlmIChzdGF0ZS5maXJzdCkge1xuICAgICAgcHJldlZhbHVlLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCB4ID0gc3RhdGUueHlbMF0gLSBzdGF0ZS5pbml0aWFsWzBdO1xuICAgIGNvbnN0IHNsaWRlck9mZnNldFdpdGggPSAoX2EgPSBwcm9wcy50cmFja1JlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2Zmc2V0V2lkdGg7XG4gICAgaWYgKCFzbGlkZXJPZmZzZXRXaXRoKSByZXR1cm47XG4gICAgY29uc3QgZGlmZiA9IHggLyBNYXRoLmNlaWwoc2xpZGVyT2Zmc2V0V2l0aCkgKiAobWF4IC0gbWluKTtcbiAgICBvbkRyYWcocHJldlZhbHVlLmN1cnJlbnQgKyBkaWZmLCBzdGF0ZS5maXJzdCwgc3RhdGUubGFzdCk7XG4gIH0sIHtcbiAgICBheGlzOiAneCcsXG4gICAgcG9pbnRlcjoge1xuICAgICAgdG91Y2g6IHRydWVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aHVtYi1jb250YWluZXJgLFxuICAgIHN0eWxlOiBjdXJyZW50UG9zaXRpb24oKVxuICB9LCBiaW5kKCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10aHVtYmBcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGh1bWI7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXNsaWRlcmA7XG5cbmNvbnN0IFRpY2tzID0gKHtcbiAgcG9pbnRzLFxuICBtYXgsXG4gIG1pbixcbiAgdXBwZXJCb3VuZCxcbiAgbG93ZXJCb3VuZFxufSkgPT4ge1xuICBjb25zdCByYW5nZSA9IG1heCAtIG1pbjtcbiAgY29uc3QgZWxlbWVudHMgPSBwb2ludHMubWFwKHBvaW50ID0+IHtcbiAgICBjb25zdCBvZmZzZXQgPSBgJHtNYXRoLmFicyhwb2ludCAtIG1pbikgLyByYW5nZSAqIDEwMH0lYDtcbiAgICBjb25zdCBpc0FjdGl2ZWQgPSBwb2ludCA8PSB1cHBlckJvdW5kICYmIHBvaW50ID49IGxvd2VyQm91bmQ7XG4gICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICBsZWZ0OiBvZmZzZXRcbiAgICB9O1xuICAgIGNvbnN0IHBvaW50Q2xhc3NOYW1lID0gY2xhc3NOYW1lcyh7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LXRpY2tgXTogdHJ1ZSxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGljay1hY3RpdmVgXTogaXNBY3RpdmVkXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogcG9pbnRDbGFzc05hbWUsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBrZXk6IHBvaW50XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdGlja3NgXG4gIH0sIGVsZW1lbnRzKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpY2tzOyIsImltcG9ydCBcIi4vc3BhY2UuY3NzXCI7XG5pbXBvcnQgeyBTcGFjZSB9IGZyb20gJy4vc3BhY2UnO1xuZXhwb3J0IGRlZmF1bHQgU3BhY2U7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXNwYWNlYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCdcbn07XG5leHBvcnQgY29uc3QgU3BhY2UgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHtcbiAgICBkaXJlY3Rpb24sXG4gICAgb25DbGlja1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS13cmFwYF06IHByb3BzLndyYXAsXG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWJsb2NrYF06IHByb3BzLmJsb2NrLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS0ke2RpcmVjdGlvbn1gXTogdHJ1ZSxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tYWxpZ24tJHtwcm9wcy5hbGlnbn1gXTogISFwcm9wcy5hbGlnbixcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tanVzdGlmeS0ke3Byb3BzLmp1c3RpZnl9YF06ICEhcHJvcHMuanVzdGlmeVxuICAgIH0pLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgfSwgUmVhY3QuQ2hpbGRyZW4ubWFwKHByb3BzLmNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgcmV0dXJuIGNoaWxkICE9PSBudWxsICYmIGNoaWxkICE9PSB1bmRlZmluZWQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pdGVtYFxuICAgIH0sIGNoaWxkKTtcbiAgfSkpKTtcbn07IiwiaW1wb3J0IFwiLi9zcGluLWxvYWRpbmcuY3NzXCI7XG5pbXBvcnQgeyBTcGluTG9hZGluZyB9IGZyb20gJy4vc3Bpbi1sb2FkaW5nJztcbmV4cG9ydCBkZWZhdWx0IFNwaW5Mb2FkaW5nOyIsImltcG9ydCBSZWFjdCwgeyBtZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLXNwaW4tbG9hZGluZyc7XG5jb25zdCBjb2xvclJlY29yZCA9IHtcbiAgZGVmYXVsdDogJ3ZhcigtLWFkbS1jb2xvci13ZWFrKScsXG4gIHByaW1hcnk6ICd2YXIoLS1hZG0tY29sb3ItcHJpbWFyeSknLFxuICB3aGl0ZTogJ3ZhcigtLWFkbS1jb2xvci13aGl0ZSknXG59O1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb2xvcjogJ2RlZmF1bHQnXG59O1xuZXhwb3J0IGNvbnN0IFNwaW5Mb2FkaW5nID0gbWVtbyhwID0+IHtcbiAgdmFyIF9hO1xuXG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4LFxuICAgIHN0eWxlOiB7XG4gICAgICAnLS1jb2xvcic6IChfYSA9IGNvbG9yUmVjb3JkW3Byb3BzLmNvbG9yXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcHJvcHMuY29sb3JcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXN2Z2BcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZmlsbGAsXG4gICAgZmlsbDogJ3RyYW5zcGFyZW50J1xuICB9KSkpKTtcbn0pOyIsImltcG9ydCBcIi4vc3RlcHBlci5jc3NcIjtcbmltcG9ydCB7IFN0ZXBwZXIgfSBmcm9tICcuL3N0ZXBwZXInO1xuZXhwb3J0IGRlZmF1bHQgU3RlcHBlcjsiLCJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWludXNPdXRsaW5lLCBBZGRPdXRsaW5lIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBib3VuZCB9IGZyb20gJy4uLy4uL3V0aWxzL2JvdW5kJztcbmltcG9ydCBJbnB1dCBmcm9tICcuLi9pbnB1dCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbic7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tc3RlcHBlcmA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRWYWx1ZTogMCxcbiAgc3RlcDogMSxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IFN0ZXBwZXIgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBzdGVwLFxuICAgIG1heCxcbiAgICBtaW4sXG4gICAgaW5wdXRSZWFkT25seVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlUHJvcHNWYWx1ZShwcm9wcyk7XG4gIGNvbnN0IFtpbnB1dFZhbHVlLCBzZXRJbnB1dFZhbHVlXSA9IHVzZVN0YXRlKCgpID0+IHZhbHVlLnRvU3RyaW5nKCkpO1xuXG4gIGZ1bmN0aW9uIHNldFZhbHVlV2l0aENoZWNrKHYpIHtcbiAgICBpZiAoaXNOYU4odikpIHJldHVybjtcbiAgICBsZXQgdGFyZ2V0ID0gYm91bmQodiwgcHJvcHMubWluLCBwcm9wcy5tYXgpO1xuXG4gICAgaWYgKHByb3BzLmRpZ2l0cyB8fCBwcm9wcy5kaWdpdHMgPT09IDApIHtcbiAgICAgIHRhcmdldCA9IHBhcnNlRmxvYXQodGFyZ2V0LnRvRml4ZWQocHJvcHMuZGlnaXRzKSk7XG4gICAgfVxuXG4gICAgc2V0VmFsdWUodGFyZ2V0KTtcbiAgfVxuXG4gIGNvbnN0IFtoYXNGb2N1cywgc2V0SGFzRm9jdXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaGFzRm9jdXMpIHtcbiAgICAgIHNldElucHV0VmFsdWUodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9LCBbaGFzRm9jdXNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWhhc0ZvY3VzKSB7XG4gICAgICBzZXRJbnB1dFZhbHVlKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSwgW3ZhbHVlXSk7XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSB2ID0+IHtcbiAgICBzZXRJbnB1dFZhbHVlKHYpO1xuICAgIHNldFZhbHVlV2l0aENoZWNrKHBhcnNlRmxvYXQodikpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1pbnVzID0gKCkgPT4ge1xuICAgIHNldFZhbHVlV2l0aENoZWNrKHZhbHVlIC0gc3RlcCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGx1cyA9ICgpID0+IHtcbiAgICBzZXRWYWx1ZVdpdGhDaGVjayh2YWx1ZSArIHN0ZXApO1xuICB9O1xuXG4gIGNvbnN0IG1pbnVzRGlzYWJsZWQgPSAoKSA9PiB7XG4gICAgaWYgKG1pbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZGlzYWJsZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXNhYmxlZCB8fCB2YWx1ZSA8PSBtaW47XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsdXNEaXNhYmxlZCA9ICgpID0+IHtcbiAgICBpZiAobWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRpc2FibGVkIHx8IHZhbHVlID49IG1heDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWRpc2FibGVkYF06IGRpc2FibGVkLFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS1hY3RpdmVgXTogaGFzRm9jdXNcbiAgICB9KVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LW1pbnVzYCxcbiAgICBvbkNsaWNrOiBoYW5kbGVNaW51cyxcbiAgICBkaXNhYmxlZDogbWludXNEaXNhYmxlZCgpLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBjb2xvcjogJ3ByaW1hcnknXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWludXNPdXRsaW5lLCBudWxsKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LW1pZGRsZWBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWlucHV0YCxcbiAgICBvbkZvY3VzOiBlID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgc2V0SGFzRm9jdXModHJ1ZSk7XG4gICAgICAoX2EgPSBwcm9wcy5vbkZvY3VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgfSxcbiAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICBvbkNoYW5nZTogdmFsID0+IHtcbiAgICAgIGRpc2FibGVkIHx8IGhhbmRsZUlucHV0Q2hhbmdlKHZhbCk7XG4gICAgfSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgb25CbHVyOiBlID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgc2V0SGFzRm9jdXMoZmFsc2UpO1xuICAgICAgKF9hID0gcHJvcHMub25CbHVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgfSxcbiAgICByZWFkT25seTogaW5wdXRSZWFkT25seVxuICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tcGx1c2AsXG4gICAgb25DbGljazogaGFuZGxlUGx1cyxcbiAgICBkaXNhYmxlZDogcGx1c0Rpc2FibGVkKCksXG4gICAgZmlsbDogJ25vbmUnLFxuICAgIGNvbG9yOiAncHJpbWFyeSdcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBZGRPdXRsaW5lLCBudWxsKSkpKTtcbn07IiwiaW1wb3J0IFwiLi9zdGVwcy5jc3NcIjtcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdGVwIH0gZnJvbSAnLi9zdGVwJztcbmltcG9ydCB7IFN0ZXBzIH0gZnJvbSAnLi9zdGVwcyc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoU3RlcHMsIHtcbiAgU3RlcFxufSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1zdGVwYDtcbmV4cG9ydCBjb25zdCBTdGVwID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgaWNvbixcbiAgICBzdGF0dXMgPSAnd2FpdCdcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9YCwgYCR7Y2xhc3NQcmVmaXh9LXN0YXR1cy0ke3N0YXR1c31gKVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pbmRpY2F0b3JgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWljb24tY29udGFpbmVyYFxuICB9LCBpY29uKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNvbnRlbnRgXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRpdGxlYFxuICB9LCB0aXRsZSksICEhZGVzY3JpcHRpb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tZGVzY3JpcHRpb25gXG4gIH0sIGRlc2NyaXB0aW9uKSkpKTtcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSBgYWRtLXN0ZXBzYDtcbmNvbnN0IHN0ZXBDbGFzc1ByZWZpeCA9IGBhZG0tc3RlcGA7XG5jb25zdCBkZWZhdWx0SWNvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgY2xhc3NOYW1lOiBgJHtzdGVwQ2xhc3NQcmVmaXh9LWljb24tZG90YFxufSk7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGN1cnJlbnQ6IDAsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnXG59O1xuZXhwb3J0IGNvbnN0IFN0ZXBzID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgZGlyZWN0aW9uLFxuICAgIGN1cnJlbnRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBjbGFzc1N0cmluZyA9IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIGAke2NsYXNzUHJlZml4fS0ke2RpcmVjdGlvbn1gKTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1N0cmluZ1xuICB9LCBSZWFjdC5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3BzID0gY2hpbGQucHJvcHM7XG4gICAgbGV0IHN0YXR1cyA9IHByb3BzLnN0YXR1cyB8fCAnd2FpdCc7XG5cbiAgICBpZiAoaW5kZXggPCBjdXJyZW50KSB7XG4gICAgICBzdGF0dXMgPSBwcm9wcy5zdGF0dXMgfHwgJ2ZpbmlzaCc7XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgc3RhdHVzID0gcHJvcHMuc3RhdHVzIHx8ICdwcm9jZXNzJztcbiAgICB9XG5cbiAgICBjb25zdCBpY29uID0gKF9hID0gcHJvcHMuaWNvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdEljb247XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgc3RhdHVzLFxuICAgICAgaWNvblxuICAgIH0pO1xuICB9KSkpO1xufTsiLCJpbXBvcnQgXCIuL3N3aXBlLWFjdGlvbi5jc3NcIjtcbmltcG9ydCB7IFN3aXBlQWN0aW9uIH0gZnJvbSAnLi9zd2lwZS1hY3Rpb24nO1xuZXhwb3J0IGRlZmF1bHQgU3dpcGVBY3Rpb247IiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJ0B1c2UtZ2VzdHVyZS9yZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbic7XG5pbXBvcnQgeyBuZWFyZXN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvbmVhcmVzdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICByaWdodEFjdGlvbnM6IFtdLFxuICBsZWZ0QWN0aW9uczogW10sXG4gIGNsb3NlT25Ub3VjaE91dHNpZGU6IHRydWUsXG4gIGNsb3NlT25BY3Rpb246IHRydWVcbn07XG5leHBvcnQgY29uc3QgU3dpcGVBY3Rpb24gPSBmb3J3YXJkUmVmKChwLCByZWYpID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHJvb3RSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxlZnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJpZ2h0UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGZ1bmN0aW9uIGdldFdpZHRoKHJlZikge1xuICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVybiAwO1xuICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGVmdFdpZHRoKCkge1xuICAgIHJldHVybiBnZXRXaWR0aChsZWZ0UmVmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpZ2h0V2lkdGgoKSB7XG4gICAgcmV0dXJuIGdldFdpZHRoKHJpZ2h0UmVmKTtcbiAgfVxuXG4gIGNvbnN0IFt7XG4gICAgeFxuICB9LCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgeDogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDIwMCxcbiAgICAgIGZyaWN0aW9uOiAzMFxuICAgIH1cbiAgfSksIFtdKTtcbiAgY29uc3QgZHJhZ2dpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBiaW5kID0gdXNlRHJhZyhzdGF0ZSA9PiB7XG4gICAgZHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgY29uc3QgW29mZnNldFhdID0gc3RhdGUub2Zmc2V0O1xuXG4gICAgaWYgKHN0YXRlLmxhc3QpIHtcbiAgICAgIGNvbnN0IGxlZnRXaWR0aCA9IGdldExlZnRXaWR0aCgpO1xuICAgICAgY29uc3QgcmlnaHRXaWR0aCA9IGdldFJpZ2h0V2lkdGgoKTtcbiAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldFggKyBzdGF0ZS52ZWxvY2l0eVswXSAqIHN0YXRlLmRpcmVjdGlvblswXSAqIDUwO1xuXG4gICAgICBpZiAob2Zmc2V0WCA+IDApIHtcbiAgICAgICAgcG9zaXRpb24gPSBNYXRoLm1heCgwLCBwb3NpdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKG9mZnNldFggPCAwKSB7XG4gICAgICAgIHBvc2l0aW9uID0gTWF0aC5taW4oMCwgcG9zaXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zaXRpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICBhcGkuc3RhcnQoe1xuICAgICAgICB4OiBuZWFyZXN0KFstcmlnaHRXaWR0aCwgMCwgbGVmdFdpZHRoXSwgcG9zaXRpb24pXG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIHg6IG9mZnNldFgsXG4gICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogKCkgPT4gW3guZ2V0KCksIDBdLFxuICAgIGJvdW5kczogKCkgPT4ge1xuICAgICAgY29uc3QgbGVmdFdpZHRoID0gZ2V0TGVmdFdpZHRoKCk7XG4gICAgICBjb25zdCByaWdodFdpZHRoID0gZ2V0UmlnaHRXaWR0aCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogLXJpZ2h0V2lkdGgsXG4gICAgICAgIHJpZ2h0OiBsZWZ0V2lkdGhcbiAgICAgIH07XG4gICAgfSxcbiAgICAvLyBydWJiZXJiYW5kOiB0cnVlLFxuICAgIGF4aXM6ICd4JyxcbiAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlLFxuICAgIHBvaW50ZXI6IHtcbiAgICAgIHRvdWNoOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBhcGkuc3RhcnQoe1xuICAgICAgeDogMFxuICAgIH0pO1xuICB9XG5cbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgc2hvdzogKHNpZGUgPSAncmlnaHQnKSA9PiB7XG4gICAgICBpZiAoc2lkZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHg6IC1nZXRSaWdodFdpZHRoKClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHg6IGdldExlZnRXaWR0aCgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvc2VcbiAgfSkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcHJvcHMuY2xvc2VPblRvdWNoT3V0c2lkZSkgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlKGUpIHtcbiAgICAgIGlmICh4LmdldCgpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm9vdCA9IHJvb3RSZWYuY3VycmVudDtcblxuICAgICAgaWYgKHJvb3QgJiYgIXJvb3QuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGUpO1xuICAgIH07XG4gIH0sIFtwcm9wcy5jbG9zZU9uVG91Y2hPdXRzaWRlXSk7XG5cbiAgZnVuY3Rpb24gcmVuZGVyQWN0aW9uKGFjdGlvbikge1xuICAgIHZhciBfYSwgX2I7XG5cbiAgICBjb25zdCBjb2xvciA9IChfYSA9IGFjdGlvbi5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ2xpZ2h0JztcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGtleTogYWN0aW9uLmtleSxcbiAgICAgIGNsYXNzTmFtZTogJ2FkbS1zd2lwZS1hY3Rpb24tYWN0aW9uLWJ1dHRvbicsXG4gICAgICBzdHlsZToge1xuICAgICAgICAnLS1iYWNrZ3JvdW5kLWNvbG9yJzogKF9iID0gY29sb3JSZWNvcmRbY29sb3JdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb2xvclxuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICAgIGlmIChwcm9wcy5jbG9zZU9uQWN0aW9uKSB7XG4gICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIChfYSA9IGFjdGlvbi5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChhY3Rpb24sIGUpO1xuICAgICAgICAoX2IgPSBwcm9wcy5vbkFjdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMsIGFjdGlvbik7XG4gICAgICB9XG4gICAgfSwgYWN0aW9uLnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICBjbGFzc05hbWU6ICdhZG0tc3dpcGUtYWN0aW9uJ1xuICB9LCBiaW5kKCksIHtcbiAgICByZWY6IHJvb3RSZWYsXG4gICAgb25DbGlja0NhcHR1cmU6IGUgPT4ge1xuICAgICAgaWYgKGRyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgY2xhc3NOYW1lOiAnYWRtLXN3aXBlLWFjdGlvbi10cmFjaycsXG4gICAgc3R5bGU6IHtcbiAgICAgIHhcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogJ2FkbS1zd2lwZS1hY3Rpb24tYWN0aW9ucyBhZG0tc3dpcGUtYWN0aW9uLWFjdGlvbnMtbGVmdCcsXG4gICAgcmVmOiBsZWZ0UmVmXG4gIH0sIHByb3BzLmxlZnRBY3Rpb25zLm1hcChyZW5kZXJBY3Rpb24pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiAnYWRtLXN3aXBlLWFjdGlvbi1jb250ZW50JyxcbiAgICBvbkNsaWNrQ2FwdHVyZTogZSA9PiB7XG4gICAgICBpZiAoeC5nb2FsICE9PSAwKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICB4OiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBzdHlsZToge1xuICAgICAgcG9pbnRlckV2ZW50czogeC50byh2ID0+IHYgIT09IDAgJiYgeC5nb2FsICE9PSAwID8gJ25vbmUnIDogJ3Vuc2V0JylcbiAgICB9XG4gIH0sIHByb3BzLmNoaWxkcmVuKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogJ2FkbS1zd2lwZS1hY3Rpb24tYWN0aW9ucyBhZG0tc3dpcGUtYWN0aW9uLWFjdGlvbnMtcmlnaHQnLFxuICAgIHJlZjogcmlnaHRSZWZcbiAgfSwgcHJvcHMucmlnaHRBY3Rpb25zLm1hcChyZW5kZXJBY3Rpb24pKSkpKTtcbn0pO1xuY29uc3QgY29sb3JSZWNvcmQgPSB7XG4gIGxpZ2h0OiAndmFyKC0tYWRtLWNvbG9yLWxpZ2h0KScsXG4gIHdlYWs6ICd2YXIoLS1hZG0tY29sb3Itd2VhayknLFxuICBwcmltYXJ5OiAndmFyKC0tYWRtLWNvbG9yLXByaW1hcnkpJyxcbiAgc3VjY2VzczogJ3ZhcigtLWFkbS1jb2xvci1zdWNjZXNzKScsXG4gIHdhcm5pbmc6ICd2YXIoLS1hZG0tY29sb3Itd2FybmluZyknLFxuICBkYW5nZXI6ICd2YXIoLS1hZG0tY29sb3ItZGFuZ2VyKSdcbn07IiwiaW1wb3J0IFwiLi9zd2lwZXIuY3NzXCI7XG5pbXBvcnQgeyBTd2lwZXIgfSBmcm9tICcuL3N3aXBlcic7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuaW1wb3J0IHsgU3dpcGVySXRlbSB9IGZyb20gJy4vc3dpcGVyLWl0ZW0nO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KFN3aXBlciwge1xuICBJdGVtOiBTd2lwZXJJdGVtXG59KTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmV4cG9ydCBjb25zdCBTd2lwZXJJdGVtID0gcHJvcHMgPT4ge1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6ICdhZG0tc3dpcGVyLWl0ZW0nLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKTtcbn07IiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlTGF5b3V0RWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE5hdGl2ZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmF0aXZlLXByb3BzJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBTd2lwZXJJdGVtIH0gZnJvbSAnLi9zd2lwZXItaXRlbSc7XG5pbXBvcnQgeyBkZXZXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGV2LWxvZyc7XG5pbXBvcnQgeyB1c2VTcHJpbmcsIGFuaW1hdGVkIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJ0B1c2UtZ2VzdHVyZS9yZWFjdCc7XG5pbXBvcnQgUGFnZUluZGljYXRvciBmcm9tICcuLi9wYWdlLWluZGljYXRvcic7XG5pbXBvcnQgeyBzdGFnZWQgfSBmcm9tICdzdGFnZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1c2VSZWZTdGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1yZWYtc3RhdGUnO1xuaW1wb3J0IHsgYm91bmQgfSBmcm9tICcuLi8uLi91dGlscy9ib3VuZCc7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRJbmRleDogMCxcbiAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gIGF1dG9wbGF5OiBmYWxzZSxcbiAgYXV0b3BsYXlJbnRlcnZhbDogMzAwMCxcbiAgbG9vcDogZmFsc2UsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICBzbGlkZVNpemU6IDEwMCxcbiAgdHJhY2tPZmZzZXQ6IDAsXG4gIHN0dWNrQXRCb3VuZGFyeTogdHJ1ZSxcbiAgcnViYmVyYmFuZDogdHJ1ZVxufTtcbmV4cG9ydCBjb25zdCBTd2lwZXIgPSBmb3J3YXJkUmVmKHN0YWdlZCgocCwgcmVmKSA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gcHJvcHMuZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICBjb25zdCBzbGlkZVJhdGlvID0gcHJvcHMuc2xpZGVTaXplIC8gMTAwO1xuICBjb25zdCBvZmZzZXRSYXRpbyA9IHByb3BzLnRyYWNrT2Zmc2V0IC8gMTAwO1xuICBjb25zdCB7XG4gICAgdmFsaWRDaGlsZHJlbixcbiAgICBjb3VudFxuICB9ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb25zdCB2YWxpZENoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4ubWFwKHByb3BzLmNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgIGlmIChjaGlsZC50eXBlICE9PSBTd2lwZXJJdGVtKSB7XG4gICAgICAgIGRldldhcm5pbmcoJ1N3aXBlcicsICdUaGUgY2hpbGRyZW4gb2YgYFN3aXBlcmAgbXVzdCBiZSBgU3dpcGVyLkl0ZW1gIGNvbXBvbmVudHMuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb3VudCsrO1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZENoaWxkcmVuLFxuICAgICAgY291bnRcbiAgICB9O1xuICB9LCBbcHJvcHMuY2hpbGRyZW5dKTtcblxuICBpZiAoY291bnQgPT09IDAgfHwgIXZhbGlkQ2hpbGRyZW4pIHtcbiAgICBkZXZXYXJuaW5nKCdTd2lwZXInLCAnYFN3aXBlcmAgbmVlZHMgYXQgbGVhc3Qgb25lIGNoaWxkLicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgbG9vcCA9IHByb3BzLmxvb3A7XG5cbiAgICBpZiAoc2xpZGVSYXRpbyAqIChjb3VudCAtIDEpIDwgMSkge1xuICAgICAgbG9vcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYWNrUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgZnVuY3Rpb24gZ2V0U2xpZGVQaXhlbHMoKSB7XG4gICAgICBjb25zdCB0cmFjayA9IHRyYWNrUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIXRyYWNrKSByZXR1cm4gMDtcbiAgICAgIGNvbnN0IHRyYWNrUGl4ZWxzID0gaXNWZXJ0aWNhbCA/IHRyYWNrLm9mZnNldEhlaWdodCA6IHRyYWNrLm9mZnNldFdpZHRoO1xuICAgICAgcmV0dXJuIHRyYWNrUGl4ZWxzICogcHJvcHMuc2xpZGVTaXplIC8gMTAwO1xuICAgIH1cblxuICAgIGNvbnN0IFtjdXJyZW50LCBzZXRDdXJyZW50XSA9IHVzZVN0YXRlKHByb3BzLmRlZmF1bHRJbmRleCk7XG4gICAgY29uc3QgW2RyYWdnaW5nLCBzZXREcmFnZ2luZywgZHJhZ2dpbmdSZWZdID0gdXNlUmVmU3RhdGUoZmFsc2UpO1xuXG4gICAgZnVuY3Rpb24gYm91bmRJbmRleChjdXJyZW50KSB7XG4gICAgICBsZXQgbWluID0gMDtcbiAgICAgIGxldCBtYXggPSBjb3VudCAtIDE7XG5cbiAgICAgIGlmIChwcm9wcy5zdHVja0F0Qm91bmRhcnkpIHtcbiAgICAgICAgbWluICs9IG9mZnNldFJhdGlvIC8gc2xpZGVSYXRpbztcbiAgICAgICAgbWF4IC09ICgxIC0gc2xpZGVSYXRpbyAtIG9mZnNldFJhdGlvKSAvIHNsaWRlUmF0aW87XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBib3VuZChjdXJyZW50LCBtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgY29uc3QgW3tcbiAgICAgIHBvc2l0aW9uXG4gICAgfSwgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgICAgcG9zaXRpb246IGJvdW5kSW5kZXgoY3VycmVudCkgKiAxMDAsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgdGVuc2lvbjogMjAwLFxuICAgICAgICBmcmljdGlvbjogMzBcbiAgICAgIH0sXG4gICAgICBvblJlc3Q6ICgpID0+IHtcbiAgICAgICAgaWYgKGRyYWdnaW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3QgcmF3WCA9IHBvc2l0aW9uLmdldCgpO1xuICAgICAgICBjb25zdCB0b3RhbFdpZHRoID0gMTAwICogY291bnQ7XG4gICAgICAgIGNvbnN0IHN0YW5kYXJkUG9zaXRpb24gPSBtb2R1bHVzKHJhd1gsIHRvdGFsV2lkdGgpO1xuICAgICAgICBpZiAoc3RhbmRhcmRQb3NpdGlvbiA9PT0gcmF3WCkgcmV0dXJuO1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHBvc2l0aW9uOiBzdGFuZGFyZFBvc2l0aW9uLFxuICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSwgW2NvdW50XSk7XG4gICAgY29uc3QgYmluZCA9IHVzZURyYWcoc3RhdGUgPT4ge1xuICAgICAgY29uc3Qgc2xpZGVQaXhlbHMgPSBnZXRTbGlkZVBpeGVscygpO1xuICAgICAgaWYgKCFzbGlkZVBpeGVscykgcmV0dXJuO1xuICAgICAgY29uc3QgcGFyYW1JbmRleCA9IGlzVmVydGljYWwgPyAxIDogMDtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHN0YXRlLm9mZnNldFtwYXJhbUluZGV4XTtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHN0YXRlLmRpcmVjdGlvbltwYXJhbUluZGV4XTtcbiAgICAgIGNvbnN0IHZlbG9jaXR5ID0gc3RhdGUudmVsb2NpdHlbcGFyYW1JbmRleF07XG4gICAgICBzZXREcmFnZ2luZyh0cnVlKTtcblxuICAgICAgaWYgKCFzdGF0ZS5sYXN0KSB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgcG9zaXRpb246IG9mZnNldCAqIDEwMCAvIHNsaWRlUGl4ZWxzLFxuICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pbkluZGV4ID0gTWF0aC5mbG9vcihvZmZzZXQgLyBzbGlkZVBpeGVscyk7XG4gICAgICAgIGNvbnN0IG1heEluZGV4ID0gbWluSW5kZXggKyAxO1xuICAgICAgICBjb25zdCBpbmRleCA9IE1hdGgucm91bmQoKG9mZnNldCArIHZlbG9jaXR5ICogMjAwMCAqIGRpcmVjdGlvbikgLyBzbGlkZVBpeGVscyk7XG4gICAgICAgIHN3aXBlVG8oYm91bmQoaW5kZXgsIG1pbkluZGV4LCBtYXhJbmRleCkpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2V0RHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB0cmFuc2Zvcm06IChbeCwgeV0pID0+IFsteCwgLXldLFxuICAgICAgZnJvbTogKCkgPT4ge1xuICAgICAgICBjb25zdCBzbGlkZVBpeGVscyA9IGdldFNsaWRlUGl4ZWxzKCk7XG4gICAgICAgIHJldHVybiBbcG9zaXRpb24uZ2V0KCkgLyAxMDAgKiBzbGlkZVBpeGVscywgcG9zaXRpb24uZ2V0KCkgLyAxMDAgKiBzbGlkZVBpeGVsc107XG4gICAgICB9LFxuICAgICAgYm91bmRzOiAoKSA9PiB7XG4gICAgICAgIGlmIChsb29wKSByZXR1cm4ge307XG4gICAgICAgIGNvbnN0IHNsaWRlUGl4ZWxzID0gZ2V0U2xpZGVQaXhlbHMoKTtcbiAgICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGJvdW5kSW5kZXgoMCkgKiBzbGlkZVBpeGVscztcbiAgICAgICAgY29uc3QgdXBwZXJCb3VuZCA9IGJvdW5kSW5kZXgoY291bnQgLSAxKSAqIHNsaWRlUGl4ZWxzO1xuICAgICAgICByZXR1cm4gaXNWZXJ0aWNhbCA/IHtcbiAgICAgICAgICB0b3A6IGxvd2VyQm91bmQsXG4gICAgICAgICAgYm90dG9tOiB1cHBlckJvdW5kXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgbGVmdDogbG93ZXJCb3VuZCxcbiAgICAgICAgICByaWdodDogdXBwZXJCb3VuZFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHJ1YmJlcmJhbmQ6IHByb3BzLnJ1YmJlcmJhbmQsXG4gICAgICBheGlzOiBpc1ZlcnRpY2FsID8gJ3knIDogJ3gnLFxuICAgICAgcHJldmVudFNjcm9sbDogIWlzVmVydGljYWwsXG4gICAgICBwb2ludGVyOiB7XG4gICAgICAgIHRvdWNoOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzd2lwZVRvKGluZGV4LCBpbW1lZGlhdGUgPSBmYWxzZSkge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgY29uc3QgaSA9IG1vZHVsdXMoaW5kZXgsIGNvdW50KTtcbiAgICAgICAgc2V0Q3VycmVudChpKTtcbiAgICAgICAgKF9hID0gcHJvcHMub25JbmRleENoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGkpO1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHBvc2l0aW9uOiBpbmRleCAqIDEwMCxcbiAgICAgICAgICBpbW1lZGlhdGVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpID0gYm91bmQoaW5kZXgsIDAsIGNvdW50IC0gMSk7XG4gICAgICAgIHNldEN1cnJlbnQoaSk7XG4gICAgICAgIChfYiA9IHByb3BzLm9uSW5kZXhDaGFuZ2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHByb3BzLCBpKTtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICBwb3NpdGlvbjogYm91bmRJbmRleChpKSAqIDEwMCxcbiAgICAgICAgICBpbW1lZGlhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3dpcGVOZXh0KCkge1xuICAgICAgc3dpcGVUbyhNYXRoLnJvdW5kKHBvc2l0aW9uLmdldCgpIC8gMTAwKSArIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN3aXBlUHJldigpIHtcbiAgICAgIHN3aXBlVG8oTWF0aC5yb3VuZChwb3NpdGlvbi5nZXQoKSAvIDEwMCkgLSAxKTtcbiAgICB9XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICAgIHN3aXBlVG8sXG4gICAgICBzd2lwZU5leHQsXG4gICAgICBzd2lwZVByZXZcbiAgICB9KSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IG1heEluZGV4ID0gdmFsaWRDaGlsZHJlbi5sZW5ndGggLSAxO1xuXG4gICAgICBpZiAoY3VycmVudCA+IG1heEluZGV4KSB7XG4gICAgICAgIHN3aXBlVG8obWF4SW5kZXgsIHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgIGF1dG9wbGF5LFxuICAgICAgYXV0b3BsYXlJbnRlcnZhbFxuICAgIH0gPSBwcm9wcztcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCFhdXRvcGxheSB8fCBkcmFnZ2luZykgcmV0dXJuO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzd2lwZU5leHQoKTtcbiAgICAgIH0sIGF1dG9wbGF5SW50ZXJ2YWwpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgfTtcbiAgICB9LCBbYXV0b3BsYXksIGF1dG9wbGF5SW50ZXJ2YWwsIGRyYWdnaW5nXSk7XG5cbiAgICBmdW5jdGlvbiByZW5kZXJUcmFja0lubmVyKCkge1xuICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ2FkbS1zd2lwZXItdHJhY2staW5uZXInXG4gICAgICAgIH0sIFJlYWN0LkNoaWxkcmVuLm1hcCh2YWxpZENoaWxkcmVuLCAoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdhZG0tc3dpcGVyLXNsaWRlJyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIFtpc1ZlcnRpY2FsID8gJ3knIDogJ3gnXTogcG9zaXRpb24udG8ocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmaW5hbFBvc2l0aW9uID0gLXBvc2l0aW9uICsgaW5kZXggKiAxMDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxXaWR0aCA9IGNvdW50ICogMTAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWdXaWR0aCA9IHRvdGFsV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIGZpbmFsUG9zaXRpb24gPSBtb2R1bHVzKGZpbmFsUG9zaXRpb24gKyBmbGFnV2lkdGgsIHRvdGFsV2lkdGgpIC0gZmxhZ1dpZHRoO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtmaW5hbFBvc2l0aW9ufSVgO1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgW2lzVmVydGljYWwgPyAndG9wJyA6ICdsZWZ0J106IGAtJHtpbmRleCAqIDEwMH0lYFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGNoaWxkKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYW5pbWF0ZWQuZGl2LCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnYWRtLXN3aXBlci10cmFjay1pbm5lcicsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIFtpc1ZlcnRpY2FsID8gJ3knIDogJ3gnXTogcG9zaXRpb24udG8ocG9zaXRpb24gPT4gYCR7LXBvc2l0aW9ufSVgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgUmVhY3QuQ2hpbGRyZW4ubWFwKHZhbGlkQ2hpbGRyZW4sIChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdhZG0tc3dpcGVyLXNsaWRlJ1xuICAgICAgICAgIH0sIGNoaWxkKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgJy0tc2xpZGUtc2l6ZSc6IGAke3Byb3BzLnNsaWRlU2l6ZX0lYCxcbiAgICAgICctLXRyYWNrLW9mZnNldCc6IGAke3Byb3BzLnRyYWNrT2Zmc2V0fSVgXG4gICAgfTtcbiAgICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnYWRtLXN3aXBlcicsIGBhZG0tc3dpcGVyLSR7cHJvcHMuZGlyZWN0aW9ufWApLFxuICAgICAgc3R5bGU6IHN0eWxlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJlZjogdHJhY2tSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ2FkbS1zd2lwZXItdHJhY2snLCB7XG4gICAgICAgICdhZG0tc3dpcGVyLXRyYWNrLWFsbG93LXRvdWNoLW1vdmUnOiBwcm9wcy5hbGxvd1RvdWNoTW92ZVxuICAgICAgfSksXG4gICAgICBvbkNsaWNrQ2FwdHVyZTogZSA9PiB7XG4gICAgICAgIGlmIChkcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHByb3BzLmFsbG93VG91Y2hNb3ZlID8gYmluZCgpIDoge30pLCByZW5kZXJUcmFja0lubmVyKCkpLCBwcm9wcy5pbmRpY2F0b3IgPT09IHVuZGVmaW5lZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiAnYWRtLXN3aXBlci1pbmRpY2F0b3InXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlSW5kaWNhdG9yLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcy5pbmRpY2F0b3JQcm9wcywge1xuICAgICAgdG90YWw6IGNvdW50LFxuICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgIGRpcmVjdGlvbjogcHJvcHMuZGlyZWN0aW9uXG4gICAgfSkpKSA6IHByb3BzLmluZGljYXRvcihjb3VudCwgY3VycmVudCkpKTtcbiAgfTtcbn0pKTtcblxuZnVuY3Rpb24gbW9kdWx1cyh2YWx1ZSwgZGl2aXNpb24pIHtcbiAgY29uc3QgcmVtYWluZGVyID0gdmFsdWUgJSBkaXZpc2lvbjtcbiAgcmV0dXJuIHJlbWFpbmRlciA8IDAgPyByZW1haW5kZXIgKyBkaXZpc2lvbiA6IHJlbWFpbmRlcjtcbn0iLCJpbXBvcnQgXCIuL3N3aXRjaC5jc3NcIjtcbmltcG9ydCB7IFN3aXRjaCB9IGZyb20gJy4vc3dpdGNoJztcbmV4cG9ydCBkZWZhdWx0IFN3aXRjaDsiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNwaW5JY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9zcGluLnN2Zyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS1zd2l0Y2hgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0Q2hlY2tlZDogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgU3dpdGNoID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmxvYWRpbmcgfHwgZmFsc2U7XG4gIGNvbnN0IFtjaGFuZ2luZywgc2V0Q2hhbmdpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2hlY2tlZCwgc2V0Q2hlY2tlZF0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMuY2hlY2tlZCxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZVxuICB9KTtcblxuICBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoZGlzYWJsZWQgfHwgcHJvcHMubG9hZGluZyB8fCBjaGFuZ2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5leHRDaGVja2VkID0gIWNoZWNrZWQ7XG5cbiAgICAgIGlmIChwcm9wcy5iZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgc2V0Q2hhbmdpbmcodHJ1ZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB5aWVsZCBwcm9wcy5iZWZvcmVDaGFuZ2UobmV4dENoZWNrZWQpO1xuICAgICAgICAgIHNldENoZWNrZWQobmV4dENoZWNrZWQpO1xuICAgICAgICAgIHNldENoYW5naW5nKGZhbHNlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHNldENoYW5naW5nKGZhbHNlKTtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDaGVja2VkKG5leHRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzUHJlZml4LCB7XG4gICAgICBbYCR7Y2xhc3NQcmVmaXh9LWNoZWNrZWRgXTogY2hlY2tlZCxcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tZGlzYWJsZWRgXTogZGlzYWJsZWQgfHwgY2hhbmdpbmdcbiAgICB9KVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jaGVja2JveGBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taGFuZGxlYFxuICB9LCAocHJvcHMubG9hZGluZyB8fCBjaGFuZ2luZykgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBTcGluSWNvbixcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pY29uYCxcbiAgICBhbHQ6ICdzd2l0Y2gtaGFuZGxlJ1xuICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWlubmVyYFxuICB9LCBjaGVja2VkID8gcHJvcHMuY2hlY2tlZFRleHQgOiBwcm9wcy51bmNoZWNrZWRUZXh0KSkpKTtcbn07IiwiaW1wb3J0IFwiLi90YWItYmFyLmNzc1wiO1xuaW1wb3J0IHsgVGFiQmFyLCBUYWJCYXJJdGVtIH0gZnJvbSAnLi90YWItYmFyJztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQoVGFiQmFyLCB7XG4gIEl0ZW06IFRhYkJhckl0ZW1cbn0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmltcG9ydCBCYWRnZSBmcm9tICcuLi9iYWRnZSc7XG5pbXBvcnQgU2FmZUFyZWEgZnJvbSAnLi4vc2FmZS1hcmVhJztcbmltcG9ydCB7IHVzZVByb3BzVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtcHJvcHMtdmFsdWUnO1xuZXhwb3J0IGNvbnN0IFRhYkJhckl0ZW0gPSAoKSA9PiB7XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS10YWItYmFyYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgc2FmZUFyZWE6IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IFRhYkJhciA9IHAgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGxldCBmaXJzdEFjdGl2ZUtleSA9IG51bGw7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgZmlyc3RBY3RpdmVLZXkgPSBrZXk7XG4gICAgfVxuXG4gICAgaXRlbXMucHVzaChjaGlsZCk7XG4gIH0pO1xuICBjb25zdCBbYWN0aXZlS2V5LCBzZXRBY3RpdmVLZXldID0gdXNlUHJvcHNWYWx1ZSh7XG4gICAgdmFsdWU6IHByb3BzLmFjdGl2ZUtleSxcbiAgICBkZWZhdWx0VmFsdWU6IChfYSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0QWN0aXZlS2V5LFxuICAgIG9uQ2hhbmdlOiB2ID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKHYgPT09IG51bGwpIHJldHVybjtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS13cmFwYFxuICB9LCBpdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgY29uc3QgYWN0aXZlID0gaXRlbS5rZXkgPT09IGFjdGl2ZUtleTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICBjb25zdCBpY29uRWxlbWVudCA9IGl0ZW0ucHJvcHMuaWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taXRlbS1pY29uYFxuICAgICAgfSwgdHlwZW9mIGl0ZW0ucHJvcHMuaWNvbiA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZW0ucHJvcHMuaWNvbihhY3RpdmUpIDogaXRlbS5wcm9wcy5pY29uKTtcbiAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IGl0ZW0ucHJvcHMudGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tdGl0bGVgXG4gICAgICB9LCBpdGVtLnByb3BzLnRpdGxlKTtcblxuICAgICAgaWYgKGljb25FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJhZGdlLCB7XG4gICAgICAgICAgY29udGVudDogaXRlbS5wcm9wcy5iYWRnZSxcbiAgICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1pY29uLWJhZGdlYFxuICAgICAgICB9LCBpY29uRWxlbWVudCksIHRpdGxlRWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHRpdGxlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCYWRnZSwge1xuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0ucHJvcHMuYmFkZ2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tdGl0bGUtYmFkZ2VgXG4gICAgICAgIH0sIHRpdGxlRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB3aXRoTmF0aXZlUHJvcHMoaXRlbS5wcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGl0ZW0ua2V5LFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAga2V5XG4gICAgICAgIH0gPSBpdGVtO1xuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIHNldEFjdGl2ZUtleShrZXkudG9TdHJpbmcoKSk7XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1pdGVtYCwge1xuICAgICAgICBbYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tYWN0aXZlYF06IGFjdGl2ZVxuICAgICAgfSlcbiAgICB9LCByZW5kZXJDb250ZW50KCkpKTtcbiAgfSkpLCBwcm9wcy5zYWZlQXJlYSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFNhZmVBcmVhLCB7XG4gICAgcG9zaXRpb246ICdib3R0b20nXG4gIH0pKSk7XG59OyIsImltcG9ydCBcIi4vdGFicy5jc3NcIjtcbmltcG9ydCB7IFRhYiwgVGFicyB9IGZyb20gJy4vdGFicyc7XG5pbXBvcnQgeyBhdHRhY2hQcm9wZXJ0aWVzVG9Db21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9hdHRhY2gtcHJvcGVydGllcy10by1jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KFRhYnMsIHtcbiAgVGFiXG59KTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVNwcmluZywgYW5pbWF0ZWQgfSBmcm9tICdAcmVhY3Qtc3ByaW5nL3dlYic7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBib3VuZCB9IGZyb20gJy4uLy4uL3V0aWxzL2JvdW5kJztcbmltcG9ydCB7IHVzZVVwZGF0ZUxheW91dEVmZmVjdCwgdXNlVGhyb3R0bGVGbiB9IGZyb20gJ2Fob29rcyc7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbkVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1tdXRhdGlvbi1lZmZlY3QnO1xuaW1wb3J0IHsgdXNlUmVzaXplRWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXJlc2l6ZS1lZmZlY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tdGFic2A7XG5leHBvcnQgY29uc3QgVGFiID0gKCkgPT4ge1xuICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIGFjdGl2ZUxpbmVNb2RlOiAnYXV0bycsXG4gIHN0cmV0Y2g6IHRydWVcbn07XG5leHBvcnQgY29uc3QgVGFicyA9IHAgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHRhYkxpc3RDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGFjdGl2ZUxpbmVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGtleVRvSW5kZXhSZWNvcmQgPSB7fTtcbiAgbGV0IGZpcnN0QWN0aXZlS2V5ID0gbnVsbDtcbiAgY29uc3QgcGFuZXMgPSBbXTtcbiAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm47XG4gICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykgcmV0dXJuO1xuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICBmaXJzdEFjdGl2ZUtleSA9IGtleTtcbiAgICB9XG5cbiAgICBjb25zdCBsZW5ndGggPSBwYW5lcy5wdXNoKGNoaWxkKTtcbiAgICBrZXlUb0luZGV4UmVjb3JkW2tleV0gPSBsZW5ndGggLSAxO1xuICB9KTtcbiAgY29uc3QgW2FjdGl2ZUtleSwgc2V0QWN0aXZlS2V5XSA9IHVzZVByb3BzVmFsdWUoe1xuICAgIHZhbHVlOiBwcm9wcy5hY3RpdmVLZXksXG4gICAgZGVmYXVsdFZhbHVlOiAoX2EgPSBwcm9wcy5kZWZhdWx0QWN0aXZlS2V5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmaXJzdEFjdGl2ZUtleSxcbiAgICBvbkNoYW5nZTogdiA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmICh2ID09PSBudWxsKSByZXR1cm47XG4gICAgICAoX2EgPSBwcm9wcy5vbkNoYW5nZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIHYpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IFt7XG4gICAgeCxcbiAgICB3aWR0aFxuICB9LCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgeDogMCxcbiAgICB3aWR0aDogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDMwMCxcbiAgICAgIGNsYW1wOiB0cnVlXG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IFt7XG4gICAgc2Nyb2xsTGVmdFxuICB9LCBzY3JvbGxBcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDMwMCxcbiAgICAgIGNsYW1wOiB0cnVlXG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IFt7XG4gICAgbGVmdE1hc2tPcGFjaXR5LFxuICAgIHJpZ2h0TWFza09wYWNpdHlcbiAgfSwgbWFza0FwaV0gPSB1c2VTcHJpbmcoKCkgPT4gKHtcbiAgICBsZWZ0TWFza09wYWNpdHk6IDAsXG4gICAgcmlnaHRNYXNrT3BhY2l0eTogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIGNsYW1wOiB0cnVlXG4gICAgfVxuICB9KSk7XG5cbiAgZnVuY3Rpb24gYW5pbWF0ZShpbW1lZGlhdGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhYkxpc3RDb250YWluZXJSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0ga2V5VG9JbmRleFJlY29yZFthY3RpdmVLZXldO1xuXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUxpbmUgPSBhY3RpdmVMaW5lUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFhY3RpdmVMaW5lKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlVGFiV3JhcHBlciA9IGNvbnRhaW5lci5jaGlsZHJlbi5pdGVtKGFjdGl2ZUluZGV4ICsgMSk7XG4gICAgY29uc3QgYWN0aXZlVGFiID0gYWN0aXZlVGFiV3JhcHBlci5jaGlsZHJlbi5pdGVtKDApO1xuICAgIGNvbnN0IGFjdGl2ZVRhYkxlZnQgPSBhY3RpdmVUYWIub2Zmc2V0TGVmdDtcbiAgICBjb25zdCBhY3RpdmVUYWJXaWR0aCA9IGFjdGl2ZVRhYi5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBhY3RpdmVUYWJXcmFwcGVyTGVmdCA9IGFjdGl2ZVRhYldyYXBwZXIub2Zmc2V0TGVmdDtcbiAgICBjb25zdCBhY3RpdmVUYWJXcmFwcGVyV2lkdGggPSBhY3RpdmVUYWJXcmFwcGVyLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGNvbnRhaW5lclNjcm9sbFdpZHRoID0gY29udGFpbmVyLnNjcm9sbFdpZHRoO1xuICAgIGNvbnN0IGNvbnRhaW5lclNjcm9sbExlZnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgICBjb25zdCBhY3RpdmVMaW5lV2lkdGggPSBhY3RpdmVMaW5lLm9mZnNldFdpZHRoO1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgd2lkdGggPSAwO1xuXG4gICAgaWYgKHByb3BzLmFjdGl2ZUxpbmVNb2RlID09PSAnYXV0bycpIHtcbiAgICAgIHggPSBhY3RpdmVUYWJMZWZ0O1xuICAgICAgd2lkdGggPSBhY3RpdmVUYWJXaWR0aDtcbiAgICB9IGVsc2UgaWYgKHByb3BzLmFjdGl2ZUxpbmVNb2RlID09PSAnZnVsbCcpIHtcbiAgICAgIHggPSBhY3RpdmVUYWJXcmFwcGVyTGVmdDtcbiAgICAgIHdpZHRoID0gYWN0aXZlVGFiV3JhcHBlcldpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gYWN0aXZlVGFiTGVmdCArIChhY3RpdmVUYWJXaWR0aCAtIGFjdGl2ZUxpbmVXaWR0aCkgLyAyO1xuICAgIH1cblxuICAgIGFwaS5zdGFydCh7XG4gICAgICB4LFxuICAgICAgd2lkdGgsXG4gICAgICBpbW1lZGlhdGVcbiAgICB9KTtcbiAgICBjb25zdCBtYXhTY3JvbGxEaXN0YW5jZSA9IGNvbnRhaW5lclNjcm9sbFdpZHRoIC0gY29udGFpbmVyV2lkdGg7XG4gICAgaWYgKG1heFNjcm9sbERpc3RhbmNlIDw9IDApIHJldHVybjtcbiAgICBjb25zdCBuZXh0U2Nyb2xsTGVmdCA9IGJvdW5kKGFjdGl2ZVRhYkxlZnQgLSAoY29udGFpbmVyV2lkdGggLSBhY3RpdmVUYWJXaWR0aCkgLyAyLCAwLCBjb250YWluZXJTY3JvbGxXaWR0aCAtIGNvbnRhaW5lcldpZHRoKTtcbiAgICBzY3JvbGxBcGkuc3RhcnQoe1xuICAgICAgc2Nyb2xsTGVmdDogbmV4dFNjcm9sbExlZnQsXG4gICAgICBmcm9tOiB7XG4gICAgICAgIHNjcm9sbExlZnQ6IGNvbnRhaW5lclNjcm9sbExlZnRcbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGVcbiAgICB9KTtcbiAgfVxuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYW5pbWF0ZSh0cnVlKTtcbiAgfSwgW10pO1xuICB1c2VVcGRhdGVMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFuaW1hdGUoKTtcbiAgfSwgW2FjdGl2ZUtleV0pO1xuICB1c2VSZXNpemVFZmZlY3QoKCkgPT4ge1xuICAgIGFuaW1hdGUodHJ1ZSk7XG4gIH0sIHRhYkxpc3RDb250YWluZXJSZWYpO1xuICB1c2VNdXRhdGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgYW5pbWF0ZSh0cnVlKTtcbiAgfSwgdGFiTGlzdENvbnRhaW5lclJlZiwge1xuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBydW46IHVwZGF0ZU1hc2tcbiAgfSA9IHVzZVRocm90dGxlRm4oKGltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGFiTGlzdENvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIGNvbnN0IHNob3dMZWZ0TWFzayA9IHNjcm9sbExlZnQgPiAwO1xuICAgIGNvbnN0IHNob3dSaWdodE1hc2sgPSBzY3JvbGxMZWZ0ICsgY29udGFpbmVyLm9mZnNldFdpZHRoIDwgY29udGFpbmVyLnNjcm9sbFdpZHRoO1xuICAgIG1hc2tBcGkuc3RhcnQoe1xuICAgICAgbGVmdE1hc2tPcGFjaXR5OiBzaG93TGVmdE1hc2sgPyAxIDogMCxcbiAgICAgIHJpZ2h0TWFza09wYWNpdHk6IHNob3dSaWdodE1hc2sgPyAxIDogMCxcbiAgICAgIGltbWVkaWF0ZVxuICAgIH0pO1xuICB9LCB7XG4gICAgd2FpdDogMTAwLFxuICAgIHRyYWlsaW5nOiB0cnVlLFxuICAgIGxlYWRpbmc6IHRydWVcbiAgfSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgdXBkYXRlTWFzayh0cnVlKTtcbiAgfSwgW10pO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzUHJlZml4XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWhlYWRlcmBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci1tYXNrYCwgYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci1tYXNrLWxlZnRgKSxcbiAgICBzdHlsZToge1xuICAgICAgb3BhY2l0eTogbGVmdE1hc2tPcGFjaXR5XG4gICAgfVxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci1tYXNrYCwgYCR7Y2xhc3NQcmVmaXh9LWhlYWRlci1tYXNrLXJpZ2h0YCksXG4gICAgc3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHJpZ2h0TWFza09wYWNpdHlcbiAgICB9XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LXRhYi1saXN0YCxcbiAgICByZWY6IHRhYkxpc3RDb250YWluZXJSZWYsXG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICBvblNjcm9sbDogdXBkYXRlTWFza1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwge1xuICAgIHJlZjogYWN0aXZlTGluZVJlZixcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS10YWItbGluZWAsXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiBwcm9wcy5hY3RpdmVMaW5lTW9kZSA9PT0gJ2ZpeGVkJyA/ICd2YXIoLS1maXhlZC1hY3RpdmUtbGluZS13aWR0aCwgMzBweCknIDogd2lkdGgsXG4gICAgICB4XG4gICAgfVxuICB9KSwgcGFuZXMubWFwKHBhbmUgPT4gd2l0aE5hdGl2ZVByb3BzKHBhbmUucHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogcGFuZS5rZXksXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS10YWItd3JhcHBlcmAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGFiLXdyYXBwZXItc3RyZXRjaGBdOiBwcm9wcy5zdHJldGNoXG4gICAgfSlcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlcbiAgICAgIH0gPSBwYW5lO1xuICAgICAgaWYgKHBhbmUucHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZUtleShrZXkudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LXRhYmAsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tdGFiLWFjdGl2ZWBdOiBwYW5lLmtleSA9PT0gYWN0aXZlS2V5LFxuICAgICAgW2Ake2NsYXNzUHJlZml4fS10YWItZGlzYWJsZWRgXTogcGFuZS5wcm9wcy5kaXNhYmxlZFxuICAgIH0pXG4gIH0sIHBhbmUucHJvcHMudGl0bGUpKSkpKSksIHBhbmVzLm1hcChwYW5lID0+IHtcbiAgICBpZiAocGFuZS5wcm9wcy5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocGFuZS5rZXkgPT09IGFjdGl2ZUtleSkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IHBhbmUua2V5LFxuICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50YFxuICAgICAgfSwgcGFuZS5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaWYgKHBhbmUucHJvcHMuZm9yY2VSZW5kZXIpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBwYW5lLmtleSxcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY29udGVudGAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgIH1cbiAgICAgIH0sIHBhbmUucHJvcHMuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9KSkpO1xufTsiLCJpbXBvcnQgXCIuL3RhZy5jc3NcIjtcbmltcG9ydCB7IFRhZyB9IGZyb20gJy4vdGFnJztcbmV4cG9ydCBkZWZhdWx0IFRhZzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tdGFnYDtcbmNvbnN0IGNvbG9yUmVjb3JkID0ge1xuICBkZWZhdWx0OiAnIzY2NjY2NicsXG4gIHByaW1hcnk6ICd2YXIoLS1hZG0tY29sb3ItcHJpbWFyeSwgIzE2NzdmZiknLFxuICBzdWNjZXNzOiAndmFyKC0tYWRtLWNvbG9yLXN1Y2Nlc3MsICMwMGI1NzgpJyxcbiAgd2FybmluZzogJ3ZhcigtLWFkbS1jb2xvci13YXJuaW5nLCAjZmY4ZjFmKScsXG4gIGRhbmdlcjogJ3ZhcigtLWFkbS1jb2xvci1kYW5nZXIsICNmZjMxNDEpJ1xufTtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgY29sb3I6ICdkZWZhdWx0JyxcbiAgZmlsbDogJ3NvbGlkJyxcbiAgcm91bmQ6IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IFRhZyA9IHAgPT4ge1xuICB2YXIgX2E7XG5cbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IGNvbG9yID0gKF9hID0gY29sb3JSZWNvcmRbcHJvcHMuY29sb3JdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwcm9wcy5jb2xvcjtcbiAgY29uc3Qgc3R5bGUgPSB7XG4gICAgJy0tYm9yZGVyLWNvbG9yJzogY29sb3IsXG4gICAgJy0tdGV4dC1jb2xvcic6IHByb3BzLmZpbGwgPT09ICdvdXRsaW5lJyA/IGNvbG9yIDogJyNmZmZmZmYnLFxuICAgICctLWJhY2tncm91bmQtY29sb3InOiBwcm9wcy5maWxsID09PSAnb3V0bGluZScgPyAndHJhbnNwYXJlbnQnIDogY29sb3JcbiAgfTtcbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc1ByZWZpeCwge1xuICAgICAgW2Ake2NsYXNzUHJlZml4fS1yb3VuZGBdOiBwcm9wcy5yb3VuZFxuICAgIH0pXG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG59OyIsImltcG9ydCBcIi4vdGV4dC1hcmVhLmNzc1wiO1xuaW1wb3J0IHsgVGV4dEFyZWEgfSBmcm9tICcuL3RleHQtYXJlYSc7XG5leHBvcnQgZGVmYXVsdCBUZXh0QXJlYTsiLCJpbXBvcnQgeyBfX3Jlc3QgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VFZmZlY3QsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gJ2FkbS10ZXh0LWFyZWEnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICByb3dzOiAyLFxuICBzaG93Q291bnQ6IGZhbHNlLFxuICBhdXRvU2l6ZTogZmFsc2UsXG4gIGRlZmF1bHRWYWx1ZTogJydcbn07XG5leHBvcnQgY29uc3QgVGV4dEFyZWEgPSBmb3J3YXJkUmVmKChwLCByZWYpID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG5cbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBkZWZhdWx0VmFsdWU6IG91dGVyRGVmYXVsdFZhbHVlLFxuICAgIHZhbHVlOiBvdXRlclZhbHVlLFxuICAgIG9uQ2hhbmdlOiBvdXRlck9uQ2hhbmdlLFxuICAgIHJvd3M6IHJvd3MsXG4gICAgYXV0b1NpemU6IGF1dG9TaXplLFxuICAgIHNob3dDb3VudFxuICB9ID0gcHJvcHMsXG4gICAgICAgIHRleHRBcmVhUHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcImNsYXNzTmFtZVwiLCBcInN0eWxlXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwidmFsdWVcIiwgXCJvbkNoYW5nZVwiLCBcInJvd3NcIiwgXCJhdXRvU2l6ZVwiLCBcInNob3dDb3VudFwiXSk7XG5cbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHByb3BzKTtcbiAgY29uc3QgbmF0aXZlVGV4dEFyZWFSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGNsZWFyOiAoKSA9PiB7XG4gICAgICBzZXRWYWx1ZSgnJyk7XG4gICAgfSxcbiAgICBmb2N1czogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICAoX2EgPSBuYXRpdmVUZXh0QXJlYVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9LFxuICAgIGJsdXI6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gbmF0aXZlVGV4dEFyZWFSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9XG4gIH0pKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWF1dG9TaXplKSByZXR1cm47XG4gICAgY29uc3QgdGV4dEFyZWEgPSBuYXRpdmVUZXh0QXJlYVJlZi5jdXJyZW50O1xuICAgIGlmICghdGV4dEFyZWEpIHJldHVybjtcbiAgICB0ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgbGV0IGhlaWdodCA9IHRleHRBcmVhLnNjcm9sbEhlaWdodDtcblxuICAgIGlmICh0eXBlb2YgYXV0b1NpemUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGV4dEFyZWEpO1xuICAgICAgY29uc3QgbGluZUhlaWdodCA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5saW5lSGVpZ2h0KTtcblxuICAgICAgaWYgKGF1dG9TaXplLm1pblJvd3MpIHtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBhdXRvU2l6ZS5taW5Sb3dzICogbGluZUhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdXRvU2l6ZS5tYXhSb3dzKSB7XG4gICAgICAgIGhlaWdodCA9IE1hdGgubWluKGhlaWdodCwgYXV0b1NpemUubWF4Um93cyAqIGxpbmVIZWlnaHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gIH0sIFt2YWx1ZSwgYXV0b1NpemVdKTtcbiAgbGV0IGNvdW50O1xuXG4gIGlmICh0eXBlb2Ygc2hvd0NvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY291bnQgPSBzaG93Q291bnQodmFsdWUubGVuZ3RoLCBwcm9wcy5tYXhMZW5ndGgpO1xuICB9IGVsc2UgaWYgKHNob3dDb3VudCkge1xuICAgIGNvdW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb3VudGBcbiAgICB9LCBwcm9wcy5tYXhMZW5ndGggPT09IHVuZGVmaW5lZCA/IHZhbHVlLmxlbmd0aCA6IHZhbHVlLmxlbmd0aCArICcvJyArIHByb3BzLm1heExlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS13cmFwcGVyYCwgY2xhc3NOYW1lKSxcbiAgICBzdHlsZTogc3R5bGVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHJlZjogbmF0aXZlVGV4dEFyZWFSZWZcbiAgfSwgdGV4dEFyZWFQcm9wcywge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXgsXG4gICAgcm93czogcm93cyxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpO1xuICAgIH0sXG4gICAgb25Gb2N1czogZSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uRm9jdXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogZSA9PiB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IHByb3BzLm9uQmx1cikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgIH0sXG4gICAgaWQ6IHByb3BzLmlkXG4gIH0pKSwgY291bnQpO1xufSk7XG5UZXh0QXJlYS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7IiwiaW1wb3J0IFwiLi90b2FzdC5jc3NcIjtcbmltcG9ydCB7IGNsZWFyLCBzaG93LCBjb25maWcgfSBmcm9tICcuL21ldGhvZHMnO1xuY29uc3QgVG9hc3QgPSB7XG4gIHNob3csXG4gIGNsZWFyLFxuICBjb25maWdcbn07XG5leHBvcnQgZGVmYXVsdCBUb2FzdDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlc29sdmVDb250YWluZXIgfSBmcm9tICcuLi8uLi91dGlscy9nZXQtY29udGFpbmVyJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgSW50ZXJuYWxUb2FzdCB9IGZyb20gJy4vdG9hc3QnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5jb25zdCBjb250YWluZXJzID0gW107XG5cbmZ1bmN0aW9uIHVubW91bnQoY29udGFpbmVyKSB7XG4gIGNvbnN0IHVubW91bnRSZXN1bHQgPSBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG5cbiAgaWYgKHVubW91bnRSZXN1bHQgJiYgY29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZHVyYXRpb246IDIwMDAsXG4gIHBvc2l0aW9uOiAnY2VudGVyJyxcbiAgbWFza0NsaWNrYWJsZTogdHJ1ZVxufTtcbmV4cG9ydCBmdW5jdGlvbiBzaG93KHApIHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgdHlwZW9mIHAgPT09ICdzdHJpbmcnID8ge1xuICAgIGNvbnRlbnQ6IHBcbiAgfSA6IHApO1xuICBsZXQgdGltZXIgPSAwO1xuICBjb25zdCB7XG4gICAgZ2V0Q29udGFpbmVyID0gKCkgPT4gZG9jdW1lbnQuYm9keVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBib2R5Q29udGFpbmVyID0gcmVzb2x2ZUNvbnRhaW5lcihnZXRDb250YWluZXIpO1xuICBib2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIGNsZWFyKCk7XG4gIGNvbnRhaW5lcnMucHVzaChjb250YWluZXIpO1xuXG4gIGNvbnN0IFRlbXBUb2FzdCA9ICgpID0+IHtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIChfYSA9IHByb3BzLmFmdGVyQ2xvc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAocHJvcHMuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICB9LCBwcm9wcy5kdXJhdGlvbik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEludGVybmFsVG9hc3QsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICBnZXRDb250YWluZXI6ICgpID0+IGNvbnRhaW5lcixcbiAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICBhZnRlckNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHVubW91bnQoY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGVtcFRvYXN0LCBudWxsKSwgY29udGFpbmVyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJzLnBvcCgpO1xuICAgIGlmICghY29udGFpbmVyKSBicmVhaztcbiAgICB1bm1vdW50KGNvbnRhaW5lcik7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25maWcodmFsKSB7XG4gIGlmICh2YWwuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGRlZmF1bHRQcm9wcy5kdXJhdGlvbiA9IHZhbC5kdXJhdGlvbjtcbiAgfVxuXG4gIGlmICh2YWwucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGRlZmF1bHRQcm9wcy5wb3NpdGlvbiA9IHZhbC5wb3NpdGlvbjtcbiAgfVxuXG4gIGlmICh2YWwubWFza0NsaWNrYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVmYXVsdFByb3BzLm1hc2tDbGlja2FibGUgPSB2YWwubWFza0NsaWNrYWJsZTtcbiAgfVxufSIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBDaGVja091dGxpbmUsIENsb3NlT3V0bGluZSB9IGZyb20gJ2FudGQtbW9iaWxlLWljb25zJztcbmltcG9ydCBNYXNrIGZyb20gJy4uL21hc2snO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgQXV0b0NlbnRlciBmcm9tICcuLi9hdXRvLWNlbnRlcic7XG5pbXBvcnQgU3BpbkxvYWRpbmcgZnJvbSAnLi4vc3Bpbi1sb2FkaW5nJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS10b2FzdGA7XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG1hc2tDbGlja2FibGU6IHRydWUsXG4gIHN0b3BQcm9wYWdhdGlvbjogWydjbGljayddXG59O1xuZXhwb3J0IGNvbnN0IEludGVybmFsVG9hc3QgPSBwID0+IHtcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcCk7XG4gIGNvbnN0IHtcbiAgICBtYXNrQ2xpY2thYmxlLFxuICAgIGNvbnRlbnQsXG4gICAgaWNvbixcbiAgICBwb3NpdGlvblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGljb25FbGVtZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGljb24gPT09IG51bGwgfHwgaWNvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcblxuICAgIHN3aXRjaCAoaWNvbikge1xuICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrT3V0bGluZSwgbnVsbCk7XG5cbiAgICAgIGNhc2UgJ2ZhaWwnOlxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZU91dGxpbmUsIG51bGwpO1xuXG4gICAgICBjYXNlICdsb2FkaW5nJzpcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3BpbkxvYWRpbmcsIHtcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1sb2FkaW5nYFxuICAgICAgICB9KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuICB9LCBbaWNvbl0pO1xuICBjb25zdCB0b3AgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICBjYXNlICd0b3AnOlxuICAgICAgICByZXR1cm4gJzIwJSc7XG5cbiAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIHJldHVybiAnODAlJztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICc1MCUnO1xuICAgIH1cbiAgfSwgW3Bvc2l0aW9uXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hc2ssIHtcbiAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgIGRlc3Ryb3lPbkNsb3NlOiB0cnVlLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgZGlzYWJsZUJvZHlTY3JvbGw6ICFtYXNrQ2xpY2thYmxlLFxuICAgIGdldENvbnRhaW5lcjogcHJvcHMuZ2V0Q29udGFpbmVyLFxuICAgIGFmdGVyQ2xvc2U6IHByb3BzLmFmdGVyQ2xvc2UsXG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcG9pbnRlckV2ZW50czogbWFza0NsaWNrYWJsZSA/ICdub25lJyA6ICdhdXRvJ1xuICAgIH0sIHByb3BzLm1hc2tTdHlsZSksXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1tYXNrYCwgcHJvcHMubWFza0NsYXNzTmFtZSksXG4gICAgc3RvcFByb3BhZ2F0aW9uOiBwcm9wcy5zdG9wUHJvcGFnYXRpb25cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS13cmFwYClcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgIHRvcFxuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1tYWluYCwgaWNvbiA/IGAke2NsYXNzUHJlZml4fS1tYWluLWljb25gIDogYCR7Y2xhc3NQcmVmaXh9LW1haW4tdGV4dGApXG4gIH0sIGljb25FbGVtZW50ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWljb25gXG4gIH0sIGljb25FbGVtZW50KSwgUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvQ2VudGVyLCBudWxsLCBjb250ZW50KSkpKTtcbn07IiwiaW1wb3J0IFwiLi90cmVlLXNlbGVjdC5jc3NcIjtcbmltcG9ydCB7IFRyZWVTZWxlY3QgfSBmcm9tICcuL3RyZWUtc2VsZWN0JztcbmltcG9ydCB7IGF0dGFjaFByb3BlcnRpZXNUb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2F0dGFjaC1wcm9wZXJ0aWVzLXRvLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBNdWx0aXBsZSB9IGZyb20gJy4vbXVsdGlwbGUnO1xuZXhwb3J0IGRlZmF1bHQgYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KFRyZWVTZWxlY3QsIHtcbiAgTXVsdGlwbGVcbn0pOyIsImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBnZXRUcmVlRGVlcCB9IGZyb20gJy4uLy4uL3V0aWxzL3RyZWUnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vY2hlY2tib3gnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5pbXBvcnQgeyBkZXZXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGV2LWxvZyc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tdHJlZS1zZWxlY3QtbXVsdGlwbGVgO1xuZXhwb3J0IGNvbnN0IE11bHRpcGxlID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyh7XG4gICAgb3B0aW9uczogW10sXG4gICAgZmllbGROYW1lczoge30sXG4gICAgYWxsU2VsZWN0VGV4dDogW10sXG4gICAgZGVmYXVsdEV4cGFuZEtleXM6IFtdLFxuICAgIGRlZmF1bHRWYWx1ZTogW11cbiAgfSwgcCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGV2V2FybmluZygnVHJlZVNlbGVjdCcsICdUcmVlU2VsZWN0Lk11bHRpcGxlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuJyk7XG4gIH0sIFtdKTtcbiAgY29uc3QgbGFiZWxOYW1lID0gcHJvcHMuZmllbGROYW1lcy5sYWJlbCB8fCAnbGFiZWwnO1xuICBjb25zdCB2YWx1ZU5hbWUgPSBwcm9wcy5maWVsZE5hbWVzLnZhbHVlIHx8ICd2YWx1ZSc7XG4gIGNvbnN0IGNoaWxkcmVuTmFtZSA9IHByb3BzLmZpZWxkTmFtZXMuY2hpbGRyZW4gfHwgJ2NoaWxkcmVuJzsgLy8g5omT5byA55qEIGtleXNcblxuICBjb25zdCBbZXhwYW5kS2V5cywgc2V0RXhwYW5kS2V5c10gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMuZXhwYW5kS2V5cyxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRFeHBhbmRLZXlzXG4gIH0pOyAvLyDpgInkuK3nmoQgdmFsdWXvvIjogZrlkIjlkI7vvIlcblxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVByb3BzVmFsdWUoe1xuICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRWYWx1ZVxuICB9KTsgLy8g6I635Y+W55uu5qCH5omA5pyJ5Y+25a2Q6IqC54K5IGtleSDpm4blkIhcblxuICBjb25zdCBnZXRMZWFmS2V5cyA9IG9wdGlvbiA9PiB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuXG4gICAgY29uc3Qgd2Fsa2VyID0gb3AgPT4ge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAoIW9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKChfYSA9IG9wW2NoaWxkcmVuTmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIHtcbiAgICAgICAgb3BbY2hpbGRyZW5OYW1lXS5mb3JFYWNoKGkgPT4gd2Fsa2VyKGkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMucHVzaChvcFt2YWx1ZU5hbWVdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2Fsa2VyKG9wdGlvbik7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgY29uc3QgW2RlZXAsIG9wdGlvbnNNYXAsIG9wdGlvbnNQYXJlbnRNYXBdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGVlcCA9IGdldFRyZWVEZWVwKHByb3BzLm9wdGlvbnMsIGNoaWxkcmVuTmFtZSk7XG4gICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBvcHRpb25zUGFyZW50TWFwID0gbmV3IE1hcCgpO1xuXG4gICAgZnVuY3Rpb24gdHJhdmVyc2UoY3VycmVudCwgY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIG9wdGlvbnNQYXJlbnRNYXAuc2V0KGl0ZW1bdmFsdWVOYW1lXSwgY3VycmVudCk7XG4gICAgICAgIG9wdGlvbnNNYXAuc2V0KGl0ZW1bdmFsdWVOYW1lXSwgaXRlbSk7XG5cbiAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5OYW1lXSkge1xuICAgICAgICAgIHRyYXZlcnNlKGl0ZW0sIGl0ZW1bY2hpbGRyZW5OYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYXZlcnNlKHVuZGVmaW5lZCwgcHJvcHMub3B0aW9ucyk7XG4gICAgcmV0dXJuIFtkZWVwLCBvcHRpb25zTWFwLCBvcHRpb25zUGFyZW50TWFwXTtcbiAgfSwgW3Byb3BzLm9wdGlvbnNdKTsgLy8g5bCG6IGa5ZCI55qEIHZhbHVlIOaLhuWIhuW8gO+8jOiOt+W+l+WPtuWtkOiKgueCueeahCB2YWx1ZSDpm4blkIhcblxuICBjb25zdCBhbGxTZWxlY3RlZExlYWZLZXlzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGxlYWZLZXlzID0gW107XG4gICAgdmFsdWUuZm9yRWFjaCh2ID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IG9wdGlvbnNNYXAuZ2V0KHYpO1xuICAgICAgbGVhZktleXMgPSBsZWFmS2V5cy5jb25jYXQoZ2V0TGVhZktleXMob3B0aW9uKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxlYWZLZXlzO1xuICB9LCBbdmFsdWUsIG9wdGlvbnNNYXBdKTsgLy8g5a2Q57qn5pyJ6KKr6YCJ5Lit55qE6IqC54K56ZuG5ZCIXG5cbiAgY29uc3QgZG90TWFwID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpOyAvLyDpgY3ljoYgYWxsQ2hpbGRyZW5WYWx1ZXMsIOWQkeS4iumAkuW9klxuXG4gICAgY29uc3Qgd2Fsa2VyID0ga2V5ID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudE9wdGlvbiA9IG9wdGlvbnNQYXJlbnRNYXAuZ2V0KGtleSk7XG5cbiAgICAgIGlmICghcGFyZW50T3B0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbWFwLnNldChwYXJlbnRPcHRpb25bdmFsdWVOYW1lXSwgdHJ1ZSk7XG4gICAgICB3YWxrZXIocGFyZW50T3B0aW9uW3ZhbHVlTmFtZV0pO1xuICAgIH07XG5cbiAgICBhbGxTZWxlY3RlZExlYWZLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIG1hcC5zZXQoa2V5LCB0cnVlKTtcbiAgICAgIHdhbGtlcihrZXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXA7XG4gIH0sIFtvcHRpb25zUGFyZW50TWFwLCB2YWx1ZV0pO1xuXG4gIGNvbnN0IG9uQ2hhbmdlID0gdGFyZ2V0S2V5cyA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgbGV0IGdyb3VwS2V5cyA9IFsuLi50YXJnZXRLZXlzXTtcbiAgICBsZXQgdW51c2VkS2V5cyA9IFtdO1xuXG4gICAgY29uc3Qgd2Fsa2VyID0ga2V5cyA9PiB7XG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIGlmICh1bnVzZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJlbnQgPSBvcHRpb25zUGFyZW50TWFwLmdldChrZXkpO1xuXG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW5LZXlzID0gKChfYSA9IHBhcmVudFtjaGlsZHJlbk5hbWVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGkgPT4gaVt2YWx1ZU5hbWVdKSkgfHwgW107XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuS2V5cy5ldmVyeShpID0+IGdyb3VwS2V5cy5pbmNsdWRlcyhpKSkpIHtcbiAgICAgICAgICBncm91cEtleXMucHVzaChwYXJlbnRbdmFsdWVOYW1lXSk7XG4gICAgICAgICAgdW51c2VkS2V5cyA9IHVudXNlZEtleXMuY29uY2F0KGNoaWxkcmVuS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07IC8vIOmBjeWOhiBkZWVwIOasoSBncm91cEtleXPvvIzmr4/mrKHlvoDkuIrogZrlkIjkuIDlsYJcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWVwOyBpKyspIHtcbiAgICAgIHdhbGtlcihncm91cEtleXMpO1xuICAgIH1cblxuICAgIGdyb3VwS2V5cyA9IGdyb3VwS2V5cy5maWx0ZXIoaSA9PiAhdW51c2VkS2V5cy5pbmNsdWRlcyhpKSk7XG4gICAgY29uc3QgZ3JvdXBPcHRpb25zID0gZ3JvdXBLZXlzLm1hcChpID0+IG9wdGlvbnNNYXAuZ2V0KGkpKTtcbiAgICBzZXRWYWx1ZShncm91cEtleXMpO1xuICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZ3JvdXBLZXlzLCBncm91cE9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IG9uSXRlbVNlbGVjdCA9IG9wdGlvbiA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgY29uc3QgcGFyZW50Tm9kZXMgPSBbXTtcbiAgICBsZXQgY3VycmVudCA9IG9wdGlvbjtcblxuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBwYXJlbnROb2Rlcy51bnNoaWZ0KGN1cnJlbnQpO1xuICAgICAgY29uc3QgbmV4dCA9IG9wdGlvbnNQYXJlbnRNYXAuZ2V0KGN1cnJlbnRbdmFsdWVOYW1lXSk7XG4gICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gcGFyZW50Tm9kZXMubWFwKGkgPT4gaVt2YWx1ZU5hbWVdKTtcbiAgICBzZXRFeHBhbmRLZXlzKGtleXMpO1xuICAgIChfYSA9IHByb3BzLm9uRXhwYW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywga2V5cywgcGFyZW50Tm9kZXMpO1xuICB9OyAvLyDmuLLmn5PlhajpgInoioLngrlcblxuXG4gIGNvbnN0IHJlbmRlclNlbGVjdEFsbEl0ZW0gPSAoY29sdW1uT3B0aW9ucywgaW5kZXgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBjb25zdCB0ZXh0ID0gKF9hID0gcHJvcHMuc2VsZWN0QWxsVGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2luZGV4XTtcblxuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50TGVhZktleXMgPSBbXTtcbiAgICBjb2x1bW5PcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIGN1cnJlbnRMZWFmS2V5cyA9IGN1cnJlbnRMZWFmS2V5cy5jb25jYXQoZ2V0TGVhZktleXMob3B0aW9uKSk7XG4gICAgfSk7XG4gICAgY29uc3QgYWxsU2VsZWN0ZWQgPSBjdXJyZW50TGVhZktleXMuZXZlcnkoaSA9PiBhbGxTZWxlY3RlZExlYWZLZXlzLmluY2x1ZGVzKGkpKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGlmIChhbGxTZWxlY3RlZCkge1xuICAgICAgICAgIG9uQ2hhbmdlKGFsbFNlbGVjdGVkTGVhZktleXMuZmlsdGVyKGkgPT4gIWN1cnJlbnRMZWFmS2V5cy5pbmNsdWRlcyhpKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uQ2hhbmdlKGFsbFNlbGVjdGVkTGVhZktleXMuY29uY2F0KGN1cnJlbnRMZWFmS2V5cykpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taXRlbWBcbiAgICB9LCB0ZXh0KTtcbiAgfTsgLy8g5riy5p+TXG5cblxuICBjb25zdCByZW5kZXJTZWxlY3RBbGxMZWFmSXRlbSA9IChjb2x1bW5PcHRpb25zLCBpbmRleCkgPT4ge1xuICAgIHZhciBfYTtcblxuICAgIGNvbnN0IHRleHQgPSAoX2EgPSBwcm9wcy5zZWxlY3RBbGxUZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbaW5kZXhdO1xuXG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudExlYWZLZXlzID0gY29sdW1uT3B0aW9ucy5tYXAoaSA9PiBpW3ZhbHVlTmFtZV0pO1xuICAgIGNvbnN0IGFsbFNlbGVjdGVkID0gY3VycmVudExlYWZLZXlzLmV2ZXJ5KGkgPT4gYWxsU2VsZWN0ZWRMZWFmS2V5cy5pbmNsdWRlcyhpKSk7XG4gICAgY29uc3QgaGFsZlNlbGVjdGVkID0gYWxsU2VsZWN0ZWQgPyBmYWxzZSA6IGN1cnJlbnRMZWFmS2V5cy5zb21lKGkgPT4gYWxsU2VsZWN0ZWRMZWFmS2V5cy5pbmNsdWRlcyhpKSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBpZiAoYWxsU2VsZWN0ZWQpIHtcbiAgICAgICAgICBvbkNoYW5nZShhbGxTZWxlY3RlZExlYWZLZXlzLmZpbHRlcihpID0+ICFjdXJyZW50TGVhZktleXMuaW5jbHVkZXMoaSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkNoYW5nZShhbGxTZWxlY3RlZExlYWZLZXlzLmNvbmNhdChjdXJyZW50TGVhZktleXMpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0taXRlbWAsIGAke2NsYXNzUHJlZml4fS1pdGVtLWxlYWZgKVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHtcbiAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tY2hlY2tib3hgLFxuICAgICAgY2hlY2tlZDogYWxsU2VsZWN0ZWQsXG4gICAgICBpbmRldGVybWluYXRlOiBoYWxmU2VsZWN0ZWRcbiAgICB9KSwgdGV4dCk7XG4gIH07IC8vIOa4suafk+iKgueCuVxuXG5cbiAgY29uc3QgcmVuZGVySXRlbSA9IG9wdGlvbiA9PiB7XG4gICAgY29uc3QgaXNFeHBhbmQgPSBleHBhbmRLZXlzLmluY2x1ZGVzKG9wdGlvblt2YWx1ZU5hbWVdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IG9wdGlvblt2YWx1ZU5hbWVdLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBpZiAoIWlzRXhwYW5kKSB7XG4gICAgICAgICAgb25JdGVtU2VsZWN0KG9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7Y2xhc3NQcmVmaXh9LWl0ZW1gLCB7XG4gICAgICAgIFtgJHtjbGFzc1ByZWZpeH0taXRlbS1leHBhbmRgXTogaXNFeHBhbmRcbiAgICAgIH0pXG4gICAgfSwgb3B0aW9uW2xhYmVsTmFtZV0sICEhZG90TWFwLmdldChvcHRpb25bdmFsdWVOYW1lXSkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1kb3RgXG4gICAgfSkpO1xuICB9OyAvLyDmuLLmn5Plj7blrZDoioLngrlcblxuXG4gIGNvbnN0IHJlbmRlckxlYWZJdGVtID0gb3B0aW9uID0+IHtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gYWxsU2VsZWN0ZWRMZWFmS2V5cy5pbmNsdWRlcyhvcHRpb25bdmFsdWVOYW1lXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBvcHRpb25bdmFsdWVOYW1lXSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBvbkNoYW5nZShhbGxTZWxlY3RlZExlYWZLZXlzLmZpbHRlcih2YWwgPT4gdmFsICE9PSBvcHRpb25bdmFsdWVOYW1lXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uQ2hhbmdlKFsuLi5hbGxTZWxlY3RlZExlYWZLZXlzLCBvcHRpb25bdmFsdWVOYW1lXV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1pdGVtYCwgYCR7Y2xhc3NQcmVmaXh9LWl0ZW0tbGVhZmApXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwge1xuICAgICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0taXRlbS1jaGVja2JveGAsXG4gICAgICBjaGVja2VkOiBpc1NlbGVjdGVkXG4gICAgfSksIG9wdGlvbltsYWJlbE5hbWVdKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJJdGVtcyA9IChjb2x1bW5PcHRpb25zID0gW10sIGluZGV4KSA9PiB7XG4gICAgaWYgKGNvbHVtbk9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXNMZWFmID0gZGVlcCA9PT0gaW5kZXggKyAxO1xuXG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlclNlbGVjdEFsbExlYWZJdGVtKGNvbHVtbk9wdGlvbnMsIGluZGV4KSwgY29sdW1uT3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckxlYWZJdGVtKG9wdGlvbik7XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlclNlbGVjdEFsbEl0ZW0oY29sdW1uT3B0aW9ucywgaW5kZXgpLCBjb2x1bW5PcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgcmV0dXJuIHJlbmRlckl0ZW0ob3B0aW9uKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQ29sdW1ucyA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG5cbiAgICBjb25zdCBjb2x1bW5zID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZXA7IGkrKykge1xuICAgICAgbGV0IHdpZHRoID0gYCR7MTAwIC8gZGVlcH0lYDsgLy8g5Lik5YiX55qE56ys5LiA5YiX5a695bqm5Li6IDMzLjMz77yM5Lik5YiX55qE56ys5LqM5YiX5Li6IDY2LjY3JVxuXG4gICAgICBpZiAoZGVlcCA9PT0gMiAmJiBpID09PSAwKSB7XG4gICAgICAgIHdpZHRoID0gYDMzLjMzJWA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWVwID09PSAyICYmIGkgPT09IDEpIHtcbiAgICAgICAgd2lkdGggPSBgNjYuNjclYDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sdW1uID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGtleTogaSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1jb2x1bW5gKSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB3aWR0aFxuICAgICAgICB9XG4gICAgICB9LCByZW5kZXJJdGVtcyhpID09PSAwID8gcHJvcHMub3B0aW9ucyA6IChfYSA9IG9wdGlvbnNNYXAuZ2V0KGV4cGFuZEtleXNbaSAtIDFdKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2NoaWxkcmVuTmFtZV0sIGkpKTtcbiAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2x1bW5zO1xuICB9O1xuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NQcmVmaXhcbiAgfSwgcmVuZGVyQ29sdW1ucygpKSk7XG59OyIsImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgZ2V0VHJlZURlZXAgfSBmcm9tICcuLi8uLi91dGlscy90cmVlJztcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy93aXRoLWRlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgdXNlUHJvcHNWYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1wcm9wcy12YWx1ZSc7XG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tdHJlZS1zZWxlY3RgO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBvcHRpb25zOiBbXSxcbiAgZmllbGROYW1lczoge30sXG4gIGRlZmF1bHRWYWx1ZTogW11cbn07XG5leHBvcnQgY29uc3QgVHJlZVNlbGVjdCA9IHAgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgbGFiZWxOYW1lID0gcHJvcHMuZmllbGROYW1lcy5sYWJlbCB8fCAnbGFiZWwnO1xuICBjb25zdCB2YWx1ZU5hbWUgPSBwcm9wcy5maWVsZE5hbWVzLnZhbHVlIHx8ICd2YWx1ZSc7XG4gIGNvbnN0IGNoaWxkcmVuTmFtZSA9IHByb3BzLmZpZWxkTmFtZXMuY2hpbGRyZW4gfHwgJ2NoaWxkcmVuJztcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHtcbiAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgfSk7XG4gIGNvbnN0IFtkZWVwLCBvcHRpb25zTWFwLCBvcHRpb25zUGFyZW50TWFwXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRlZXAgPSBnZXRUcmVlRGVlcChwcm9wcy5vcHRpb25zLCBjaGlsZHJlbk5hbWUpO1xuICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3Qgb3B0aW9uc1BhcmVudE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlKGN1cnJlbnQsIGNoaWxkcmVuKSB7XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBvcHRpb25zUGFyZW50TWFwLnNldChpdGVtW3ZhbHVlTmFtZV0sIGN1cnJlbnQpO1xuICAgICAgICBvcHRpb25zTWFwLnNldChpdGVtW3ZhbHVlTmFtZV0sIGl0ZW0pO1xuXG4gICAgICAgIGlmIChpdGVtW2NoaWxkcmVuTmFtZV0pIHtcbiAgICAgICAgICB0cmF2ZXJzZShpdGVtLCBpdGVtW2NoaWxkcmVuTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZSh1bmRlZmluZWQsIHByb3BzLm9wdGlvbnMpO1xuICAgIHJldHVybiBbZGVlcCwgb3B0aW9uc01hcCwgb3B0aW9uc1BhcmVudE1hcF07XG4gIH0sIFtwcm9wcy5vcHRpb25zXSk7XG5cbiAgY29uc3Qgb25JdGVtU2VsZWN0ID0gbm9kZSA9PiB7XG4gICAgdmFyIF9hOyAvLyDmib7liLDniLbnuqfoioLngrlcblxuXG4gICAgY29uc3QgcGFyZW50Tm9kZXMgPSBbXTtcbiAgICBsZXQgY3VycmVudCA9IG5vZGU7XG5cbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgcGFyZW50Tm9kZXMudW5zaGlmdChjdXJyZW50KTtcbiAgICAgIGNvbnN0IG5leHQgPSBvcHRpb25zUGFyZW50TWFwLmdldChjdXJyZW50W3ZhbHVlTmFtZV0pO1xuICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWVzID0gcGFyZW50Tm9kZXMubWFwKGkgPT4gaVt2YWx1ZU5hbWVdKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZXMpO1xuICAgIChfYSA9IHByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgdmFsdWVzLCB7XG4gICAgICBvcHRpb25zOiBwYXJlbnROb2Rlc1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckl0ZW1zID0gKGNvbHVtbk9wdGlvbnMgPSBbXSwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gY29sdW1uT3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW1bdmFsdWVOYW1lXSA9PT0gdmFsdWVbaW5kZXhdO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IGl0ZW1bdmFsdWVOYW1lXSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGAke2NsYXNzUHJlZml4fS1pdGVtYCwge1xuICAgICAgICAgIFtgJHtjbGFzc1ByZWZpeH0taXRlbS1hY3RpdmVgXTogaXNBY3RpdmVcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3QoaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBpdGVtW2xhYmVsTmFtZV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckNvbHVtbnMgPSAoKSA9PiB7XG4gICAgdmFyIF9hO1xuXG4gICAgY29uc3QgY29sdW1ucyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWVwOyBpKyspIHtcbiAgICAgIGxldCB3aWR0aCA9IGAkezEwMCAvIGRlZXB9JWA7IC8vIOS4pOWIl+eahOesrOS4gOWIl+WuveW6puS4uiAzMy4zM++8jOS4pOWIl+eahOesrOS6jOWIl+S4uiA2Ni42NyVcblxuICAgICAgaWYgKGRlZXAgPT09IDIgJiYgaSA9PT0gMCkge1xuICAgICAgICB3aWR0aCA9IGAzMy4zMyVgO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVlcCA9PT0gMiAmJiBpID09PSAxKSB7XG4gICAgICAgIHdpZHRoID0gYDY2LjY3JWA7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbHVtbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IGksXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtjbGFzc1ByZWZpeH0tY29sdW1uYCksXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGhcbiAgICAgICAgfVxuICAgICAgfSwgcmVuZGVySXRlbXMoaSA9PT0gMCA/IHByb3BzLm9wdGlvbnMgOiAoX2EgPSBvcHRpb25zTWFwLmdldCh2YWx1ZVtpIC0gMV0pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbY2hpbGRyZW5OYW1lXSwgaSkpO1xuICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbHVtbnM7XG4gIH07XG5cbiAgcmV0dXJuIHdpdGhOYXRpdmVQcm9wcyhwcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc1ByZWZpeFxuICB9LCByZW5kZXJDb2x1bW5zKCkpKTtcbn07IiwiaW1wb3J0IFwiLi92aXJ0dWFsLWlucHV0LmNzc1wiO1xuaW1wb3J0IHsgVmlydHVhbElucHV0IH0gZnJvbSAnLi92aXJ0dWFsLWlucHV0JztcbmV4cG9ydCBkZWZhdWx0IFZpcnR1YWxJbnB1dDsiLCJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiwgdXNlRWZmZWN0LCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoTmF0aXZlUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9uYXRpdmUtcHJvcHMnO1xuaW1wb3J0IHsgbWVyZ2VQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3dpdGgtZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyB1c2VQcm9wc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXByb3BzLXZhbHVlJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgQ2xvc2VDaXJjbGVGaWxsIH0gZnJvbSAnYW50ZC1tb2JpbGUtaWNvbnMnO1xuY29uc3QgY2xhc3NQcmVmaXggPSAnYWRtLXZpcnR1YWwtaW5wdXQnO1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0VmFsdWU6ICcnXG59O1xuZXhwb3J0IGNvbnN0IFZpcnR1YWxJbnB1dCA9IGZvcndhcmRSZWYoKHAsIHJlZikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG1lcmdlUHJvcHMoZGVmYXVsdFByb3BzLCBwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VQcm9wc1ZhbHVlKHByb3BzKTtcbiAgY29uc3Qgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY29udGVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2hhc0ZvY3VzLCBzZXRIYXNGb2N1c10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgZnVuY3Rpb24gc2Nyb2xsVG9FbmQoKSB7XG4gICAgY29uc3Qgcm9vdCA9IHJvb3RSZWYuY3VycmVudDtcbiAgICBpZiAoIXJvb3QpIHJldHVybjtcblxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSByb290KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcbiAgICBjb250ZW50LnNjcm9sbExlZnQgPSBjb250ZW50LmNsaWVudFdpZHRoO1xuICB9XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0VuZCgpO1xuICB9LCBbdmFsdWVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaGFzRm9jdXMpIHtcbiAgICAgIHNjcm9sbFRvRW5kKCk7XG4gICAgfVxuICB9LCBbaGFzRm9jdXNdKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcm9vdFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9LFxuICAgIGJsdXI6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcm9vdFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgIH1cbiAgfSkpO1xuXG4gIGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgc2V0SGFzRm9jdXModHJ1ZSk7XG4gICAgKF9hID0gcHJvcHMub25Gb2N1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIHZhciBfYTtcblxuICAgIHNldEhhc0ZvY3VzKGZhbHNlKTtcbiAgICAoX2EgPSBwcm9wcy5vbkJsdXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgfVxuXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogcm9vdFJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tZGlzYWJsZWRgXTogcHJvcHMuZGlzYWJsZWRcbiAgICB9KSxcbiAgICB0YWJJbmRleDogcHJvcHMuZGlzYWJsZWQgPyB1bmRlZmluZWQgOiAwLFxuICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgb25DbGljazogcHJvcHMub25DbGlja1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1jb250ZW50YCxcbiAgICByZWY6IGNvbnRlbnRSZWZcbiAgfSwgdmFsdWUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNhcmV0LWNvbnRhaW5lcmBcbiAgfSwgaGFzRm9jdXMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc1ByZWZpeH0tY2FyZXRgXG4gIH0pKSksIHByb3BzLmNsZWFyYWJsZSAmJiAhIXZhbHVlICYmIGhhc0ZvY3VzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NQcmVmaXh9LWNsZWFyYCxcbiAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHNldFZhbHVlKCcnKTtcbiAgICAgIChfYSA9IHByb3BzLm9uQ2xlYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvc2VDaXJjbGVGaWxsLCBudWxsKSksICF2YWx1ZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzUHJlZml4fS1wbGFjZWhvbGRlcmBcbiAgfSwgcHJvcHMucGxhY2Vob2xkZXIpLCBwcm9wcy5rZXlib2FyZCAmJiBSZWFjdC5jbG9uZUVsZW1lbnQocHJvcHMua2V5Ym9hcmQsIHtcbiAgICBvbklucHV0OiB2ID0+IHtcbiAgICAgIHNldFZhbHVlKHZhbHVlICsgdik7XG4gICAgfSxcbiAgICBvbkRlbGV0ZTogKCkgPT4ge1xuICAgICAgc2V0VmFsdWUodmFsdWUuc2xpY2UoMCwgLTEpKTtcbiAgICB9LFxuICAgIHZpc2libGU6IGhhc0ZvY3VzLFxuICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgKF9hID0gcm9vdFJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgIH1cbiAgfSkpKTtcbn0pOyIsImltcG9ydCBcIi4vd2F0ZXItbWFyay5jc3NcIjtcbmltcG9ydCB7IFdhdGVyTWFyayB9IGZyb20gJy4vd2F0ZXItbWFyayc7XG5leHBvcnQgZGVmYXVsdCBXYXRlck1hcms7IiwiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhOYXRpdmVQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL25hdGl2ZS1wcm9wcyc7XG5pbXBvcnQgeyBtZXJnZVByb3BzIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2l0aC1kZWZhdWx0LXByb3BzJztcbmNvbnN0IGNsYXNzUHJlZml4ID0gYGFkbS13YXRlci1tYXJrYDtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgZnVsbFBhZ2U6IHRydWVcbn07XG5leHBvcnQgY29uc3QgV2F0ZXJNYXJrID0gcCA9PiB7XG4gIGNvbnN0IHByb3BzID0gbWVyZ2VQcm9wcyhkZWZhdWx0UHJvcHMsIHApO1xuICBjb25zdCB7XG4gICAgekluZGV4ID0gMjAwMCxcbiAgICBnYXBYID0gMjQsXG4gICAgZ2FwWSA9IDQ4LFxuICAgIHdpZHRoID0gMTIwLFxuICAgIGhlaWdodCA9IDY0LFxuICAgIHJvdGF0ZSA9IC0yMixcbiAgICBpbWFnZSxcbiAgICBpbWFnZVdpZHRoID0gMTIwLFxuICAgIGltYWdlSGVpZ2h0ID0gNjQsXG4gICAgY29udGVudCxcbiAgICBmb250U3R5bGUgPSAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0ID0gJ25vcm1hbCcsXG4gICAgZm9udENvbG9yID0gJ3JnYmEoMCwwLDAsLjE1KScsXG4gICAgZm9udFNpemUgPSAxNCxcbiAgICBmb250RmFtaWx5ID0gJ3NhbnMtc2VyaWYnXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2Jhc2U2NFVybCwgc2V0QmFzZTY0VXJsXSA9IHVzZVN0YXRlKCcnKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCByYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gYCR7KGdhcFggKyB3aWR0aCkgKiByYXRpb31weGA7XG4gICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gYCR7KGdhcFkgKyBoZWlnaHQpICogcmF0aW99cHhgO1xuICAgIGNvbnN0IG1hcmtXaWR0aCA9IHdpZHRoICogcmF0aW87XG4gICAgY29uc3QgbWFya0hlaWdodCA9IGhlaWdodCAqIHJhdGlvO1xuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgY2FudmFzV2lkdGgpO1xuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGNhbnZhc0hlaWdodCk7XG5cbiAgICBpZiAoY3R4KSB7XG4gICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShtYXJrV2lkdGggLyAyLCBtYXJrSGVpZ2h0IC8gMik7XG4gICAgICAgIGN0eC5yb3RhdGUoTWF0aC5QSSAvIDE4MCAqIE51bWJlcihyb3RhdGUpKTtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICBpbWcucmVmZXJyZXJQb2xpY3kgPSAnbm8tcmVmZXJyZXInO1xuICAgICAgICBpbWcuc3JjID0gaW1hZ2U7XG5cbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgLWltYWdlV2lkdGggKiByYXRpbyAvIDIsIC1pbWFnZUhlaWdodCAqIHJhdGlvIC8gMiwgaW1hZ2VXaWR0aCAqIHJhdGlvLCBpbWFnZUhlaWdodCAqIHJhdGlvKTtcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgIHNldEJhc2U2NFVybChjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50KSB7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOyAvLyDmloflrZfnu5XkuK3pl7Tml4vovaxcblxuICAgICAgICBjdHgudHJhbnNsYXRlKG1hcmtXaWR0aCAvIDIsIG1hcmtIZWlnaHQgLyAyKTtcbiAgICAgICAgY3R4LnJvdGF0ZShNYXRoLlBJIC8gMTgwICogTnVtYmVyKHJvdGF0ZSkpO1xuICAgICAgICBjb25zdCBtYXJrU2l6ZSA9IE51bWJlcihmb250U2l6ZSkgKiByYXRpbztcbiAgICAgICAgY3R4LmZvbnQgPSBgJHtmb250U3R5bGV9IG5vcm1hbCAke2ZvbnRXZWlnaHR9ICR7bWFya1NpemV9cHgvJHttYXJrSGVpZ2h0fXB4ICR7Zm9udEZhbWlseX1gO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZm9udENvbG9yO1xuICAgICAgICBjdHguZmlsbFRleHQoY29udGVudCwgMCwgMCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIHNldEJhc2U2NFVybChjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+W9k+WJjeeOr+Wig+S4jeaUr+aMgUNhbnZhcycpO1xuICAgIH1cbiAgfSwgW2dhcFgsIGdhcFksIHJvdGF0ZSwgZm9udFN0eWxlLCBmb250V2VpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBmb250RmFtaWx5LCBmb250Q29sb3IsIGltYWdlLCBjb250ZW50LCBmb250U2l6ZV0pO1xuICByZXR1cm4gd2l0aE5hdGl2ZVByb3BzKHByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NQcmVmaXgsIHtcbiAgICAgIFtgJHtjbGFzc1ByZWZpeH0tZnVsbC1wYWdlYF06IHByb3BzLmZ1bGxQYWdlXG4gICAgfSksXG4gICAgc3R5bGU6IHtcbiAgICAgIHpJbmRleCxcbiAgICAgIGJhY2tncm91bmRTaXplOiBgJHtnYXBYICsgd2lkdGh9cHhgLFxuICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcke2Jhc2U2NFVybH0nKWBcbiAgICB9XG4gIH0pKTtcbn07IiwiaW1wb3J0IFwiLi9nbG9iYWwuY3NzXCI7XG5pbXBvcnQgeyBjYW5Vc2VEb20gfSBmcm9tICcuLi91dGlscy9jYW4tdXNlLWRvbSc7XG5cbmlmIChjYW5Vc2VEb20pIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHt9LCB0cnVlKTtcbn0iLCJpbXBvcnQgJy4vZ2xvYmFsJztcbmV4cG9ydCB7IHNldERlZmF1bHRDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvY29uZmlnLXByb3ZpZGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWN0aW9uU2hlZXQgfSBmcm9tICcuL2NvbXBvbmVudHMvYWN0aW9uLXNoZWV0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXV0b0NlbnRlciB9IGZyb20gJy4vY29tcG9uZW50cy9hdXRvLWNlbnRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF2YXRhciB9IGZyb20gJy4vY29tcG9uZW50cy9hdmF0YXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZSB9IGZyb20gJy4vY29tcG9uZW50cy9iYWRnZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9idXR0b24nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhciB9IGZyb20gJy4vY29tcG9uZW50cy9jYWxlbmRhcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcHN1bGVUYWJzIH0gZnJvbSAnLi9jb21wb25lbnRzL2NhcHN1bGUtdGFicyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcmQgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FyZCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhc2NhZGVQaWNrZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzY2FkZS1waWNrZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXNjYWRlUGlja2VyVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9jYXNjYWRlLXBpY2tlci12aWV3JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FzY2FkZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzY2FkZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXNjYWRlclZpZXcgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzY2FkZXItdmlldyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZWNrTGlzdCB9IGZyb20gJy4vY29tcG9uZW50cy9jaGVjay1saXN0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hlY2tib3ggfSBmcm9tICcuL2NvbXBvbmVudHMvY2hlY2tib3gnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2xsYXBzZSB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsYXBzZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbmZpZy1wcm92aWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERhdGVQaWNrZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvZGF0ZS1waWNrZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEYXRlUGlja2VyVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRlLXBpY2tlci12aWV3JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbG9nIH0gZnJvbSAnLi9jb21wb25lbnRzL2RpYWxvZyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpdmlkZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvZGl2aWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvdExvYWRpbmcgfSBmcm9tICcuL2NvbXBvbmVudHMvZG90LWxvYWRpbmcnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcm9wZG93biB9IGZyb20gJy4vY29tcG9uZW50cy9kcm9wZG93bic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVsbGlwc2lzIH0gZnJvbSAnLi9jb21wb25lbnRzL2VsbGlwc2lzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRW1wdHkgfSBmcm9tICcuL2NvbXBvbmVudHMvZW1wdHknO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFcnJvckJsb2NrIH0gZnJvbSAnLi9jb21wb25lbnRzL2Vycm9yLWJsb2NrJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxvYXRpbmdCdWJibGUgfSBmcm9tICcuL2NvbXBvbmVudHMvZmxvYXRpbmctYnViYmxlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxvYXRpbmdQYW5lbCB9IGZyb20gJy4vY29tcG9uZW50cy9mbG9hdGluZy1wYW5lbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvcm0gfSBmcm9tICcuL2NvbXBvbmVudHMvZm9ybSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaWQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3JpZCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlIH0gZnJvbSAnLi9jb21wb25lbnRzL2ltYWdlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW1hZ2VVcGxvYWRlciB9IGZyb20gJy4vY29tcG9uZW50cy9pbWFnZS11cGxvYWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlVmlld2VyIH0gZnJvbSAnLi9jb21wb25lbnRzL2ltYWdlLXZpZXdlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEluZGV4QmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL2luZGV4LWJhcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEluZmluaXRlU2Nyb2xsIH0gZnJvbSAnLi9jb21wb25lbnRzL2luZmluaXRlLXNjcm9sbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIElucHV0IH0gZnJvbSAnLi9jb21wb25lbnRzL2lucHV0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSnVtYm9UYWJzIH0gZnJvbSAnLi9jb21wb25lbnRzL2p1bWJvLXRhYnMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL2xpc3QnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2FkaW5nIH0gZnJvbSAnLi9jb21wb25lbnRzL2xvYWRpbmcnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrIH0gZnJvbSAnLi9jb21wb25lbnRzL21hc2snO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb2RhbCB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5hdkJhciB9IGZyb20gJy4vY29tcG9uZW50cy9uYXYtYmFyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTm90aWNlQmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL25vdGljZS1iYXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBOdW1iZXJLZXlib2FyZCB9IGZyb20gJy4vY29tcG9uZW50cy9udW1iZXIta2V5Ym9hcmQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQYWdlSW5kaWNhdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL3BhZ2UtaW5kaWNhdG9yJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGFzc2NvZGVJbnB1dCB9IGZyb20gJy4vY29tcG9uZW50cy9wYXNzY29kZS1pbnB1dCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpY2tlciB9IGZyb20gJy4vY29tcG9uZW50cy9waWNrZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQaWNrZXJWaWV3IH0gZnJvbSAnLi9jb21wb25lbnRzL3BpY2tlci12aWV3JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9wb3ZlciB9IGZyb20gJy4vY29tcG9uZW50cy9wb3BvdmVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9wdXAgfSBmcm9tICcuL2NvbXBvbmVudHMvcG9wdXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQcm9ncmVzc0JhciB9IGZyb20gJy4vY29tcG9uZW50cy9wcm9ncmVzcy1iYXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQcm9ncmVzc0NpcmNsZSB9IGZyb20gJy4vY29tcG9uZW50cy9wcm9ncmVzcy1jaXJjbGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQdWxsVG9SZWZyZXNoIH0gZnJvbSAnLi9jb21wb25lbnRzL3B1bGwtdG8tcmVmcmVzaCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJhZGlvIH0gZnJvbSAnLi9jb21wb25lbnRzL3JhZGlvJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmF0ZSB9IGZyb20gJy4vY29tcG9uZW50cy9yYXRlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVzdWx0IH0gZnJvbSAnLi9jb21wb25lbnRzL3Jlc3VsdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNhZmVBcmVhIH0gZnJvbSAnLi9jb21wb25lbnRzL3NhZmUtYXJlYSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNjcm9sbE1hc2sgfSBmcm9tICcuL2NvbXBvbmVudHMvc2Nyb2xsLW1hc2snO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTZWFyY2hCYXIgfSBmcm9tICcuL2NvbXBvbmVudHMvc2VhcmNoLWJhcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL3NlbGVjdG9yJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2lkZUJhciB9IGZyb20gJy4vY29tcG9uZW50cy9zaWRlLWJhcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNrZWxldG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3NrZWxldG9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2xpZGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL3NsaWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNwYWNlIH0gZnJvbSAnLi9jb21wb25lbnRzL3NwYWNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3BpbkxvYWRpbmcgfSBmcm9tICcuL2NvbXBvbmVudHMvc3Bpbi1sb2FkaW5nJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3RlcHBlciB9IGZyb20gJy4vY29tcG9uZW50cy8vc3RlcHBlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN0ZXBzIH0gZnJvbSAnLi9jb21wb25lbnRzL3N0ZXBzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3dpcGVBY3Rpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvc3dpcGUtYWN0aW9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3dpcGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL3N3aXBlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN3aXRjaCB9IGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUYWJCYXIgfSBmcm9tICcuL2NvbXBvbmVudHMvdGFiLWJhcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRhYnMgfSBmcm9tICcuL2NvbXBvbmVudHMvdGFicyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRhZyB9IGZyb20gJy4vY29tcG9uZW50cy90YWcnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0QXJlYSB9IGZyb20gJy4vY29tcG9uZW50cy90ZXh0LWFyZWEnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUb2FzdCB9IGZyb20gJy4vY29tcG9uZW50cy90b2FzdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyZWVTZWxlY3QgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1zZWxlY3QnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBWaXJ0dWFsSW5wdXQgfSBmcm9tICcuL2NvbXBvbmVudHMvdmlydHVhbC1pbnB1dCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFdhdGVyTWFyayB9IGZyb20gJy4vY29tcG9uZW50cy93YXRlci1tYXJrJzsiLCJleHBvcnQgY29uc3QgYmFzZSA9IHtcbiAgY29tbW9uOiB7XG4gICAgY29uZmlybTogJ0NvbmZpcm0nLFxuICAgIGNhbmNlbDogJ0NhbmNlbCdcbiAgfSxcbiAgQ2FsZW5kYXI6IHtcbiAgICBtYXJrSXRlbXM6IFsnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnLCAnU3VuJ10sXG4gICAgcmVuZGVyWWVhckFuZE1vbnRoOiAoeWVhciwgbW9udGgpID0+IGAke3llYXJ9LyR7bW9udGh9YFxuICB9LFxuICBDYXNjYWRlcjoge1xuICAgIHBsYWNlaG9sZGVyOiAnU2VsZWN0aW5nJ1xuICB9LFxuICBEaWFsb2c6IHtcbiAgICBvazogJ09LJ1xuICB9LFxuICBFcnJvckJsb2NrOiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgdGl0bGU6ICdPb3BzLCBzb21ldGhpbmcgd2VudCB3cm9uZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1BsZWFzZSB3YWl0IGEgbWludXRlIGFuZCB0cnkgYWdhaW4nXG4gICAgfSxcbiAgICBidXN5OiB7XG4gICAgICB0aXRsZTogJ09vcHMsIG5vdCBsb2FkaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVHJ5IHRvIHJlZnJlc2ggdGhlIHBhZ2UnXG4gICAgfSxcbiAgICBkaXNjb25uZWN0ZWQ6IHtcbiAgICAgIHRpdGxlOiAnTmV0d29yayBpcyBidXN5JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVHJ5IHRvIHJlZnJlc2ggdGhlIHBhZ2UnXG4gICAgfSxcbiAgICBlbXB0eToge1xuICAgICAgdGl0bGU6IFwiSG1tLCBjb3VsZG4ndCBmaW5kIHRoYXQuLi5cIixcbiAgICAgIGRlc2NyaXB0aW9uOiAnV2FudCB0byB0cnkgYSBuZXcgc2VhcmNoPydcbiAgICB9XG4gIH0sXG4gIEltYWdlVXBsb2FkZXI6IHtcbiAgICB1cGxvYWRpbmc6ICdVcGxvYWRpbmcuLi4nXG4gIH0sXG4gIE1hc2s6IHtcbiAgICBuYW1lOiAnTWFzaydcbiAgfSxcbiAgTW9kYWw6IHtcbiAgICBvazogJ09LJ1xuICB9XG59OyIsImltcG9ydCB7IG1lcmdlTG9jYWxlIH0gZnJvbSAnLi4vdXRpbHMvbWVyZ2UtbG9jYWxlJztcbmltcG9ydCB7IGJhc2UgfSBmcm9tICcuL2Jhc2UnO1xuY29uc3QgZW5VUyA9IG1lcmdlTG9jYWxlKGJhc2UsIHt9KTtcbmV4cG9ydCBkZWZhdWx0IGVuVVM7IiwiaW1wb3J0IHsgbWVyZ2VMb2NhbGUgfSBmcm9tICcuLi91dGlscy9tZXJnZS1sb2NhbGUnO1xuaW1wb3J0IHsgYmFzZSB9IGZyb20gJy4vYmFzZSc7XG5jb25zdCB6aENOID0gbWVyZ2VMb2NhbGUoYmFzZSwge1xuICBjb21tb246IHtcbiAgICBjb25maXJtOiAn56Gu5a6aJyxcbiAgICBjYW5jZWw6ICflj5bmtognXG4gIH0sXG4gIENhbGVuZGFyOiB7XG4gICAgbWFya0l0ZW1zOiBbJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJywgJ+aXpSddLFxuICAgIHJlbmRlclllYXJBbmRNb250aDogKHllYXIsIG1vbnRoKSA9PiBgJHt5ZWFyfeW5tCR7bW9udGh95pyIYFxuICB9LFxuICBDYXNjYWRlcjoge1xuICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJ1xuICB9LFxuICBEaWFsb2c6IHtcbiAgICBvazogJ+aIkeefpemBk+S6hidcbiAgfSxcbiAgRXJyb3JCbG9jazoge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRpdGxlOiAn6aG16Z2i6YGH5Yiw5LiA5Lqb5bCP6Zeu6aKYJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAn5b6F5Lya5p2l6K+V6K+VJ1xuICAgIH0sXG4gICAgYnVzeToge1xuICAgICAgdGl0bGU6ICfliY3mlrnmi6XloLUnLFxuICAgICAgZGVzY3JpcHRpb246ICfliLfmlrDor5Xor5UnXG4gICAgfSxcbiAgICBkaXNjb25uZWN0ZWQ6IHtcbiAgICAgIHRpdGxlOiAn572R57uc5pyJ54K55b+ZJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAn5Yqo5Yqo5omL5oyH5biu5b+Z5L+u5aSNJ1xuICAgIH0sXG4gICAgZW1wdHk6IHtcbiAgICAgIHRpdGxlOiAn5rKh5pyJ5om+5Yiw5L2g6ZyA6KaB55qE5Lic6KW/JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAn5om+5om+5YW25LuW55qE5ZCnJ1xuICAgIH1cbiAgfSxcbiAgSW1hZ2VVcGxvYWRlcjoge1xuICAgIHVwbG9hZGluZzogJ+S4iuS8oOS4rS4uLidcbiAgfSxcbiAgTWFzazoge1xuICAgIG5hbWU6ICfpga7nvanlsYInXG4gIH0sXG4gIE1vZGFsOiB7XG4gICAgb2s6ICfmiJHnn6XpgZPkuoYnXG4gIH1cbn0pO1xuZXhwb3J0IGRlZmF1bHQgemhDTjsiLCJleHBvcnQgZnVuY3Rpb24gYXR0YWNoUHJvcGVydGllc1RvQ29tcG9uZW50KGNvbXBvbmVudCwgcHJvcGVydGllcykge1xuICBjb25zdCByZXQgPSBjb21wb25lbnQ7XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcGVydGllcykge1xuICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJldFtrZXldID0gcHJvcGVydGllc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGJvdW5kKHBvc2l0aW9uLCBtaW4sIG1heCkge1xuICBsZXQgcmV0ID0gcG9zaXRpb247XG5cbiAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0ID0gTWF0aC5tYXgocG9zaXRpb24sIG1pbik7XG4gIH1cblxuICBpZiAobWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXQgPSBNYXRoLm1pbihyZXQsIG1heCk7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufSIsImV4cG9ydCBjb25zdCBjYW5Vc2VEb20gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7IiwiaW1wb3J0IHsgY2FuVXNlRG9tIH0gZnJvbSAnLi9jYW4tdXNlLWRvbSc7XG5pbXBvcnQgeyBpc0RldiB9IGZyb20gJy4vaXMtZGV2JztcbmltcG9ydCB7IGRldkVycm9yIH0gZnJvbSAnLi9kZXYtbG9nJztcbmxldCB0ZW5QeFRlc3RlciA9IG51bGw7XG5sZXQgdGVzdGVyID0gbnVsbDtcblxuaWYgKGNhblVzZURvbSkge1xuICB0ZW5QeFRlc3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0ZW5QeFRlc3Rlci5jbGFzc05hbWUgPSAnYWRtLXB4LXRlc3Rlcic7XG4gIHRlblB4VGVzdGVyLnN0eWxlLnNldFByb3BlcnR5KCctLXNpemUnLCAnMTAnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW5QeFRlc3Rlcik7XG4gIHRlc3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0ZXN0ZXIuY2xhc3NOYW1lID0gJ2FkbS1weC10ZXN0ZXInO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlc3Rlcik7XG5cbiAgaWYgKGlzRGV2KSB7XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRlc3RlcikucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgIGRldkVycm9yKCdHbG9iYWwnLCAnVGhlIHB4IHRlc3RlciBpcyBub3QgcmVuZGVyaW5nIHByb3Blcmx5LiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGltcG9ydGVkIGBhbnRkLW1vYmlsZS9lcy9nbG9iYWxgLicpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFB4KHB4KSB7XG4gIGlmICh0ZW5QeFRlc3RlciA9PT0gbnVsbCB8fCB0ZXN0ZXIgPT09IG51bGwpIHJldHVybiBweDtcblxuICBpZiAodGVuUHhUZXN0ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ID09PSAxMCkge1xuICAgIHJldHVybiBweDtcbiAgfVxuXG4gIHRlc3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zaXplJywgcHgudG9TdHJpbmcoKSk7XG4gIHJldHVybiB0ZXN0ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xufSIsImltcG9ydCB7IGlzRGV2IH0gZnJvbSAnLi9pcy1kZXYnO1xuZXhwb3J0IGZ1bmN0aW9uIGRldldhcm5pbmcoY29tcG9uZW50LCBtZXNzYWdlKSB7XG4gIGlmIChpc0Rldikge1xuICAgIGNvbnNvbGUud2FybihgW2FudGQtbW9iaWxlOiAke2NvbXBvbmVudH1dICR7bWVzc2FnZX1gKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRldkVycm9yKGNvbXBvbmVudCwgbWVzc2FnZSkge1xuICBpZiAoaXNEZXYpIHtcbiAgICBjb25zb2xlLmVycm9yKGBbYW50ZC1tb2JpbGU6ICR7Y29tcG9uZW50fV0gJHttZXNzYWdlfWApO1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW50QXJyYXkoZnJvbSwgdG8pIHtcbiAgY29uc3QgYXJyYXkgPSBbXTtcblxuICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgaSsrKSB7XG4gICAgYXJyYXkucHVzaChpKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNvbnRhaW5lcihnZXRDb250YWluZXIpIHtcbiAgY29uc3QgY29udGFpbmVyID0gdHlwZW9mIGdldENvbnRhaW5lciA9PT0gJ2Z1bmN0aW9uJyA/IGdldENvbnRhaW5lcigpIDogZ2V0Q29udGFpbmVyO1xuICByZXR1cm4gY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7XG59IiwiaW1wb3J0IHsgY2FuVXNlRG9tIH0gZnJvbSAnLi9jYW4tdXNlLWRvbSc7XG5jb25zdCBvdmVyZmxvd1Njcm9sbFJlZyA9IC9zY3JvbGx8YXV0by9pO1xuY29uc3QgZGVmYXVsdFJvb3QgPSBjYW5Vc2VEb20gPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIGNvbnN0IEVMRU1FTlRfTk9ERV9UWVBFID0gMTtcbiAgcmV0dXJuIG5vZGUudGFnTmFtZSAhPT0gJ0hUTUwnICYmIG5vZGUudGFnTmFtZSAhPT0gJ0JPRFknICYmIG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFO1xufSAvLyBodHRwczovL2dpdGh1Yi5jb20veW91emFuL3ZhbnQvaXNzdWVzLzM4MjNcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KGVsLCByb290ID0gZGVmYXVsdFJvb3QpIHtcbiAgbGV0IG5vZGUgPSBlbDtcblxuICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSByb290ICYmIGlzRWxlbWVudChub2RlKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIG92ZXJmbG93WVxuICAgIH0gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblxuICAgIGlmIChvdmVyZmxvd1Njcm9sbFJlZy50ZXN0KG92ZXJmbG93WSkpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gcm9vdDtcbn0iLCJleHBvcnQgY29uc3QgaXNEZXYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JzsiLCJpbXBvcnQgY2xvbmVEZWVwIGZyb20gJ2xvZGFzaC9jbG9uZURlZXAnO1xuaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VMb2NhbGUoYmFzZSwgcGF0Y2gpIHtcbiAgcmV0dXJuIG1lcmdlKGNsb25lRGVlcChiYXNlKSwgcGF0Y2gpO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmV4cG9ydCBmdW5jdGlvbiB3aXRoTmF0aXZlUHJvcHMocHJvcHMsIGVsZW1lbnQpIHtcbiAgY29uc3QgcCA9IE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpO1xuXG4gIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICBwLmNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoZWxlbWVudC5wcm9wcy5jbGFzc05hbWUsIHByb3BzLmNsYXNzTmFtZSk7XG4gIH1cblxuICBpZiAocHJvcHMuc3R5bGUpIHtcbiAgICBwLnN0eWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwLnN0eWxlKSwgcHJvcHMuc3R5bGUpO1xuICB9XG5cbiAgaWYgKHByb3BzLnRhYkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICBwLnRhYkluZGV4ID0gcHJvcHMudGFiSW5kZXg7XG4gIH1cblxuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkgY29udGludWU7XG5cbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykgfHwga2V5LnN0YXJ0c1dpdGgoJ2FyaWEtJykpIHtcbiAgICAgIHBba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCBwKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gbmVhcmVzdChhcnIsIHRhcmdldCkge1xuICByZXR1cm4gYXJyLnJlZHVjZSgocHJlLCBjdXIpID0+IHtcbiAgICByZXR1cm4gTWF0aC5hYnMocHJlIC0gdGFyZ2V0KSA8IE1hdGguYWJzKGN1ciAtIHRhcmdldCkgPyBwcmUgOiBjdXI7XG4gIH0pO1xufSIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRvQm9keShlbGVtZW50KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICBjb25zdCB1bm1vdW50UmVzdWx0ID0gUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuXG4gICAgaWYgKHVubW91bnRSZXN1bHQgJiYgY29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgUmVhY3RET00ucmVuZGVyKGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gIHJldHVybiB1bm1vdW50O1xufSIsImltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyByZXNvbHZlQ29udGFpbmVyIH0gZnJvbSAnLi9nZXQtY29udGFpbmVyJztcbmltcG9ydCB7IGNhblVzZURvbSB9IGZyb20gJy4vY2FuLXVzZS1kb20nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRvQ29udGFpbmVyKGdldENvbnRhaW5lciwgbm9kZSkge1xuICBpZiAoY2FuVXNlRG9tICYmIGdldENvbnRhaW5lcikge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHJlc29sdmVDb250YWluZXIoZ2V0Q29udGFpbmVyKTtcbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsKG5vZGUsIGNvbnRhaW5lcik7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn0iLCJpbXBvcnQgeyBib3VuZCB9IGZyb20gJy4vYm91bmQnO1xuZXhwb3J0IGZ1bmN0aW9uIHJ1YmJlcmJhbmQoZGlzdGFuY2UsIGRpbWVuc2lvbiwgY29uc3RhbnQpIHtcbiAgcmV0dXJuIGRpc3RhbmNlICogZGltZW5zaW9uICogY29uc3RhbnQgLyAoZGltZW5zaW9uICsgY29uc3RhbnQgKiBkaXN0YW5jZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcnViYmVyYmFuZElmT3V0T2ZCb3VuZHMocG9zaXRpb24sIG1pbiwgbWF4LCBkaW1lbnNpb24sIGNvbnN0YW50ID0gMC4xNSkge1xuICBpZiAoY29uc3RhbnQgPT09IDApIHJldHVybiBib3VuZChwb3NpdGlvbiwgbWluLCBtYXgpO1xuICBpZiAocG9zaXRpb24gPCBtaW4pIHJldHVybiAtcnViYmVyYmFuZChtaW4gLSBwb3NpdGlvbiwgZGltZW5zaW9uLCBjb25zdGFudCkgKyBtaW47XG4gIGlmIChwb3NpdGlvbiA+IG1heCkgcmV0dXJuICtydWJiZXJiYW5kKHBvc2l0aW9uIC0gbWF4LCBkaW1lbnNpb24sIGNvbnN0YW50KSArIG1heDtcbiAgcmV0dXJuIHBvc2l0aW9uO1xufSIsIi8qKlxuICog5pWw57uE5omT5LmxXG4gKiBAcGFyYW0gYXJyYXkg5Lu75oSP5pWw57uEXG4gKiBAcmV0dXJucyBhbnlbXSDmiZPkubHlkI7nmoTmlbDnu4RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcbiAgY29uc3QgcmVzdWx0ID0gWy4uLmFycmF5XTtcblxuICBmb3IgKGxldCBpID0gcmVzdWx0Lmxlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpKTtcbiAgICBbcmVzdWx0W2kgLSAxXSwgcmVzdWx0W2pdXSA9IFtyZXN1bHRbal0sIHJlc3VsdFtpIC0gMV1dO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0iLCJleHBvcnQgY29uc3Qgc2xlZXAgPSB0aW1lID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0aW1lKSk7IiwiaW1wb3J0IHsgY2FuVXNlRG9tIH0gZnJvbSAnLi9jYW4tdXNlLWRvbSc7XG5leHBvcnQgbGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuXG5pZiAoY2FuVXNlRG9tKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcHRzLCAncGFzc2l2ZScsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0LXBhc3NpdmUnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaCAoZSkge31cbn0iLCJleHBvcnQgZnVuY3Rpb24gdG9DU1NMZW5ndGgodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyA/IGAke3ZhbH1weGAgOiB2YWw7XG59IiwiLy8g5om+5Yiw5qCR55qE5rex5bqmXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlZURlZXAodHJlZURhdGEsIGNoaWxkcmVuTmFtZSA9ICdjaGlsZHJlbicpIHtcbiAgY29uc3Qgd2Fsa2VyID0gdHJlZSA9PiB7XG4gICAgbGV0IGRlZXAgPSAwO1xuICAgIHRyZWUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtW2NoaWxkcmVuTmFtZV0pIHtcbiAgICAgICAgZGVlcCA9IE1hdGgubWF4KGRlZXAsIHdhbGtlcihpdGVtW2NoaWxkcmVuTmFtZV0pICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWVwID0gTWF0aC5tYXgoZGVlcCwgMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZXA7XG4gIH07XG5cbiAgcmV0dXJuIHdhbGtlcih0cmVlRGF0YSk7XG59IiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUluaXRpYWxpemVkKGNoZWNrKSB7XG4gIGNvbnN0IGluaXRpYWxpemVkUmVmID0gdXNlUmVmKGNoZWNrKTtcblxuICBpZiAoY2hlY2spIHtcbiAgICBpbml0aWFsaXplZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAhIWluaXRpYWxpemVkUmVmLmN1cnJlbnQ7XG59IiwiaW1wb3J0IHsgdXNlVG91Y2ggfSBmcm9tICcuL3VzZS10b3VjaCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRTY3JvbGxQYXJlbnQgfSBmcm9tICcuL2dldC1zY3JvbGwtcGFyZW50JztcbmltcG9ydCB7IHN1cHBvcnRzUGFzc2l2ZSB9IGZyb20gJy4vc3VwcG9ydHMtcGFzc2l2ZSc7XG5sZXQgdG90YWxMb2NrQ291bnQgPSAwO1xuY29uc3QgQk9EWV9MT0NLX0NMQVNTID0gJ2FkbS1vdmVyZmxvdy1oaWRkZW4nOyAvLyDnp7vmpI3oh6p2YW5077yaaHR0cHM6Ly9naXRodWIuY29tL3lvdXphbi92YW50L2Jsb2IvSEVBRC9zcmMvY29tcG9zYWJsZXMvdXNlLWxvY2stc2Nyb2xsLnRzXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb2NrU2Nyb2xsKHJvb3RSZWYsIHNob3VsZExvY2spIHtcbiAgY29uc3QgdG91Y2ggPSB1c2VUb3VjaCgpO1xuXG4gIGNvbnN0IG9uVG91Y2hNb3ZlID0gZXZlbnQgPT4ge1xuICAgIHRvdWNoLm1vdmUoZXZlbnQpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvdWNoLmRlbHRhWS5jdXJyZW50ID4gMCA/ICcxMCcgOiAnMDEnO1xuICAgIGNvbnN0IGVsID0gZ2V0U2Nyb2xsUGFyZW50KGV2ZW50LnRhcmdldCwgcm9vdFJlZi5jdXJyZW50KTtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgb2Zmc2V0SGVpZ2h0LFxuICAgICAgc2Nyb2xsVG9wXG4gICAgfSA9IGVsO1xuICAgIGxldCBzdGF0dXMgPSAnMTEnO1xuXG4gICAgaWYgKHNjcm9sbFRvcCA9PT0gMCkge1xuICAgICAgc3RhdHVzID0gb2Zmc2V0SGVpZ2h0ID49IHNjcm9sbEhlaWdodCA/ICcwMCcgOiAnMDEnO1xuICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wICsgb2Zmc2V0SGVpZ2h0ID49IHNjcm9sbEhlaWdodCkge1xuICAgICAgc3RhdHVzID0gJzEwJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzICE9PSAnMTEnICYmIHRvdWNoLmlzVmVydGljYWwoKSAmJiAhKHBhcnNlSW50KHN0YXR1cywgMikgJiBwYXJzZUludChkaXJlY3Rpb24sIDIpKSkge1xuICAgICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbG9jayA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2guc3RhcnQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBzdXBwb3J0c1Bhc3NpdmUgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0gOiBmYWxzZSk7XG5cbiAgICBpZiAoIXRvdGFsTG9ja0NvdW50KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoQk9EWV9MT0NLX0NMQVNTKTtcbiAgICB9XG5cbiAgICB0b3RhbExvY2tDb3VudCsrO1xuICB9O1xuXG4gIGNvbnN0IHVubG9jayA9ICgpID0+IHtcbiAgICBpZiAodG90YWxMb2NrQ291bnQpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaC5zdGFydCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG4gICAgICB0b3RhbExvY2tDb3VudC0tO1xuXG4gICAgICBpZiAoIXRvdGFsTG9ja0NvdW50KSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShCT0RZX0xPQ0tfQ0xBU1MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG91bGRMb2NrKSB7XG4gICAgICBsb2NrKCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1bmxvY2soKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbc2hvdWxkTG9ja10pO1xufSIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1lbW9pemVkRm4gfSBmcm9tICdhaG9va3MnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU11dGF0aW9uRWZmZWN0KGVmZmVjdCwgdGFyZ2V0UmVmLCBvcHRpb25zKSB7XG4gIGNvbnN0IGZuID0gdXNlTWVtb2l6ZWRGbihlZmZlY3QpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgZm4oKTtcbiAgICB9KTtcbiAgICBpZiAoIXRhcmdldFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXRSZWYuY3VycmVudCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbdGFyZ2V0UmVmXSk7XG59IiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTWVtb2l6ZWRGbiwgdXNlVXBkYXRlIH0gZnJvbSAnYWhvb2tzJztcbmV4cG9ydCBmdW5jdGlvbiB1c2VQcm9wc1ZhbHVlKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHZhbHVlLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBvbkNoYW5nZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdXBkYXRlID0gdXNlVXBkYXRlKCk7XG4gIGNvbnN0IHN0YXRlUmVmID0gdXNlUmVmKHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZSk7XG5cbiAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdGF0ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cblxuICBjb25zdCBzZXRTdGF0ZSA9IHVzZU1lbW9pemVkRm4odiA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSB2O1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2UgPT09IG51bGwgfHwgb25DaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2hhbmdlKHYpO1xuICB9KTtcbiAgcmV0dXJuIFtzdGF0ZVJlZi5jdXJyZW50LCBzZXRTdGF0ZV07XG59IiwiaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZlN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihzdGF0ZSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSBzdGF0ZTtcbiAgfSwgW3N0YXRlXSk7XG4gIHJldHVybiBbc3RhdGUsIHNldFN0YXRlLCByZWZdO1xufSIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1lbW9pemVkRm4gfSBmcm9tICdhaG9va3MnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlc2l6ZUVmZmVjdChlZmZlY3QsIHRhcmdldFJlZikge1xuICBjb25zdCBmbiA9IHVzZU1lbW9pemVkRm4oZWZmZWN0KTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRSZWYuY3VycmVudDtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuXG4gICAgaWYgKHdpbmRvdy5SZXNpemVPYnNlcnZlcikge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICBmbih0YXJnZXQpO1xuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBmbih0YXJnZXQpO1xuICAgIH1cbiAgfSwgW3RhcmdldFJlZl0pO1xufSIsImltcG9ydCB7IHVzZUluaXRpYWxpemVkIH0gZnJvbSAnLi91c2UtaW5pdGlhbGl6ZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNob3VsZFJlbmRlcihhY3RpdmUsIGZvcmNlUmVuZGVyLCBkZXN0cm95T25DbG9zZSkge1xuICBjb25zdCBpbml0aWFsaXplZCA9IHVzZUluaXRpYWxpemVkKGFjdGl2ZSk7XG4gIGlmIChmb3JjZVJlbmRlcikgcmV0dXJuIHRydWU7XG4gIGlmIChhY3RpdmUpIHJldHVybiB0cnVlO1xuICBpZiAoIWluaXRpYWxpemVkKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAhZGVzdHJveU9uQ2xvc2U7XG59IiwiaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3ByaW5nIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInO1xuaW1wb3J0IHsgdXNlTXV0YXRpb25FZmZlY3QgfSBmcm9tICcuL3VzZS1tdXRhdGlvbi1lZmZlY3QnO1xuaW1wb3J0IHsgYm91bmQgfSBmcm9tICcuL2JvdW5kJztcbmltcG9ydCB7IHVzZVVwZGF0ZUxheW91dEVmZmVjdCB9IGZyb20gJ2Fob29rcyc7XG5leHBvcnQgY29uc3QgdXNlVGFiTGlzdFNjcm9sbCA9ICh0YXJnZXRSZWYsIGFjdGl2ZUluZGV4KSA9PiB7XG4gIGNvbnN0IFt7XG4gICAgc2Nyb2xsTGVmdFxuICB9LCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBjb25maWc6IHtcbiAgICAgIHRlbnNpb246IDMwMCxcbiAgICAgIGNsYW1wOiB0cnVlXG4gICAgfVxuICB9KSk7XG5cbiAgZnVuY3Rpb24gYW5pbWF0ZShpbW1lZGlhdGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldFJlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBjb25zdCBhY3RpdmVUYWJXcmFwcGVyID0gY29udGFpbmVyLmNoaWxkcmVuLml0ZW0oYWN0aXZlSW5kZXgpO1xuICAgIGNvbnN0IGFjdGl2ZVRhYiA9IGFjdGl2ZVRhYldyYXBwZXIuY2hpbGRyZW4uaXRlbSgwKTtcbiAgICBjb25zdCBhY3RpdmVUYWJMZWZ0ID0gYWN0aXZlVGFiLm9mZnNldExlZnQ7XG4gICAgY29uc3QgYWN0aXZlVGFiV2lkdGggPSBhY3RpdmVUYWIub2Zmc2V0V2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVyU2Nyb2xsV2lkdGggPSBjb250YWluZXIuc2Nyb2xsV2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVyU2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIGNvbnN0IG1heFNjcm9sbERpc3RhbmNlID0gY29udGFpbmVyU2Nyb2xsV2lkdGggLSBjb250YWluZXJXaWR0aDtcbiAgICBpZiAobWF4U2Nyb2xsRGlzdGFuY2UgPD0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IG5leHRTY3JvbGxMZWZ0ID0gYm91bmQoYWN0aXZlVGFiTGVmdCAtIChjb250YWluZXJXaWR0aCAtIGFjdGl2ZVRhYldpZHRoKSAvIDIsIDAsIGNvbnRhaW5lclNjcm9sbFdpZHRoIC0gY29udGFpbmVyV2lkdGgpO1xuICAgIGFwaS5zdGFydCh7XG4gICAgICBzY3JvbGxMZWZ0OiBuZXh0U2Nyb2xsTGVmdCxcbiAgICAgIGZyb206IHtcbiAgICAgICAgc2Nyb2xsTGVmdDogY29udGFpbmVyU2Nyb2xsTGVmdFxuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZVxuICAgIH0pO1xuICB9XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhbmltYXRlKHRydWUpO1xuICB9LCBbXSk7XG4gIHVzZVVwZGF0ZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYW5pbWF0ZSgpO1xuICB9LCBbYWN0aXZlSW5kZXhdKTtcbiAgdXNlTXV0YXRpb25FZmZlY3QoKCkgPT4ge1xuICAgIGFuaW1hdGUodHJ1ZSk7XG4gIH0sIHRhcmdldFJlZiwge1xuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdCxcbiAgICBhbmltYXRlXG4gIH07XG59OyIsImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmNvbnN0IE1JTl9ESVNUQU5DRSA9IDEwO1xuXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICBpZiAoeCA+IHkgJiYgeCA+IE1JTl9ESVNUQU5DRSkge1xuICAgIHJldHVybiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICBpZiAoeSA+IHggJiYgeSA+IE1JTl9ESVNUQU5DRSkge1xuICAgIHJldHVybiAndmVydGljYWwnO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVG91Y2goKSB7XG4gIGNvbnN0IHN0YXJ0WCA9IHVzZVJlZigwKTtcbiAgY29uc3Qgc3RhcnRZID0gdXNlUmVmKDApO1xuICBjb25zdCBkZWx0YVggPSB1c2VSZWYoMCk7XG4gIGNvbnN0IGRlbHRhWSA9IHVzZVJlZigwKTtcbiAgY29uc3Qgb2Zmc2V0WCA9IHVzZVJlZigwKTtcbiAgY29uc3Qgb2Zmc2V0WSA9IHVzZVJlZigwKTtcbiAgY29uc3QgZGlyZWN0aW9uID0gdXNlUmVmKCcnKTtcblxuICBjb25zdCBpc1ZlcnRpY2FsID0gKCkgPT4gZGlyZWN0aW9uLmN1cnJlbnQgPT09ICd2ZXJ0aWNhbCc7XG5cbiAgY29uc3QgaXNIb3Jpem9udGFsID0gKCkgPT4gZGlyZWN0aW9uLmN1cnJlbnQgPT09ICdob3Jpem9udGFsJztcblxuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBkZWx0YVguY3VycmVudCA9IDA7XG4gICAgZGVsdGFZLmN1cnJlbnQgPSAwO1xuICAgIG9mZnNldFguY3VycmVudCA9IDA7XG4gICAgb2Zmc2V0WS5jdXJyZW50ID0gMDtcbiAgICBkaXJlY3Rpb24uY3VycmVudCA9ICcnO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0ID0gZXZlbnQgPT4ge1xuICAgIHJlc2V0KCk7XG4gICAgc3RhcnRYLmN1cnJlbnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgc3RhcnRZLmN1cnJlbnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gIH07XG5cbiAgY29uc3QgbW92ZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07IC8vIEZpeDogU2FmYXJpIGJhY2sgd2lsbCBzZXQgY2xpZW50WCB0byBuZWdhdGl2ZSBudW1iZXJcblxuICAgIGRlbHRhWC5jdXJyZW50ID0gdG91Y2guY2xpZW50WCA8IDAgPyAwIDogdG91Y2guY2xpZW50WCAtIHN0YXJ0WC5jdXJyZW50O1xuICAgIGRlbHRhWS5jdXJyZW50ID0gdG91Y2guY2xpZW50WSAtIHN0YXJ0WS5jdXJyZW50O1xuICAgIG9mZnNldFguY3VycmVudCA9IE1hdGguYWJzKGRlbHRhWC5jdXJyZW50KTtcbiAgICBvZmZzZXRZLmN1cnJlbnQgPSBNYXRoLmFicyhkZWx0YVkuY3VycmVudCk7XG5cbiAgICBpZiAoIWRpcmVjdGlvbi5jdXJyZW50KSB7XG4gICAgICBkaXJlY3Rpb24uY3VycmVudCA9IGdldERpcmVjdGlvbihvZmZzZXRYLmN1cnJlbnQsIG9mZnNldFkuY3VycmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbW92ZSxcbiAgICBzdGFydCxcbiAgICByZXNldCxcbiAgICBzdGFydFgsXG4gICAgc3RhcnRZLFxuICAgIGRlbHRhWCxcbiAgICBkZWx0YVksXG4gICAgb2Zmc2V0WCxcbiAgICBvZmZzZXRZLFxuICAgIGRpcmVjdGlvbixcbiAgICBpc1ZlcnRpY2FsLFxuICAgIGlzSG9yaXpvbnRhbFxuICB9O1xufSIsImltcG9ydCBhc3NpZ24gZnJvbSAnbG9kYXNoL2Fzc2lnbic7XG5pbXBvcnQgYXNzaWduV2l0aCBmcm9tICdsb2Rhc2gvYXNzaWduV2l0aCc7XG5pbXBvcnQgaXNVbmRlZmluZWQgZnJvbSAnbG9kYXNoL2lzVW5kZWZpbmVkJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVByb3BzKC4uLml0ZW1zKSB7XG4gIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHNyY1ZhbHVlKSA/IG9ialZhbHVlIDogc3JjVmFsdWU7XG4gIH1cblxuICBsZXQgcmV0ID0gYXNzaWduKHt9LCBpdGVtc1swXSk7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgIHJldCA9IGFzc2lnbldpdGgocmV0LCBpdGVtc1tpXSwgY3VzdG9taXplcik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCBldmVudFRvUHJvcFJlY29yZCA9IHtcbiAgJ2NsaWNrJzogJ29uQ2xpY2snXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhTdG9wUHJvcGFnYXRpb24oZXZlbnRzLCBlbGVtZW50KSB7XG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG5cbiAgZm9yIChjb25zdCBrZXkgb2YgZXZlbnRzKSB7XG4gICAgY29uc3QgcHJvcCA9IGV2ZW50VG9Qcm9wUmVjb3JkW2tleV07XG5cbiAgICBwcm9wc1twcm9wXSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgKF9iID0gKF9hID0gZWxlbWVudC5wcm9wcylbcHJvcF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCBwcm9wcyk7XG59IiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRmb3JFYWNoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpLmZvckVhY2g7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0Jyk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnZm9yRWFjaCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxubW9kdWxlLmV4cG9ydHMgPSAhU1RSSUNUX01FVEhPRCA/IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG59IDogW10uZm9yRWFjaDtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGZvckVhY2ggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktZm9yLWVhY2gnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBbXS5mb3JFYWNoICE9IGZvckVhY2ggfSwge1xuICBmb3JFYWNoOiBmb3JFYWNoXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QnKTtcblxudmFyIHVuJEpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcblxudmFyIEVTM19TVFJJTkdTID0gSW5kZXhlZE9iamVjdCAhPSBPYmplY3Q7XG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ2pvaW4nLCAnLCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmpvaW5gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuam9pblxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogRVMzX1NUUklOR1MgfHwgIVNUUklDVF9NRVRIT0QgfSwge1xuICBqb2luOiBmdW5jdGlvbiBqb2luKHNlcGFyYXRvcikge1xuICAgIHJldHVybiB1biRKb2luKHRvSW5kZXhlZE9iamVjdCh0aGlzKSwgc2VwYXJhdG9yID09PSB1bmRlZmluZWQgPyAnLCcgOiBzZXBhcmF0b3IpO1xuICB9XG59KTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMnKS5mO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0aWVzIC0tIHNhZmVcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzICE9PSBkZWZpbmVQcm9wZXJ0aWVzLCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBkZWZpbmVQcm9wZXJ0aWVzOiBkZWZpbmVQcm9wZXJ0aWVzXG59KTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKS5mO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG5cbnZhciBGQUlMU19PTl9QUklNSVRJVkVTID0gZmFpbHMoZnVuY3Rpb24gKCkgeyBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoMSk7IH0pO1xudmFyIEZPUkNFRCA9ICFERVNDUklQVE9SUyB8fCBGQUlMU19PTl9QUklNSVRJVkVTO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCwgc2hhbTogIURFU0NSSVBUT1JTIH0sIHtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JbmRleGVkT2JqZWN0KGl0KSwga2V5KTtcbiAgfVxufSk7XG4iLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIG93bktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb3duLWtleXMnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eScpO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqZWN0KSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3Qob2JqZWN0KTtcbiAgICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG4gICAgdmFyIGtleXMgPSBvd25LZXlzKE8pO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBrZXksIGRlc2NyaXB0b3I7XG4gICAgd2hpbGUgKGtleXMubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywga2V5ID0ga2V5c1tpbmRleCsrXSk7XG4gICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZpeC1yZWdleHAtd2VsbC1rbm93bi1zeW1ib2wtbG9naWMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xuXG4vLyBAQG1hdGNoIGxvZ2ljXG5maXhSZWdFeHBXZWxsS25vd25TeW1ib2xMb2dpYygnbWF0Y2gnLCBmdW5jdGlvbiAoTUFUQ0gsIG5hdGl2ZU1hdGNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLm1hdGNoXG4gICAgZnVuY3Rpb24gbWF0Y2gocmVnZXhwKSB7XG4gICAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgICB2YXIgbWF0Y2hlciA9IHJlZ2V4cCA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBnZXRNZXRob2QocmVnZXhwLCBNQVRDSCk7XG4gICAgICByZXR1cm4gbWF0Y2hlciA/IGNhbGwobWF0Y2hlciwgcmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtNQVRDSF0odG9TdHJpbmcoTykpO1xuICAgIH0sXG4gICAgLy8gYFJlZ0V4cC5wcm90b3R5cGVbQEBtYXRjaF1gIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQG1hdGNoXG4gICAgZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgdmFyIHJ4ID0gYW5PYmplY3QodGhpcyk7XG4gICAgICB2YXIgUyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKG5hdGl2ZU1hdGNoLCByeCwgUyk7XG5cbiAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcblxuICAgICAgaWYgKCFyeC5nbG9iYWwpIHJldHVybiByZWdFeHBFeGVjKHJ4LCBTKTtcblxuICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgIHJ4Lmxhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgQSA9IFtdO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHdoaWxlICgocmVzdWx0ID0gcmVnRXhwRXhlYyhyeCwgUykpICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBtYXRjaFN0ciA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIEFbbl0gPSBtYXRjaFN0cjtcbiAgICAgICAgaWYgKG1hdGNoU3RyID09PSAnJykgcngubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKHJ4Lmxhc3RJbmRleCksIGZ1bGxVbmljb2RlKTtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4gPT09IDAgPyBudWxsIDogQTtcbiAgICB9XG4gIF07XG59KTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgRE9NSXRlcmFibGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMnKTtcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlJyk7XG52YXIgZm9yRWFjaCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1mb3ItZWFjaCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcblxudmFyIGhhbmRsZVByb3RvdHlwZSA9IGZ1bmN0aW9uIChDb2xsZWN0aW9uUHJvdG90eXBlKSB7XG4gIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZSAmJiBDb2xsZWN0aW9uUHJvdG90eXBlLmZvckVhY2ggIT09IGZvckVhY2gpIHRyeSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsICdmb3JFYWNoJywgZm9yRWFjaCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgQ29sbGVjdGlvblByb3RvdHlwZS5mb3JFYWNoID0gZm9yRWFjaDtcbiAgfVxufTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICBpZiAoRE9NSXRlcmFibGVzW0NPTExFQ1RJT05fTkFNRV0pIHtcbiAgICBoYW5kbGVQcm90b3R5cGUoZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0gJiYgZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0ucHJvdG90eXBlKTtcbiAgfVxufVxuXG5oYW5kbGVQcm90b3R5cGUoRE9NVG9rZW5MaXN0UHJvdG90eXBlKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuZGF5anM9ZSgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciB0PTFlMyxlPTZlNCxuPTM2ZTUscj1cIm1pbGxpc2Vjb25kXCIsaT1cInNlY29uZFwiLHM9XCJtaW51dGVcIix1PVwiaG91clwiLGE9XCJkYXlcIixvPVwid2Vla1wiLGY9XCJtb250aFwiLGg9XCJxdWFydGVyXCIsYz1cInllYXJcIixkPVwiZGF0ZVwiLCQ9XCJJbnZhbGlkIERhdGVcIixsPS9eKFxcZHs0fSlbLS9dPyhcXGR7MSwyfSk/Wy0vXT8oXFxkezAsMn0pW1R0XFxzXSooXFxkezEsMn0pPzo/KFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Wy46XT8oXFxkKyk/JC8seT0vXFxbKFteXFxdXSspXXxZezEsNH18TXsxLDR9fER7MSwyfXxkezEsNH18SHsxLDJ9fGh7MSwyfXxhfEF8bXsxLDJ9fHN7MSwyfXxaezEsMn18U1NTL2csTT17bmFtZTpcImVuXCIsd2Vla2RheXM6XCJTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheVwiLnNwbGl0KFwiX1wiKSxtb250aHM6XCJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyXCIuc3BsaXQoXCJfXCIpfSxtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1TdHJpbmcodCk7cmV0dXJuIXJ8fHIubGVuZ3RoPj1lP3Q6XCJcIitBcnJheShlKzEtci5sZW5ndGgpLmpvaW4obikrdH0sZz17czptLHo6ZnVuY3Rpb24odCl7dmFyIGU9LXQudXRjT2Zmc2V0KCksbj1NYXRoLmFicyhlKSxyPU1hdGguZmxvb3Iobi82MCksaT1uJTYwO3JldHVybihlPD0wP1wiK1wiOlwiLVwiKSttKHIsMixcIjBcIikrXCI6XCIrbShpLDIsXCIwXCIpfSxtOmZ1bmN0aW9uIHQoZSxuKXtpZihlLmRhdGUoKTxuLmRhdGUoKSlyZXR1cm4tdChuLGUpO3ZhciByPTEyKihuLnllYXIoKS1lLnllYXIoKSkrKG4ubW9udGgoKS1lLm1vbnRoKCkpLGk9ZS5jbG9uZSgpLmFkZChyLGYpLHM9bi1pPDAsdT1lLmNsb25lKCkuYWRkKHIrKHM/LTE6MSksZik7cmV0dXJuKygtKHIrKG4taSkvKHM/aS11OnUtaSkpfHwwKX0sYTpmdW5jdGlvbih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KXx8MDpNYXRoLmZsb29yKHQpfSxwOmZ1bmN0aW9uKHQpe3JldHVybntNOmYseTpjLHc6byxkOmEsRDpkLGg6dSxtOnMsczppLG1zOnIsUTpofVt0XXx8U3RyaW5nKHR8fFwiXCIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvcyQvLFwiXCIpfSx1OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fX0sRD1cImVuXCIsdj17fTt2W0RdPU07dmFyIHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBffSxTPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZighdClyZXR1cm4gRDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl2W3RdJiYocj10KSxlJiYodlt0XT1lLHI9dCk7ZWxzZXt2YXIgaT10Lm5hbWU7dltpXT10LHI9aX1yZXR1cm4hbiYmciYmKEQ9cikscnx8IW4mJkR9LHc9ZnVuY3Rpb24odCxlKXtpZihwKHQpKXJldHVybiB0LmNsb25lKCk7dmFyIG49XCJvYmplY3RcIj09dHlwZW9mIGU/ZTp7fTtyZXR1cm4gbi5kYXRlPXQsbi5hcmdzPWFyZ3VtZW50cyxuZXcgXyhuKX0sTz1nO08ubD1TLE8uaT1wLE8udz1mdW5jdGlvbih0LGUpe3JldHVybiB3KHQse2xvY2FsZTplLiRMLHV0YzplLiR1LHg6ZS4keCwkb2Zmc2V0OmUuJG9mZnNldH0pfTt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIE0odCl7dGhpcy4kTD1TKHQubG9jYWxlLG51bGwsITApLHRoaXMucGFyc2UodCl9dmFyIG09TS5wcm90b3R5cGU7cmV0dXJuIG0ucGFyc2U9ZnVuY3Rpb24odCl7dGhpcy4kZD1mdW5jdGlvbih0KXt2YXIgZT10LmRhdGUsbj10LnV0YztpZihudWxsPT09ZSlyZXR1cm4gbmV3IERhdGUoTmFOKTtpZihPLnUoZSkpcmV0dXJuIG5ldyBEYXRlO2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmIS9aJC9pLnRlc3QoZSkpe3ZhciByPWUubWF0Y2gobCk7aWYocil7dmFyIGk9clsyXS0xfHwwLHM9KHJbN118fFwiMFwiKS5zdWJzdHJpbmcoMCwzKTtyZXR1cm4gbj9uZXcgRGF0ZShEYXRlLlVUQyhyWzFdLGksclszXXx8MSxyWzRdfHwwLHJbNV18fDAscls2XXx8MCxzKSk6bmV3IERhdGUoclsxXSxpLHJbM118fDEscls0XXx8MCxyWzVdfHwwLHJbNl18fDAscyl9fXJldHVybiBuZXcgRGF0ZShlKX0odCksdGhpcy4keD10Lnh8fHt9LHRoaXMuaW5pdCgpfSxtLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRkO3RoaXMuJHk9dC5nZXRGdWxsWWVhcigpLHRoaXMuJE09dC5nZXRNb250aCgpLHRoaXMuJEQ9dC5nZXREYXRlKCksdGhpcy4kVz10LmdldERheSgpLHRoaXMuJEg9dC5nZXRIb3VycygpLHRoaXMuJG09dC5nZXRNaW51dGVzKCksdGhpcy4kcz10LmdldFNlY29uZHMoKSx0aGlzLiRtcz10LmdldE1pbGxpc2Vjb25kcygpfSxtLiR1dGlscz1mdW5jdGlvbigpe3JldHVybiBPfSxtLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hKHRoaXMuJGQudG9TdHJpbmcoKT09PSQpfSxtLmlzU2FtZT1mdW5jdGlvbih0LGUpe3ZhciBuPXcodCk7cmV0dXJuIHRoaXMuc3RhcnRPZihlKTw9biYmbjw9dGhpcy5lbmRPZihlKX0sbS5pc0FmdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHcodCk8dGhpcy5zdGFydE9mKGUpfSxtLmlzQmVmb3JlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZW5kT2YoZSk8dyh0KX0sbS4kZz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE8udSh0KT90aGlzW2VdOnRoaXMuc2V0KG4sdCl9LG0udW5peD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpLzFlMyl9LG0udmFsdWVPZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLmdldFRpbWUoKX0sbS5zdGFydE9mPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPSEhTy51KGUpfHxlLGg9Ty5wKHQpLCQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1PLncobi4kdT9EYXRlLlVUQyhuLiR5LGUsdCk6bmV3IERhdGUobi4keSxlLHQpLG4pO3JldHVybiByP2k6aS5lbmRPZihhKX0sbD1mdW5jdGlvbih0LGUpe3JldHVybiBPLncobi50b0RhdGUoKVt0XS5hcHBseShuLnRvRGF0ZShcInNcIiksKHI/WzAsMCwwLDBdOlsyMyw1OSw1OSw5OTldKS5zbGljZShlKSksbil9LHk9dGhpcy4kVyxNPXRoaXMuJE0sbT10aGlzLiRELGc9XCJzZXRcIisodGhpcy4kdT9cIlVUQ1wiOlwiXCIpO3N3aXRjaChoKXtjYXNlIGM6cmV0dXJuIHI/JCgxLDApOiQoMzEsMTEpO2Nhc2UgZjpyZXR1cm4gcj8kKDEsTSk6JCgwLE0rMSk7Y2FzZSBvOnZhciBEPXRoaXMuJGxvY2FsZSgpLndlZWtTdGFydHx8MCx2PSh5PEQ/eSs3OnkpLUQ7cmV0dXJuICQocj9tLXY6bSsoNi12KSxNKTtjYXNlIGE6Y2FzZSBkOnJldHVybiBsKGcrXCJIb3Vyc1wiLDApO2Nhc2UgdTpyZXR1cm4gbChnK1wiTWludXRlc1wiLDEpO2Nhc2UgczpyZXR1cm4gbChnK1wiU2Vjb25kc1wiLDIpO2Nhc2UgaTpyZXR1cm4gbChnK1wiTWlsbGlzZWNvbmRzXCIsMyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbG9uZSgpfX0sbS5lbmRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydE9mKHQsITEpfSxtLiRzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixvPU8ucCh0KSxoPVwic2V0XCIrKHRoaXMuJHU/XCJVVENcIjpcIlwiKSwkPShuPXt9LG5bYV09aCtcIkRhdGVcIixuW2RdPWgrXCJEYXRlXCIsbltmXT1oK1wiTW9udGhcIixuW2NdPWgrXCJGdWxsWWVhclwiLG5bdV09aCtcIkhvdXJzXCIsbltzXT1oK1wiTWludXRlc1wiLG5baV09aCtcIlNlY29uZHNcIixuW3JdPWgrXCJNaWxsaXNlY29uZHNcIixuKVtvXSxsPW89PT1hP3RoaXMuJEQrKGUtdGhpcy4kVyk6ZTtpZihvPT09Znx8bz09PWMpe3ZhciB5PXRoaXMuY2xvbmUoKS5zZXQoZCwxKTt5LiRkWyRdKGwpLHkuaW5pdCgpLHRoaXMuJGQ9eS5zZXQoZCxNYXRoLm1pbih0aGlzLiRELHkuZGF5c0luTW9udGgoKSkpLiRkfWVsc2UgJCYmdGhpcy4kZFskXShsKTtyZXR1cm4gdGhpcy5pbml0KCksdGhpc30sbS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLiRzZXQodCxlKX0sbS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbTy5wKHQpXSgpfSxtLmFkZD1mdW5jdGlvbihyLGgpe3ZhciBkLCQ9dGhpcztyPU51bWJlcihyKTt2YXIgbD1PLnAoaCkseT1mdW5jdGlvbih0KXt2YXIgZT13KCQpO3JldHVybiBPLncoZS5kYXRlKGUuZGF0ZSgpK01hdGgucm91bmQodCpyKSksJCl9O2lmKGw9PT1mKXJldHVybiB0aGlzLnNldChmLHRoaXMuJE0rcik7aWYobD09PWMpcmV0dXJuIHRoaXMuc2V0KGMsdGhpcy4keStyKTtpZihsPT09YSlyZXR1cm4geSgxKTtpZihsPT09bylyZXR1cm4geSg3KTt2YXIgTT0oZD17fSxkW3NdPWUsZFt1XT1uLGRbaV09dCxkKVtsXXx8MSxtPXRoaXMuJGQuZ2V0VGltZSgpK3IqTTtyZXR1cm4gTy53KG0sdGhpcyl9LG0uc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQoLTEqdCxlKX0sbS5mb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuJGxvY2FsZSgpO2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbi5pbnZhbGlkRGF0ZXx8JDt2YXIgcj10fHxcIllZWVktTU0tRERUSEg6bW06c3NaXCIsaT1PLnoodGhpcykscz10aGlzLiRILHU9dGhpcy4kbSxhPXRoaXMuJE0sbz1uLndlZWtkYXlzLGY9bi5tb250aHMsaD1mdW5jdGlvbih0LG4saSxzKXtyZXR1cm4gdCYmKHRbbl18fHQoZSxyKSl8fGlbbl0uc3Vic3RyKDAscyl9LGM9ZnVuY3Rpb24odCl7cmV0dXJuIE8ucyhzJTEyfHwxMix0LFwiMFwiKX0sZD1uLm1lcmlkaWVtfHxmdW5jdGlvbih0LGUsbil7dmFyIHI9dDwxMj9cIkFNXCI6XCJQTVwiO3JldHVybiBuP3IudG9Mb3dlckNhc2UoKTpyfSxsPXtZWTpTdHJpbmcodGhpcy4keSkuc2xpY2UoLTIpLFlZWVk6dGhpcy4keSxNOmErMSxNTTpPLnMoYSsxLDIsXCIwXCIpLE1NTTpoKG4ubW9udGhzU2hvcnQsYSxmLDMpLE1NTU06aChmLGEpLEQ6dGhpcy4kRCxERDpPLnModGhpcy4kRCwyLFwiMFwiKSxkOlN0cmluZyh0aGlzLiRXKSxkZDpoKG4ud2Vla2RheXNNaW4sdGhpcy4kVyxvLDIpLGRkZDpoKG4ud2Vla2RheXNTaG9ydCx0aGlzLiRXLG8sMyksZGRkZDpvW3RoaXMuJFddLEg6U3RyaW5nKHMpLEhIOk8ucyhzLDIsXCIwXCIpLGg6YygxKSxoaDpjKDIpLGE6ZChzLHUsITApLEE6ZChzLHUsITEpLG06U3RyaW5nKHUpLG1tOk8ucyh1LDIsXCIwXCIpLHM6U3RyaW5nKHRoaXMuJHMpLHNzOk8ucyh0aGlzLiRzLDIsXCIwXCIpLFNTUzpPLnModGhpcy4kbXMsMyxcIjBcIiksWjppfTtyZXR1cm4gci5yZXBsYWNlKHksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fGxbdF18fGkucmVwbGFjZShcIjpcIixcIlwiKX0pKX0sbS51dGNPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTUqLU1hdGgucm91bmQodGhpcy4kZC5nZXRUaW1lem9uZU9mZnNldCgpLzE1KX0sbS5kaWZmPWZ1bmN0aW9uKHIsZCwkKXt2YXIgbCx5PU8ucChkKSxNPXcociksbT0oTS51dGNPZmZzZXQoKS10aGlzLnV0Y09mZnNldCgpKSplLGc9dGhpcy1NLEQ9Ty5tKHRoaXMsTSk7cmV0dXJuIEQ9KGw9e30sbFtjXT1ELzEyLGxbZl09RCxsW2hdPUQvMyxsW29dPShnLW0pLzYwNDhlNSxsW2FdPShnLW0pLzg2NGU1LGxbdV09Zy9uLGxbc109Zy9lLGxbaV09Zy90LGwpW3ldfHxnLCQ/RDpPLmEoRCl9LG0uZGF5c0luTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRPZihmKS4kRH0sbS4kbG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHZbdGhpcy4kTF19LG0ubG9jYWxlPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMuJEw7dmFyIG49dGhpcy5jbG9uZSgpLHI9Uyh0LGUsITApO3JldHVybiByJiYobi4kTD1yKSxufSxtLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIE8udyh0aGlzLiRkLHRoaXMpfSxtLnRvRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSl9LG0udG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMudG9JU09TdHJpbmcoKTpudWxsfSxtLnRvSVNPU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQudG9JU09TdHJpbmcoKX0sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLnRvVVRDU3RyaW5nKCl9LE19KCksYj1fLnByb3RvdHlwZTtyZXR1cm4gdy5wcm90b3R5cGU9YixbW1wiJG1zXCIscl0sW1wiJHNcIixpXSxbXCIkbVwiLHNdLFtcIiRIXCIsdV0sW1wiJFdcIixhXSxbXCIkTVwiLGZdLFtcIiR5XCIsY10sW1wiJERcIixkXV0uZm9yRWFjaCgoZnVuY3Rpb24odCl7Ylt0WzFdXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kZyhlLHRbMF0sdFsxXSl9fSkpLHcuZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuJGl8fCh0KGUsXyx3KSx0LiRpPSEwKSx3fSx3LmxvY2FsZT1TLHcuaXNEYXlqcz1wLHcudW5peD1mdW5jdGlvbih0KXtyZXR1cm4gdygxZTMqdCl9LHcuZW49dltEXSx3LkxzPXYsdy5wPXt9LHd9KSk7IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczplfHxzZWxmKS5kYXlqc19wbHVnaW5faXNMZWFwWWVhcj10KCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dC5wcm90b3R5cGUuaXNMZWFwWWVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR5JTQ9PTAmJnRoaXMuJHklMTAwIT0wfHx0aGlzLiR5JTQwMD09MH19fSkpOyIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuZGF5anNfcGx1Z2luX2lzb1dlZWs9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPVwiZGF5XCI7cmV0dXJuIGZ1bmN0aW9uKHQsaSxzKXt2YXIgYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5hZGQoNC10Lmlzb1dlZWtkYXkoKSxlKX0sZD1pLnByb3RvdHlwZTtkLmlzb1dlZWtZZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykueWVhcigpfSxkLmlzb1dlZWs9ZnVuY3Rpb24odCl7aWYoIXRoaXMuJHV0aWxzKCkudSh0KSlyZXR1cm4gdGhpcy5hZGQoNyoodC10aGlzLmlzb1dlZWsoKSksZSk7dmFyIGksZCxuLG8scj1hKHRoaXMpLHU9KGk9dGhpcy5pc29XZWVrWWVhcigpLGQ9dGhpcy4kdSxuPShkP3MudXRjOnMpKCkueWVhcihpKS5zdGFydE9mKFwieWVhclwiKSxvPTQtbi5pc29XZWVrZGF5KCksbi5pc29XZWVrZGF5KCk+NCYmKG8rPTcpLG4uYWRkKG8sZSkpO3JldHVybiByLmRpZmYodSxcIndlZWtcIikrMX0sZC5pc29XZWVrZGF5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR1dGlscygpLnUoZSk/dGhpcy5kYXkoKXx8Nzp0aGlzLmRheSh0aGlzLmRheSgpJTc/ZTplLTcpfTt2YXIgbj1kLnN0YXJ0T2Y7ZC5zdGFydE9mPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy4kdXRpbHMoKSxzPSEhaS51KHQpfHx0O3JldHVyblwiaXNvd2Vla1wiPT09aS5wKGUpP3M/dGhpcy5kYXRlKHRoaXMuZGF0ZSgpLSh0aGlzLmlzb1dlZWtkYXkoKS0xKSkuc3RhcnRPZihcImRheVwiKTp0aGlzLmRhdGUodGhpcy5kYXRlKCktMS0odGhpcy5pc29XZWVrZGF5KCktMSkrNykuZW5kT2YoXCJkYXlcIik6bi5iaW5kKHRoaXMpKGUsdCl9fX0pKTsiLCIhZnVuY3Rpb24oZSxuKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShuKTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmRheWpzX3BsdWdpbl9pc29XZWVrc0luWWVhcj1uKCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGZ1bmN0aW9uKGUsbil7bi5wcm90b3R5cGUuaXNvV2Vla3NJblllYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlzTGVhcFllYXIoKSxuPXRoaXMuZW5kT2YoXCJ5XCIpLmRheSgpO3JldHVybiA0PT09bnx8ZSYmNT09PW4/NTM6NTJ9fX0pKTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIFczQyBTT0ZUV0FSRSBBTkQgRE9DVU1FTlQgTk9USUNFIEFORCBMSUNFTlNFLlxuICpcbiAqICBodHRwczovL3d3dy53My5vcmcvQ29uc29ydGl1bS9MZWdhbC8yMDE1L2NvcHlyaWdodC1zb2Z0d2FyZS1hbmQtZG9jdW1lbnRcbiAqXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gRXhpdCBlYXJseSBpZiB3ZSdyZSBub3QgcnVubmluZyBpbiBhIGJyb3dzZXIuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcpIHtcbiAgcmV0dXJuO1xufVxuXG4vLyBFeGl0IGVhcmx5IGlmIGFsbCBJbnRlcnNlY3Rpb25PYnNlcnZlciBhbmQgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVxuLy8gZmVhdHVyZXMgYXJlIG5hdGl2ZWx5IHN1cHBvcnRlZC5cbmlmICgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdyAmJlxuICAgICdJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5JyBpbiB3aW5kb3cgJiZcbiAgICAnaW50ZXJzZWN0aW9uUmF0aW8nIGluIHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5LnByb3RvdHlwZSkge1xuXG4gIC8vIE1pbmltYWwgcG9seWZpbGwgZm9yIEVkZ2UgMTUncyBsYWNrIG9mIGBpc0ludGVyc2VjdGluZ2BcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdzNjL0ludGVyc2VjdGlvbk9ic2VydmVyL2lzc3Vlcy8yMTFcbiAgaWYgKCEoJ2lzSW50ZXJzZWN0aW5nJyBpbiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5wcm90b3R5cGUpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5LnByb3RvdHlwZSxcbiAgICAgICdpc0ludGVyc2VjdGluZycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA+IDA7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGVtYmVkZGluZyBmcmFtZSBlbGVtZW50LCBpZiBhbnkuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZ2V0RnJhbWVFbGVtZW50KGRvYykge1xuICB0cnkge1xuICAgIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgJiYgZG9jLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCB8fCBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlIHRoZSBlcnJvci5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEEgbG9jYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGRvY3VtZW50LlxuICovXG52YXIgZG9jdW1lbnQgPSAoZnVuY3Rpb24oc3RhcnREb2MpIHtcbiAgdmFyIGRvYyA9IHN0YXJ0RG9jO1xuICB2YXIgZnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoZG9jKTtcbiAgd2hpbGUgKGZyYW1lKSB7XG4gICAgZG9jID0gZnJhbWUub3duZXJEb2N1bWVudDtcbiAgICBmcmFtZSA9IGdldEZyYW1lRWxlbWVudChkb2MpO1xuICB9XG4gIHJldHVybiBkb2M7XG59KSh3aW5kb3cuZG9jdW1lbnQpO1xuXG4vKipcbiAqIEFuIEludGVyc2VjdGlvbk9ic2VydmVyIHJlZ2lzdHJ5LiBUaGlzIHJlZ2lzdHJ5IGV4aXN0cyB0byBob2xkIGEgc3Ryb25nXG4gKiByZWZlcmVuY2UgdG8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgaW5zdGFuY2VzIGN1cnJlbnRseSBvYnNlcnZpbmcgYSB0YXJnZXRcbiAqIGVsZW1lbnQuIFdpdGhvdXQgdGhpcyByZWdpc3RyeSwgaW5zdGFuY2VzIHdpdGhvdXQgYW5vdGhlciByZWZlcmVuY2UgbWF5IGJlXG4gKiBnYXJiYWdlIGNvbGxlY3RlZC5cbiAqL1xudmFyIHJlZ2lzdHJ5ID0gW107XG5cbi8qKlxuICogVGhlIHNpZ25hbCB1cGRhdGVyIGZvciBjcm9zcy1vcmlnaW4gaW50ZXJzZWN0aW9uLiBXaGVuIG5vdCBudWxsLCBpdCBtZWFuc1xuICogdGhhdCB0aGUgcG9seWZpbGwgaXMgY29uZmlndXJlZCB0byB3b3JrIGluIGEgY3Jvc3Mtb3JpZ2luIG1vZGUuXG4gKiBAdHlwZSB7ZnVuY3Rpb24oRE9NUmVjdHxDbGllbnRSZWN0LCBET01SZWN0fENsaWVudFJlY3QpfVxuICovXG52YXIgY3Jvc3NPcmlnaW5VcGRhdGVyID0gbnVsbDtcblxuLyoqXG4gKiBUaGUgY3VycmVudCBjcm9zcy1vcmlnaW4gaW50ZXJzZWN0aW9uLiBPbmx5IHVzZWQgaW4gdGhlIGNyb3NzLW9yaWdpbiBtb2RlLlxuICogQHR5cGUge0RPTVJlY3R8Q2xpZW50UmVjdH1cbiAqL1xudmFyIGNyb3NzT3JpZ2luUmVjdCA9IG51bGw7XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBnbG9iYWwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSBjb25zdHJ1Y3Rvci5cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9JbnRlcnNlY3Rpb25PYnNlcnZlci8jaW50ZXJzZWN0aW9uLW9ic2VydmVyLWVudHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gZW50cnkgQSBkaWN0aW9uYXJ5IG9mIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeShlbnRyeSkge1xuICB0aGlzLnRpbWUgPSBlbnRyeS50aW1lO1xuICB0aGlzLnRhcmdldCA9IGVudHJ5LnRhcmdldDtcbiAgdGhpcy5yb290Qm91bmRzID0gZW5zdXJlRE9NUmVjdChlbnRyeS5yb290Qm91bmRzKTtcbiAgdGhpcy5ib3VuZGluZ0NsaWVudFJlY3QgPSBlbnN1cmVET01SZWN0KGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdCk7XG4gIHRoaXMuaW50ZXJzZWN0aW9uUmVjdCA9IGVuc3VyZURPTVJlY3QoZW50cnkuaW50ZXJzZWN0aW9uUmVjdCB8fCBnZXRFbXB0eVJlY3QoKSk7XG4gIHRoaXMuaXNJbnRlcnNlY3RpbmcgPSAhIWVudHJ5LmludGVyc2VjdGlvblJlY3Q7XG5cbiAgLy8gQ2FsY3VsYXRlcyB0aGUgaW50ZXJzZWN0aW9uIHJhdGlvLlxuICB2YXIgdGFyZ2V0UmVjdCA9IHRoaXMuYm91bmRpbmdDbGllbnRSZWN0O1xuICB2YXIgdGFyZ2V0QXJlYSA9IHRhcmdldFJlY3Qud2lkdGggKiB0YXJnZXRSZWN0LmhlaWdodDtcbiAgdmFyIGludGVyc2VjdGlvblJlY3QgPSB0aGlzLmludGVyc2VjdGlvblJlY3Q7XG4gIHZhciBpbnRlcnNlY3Rpb25BcmVhID0gaW50ZXJzZWN0aW9uUmVjdC53aWR0aCAqIGludGVyc2VjdGlvblJlY3QuaGVpZ2h0O1xuXG4gIC8vIFNldHMgaW50ZXJzZWN0aW9uIHJhdGlvLlxuICBpZiAodGFyZ2V0QXJlYSkge1xuICAgIC8vIFJvdW5kIHRoZSBpbnRlcnNlY3Rpb24gcmF0aW8gdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgbWF0aCBpc3N1ZXM6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9pc3N1ZXMvMzI0XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA9IE51bWJlcigoaW50ZXJzZWN0aW9uQXJlYSAvIHRhcmdldEFyZWEpLnRvRml4ZWQoNCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIGFyZWEgaXMgemVybyBhbmQgaXMgaW50ZXJzZWN0aW5nLCBzZXRzIHRvIDEsIG90aGVyd2lzZSB0byAwXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA9IHRoaXMuaXNJbnRlcnNlY3RpbmcgPyAxIDogMDtcbiAgfVxufVxuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyIGNvbnN0cnVjdG9yLlxuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0ludGVyc2VjdGlvbk9ic2VydmVyLyNpbnRlcnNlY3Rpb24tb2JzZXJ2ZXItaW50ZXJmYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciBpbnRlcnNlY3Rpb25cbiAqICAgICBjaGFuZ2VzIGhhdmUgcXVldWVkLiBUaGUgZnVuY3Rpb24gaXMgbm90IGludm9rZWQgaWYgdGhlIHF1ZXVlIGhhc1xuICogICAgIGJlZW4gZW1wdGllZCBieSBjYWxsaW5nIHRoZSBgdGFrZVJlY29yZHNgIG1ldGhvZC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRfb3B0aW9ucykge1xuXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmIChcbiAgICBvcHRpb25zLnJvb3QgJiZcbiAgICBvcHRpb25zLnJvb3Qubm9kZVR5cGUgIT0gMSAmJlxuICAgIG9wdGlvbnMucm9vdC5ub2RlVHlwZSAhPSA5XG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcigncm9vdCBtdXN0IGJlIGEgRG9jdW1lbnQgb3IgRWxlbWVudCcpO1xuICB9XG5cbiAgLy8gQmluZHMgYW5kIHRocm90dGxlcyBgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zYC5cbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zID0gdGhyb3R0bGUoXG4gICAgICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMuYmluZCh0aGlzKSwgdGhpcy5USFJPVFRMRV9USU1FT1VUKTtcblxuICAvLyBQcml2YXRlIHByb3BlcnRpZXMuXG4gIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMgPSB0aGlzLl9wYXJzZVJvb3RNYXJnaW4ob3B0aW9ucy5yb290TWFyZ2luKTtcblxuICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgdGhpcy50aHJlc2hvbGRzID0gdGhpcy5faW5pdFRocmVzaG9sZHMob3B0aW9ucy50aHJlc2hvbGQpO1xuICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDtcbiAgdGhpcy5yb290TWFyZ2luID0gdGhpcy5fcm9vdE1hcmdpblZhbHVlcy5tYXAoZnVuY3Rpb24obWFyZ2luKSB7XG4gICAgcmV0dXJuIG1hcmdpbi52YWx1ZSArIG1hcmdpbi51bml0O1xuICB9KS5qb2luKCcgJyk7XG5cbiAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PCFEb2N1bWVudD59ICovXG4gIHRoaXMuX21vbml0b3JpbmdEb2N1bWVudHMgPSBbXTtcbiAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PGZ1bmN0aW9uKCk+fSAqL1xuICB0aGlzLl9tb25pdG9yaW5nVW5zdWJzY3JpYmVzID0gW107XG59XG5cblxuLyoqXG4gKiBUaGUgbWluaW11bSBpbnRlcnZhbCB3aXRoaW4gd2hpY2ggdGhlIGRvY3VtZW50IHdpbGwgYmUgY2hlY2tlZCBmb3JcbiAqIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVEhST1RUTEVfVElNRU9VVCA9IDEwMDtcblxuXG4vKipcbiAqIFRoZSBmcmVxdWVuY3kgaW4gd2hpY2ggdGhlIHBvbHlmaWxsIHBvbGxzIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIHRoaXMgY2FuIGJlIHVwZGF0ZWQgb24gYSBwZXIgaW5zdGFuY2UgYmFzaXMgYW5kIG11c3QgYmUgc2V0IHByaW9yIHRvXG4gKiBjYWxsaW5nIGBvYnNlcnZlYCBvbiB0aGUgZmlyc3QgdGFyZ2V0LlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuUE9MTF9JTlRFUlZBTCA9IG51bGw7XG5cbi8qKlxuICogVXNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgb24gdGhlIHJvb3QgZWxlbWVudFxuICogdG8gZGV0ZWN0IGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVVNFX01VVEFUSU9OX09CU0VSVkVSID0gdHJ1ZTtcblxuXG4vKipcbiAqIFNldHMgdXAgdGhlIHBvbHlmaWxsIGluIHRoZSBjcm9zcy1vcmlnaW4gbW9kZS4gVGhlIHJlc3VsdCBpcyB0aGVcbiAqIHVwZGF0ZXIgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHR3byBhcmd1bWVudHM6IGBib3VuZGluZ0NsaWVudFJlY3RgIGFuZFxuICogYGludGVyc2VjdGlvblJlY3RgIC0ganVzdCBhcyB0aGVzZSBmaWVsZHMgd291bGQgYmUgYXZhaWxhYmxlIHRvIHRoZVxuICogcGFyZW50IHZpYSBgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeWAuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZFxuICogZWFjaCB0aW1lIHRoZSBpZnJhbWUgcmVjZWl2ZXMgaW50ZXJzZWN0aW9uIGluZm9ybWF0aW9uIGZyb20gdGhlIHBhcmVudFxuICogd2luZG93LCBlLmcuIHZpYSBtZXNzYWdpbmcuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihET01SZWN0fENsaWVudFJlY3QsIERPTVJlY3R8Q2xpZW50UmVjdCl9XG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLl9zZXR1cENyb3NzT3JpZ2luVXBkYXRlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWNyb3NzT3JpZ2luVXBkYXRlcikge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RE9NUmVjdHxDbGllbnRSZWN0fSBib3VuZGluZ0NsaWVudFJlY3RcbiAgICAgKiBAcGFyYW0ge0RPTVJlY3R8Q2xpZW50UmVjdH0gaW50ZXJzZWN0aW9uUmVjdFxuICAgICAqL1xuICAgIGNyb3NzT3JpZ2luVXBkYXRlciA9IGZ1bmN0aW9uKGJvdW5kaW5nQ2xpZW50UmVjdCwgaW50ZXJzZWN0aW9uUmVjdCkge1xuICAgICAgaWYgKCFib3VuZGluZ0NsaWVudFJlY3QgfHwgIWludGVyc2VjdGlvblJlY3QpIHtcbiAgICAgICAgY3Jvc3NPcmlnaW5SZWN0ID0gZ2V0RW1wdHlSZWN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcm9zc09yaWdpblJlY3QgPSBjb252ZXJ0RnJvbVBhcmVudFJlY3QoYm91bmRpbmdDbGllbnRSZWN0LCBpbnRlcnNlY3Rpb25SZWN0KTtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdHJ5LmZvckVhY2goZnVuY3Rpb24ob2JzZXJ2ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucygpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gY3Jvc3NPcmlnaW5VcGRhdGVyO1xufTtcblxuXG4vKipcbiAqIFJlc2V0cyB0aGUgY3Jvc3Mtb3JpZ2luIG1vZGUuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLl9yZXNldENyb3NzT3JpZ2luVXBkYXRlciA9IGZ1bmN0aW9uKCkge1xuICBjcm9zc09yaWdpblVwZGF0ZXIgPSBudWxsO1xuICBjcm9zc09yaWdpblJlY3QgPSBudWxsO1xufTtcblxuXG4vKipcbiAqIFN0YXJ0cyBvYnNlcnZpbmcgYSB0YXJnZXQgZWxlbWVudCBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMgYmFzZWQgb25cbiAqIHRoZSB0aHJlc2hvbGRzIHZhbHVlcy5cbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IFRoZSBET00gZWxlbWVudCB0byBvYnNlcnZlLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgaXNUYXJnZXRBbHJlYWR5T2JzZXJ2ZWQgPSB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PSB0YXJnZXQ7XG4gIH0pO1xuXG4gIGlmIChpc1RhcmdldEFscmVhZHlPYnNlcnZlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIEVsZW1lbnQnKTtcbiAgfVxuXG4gIHRoaXMuX3JlZ2lzdGVySW5zdGFuY2UoKTtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLnB1c2goe2VsZW1lbnQ6IHRhcmdldCwgZW50cnk6IG51bGx9KTtcbiAgdGhpcy5fbW9uaXRvckludGVyc2VjdGlvbnModGFyZ2V0Lm93bmVyRG9jdW1lbnQpO1xuICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMoKTtcbn07XG5cblxuLyoqXG4gKiBTdG9wcyBvYnNlcnZpbmcgYSB0YXJnZXQgZWxlbWVudCBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgRE9NIGVsZW1lbnQgdG8gb2JzZXJ2ZS5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMgPVxuICAgICAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmVsZW1lbnQgIT0gdGFyZ2V0O1xuICAgICAgfSk7XG4gIHRoaXMuX3VubW9uaXRvckludGVyc2VjdGlvbnModGFyZ2V0Lm93bmVyRG9jdW1lbnQpO1xuICBpZiAodGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckluc3RhbmNlKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBvYnNlcnZpbmcgYWxsIHRhcmdldCBlbGVtZW50cyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl91bm1vbml0b3JBbGxJbnRlcnNlY3Rpb25zKCk7XG4gIHRoaXMuX3VucmVnaXN0ZXJJbnN0YW5jZSgpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgYW55IHF1ZXVlIGVudHJpZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiByZXBvcnRlZCB0byB0aGVcbiAqIGNhbGxiYWNrIGFuZCBjbGVhcnMgdGhlIHF1ZXVlLiBUaGlzIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlXG4gKiBjYWxsYmFjayB0byBvYnRhaW4gdGhlIGFic29sdXRlIG1vc3QgdXAtdG8tZGF0ZSBpbnRlcnNlY3Rpb24gaW5mb3JtYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIGN1cnJlbnRseSBxdWV1ZWQgZW50cmllcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLnRha2VSZWNvcmRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZWNvcmRzID0gdGhpcy5fcXVldWVkRW50cmllcy5zbGljZSgpO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHJldHVybiByZWNvcmRzO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHRocmVzaG9sZCB2YWx1ZSBmcm9tIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGFuZFxuICogcmV0dXJucyBhIHNvcnRlZCBhcnJheSBvZiB1bmlxdWUgdGhyZXNob2xkIHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBub3RcbiAqIGJldHdlZW4gMCBhbmQgMSBhbmQgZXJyb3IgaXMgdGhyb3duLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8bnVtYmVyPX0gb3B0X3RocmVzaG9sZCBBbiBvcHRpb25hbCB0aHJlc2hvbGQgdmFsdWUgb3JcbiAqICAgICBhIGxpc3Qgb2YgdGhyZXNob2xkIHZhbHVlcywgZGVmYXVsdGluZyB0byBbMF0uXG4gKiBAcmV0dXJuIHtBcnJheX0gQSBzb3J0ZWQgbGlzdCBvZiB1bmlxdWUgYW5kIHZhbGlkIHRocmVzaG9sZCB2YWx1ZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5faW5pdFRocmVzaG9sZHMgPSBmdW5jdGlvbihvcHRfdGhyZXNob2xkKSB7XG4gIHZhciB0aHJlc2hvbGQgPSBvcHRfdGhyZXNob2xkIHx8IFswXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHRocmVzaG9sZCkpIHRocmVzaG9sZCA9IFt0aHJlc2hvbGRdO1xuXG4gIHJldHVybiB0aHJlc2hvbGQuc29ydCgpLmZpbHRlcihmdW5jdGlvbih0LCBpLCBhKSB7XG4gICAgaWYgKHR5cGVvZiB0ICE9ICdudW1iZXInIHx8IGlzTmFOKHQpIHx8IHQgPCAwIHx8IHQgPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RocmVzaG9sZCBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmVseScpO1xuICAgIH1cbiAgICByZXR1cm4gdCAhPT0gYVtpIC0gMV07XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHJvb3RNYXJnaW4gdmFsdWUgZnJvbSB0aGUgdXNlciBjb25maWd1cmF0aW9uIG9iamVjdFxuICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGZvdXIgbWFyZ2luIHZhbHVlcyBhcyBhbiBvYmplY3QgY29udGFpbmluZ1xuICogdGhlIHZhbHVlIGFuZCB1bml0IHByb3BlcnRpZXMuIElmIGFueSBvZiB0aGUgdmFsdWVzIGFyZSBub3QgcHJvcGVybHlcbiAqIGZvcm1hdHRlZCBvciB1c2UgYSB1bml0IG90aGVyIHRoYW4gcHggb3IgJSwgYW5kIGVycm9yIGlzIHRocm93bi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9yb290TWFyZ2luIEFuIG9wdGlvbmFsIHJvb3RNYXJnaW4gdmFsdWUsXG4gKiAgICAgZGVmYXVsdGluZyB0byAnMHB4Jy5cbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIG1hcmdpbiBvYmplY3RzIHdpdGggdGhlIGtleXNcbiAqICAgICB2YWx1ZSBhbmQgdW5pdC5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9wYXJzZVJvb3RNYXJnaW4gPSBmdW5jdGlvbihvcHRfcm9vdE1hcmdpbikge1xuICB2YXIgbWFyZ2luU3RyaW5nID0gb3B0X3Jvb3RNYXJnaW4gfHwgJzBweCc7XG4gIHZhciBtYXJnaW5zID0gbWFyZ2luU3RyaW5nLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKG1hcmdpbikge1xuICAgIHZhciBwYXJ0cyA9IC9eKC0/XFxkKlxcLj9cXGQrKShweHwlKSQvLmV4ZWMobWFyZ2luKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3RNYXJnaW4gbXVzdCBiZSBzcGVjaWZpZWQgaW4gcGl4ZWxzIG9yIHBlcmNlbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTogcGFyc2VGbG9hdChwYXJ0c1sxXSksIHVuaXQ6IHBhcnRzWzJdfTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlcyBzaG9ydGhhbmQuXG4gIG1hcmdpbnNbMV0gPSBtYXJnaW5zWzFdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbMl0gPSBtYXJnaW5zWzJdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbM10gPSBtYXJnaW5zWzNdIHx8IG1hcmdpbnNbMV07XG5cbiAgcmV0dXJuIG1hcmdpbnM7XG59O1xuXG5cbi8qKlxuICogU3RhcnRzIHBvbGxpbmcgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGlmIHRoZSBwb2xsaW5nIGlzIG5vdCBhbHJlYWR5XG4gKiBoYXBwZW5pbmcsIGFuZCBpZiB0aGUgcGFnZSdzIHZpc2liaWxpdHkgc3RhdGUgaXMgdmlzaWJsZS5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fbW9uaXRvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbihkb2MpIHtcbiAgdmFyIHdpbiA9IGRvYy5kZWZhdWx0VmlldztcbiAgaWYgKCF3aW4pIHtcbiAgICAvLyBBbHJlYWR5IGRlc3Ryb3llZC5cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRoaXMuX21vbml0b3JpbmdEb2N1bWVudHMuaW5kZXhPZihkb2MpICE9IC0xKSB7XG4gICAgLy8gQWxyZWFkeSBtb25pdG9yaW5nLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFByaXZhdGUgc3RhdGUgZm9yIG1vbml0b3JpbmcuXG4gIHZhciBjYWxsYmFjayA9IHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucztcbiAgdmFyIG1vbml0b3JpbmdJbnRlcnZhbCA9IG51bGw7XG4gIHZhciBkb21PYnNlcnZlciA9IG51bGw7XG5cbiAgLy8gSWYgYSBwb2xsIGludGVydmFsIGlzIHNldCwgdXNlIHBvbGxpbmcgaW5zdGVhZCBvZiBsaXN0ZW5pbmcgdG9cbiAgLy8gcmVzaXplIGFuZCBzY3JvbGwgZXZlbnRzIG9yIERPTSBtdXRhdGlvbnMuXG4gIGlmICh0aGlzLlBPTExfSU5URVJWQUwpIHtcbiAgICBtb25pdG9yaW5nSW50ZXJ2YWwgPSB3aW4uc2V0SW50ZXJ2YWwoY2FsbGJhY2ssIHRoaXMuUE9MTF9JTlRFUlZBTCk7XG4gIH0gZWxzZSB7XG4gICAgYWRkRXZlbnQod2luLCAncmVzaXplJywgY2FsbGJhY2ssIHRydWUpO1xuICAgIGFkZEV2ZW50KGRvYywgJ3Njcm9sbCcsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICBpZiAodGhpcy5VU0VfTVVUQVRJT05fT0JTRVJWRVIgJiYgJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbikge1xuICAgICAgZG9tT2JzZXJ2ZXIgPSBuZXcgd2luLk11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICAgICAgZG9tT2JzZXJ2ZXIub2JzZXJ2ZShkb2MsIHtcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzLnB1c2goZG9jKTtcbiAgdGhpcy5fbW9uaXRvcmluZ1Vuc3Vic2NyaWJlcy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgIC8vIEdldCB0aGUgd2luZG93IG9iamVjdCBhZ2Fpbi4gV2hlbiBhIGZyaWVuZGx5IGlmcmFtZSBpcyBkZXN0cm95ZWQsIGl0XG4gICAgLy8gd2lsbCBiZSBudWxsLlxuICAgIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG5cbiAgICBpZiAod2luKSB7XG4gICAgICBpZiAobW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICAgIHdpbi5jbGVhckludGVydmFsKG1vbml0b3JpbmdJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgICByZW1vdmVFdmVudCh3aW4sICdyZXNpemUnLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRXZlbnQoZG9jLCAnc2Nyb2xsJywgY2FsbGJhY2ssIHRydWUpO1xuICAgIGlmIChkb21PYnNlcnZlcikge1xuICAgICAgZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQWxzbyBtb25pdG9yIHRoZSBwYXJlbnQuXG4gIHZhciByb290RG9jID1cbiAgICAodGhpcy5yb290ICYmICh0aGlzLnJvb3Qub3duZXJEb2N1bWVudCB8fCB0aGlzLnJvb3QpKSB8fCBkb2N1bWVudDtcbiAgaWYgKGRvYyAhPSByb290RG9jKSB7XG4gICAgdmFyIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGRvYyk7XG4gICAgaWYgKGZyYW1lKSB7XG4gICAgICB0aGlzLl9tb25pdG9ySW50ZXJzZWN0aW9ucyhmcmFtZS5vd25lckRvY3VtZW50KTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBwb2xsaW5nIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fdW5tb25pdG9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKGRvYykge1xuICB2YXIgaW5kZXggPSB0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzLmluZGV4T2YoZG9jKTtcbiAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJvb3REb2MgPVxuICAgICh0aGlzLnJvb3QgJiYgKHRoaXMucm9vdC5vd25lckRvY3VtZW50IHx8IHRoaXMucm9vdCkpIHx8IGRvY3VtZW50O1xuXG4gIC8vIENoZWNrIGlmIGFueSBkZXBlbmRlbnQgdGFyZ2V0cyBhcmUgc3RpbGwgcmVtYWluaW5nLlxuICB2YXIgaGFzRGVwZW5kZW50VGFyZ2V0cyA9XG4gICAgICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBpdGVtRG9jID0gaXRlbS5lbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIC8vIFRhcmdldCBpcyBpbiB0aGlzIGNvbnRleHQuXG4gICAgICAgIGlmIChpdGVtRG9jID09IGRvYykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRhcmdldCBpcyBuZXN0ZWQgaW4gdGhpcyBjb250ZXh0LlxuICAgICAgICB3aGlsZSAoaXRlbURvYyAmJiBpdGVtRG9jICE9IHJvb3REb2MpIHtcbiAgICAgICAgICB2YXIgZnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoaXRlbURvYyk7XG4gICAgICAgICAgaXRlbURvYyA9IGZyYW1lICYmIGZyYW1lLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgaWYgKGl0ZW1Eb2MgPT0gZG9jKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gIGlmIChoYXNEZXBlbmRlbnRUYXJnZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVW5zdWJzY3JpYmUuXG4gIHZhciB1bnN1YnNjcmliZSA9IHRoaXMuX21vbml0b3JpbmdVbnN1YnNjcmliZXNbaW5kZXhdO1xuICB0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gIHRoaXMuX21vbml0b3JpbmdVbnN1YnNjcmliZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgdW5zdWJzY3JpYmUoKTtcblxuICAvLyBBbHNvIHVubW9uaXRvciB0aGUgcGFyZW50LlxuICBpZiAoZG9jICE9IHJvb3REb2MpIHtcbiAgICB2YXIgZnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoZG9jKTtcbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIHRoaXMuX3VubW9uaXRvckludGVyc2VjdGlvbnMoZnJhbWUub3duZXJEb2N1bWVudCk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogU3RvcHMgcG9sbGluZyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3VubW9uaXRvckFsbEludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVuc3Vic2NyaWJlcyA9IHRoaXMuX21vbml0b3JpbmdVbnN1YnNjcmliZXMuc2xpY2UoMCk7XG4gIHRoaXMuX21vbml0b3JpbmdEb2N1bWVudHMubGVuZ3RoID0gMDtcbiAgdGhpcy5fbW9uaXRvcmluZ1Vuc3Vic2NyaWJlcy5sZW5ndGggPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHVuc3Vic2NyaWJlcy5sZW5ndGg7IGkrKykge1xuICAgIHVuc3Vic2NyaWJlc1tpXSgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogU2NhbnMgZWFjaCBvYnNlcnZhdGlvbiB0YXJnZXQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGFuZCBhZGRzIHRoZW1cbiAqIHRvIHRoZSBpbnRlcm5hbCBlbnRyaWVzIHF1ZXVlLiBJZiBuZXcgZW50cmllcyBhcmUgZm91bmQsIGl0XG4gKiBzY2hlZHVsZXMgdGhlIGNhbGxiYWNrIHRvIGJlIGludm9rZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMucm9vdCAmJiBjcm9zc09yaWdpblVwZGF0ZXIgJiYgIWNyb3NzT3JpZ2luUmVjdCkge1xuICAgIC8vIENyb3NzIG9yaWdpbiBtb25pdG9yaW5nLCBidXQgbm8gaW5pdGlhbCBkYXRhIGF2YWlsYWJsZSB5ZXQuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJvb3RJc0luRG9tID0gdGhpcy5fcm9vdElzSW5Eb20oKTtcbiAgdmFyIHJvb3RSZWN0ID0gcm9vdElzSW5Eb20gPyB0aGlzLl9nZXRSb290UmVjdCgpIDogZ2V0RW1wdHlSZWN0KCk7XG5cbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciB0YXJnZXQgPSBpdGVtLmVsZW1lbnQ7XG4gICAgdmFyIHRhcmdldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGFyZ2V0KTtcbiAgICB2YXIgcm9vdENvbnRhaW5zVGFyZ2V0ID0gdGhpcy5fcm9vdENvbnRhaW5zVGFyZ2V0KHRhcmdldCk7XG4gICAgdmFyIG9sZEVudHJ5ID0gaXRlbS5lbnRyeTtcbiAgICB2YXIgaW50ZXJzZWN0aW9uUmVjdCA9IHJvb3RJc0luRG9tICYmIHJvb3RDb250YWluc1RhcmdldCAmJlxuICAgICAgICB0aGlzLl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbih0YXJnZXQsIHRhcmdldFJlY3QsIHJvb3RSZWN0KTtcblxuICAgIHZhciByb290Qm91bmRzID0gbnVsbDtcbiAgICBpZiAoIXRoaXMuX3Jvb3RDb250YWluc1RhcmdldCh0YXJnZXQpKSB7XG4gICAgICByb290Qm91bmRzID0gZ2V0RW1wdHlSZWN0KCk7XG4gICAgfSBlbHNlIGlmICghY3Jvc3NPcmlnaW5VcGRhdGVyIHx8IHRoaXMucm9vdCkge1xuICAgICAgcm9vdEJvdW5kcyA9IHJvb3RSZWN0O1xuICAgIH1cblxuICAgIHZhciBuZXdFbnRyeSA9IGl0ZW0uZW50cnkgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSh7XG4gICAgICB0aW1lOiBub3coKSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgYm91bmRpbmdDbGllbnRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgcm9vdEJvdW5kczogcm9vdEJvdW5kcyxcbiAgICAgIGludGVyc2VjdGlvblJlY3Q6IGludGVyc2VjdGlvblJlY3RcbiAgICB9KTtcblxuICAgIGlmICghb2xkRW50cnkpIHtcbiAgICAgIHRoaXMuX3F1ZXVlZEVudHJpZXMucHVzaChuZXdFbnRyeSk7XG4gICAgfSBlbHNlIGlmIChyb290SXNJbkRvbSAmJiByb290Q29udGFpbnNUYXJnZXQpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgZW50cnkgaW50ZXJzZWN0aW9uIHJhdGlvIGhhcyBjcm9zc2VkIGFueSBvZiB0aGVcbiAgICAgIC8vIHRocmVzaG9sZHMsIGFkZCBhIG5ldyBlbnRyeS5cbiAgICAgIGlmICh0aGlzLl9oYXNDcm9zc2VkVGhyZXNob2xkKG9sZEVudHJ5LCBuZXdFbnRyeSkpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRW50cmllcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIHJvb3QgaXMgbm90IGluIHRoZSBET00gb3IgdGFyZ2V0IGlzIG5vdCBjb250YWluZWQgd2l0aGluXG4gICAgICAvLyByb290IGJ1dCB0aGUgcHJldmlvdXMgZW50cnkgZm9yIHRoaXMgdGFyZ2V0IGhhZCBhbiBpbnRlcnNlY3Rpb24sXG4gICAgICAvLyBhZGQgYSBuZXcgcmVjb3JkIGluZGljYXRpbmcgcmVtb3ZhbC5cbiAgICAgIGlmIChvbGRFbnRyeSAmJiBvbGRFbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLl9xdWV1ZWRFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgdGhpcyk7XG5cbiAgaWYgKHRoaXMuX3F1ZXVlZEVudHJpZXMubGVuZ3RoKSB7XG4gICAgdGhpcy5fY2FsbGJhY2sodGhpcy50YWtlUmVjb3JkcygpLCB0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYSB0YXJnZXQgYW5kIHJvb3QgcmVjdCBjb21wdXRlcyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdGhlblxuICogZm9sbG93aW5nIHRoZSBhbGdvcml0aG0gaW4gdGhlIHNwZWMuXG4gKiBUT0RPKHBoaWxpcHdhbHRvbik6IGF0IHRoaXMgdGltZSBjbGlwLXBhdGggaXMgbm90IGNvbnNpZGVyZWQuXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvI2NhbGN1bGF0ZS1pbnRlcnNlY3Rpb24tcmVjdC1hbGdvXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0UmVjdCBUaGUgYm91bmRpbmcgcmVjdCBvZiB0aGUgdGFyZ2V0LlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3RSZWN0IFRoZSBib3VuZGluZyByZWN0IG9mIHRoZSByb290IGFmdGVyIGJlaW5nXG4gKiAgICAgZXhwYW5kZWQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgZmluYWwgaW50ZXJzZWN0aW9uIHJlY3Qgb2JqZWN0IG9yIHVuZGVmaW5lZCBpZiBub1xuICogICAgIGludGVyc2VjdGlvbiBpcyBmb3VuZC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fY29tcHV0ZVRhcmdldEFuZFJvb3RJbnRlcnNlY3Rpb24gPVxuICAgIGZ1bmN0aW9uKHRhcmdldCwgdGFyZ2V0UmVjdCwgcm9vdFJlY3QpIHtcbiAgLy8gSWYgdGhlIGVsZW1lbnQgaXNuJ3QgZGlzcGxheWVkLCBhbiBpbnRlcnNlY3Rpb24gY2FuJ3QgaGFwcGVuLlxuICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5kaXNwbGF5ID09ICdub25lJykgcmV0dXJuO1xuXG4gIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gdGFyZ2V0UmVjdDtcbiAgdmFyIHBhcmVudCA9IGdldFBhcmVudE5vZGUodGFyZ2V0KTtcbiAgdmFyIGF0Um9vdCA9IGZhbHNlO1xuXG4gIHdoaWxlICghYXRSb290ICYmIHBhcmVudCkge1xuICAgIHZhciBwYXJlbnRSZWN0ID0gbnVsbDtcbiAgICB2YXIgcGFyZW50Q29tcHV0ZWRTdHlsZSA9IHBhcmVudC5ub2RlVHlwZSA9PSAxID9cbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KSA6IHt9O1xuXG4gICAgLy8gSWYgdGhlIHBhcmVudCBpc24ndCBkaXNwbGF5ZWQsIGFuIGludGVyc2VjdGlvbiBjYW4ndCBoYXBwZW4uXG4gICAgaWYgKHBhcmVudENvbXB1dGVkU3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHBhcmVudCA9PSB0aGlzLnJvb3QgfHwgcGFyZW50Lm5vZGVUeXBlID09IC8qIERPQ1VNRU5UICovIDkpIHtcbiAgICAgIGF0Um9vdCA9IHRydWU7XG4gICAgICBpZiAocGFyZW50ID09IHRoaXMucm9vdCB8fCBwYXJlbnQgPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKGNyb3NzT3JpZ2luVXBkYXRlciAmJiAhdGhpcy5yb290KSB7XG4gICAgICAgICAgaWYgKCFjcm9zc09yaWdpblJlY3QgfHxcbiAgICAgICAgICAgICAgY3Jvc3NPcmlnaW5SZWN0LndpZHRoID09IDAgJiYgY3Jvc3NPcmlnaW5SZWN0LmhlaWdodCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBBIDAtc2l6ZSBjcm9zcy1vcmlnaW4gaW50ZXJzZWN0aW9uIG1lYW5zIG5vLWludGVyc2VjdGlvbi5cbiAgICAgICAgICAgIHBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICBwYXJlbnRSZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblJlY3QgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnRSZWN0ID0gY3Jvc3NPcmlnaW5SZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnRSZWN0ID0gcm9vdFJlY3Q7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBmcmFtZSB0aGF0IGNhbiBiZSBuYXZpZ2F0ZWQgdG8uXG4gICAgICAgIHZhciBmcmFtZSA9IGdldFBhcmVudE5vZGUocGFyZW50KTtcbiAgICAgICAgdmFyIGZyYW1lUmVjdCA9IGZyYW1lICYmIGdldEJvdW5kaW5nQ2xpZW50UmVjdChmcmFtZSk7XG4gICAgICAgIHZhciBmcmFtZUludGVyc2VjdCA9XG4gICAgICAgICAgICBmcmFtZSAmJlxuICAgICAgICAgICAgdGhpcy5fY29tcHV0ZVRhcmdldEFuZFJvb3RJbnRlcnNlY3Rpb24oZnJhbWUsIGZyYW1lUmVjdCwgcm9vdFJlY3QpO1xuICAgICAgICBpZiAoZnJhbWVSZWN0ICYmIGZyYW1lSW50ZXJzZWN0KSB7XG4gICAgICAgICAgcGFyZW50ID0gZnJhbWU7XG4gICAgICAgICAgcGFyZW50UmVjdCA9IGNvbnZlcnRGcm9tUGFyZW50UmVjdChmcmFtZVJlY3QsIGZyYW1lSW50ZXJzZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQgPSBudWxsO1xuICAgICAgICAgIGludGVyc2VjdGlvblJlY3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIG5vbi12aXNpYmxlIG92ZXJmbG93LCBhbmQgaXQncyBub3QgdGhlIDxib2R5PlxuICAgICAgLy8gb3IgPGh0bWw+IGVsZW1lbnQsIHVwZGF0ZSB0aGUgaW50ZXJzZWN0aW9uIHJlY3QuXG4gICAgICAvLyBOb3RlOiA8Ym9keT4gYW5kIDxodG1sPiBjYW5ub3QgYmUgY2xpcHBlZCB0byBhIHJlY3QgdGhhdCdzIG5vdCBhbHNvXG4gICAgICAvLyB0aGUgZG9jdW1lbnQgcmVjdCwgc28gbm8gbmVlZCB0byBjb21wdXRlIGEgbmV3IGludGVyc2VjdGlvbi5cbiAgICAgIHZhciBkb2MgPSBwYXJlbnQub3duZXJEb2N1bWVudDtcbiAgICAgIGlmIChwYXJlbnQgIT0gZG9jLmJvZHkgJiZcbiAgICAgICAgICBwYXJlbnQgIT0gZG9jLmRvY3VtZW50RWxlbWVudCAmJlxuICAgICAgICAgIHBhcmVudENvbXB1dGVkU3R5bGUub3ZlcmZsb3cgIT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIHBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBlaXRoZXIgb2YgdGhlIGFib3ZlIGNvbmRpdGlvbmFscyBzZXQgYSBuZXcgcGFyZW50UmVjdCxcbiAgICAvLyBjYWxjdWxhdGUgbmV3IGludGVyc2VjdGlvbiBkYXRhLlxuICAgIGlmIChwYXJlbnRSZWN0KSB7XG4gICAgICBpbnRlcnNlY3Rpb25SZWN0ID0gY29tcHV0ZVJlY3RJbnRlcnNlY3Rpb24ocGFyZW50UmVjdCwgaW50ZXJzZWN0aW9uUmVjdCk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0aW9uUmVjdCkgYnJlYWs7XG4gICAgcGFyZW50ID0gcGFyZW50ICYmIGdldFBhcmVudE5vZGUocGFyZW50KTtcbiAgfVxuICByZXR1cm4gaW50ZXJzZWN0aW9uUmVjdDtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByb290IHJlY3QgYWZ0ZXIgYmVpbmcgZXhwYW5kZWQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcmV0dXJuIHtDbGllbnRSZWN0fSBUaGUgZXhwYW5kZWQgcm9vdCByZWN0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9nZXRSb290UmVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdFJlY3Q7XG4gIGlmICh0aGlzLnJvb3QgJiYgIWlzRG9jKHRoaXMucm9vdCkpIHtcbiAgICByb290UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLnJvb3QpO1xuICB9IGVsc2Uge1xuICAgIC8vIFVzZSA8aHRtbD4vPGJvZHk+IGluc3RlYWQgb2Ygd2luZG93IHNpbmNlIHNjcm9sbCBiYXJzIGFmZmVjdCBzaXplLlxuICAgIHZhciBkb2MgPSBpc0RvYyh0aGlzLnJvb3QpID8gdGhpcy5yb290IDogZG9jdW1lbnQ7XG4gICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgcm9vdFJlY3QgPSB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IGh0bWwuY2xpZW50V2lkdGggfHwgYm9keS5jbGllbnRXaWR0aCxcbiAgICAgIHdpZHRoOiBodG1sLmNsaWVudFdpZHRoIHx8IGJvZHkuY2xpZW50V2lkdGgsXG4gICAgICBib3R0b206IGh0bWwuY2xpZW50SGVpZ2h0IHx8IGJvZHkuY2xpZW50SGVpZ2h0LFxuICAgICAgaGVpZ2h0OiBodG1sLmNsaWVudEhlaWdodCB8fCBib2R5LmNsaWVudEhlaWdodFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2V4cGFuZFJlY3RCeVJvb3RNYXJnaW4ocm9vdFJlY3QpO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYSByZWN0IGFuZCBleHBhbmRzIGl0IGJ5IHRoZSByb290TWFyZ2luIHZhbHVlLlxuICogQHBhcmFtIHtET01SZWN0fENsaWVudFJlY3R9IHJlY3QgVGhlIHJlY3Qgb2JqZWN0IHRvIGV4cGFuZC5cbiAqIEByZXR1cm4ge0NsaWVudFJlY3R9IFRoZSBleHBhbmRlZCByZWN0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9leHBhbmRSZWN0QnlSb290TWFyZ2luID0gZnVuY3Rpb24ocmVjdCkge1xuICB2YXIgbWFyZ2lucyA9IHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMubWFwKGZ1bmN0aW9uKG1hcmdpbiwgaSkge1xuICAgIHJldHVybiBtYXJnaW4udW5pdCA9PSAncHgnID8gbWFyZ2luLnZhbHVlIDpcbiAgICAgICAgbWFyZ2luLnZhbHVlICogKGkgJSAyID8gcmVjdC53aWR0aCA6IHJlY3QuaGVpZ2h0KSAvIDEwMDtcbiAgfSk7XG4gIHZhciBuZXdSZWN0ID0ge1xuICAgIHRvcDogcmVjdC50b3AgLSBtYXJnaW5zWzBdLFxuICAgIHJpZ2h0OiByZWN0LnJpZ2h0ICsgbWFyZ2luc1sxXSxcbiAgICBib3R0b206IHJlY3QuYm90dG9tICsgbWFyZ2luc1syXSxcbiAgICBsZWZ0OiByZWN0LmxlZnQgLSBtYXJnaW5zWzNdXG4gIH07XG4gIG5ld1JlY3Qud2lkdGggPSBuZXdSZWN0LnJpZ2h0IC0gbmV3UmVjdC5sZWZ0O1xuICBuZXdSZWN0LmhlaWdodCA9IG5ld1JlY3QuYm90dG9tIC0gbmV3UmVjdC50b3A7XG5cbiAgcmV0dXJuIG5ld1JlY3Q7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyBhbiBvbGQgYW5kIG5ldyBlbnRyeSBhbmQgcmV0dXJucyB0cnVlIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGVcbiAqIHRocmVzaG9sZCB2YWx1ZXMgaGFzIGJlZW4gY3Jvc3NlZC5cbiAqIEBwYXJhbSB7P0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IG9sZEVudHJ5IFRoZSBwcmV2aW91cyBlbnRyeSBmb3IgYVxuICogICAgcGFydGljdWxhciB0YXJnZXQgZWxlbWVudCBvciBudWxsIGlmIG5vIHByZXZpb3VzIGVudHJ5IGV4aXN0cy5cbiAqIEBwYXJhbSB7SW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeX0gbmV3RW50cnkgVGhlIGN1cnJlbnQgZW50cnkgZm9yIGFcbiAqICAgIHBhcnRpY3VsYXIgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBhbnkgdGhyZXNob2xkIGhhcyBiZWVuIGNyb3NzZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2hhc0Nyb3NzZWRUaHJlc2hvbGQgPVxuICAgIGZ1bmN0aW9uKG9sZEVudHJ5LCBuZXdFbnRyeSkge1xuXG4gIC8vIFRvIG1ha2UgY29tcGFyaW5nIGVhc2llciwgYW4gZW50cnkgdGhhdCBoYXMgYSByYXRpbyBvZiAwXG4gIC8vIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBpbnRlcnNlY3QgaXMgZ2l2ZW4gYSB2YWx1ZSBvZiAtMVxuICB2YXIgb2xkUmF0aW8gPSBvbGRFbnRyeSAmJiBvbGRFbnRyeS5pc0ludGVyc2VjdGluZyA/XG4gICAgICBvbGRFbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyB8fCAwIDogLTE7XG4gIHZhciBuZXdSYXRpbyA9IG5ld0VudHJ5LmlzSW50ZXJzZWN0aW5nID9cbiAgICAgIG5ld0VudHJ5LmludGVyc2VjdGlvblJhdGlvIHx8IDAgOiAtMTtcblxuICAvLyBJZ25vcmUgdW5jaGFuZ2VkIHJhdGlvc1xuICBpZiAob2xkUmF0aW8gPT09IG5ld1JhdGlvKSByZXR1cm47XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRocmVzaG9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdGhyZXNob2xkID0gdGhpcy50aHJlc2hvbGRzW2ldO1xuXG4gICAgLy8gUmV0dXJuIHRydWUgaWYgYW4gZW50cnkgbWF0Y2hlcyBhIHRocmVzaG9sZCBvciBpZiB0aGUgbmV3IHJhdGlvXG4gICAgLy8gYW5kIHRoZSBvbGQgcmF0aW8gYXJlIG9uIHRoZSBvcHBvc2l0ZSBzaWRlcyBvZiBhIHRocmVzaG9sZC5cbiAgICBpZiAodGhyZXNob2xkID09IG9sZFJhdGlvIHx8IHRocmVzaG9sZCA9PSBuZXdSYXRpbyB8fFxuICAgICAgICB0aHJlc2hvbGQgPCBvbGRSYXRpbyAhPT0gdGhyZXNob2xkIDwgbmV3UmF0aW8pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHJvb3QgZWxlbWVudCBpcyBhbiBlbGVtZW50IGFuZCBpcyBpbiB0aGUgRE9NLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcm9vdCBlbGVtZW50IGlzIGFuIGVsZW1lbnQgYW5kIGlzIGluIHRoZSBET00uXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3Jvb3RJc0luRG9tID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5yb290IHx8IGNvbnRhaW5zRGVlcChkb2N1bWVudCwgdGhpcy5yb290KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHJvb3QuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IGVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHJvb3QuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3Jvb3RDb250YWluc1RhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgcm9vdERvYyA9XG4gICAgKHRoaXMucm9vdCAmJiAodGhpcy5yb290Lm93bmVyRG9jdW1lbnQgfHwgdGhpcy5yb290KSkgfHwgZG9jdW1lbnQ7XG4gIHJldHVybiAoXG4gICAgY29udGFpbnNEZWVwKHJvb3REb2MsIHRhcmdldCkgJiZcbiAgICAoIXRoaXMucm9vdCB8fCByb290RG9jID09IHRhcmdldC5vd25lckRvY3VtZW50KVxuICApO1xufTtcblxuXG4vKipcbiAqIEFkZHMgdGhlIGluc3RhbmNlIHRvIHRoZSBnbG9iYWwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgcmVnaXN0cnkgaWYgaXQgaXNuJ3RcbiAqIGFscmVhZHkgcHJlc2VudC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fcmVnaXN0ZXJJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAocmVnaXN0cnkuaW5kZXhPZih0aGlzKSA8IDApIHtcbiAgICByZWdpc3RyeS5wdXNoKHRoaXMpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyIHJlZ2lzdHJ5LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl91bnJlZ2lzdGVySW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGluZGV4ID0gcmVnaXN0cnkuaW5kZXhPZih0aGlzKTtcbiAgaWYgKGluZGV4ICE9IC0xKSByZWdpc3RyeS5zcGxpY2UoaW5kZXgsIDEpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgcGVyZm9ybWFuY2Uubm93KCkgbWV0aG9kIG9yIG51bGwgaW4gYnJvd3NlcnNcbiAqIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgQVBJLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZWxhcHNlZCB0aW1lIHNpbmNlIHRoZSBwYWdlIHdhcyByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgcGVyZm9ybWFuY2Uubm93KCk7XG59XG5cblxuLyoqXG4gKiBUaHJvdHRsZXMgYSBmdW5jdGlvbiBhbmQgZGVsYXlzIGl0cyBleGVjdXRpb24sIHNvIGl0J3Mgb25seSBjYWxsZWQgYXQgbW9zdFxuICogb25jZSB3aXRoaW4gYSBnaXZlbiB0aW1lIHBlcmlvZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IG11c3QgcGFzcyBiZWZvcmUgdGhlXG4gKiAgICAgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBhZ2Fpbi5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgdGltZW91dCkge1xuICB2YXIgdGltZXIgPSBudWxsO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfVxuICB9O1xufVxuXG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBoYW5kbGVyIHRvIGEgRE9NIG5vZGUgZW5zdXJpbmcgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBET00gbm9kZSB0byBhZGQgdGhlIGV2ZW50IGhhbmRsZXIgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZXZlbnQgaGFuZGxlciB0byBhZGQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF91c2VDYXB0dXJlIE9wdGlvbmFsbHkgYWRkcyB0aGUgZXZlbiB0byB0aGUgY2FwdHVyZVxuICogICAgIHBoYXNlLiBOb3RlOiB0aGlzIG9ubHkgd29ya3MgaW4gbW9kZXJuIGJyb3dzZXJzLlxuICovXG5mdW5jdGlvbiBhZGRFdmVudChub2RlLCBldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZS5hZGRFdmVudExpc3RlbmVyID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSB8fCBmYWxzZSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIG5vZGUuYXR0YWNoRXZlbnQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XG4gIH1cbn1cblxuXG4vKipcbiAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IGFkZGVkIGV2ZW50IGhhbmRsZXIgZnJvbSBhIERPTSBub2RlLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBET00gbm9kZSB0byByZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXIgZnJvbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBldmVudCBoYW5kbGVyIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X3VzZUNhcHR1cmUgSWYgdGhlIGV2ZW50IGhhbmRsZXIgd2FzIGFkZGVkIHdpdGggdGhpc1xuICogICAgIGZsYWcgc2V0IHRvIHRydWUsIGl0IHNob3VsZCBiZSBzZXQgdG8gdHJ1ZSBoZXJlIGluIG9yZGVyIHRvIHJlbW92ZSBpdC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnQobm9kZSwgZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSkge1xuICBpZiAodHlwZW9mIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUgfHwgZmFsc2UpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBub2RlLmRldGF0Y2hFdmVudCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5kZXRhdGNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XG4gIH1cbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHR3byByZWN0IG9iamVjdHMuXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdDEgVGhlIGZpcnN0IHJlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdDIgVGhlIHNlY29uZCByZWN0LlxuICogQHJldHVybiB7P09iamVjdHw/Q2xpZW50UmVjdH0gVGhlIGludGVyc2VjdGlvbiByZWN0IG9yIHVuZGVmaW5lZCBpZiBub1xuICogICAgIGludGVyc2VjdGlvbiBpcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVJlY3RJbnRlcnNlY3Rpb24ocmVjdDEsIHJlY3QyKSB7XG4gIHZhciB0b3AgPSBNYXRoLm1heChyZWN0MS50b3AsIHJlY3QyLnRvcCk7XG4gIHZhciBib3R0b20gPSBNYXRoLm1pbihyZWN0MS5ib3R0b20sIHJlY3QyLmJvdHRvbSk7XG4gIHZhciBsZWZ0ID0gTWF0aC5tYXgocmVjdDEubGVmdCwgcmVjdDIubGVmdCk7XG4gIHZhciByaWdodCA9IE1hdGgubWluKHJlY3QxLnJpZ2h0LCByZWN0Mi5yaWdodCk7XG4gIHZhciB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgdmFyIGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcblxuICByZXR1cm4gKHdpZHRoID49IDAgJiYgaGVpZ2h0ID49IDApICYmIHtcbiAgICB0b3A6IHRvcCxcbiAgICBib3R0b206IGJvdHRvbSxcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIHJpZ2h0OiByaWdodCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfSB8fCBudWxsO1xufVxuXG5cbi8qKlxuICogU2hpbXMgdGhlIG5hdGl2ZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBJRS5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWwgVGhlIGVsZW1lbnQgd2hvc2UgYm91bmRpbmcgcmVjdCB0byBnZXQuXG4gKiBAcmV0dXJuIHtET01SZWN0fENsaWVudFJlY3R9IFRoZSAocG9zc2libHkgc2hpbW1lZCkgcmVjdCBvZiB0aGUgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsKSB7XG4gIHZhciByZWN0O1xuXG4gIHRyeSB7XG4gICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZ25vcmUgV2luZG93cyA3IElFMTEgXCJVbnNwZWNpZmllZCBlcnJvclwiXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9wdWxsLzIwNVxuICB9XG5cbiAgaWYgKCFyZWN0KSByZXR1cm4gZ2V0RW1wdHlSZWN0KCk7XG5cbiAgLy8gT2xkZXIgSUVcbiAgaWYgKCEocmVjdC53aWR0aCAmJiByZWN0LmhlaWdodCkpIHtcbiAgICByZWN0ID0ge1xuICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgICAgaGVpZ2h0OiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYW4gZW1wdHkgcmVjdCBvYmplY3QuIEFuIGVtcHR5IHJlY3QgaXMgcmV0dXJuZWQgd2hlbiBhbiBlbGVtZW50XG4gKiBpcyBub3QgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge0NsaWVudFJlY3R9IFRoZSBlbXB0eSByZWN0LlxuICovXG5mdW5jdGlvbiBnZXRFbXB0eVJlY3QoKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMFxuICB9O1xufVxuXG5cbi8qKlxuICogRW5zdXJlIHRoYXQgdGhlIHJlc3VsdCBoYXMgYWxsIG9mIHRoZSBuZWNlc3NhcnkgZmllbGRzIG9mIHRoZSBET01SZWN0LlxuICogU3BlY2lmaWNhbGx5IHRoaXMgZW5zdXJlcyB0aGF0IGB4YCBhbmQgYHlgIGZpZWxkcyBhcmUgc2V0LlxuICpcbiAqIEBwYXJhbSB7P0RPTVJlY3R8P0NsaWVudFJlY3R9IHJlY3RcbiAqIEByZXR1cm4gez9ET01SZWN0fVxuICovXG5mdW5jdGlvbiBlbnN1cmVET01SZWN0KHJlY3QpIHtcbiAgLy8gQSBgRE9NUmVjdGAgb2JqZWN0IGhhcyBgeGAgYW5kIGB5YCBmaWVsZHMuXG4gIGlmICghcmVjdCB8fCAneCcgaW4gcmVjdCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIC8vIEEgSUUncyBgQ2xpZW50UmVjdGAgdHlwZSBkb2VzIG5vdCBoYXZlIGB4YCBhbmQgYHlgLiBUaGUgc2FtZSBpcyB0aGUgY2FzZVxuICAvLyBmb3IgaW50ZXJuYWxseSBjYWxjdWxhdGVkIFJlY3Qgb2JqZWN0cy4gRm9yIHRoZSBwdXJwb3NlcyBvZlxuICAvLyBgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJgLCBpdCdzIHN1ZmZpY2llbnQgdG8gc2ltcGx5IG1pcnJvciBgbGVmdGAgYW5kIGB0b3BgXG4gIC8vIGZvciB0aGVzZSBmaWVsZHMuXG4gIHJldHVybiB7XG4gICAgdG9wOiByZWN0LnRvcCxcbiAgICB5OiByZWN0LnRvcCxcbiAgICBib3R0b206IHJlY3QuYm90dG9tLFxuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB4OiByZWN0LmxlZnQsXG4gICAgcmlnaHQ6IHJlY3QucmlnaHQsXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuXG5cbi8qKlxuICogSW52ZXJ0cyB0aGUgaW50ZXJzZWN0aW9uIGFuZCBib3VuZGluZyByZWN0IGZyb20gdGhlIHBhcmVudCAoZnJhbWUpIEJDUiB0b1xuICogdGhlIGxvY2FsIEJDUiBzcGFjZS5cbiAqIEBwYXJhbSB7RE9NUmVjdHxDbGllbnRSZWN0fSBwYXJlbnRCb3VuZGluZ1JlY3QgVGhlIHBhcmVudCdzIGJvdW5kIGNsaWVudCByZWN0LlxuICogQHBhcmFtIHtET01SZWN0fENsaWVudFJlY3R9IHBhcmVudEludGVyc2VjdGlvblJlY3QgVGhlIHBhcmVudCdzIG93biBpbnRlcnNlY3Rpb24gcmVjdC5cbiAqIEByZXR1cm4ge0NsaWVudFJlY3R9IFRoZSBsb2NhbCByb290IGJvdW5kaW5nIHJlY3QgZm9yIHRoZSBwYXJlbnQncyBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gY29udmVydEZyb21QYXJlbnRSZWN0KHBhcmVudEJvdW5kaW5nUmVjdCwgcGFyZW50SW50ZXJzZWN0aW9uUmVjdCkge1xuICB2YXIgdG9wID0gcGFyZW50SW50ZXJzZWN0aW9uUmVjdC50b3AgLSBwYXJlbnRCb3VuZGluZ1JlY3QudG9wO1xuICB2YXIgbGVmdCA9IHBhcmVudEludGVyc2VjdGlvblJlY3QubGVmdCAtIHBhcmVudEJvdW5kaW5nUmVjdC5sZWZ0O1xuICByZXR1cm4ge1xuICAgIHRvcDogdG9wLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgaGVpZ2h0OiBwYXJlbnRJbnRlcnNlY3Rpb25SZWN0LmhlaWdodCxcbiAgICB3aWR0aDogcGFyZW50SW50ZXJzZWN0aW9uUmVjdC53aWR0aCxcbiAgICBib3R0b206IHRvcCArIHBhcmVudEludGVyc2VjdGlvblJlY3QuaGVpZ2h0LFxuICAgIHJpZ2h0OiBsZWZ0ICsgcGFyZW50SW50ZXJzZWN0aW9uUmVjdC53aWR0aFxuICB9O1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiBhIHBhcmVudCBlbGVtZW50IGNvbnRhaW5zIGEgY2hpbGQgZWxlbWVudCAoaW5jbHVkaW5nIGluc2lkZVxuICogc2hhZG93IERPTSkuXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcGFyYW0ge05vZGV9IGNoaWxkIFRoZSBjaGlsZCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFyZW50IG5vZGUgY29udGFpbnMgdGhlIGNoaWxkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zRGVlcChwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciBub2RlID0gY2hpbGQ7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZTtcblxuICAgIG5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBub2RlIG9mIGFuIGVsZW1lbnQgb3IgaXRzIGhvc3QgZWxlbWVudCBpZiB0aGUgcGFyZW50IG5vZGVcbiAqIGlzIGEgc2hhZG93IHJvb3QuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgd2hvc2UgcGFyZW50IHRvIGdldC5cbiAqIEByZXR1cm4ge05vZGV8bnVsbH0gVGhlIHBhcmVudCBub2RlIG9yIG51bGwgaWYgbm8gcGFyZW50IGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG5cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gLyogRE9DVU1FTlQgKi8gOSAmJiBub2RlICE9IGRvY3VtZW50KSB7XG4gICAgLy8gSWYgdGhpcyBub2RlIGlzIGEgZG9jdW1lbnQgbm9kZSwgbG9vayBmb3IgdGhlIGVtYmVkZGluZyBmcmFtZS5cbiAgICByZXR1cm4gZ2V0RnJhbWVFbGVtZW50KG5vZGUpO1xuICB9XG5cbiAgLy8gSWYgdGhlIHBhcmVudCBoYXMgZWxlbWVudCB0aGF0IGlzIGFzc2lnbmVkIHRocm91Z2ggc2hhZG93IHJvb3Qgc2xvdFxuICBpZiAocGFyZW50ICYmIHBhcmVudC5hc3NpZ25lZFNsb3QpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQuYXNzaWduZWRTbG90LnBhcmVudE5vZGVcbiAgfVxuXG4gIGlmIChwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlID09IDExICYmIHBhcmVudC5ob3N0KSB7XG4gICAgLy8gSWYgdGhlIHBhcmVudCBpcyBhIHNoYWRvdyByb290LCByZXR1cm4gdGhlIGhvc3QgZWxlbWVudC5cbiAgICByZXR1cm4gcGFyZW50Lmhvc3Q7XG4gIH1cblxuICByZXR1cm4gcGFyZW50O1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgbm9kZWAgaXMgYSBEb2N1bWVudC5cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0RvYyhub2RlKSB7XG4gIHJldHVybiBub2RlICYmIG5vZGUubm9kZVR5cGUgPT09IDk7XG59XG5cblxuLy8gRXhwb3NlcyB0aGUgY29uc3RydWN0b3JzIGdsb2JhbGx5Llxud2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyID0gSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG53aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSA9IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnk7XG5cbn0oKSk7XG4iLCIvKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwbHk7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlFYWNoO1xuIiwidmFyIGJhc2VBc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Jhc2VBc3NpZ25WYWx1ZScpLFxuICAgIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbk1lcmdlVmFsdWU7XG4iLCJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBrZXlzID0gcmVxdWlyZSgnLi9rZXlzJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQXNzaWduO1xuIiwidmFyIGNvcHlPYmplY3QgPSByZXF1aXJlKCcuL19jb3B5T2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VBc3NpZ25JbjtcbiIsInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUFzc2lnblZhbHVlO1xuIiwidmFyIFN0YWNrID0gcmVxdWlyZSgnLi9fU3RhY2snKSxcbiAgICBhcnJheUVhY2ggPSByZXF1aXJlKCcuL19hcnJheUVhY2gnKSxcbiAgICBhc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnblZhbHVlJyksXG4gICAgYmFzZUFzc2lnbiA9IHJlcXVpcmUoJy4vX2Jhc2VBc3NpZ24nKSxcbiAgICBiYXNlQXNzaWduSW4gPSByZXF1aXJlKCcuL19iYXNlQXNzaWduSW4nKSxcbiAgICBjbG9uZUJ1ZmZlciA9IHJlcXVpcmUoJy4vX2Nsb25lQnVmZmVyJyksXG4gICAgY29weUFycmF5ID0gcmVxdWlyZSgnLi9fY29weUFycmF5JyksXG4gICAgY29weVN5bWJvbHMgPSByZXF1aXJlKCcuL19jb3B5U3ltYm9scycpLFxuICAgIGNvcHlTeW1ib2xzSW4gPSByZXF1aXJlKCcuL19jb3B5U3ltYm9sc0luJyksXG4gICAgZ2V0QWxsS2V5cyA9IHJlcXVpcmUoJy4vX2dldEFsbEtleXMnKSxcbiAgICBnZXRBbGxLZXlzSW4gPSByZXF1aXJlKCcuL19nZXRBbGxLZXlzSW4nKSxcbiAgICBnZXRUYWcgPSByZXF1aXJlKCcuL19nZXRUYWcnKSxcbiAgICBpbml0Q2xvbmVBcnJheSA9IHJlcXVpcmUoJy4vX2luaXRDbG9uZUFycmF5JyksXG4gICAgaW5pdENsb25lQnlUYWcgPSByZXF1aXJlKCcuL19pbml0Q2xvbmVCeVRhZycpLFxuICAgIGluaXRDbG9uZU9iamVjdCA9IHJlcXVpcmUoJy4vX2luaXRDbG9uZU9iamVjdCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc01hcCA9IHJlcXVpcmUoJy4vaXNNYXAnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1NldCA9IHJlcXVpcmUoJy4vaXNTZXQnKSxcbiAgICBrZXlzID0gcmVxdWlyZSgnLi9rZXlzJyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbnZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xudmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbmNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG5jbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbmNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbmNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbmNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG5jbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG5jbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbmNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG5jbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG5jbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbmNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIERlZXAgY2xvbmVcbiAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICB2YXIgcmVzdWx0LFxuICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gIGlmIChjdXN0b21pemVyKSB7XG4gICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICB9XG4gIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gIGlmIChpc0Fycikge1xuICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgfVxuICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgIH1cbiAgfVxuICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gIGlmIChzdGFja2VkKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQ7XG4gIH1cbiAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgIGlmIChwcm9wcykge1xuICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUNsb25lO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDcmVhdGU7XG4iLCJ2YXIgY3JlYXRlQmFzZUZvciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUJhc2VGb3InKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VGb3I7XG4iLCJ2YXIgZ2V0VGFnID0gcmVxdWlyZSgnLi9fZ2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTWFwO1xuIiwidmFyIGdldFRhZyA9IHJlcXVpcmUoJy4vX2dldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzZXRUYWcgPSAnW29iamVjdCBTZXRdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc1NldDtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAgbmF0aXZlS2V5c0luID0gcmVxdWlyZSgnLi9fbmF0aXZlS2V5c0luJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUtleXNJbjtcbiIsInZhciBTdGFjayA9IHJlcXVpcmUoJy4vX1N0YWNrJyksXG4gICAgYXNzaWduTWVyZ2VWYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnbk1lcmdlVmFsdWUnKSxcbiAgICBiYXNlRm9yID0gcmVxdWlyZSgnLi9fYmFzZUZvcicpLFxuICAgIGJhc2VNZXJnZURlZXAgPSByZXF1aXJlKCcuL19iYXNlTWVyZ2VEZWVwJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKSxcbiAgICBzYWZlR2V0ID0gcmVxdWlyZSgnLi9fc2FmZUdldCcpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1lcmdlO1xuIiwidmFyIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgY2xvbmVCdWZmZXIgPSByZXF1aXJlKCcuL19jbG9uZUJ1ZmZlcicpLFxuICAgIGNsb25lVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vX2Nsb25lVHlwZWRBcnJheScpLFxuICAgIGNvcHlBcnJheSA9IHJlcXVpcmUoJy4vX2NvcHlBcnJheScpLFxuICAgIGluaXRDbG9uZU9iamVjdCA9IHJlcXVpcmUoJy4vX2luaXRDbG9uZU9iamVjdCcpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0FycmF5TGlrZU9iamVjdCA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2VPYmplY3QnKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJy4vaXNQbGFpbk9iamVjdCcpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5JyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKSxcbiAgICB0b1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi90b1BsYWluT2JqZWN0Jyk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1lcmdlRGVlcDtcbiIsInZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHknKSxcbiAgICBvdmVyUmVzdCA9IHJlcXVpcmUoJy4vX292ZXJSZXN0JyksXG4gICAgc2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19zZXRUb1N0cmluZycpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUmVzdDtcbiIsInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsInZhciBVaW50OEFycmF5ID0gcmVxdWlyZSgnLi9fVWludDhBcnJheScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVBcnJheUJ1ZmZlcjtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lQnVmZmVyO1xuIiwidmFyIGNsb25lQXJyYXlCdWZmZXIgPSByZXF1aXJlKCcuL19jbG9uZUFycmF5QnVmZmVyJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVEYXRhVmlldztcbiIsIi8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAqL1xuZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVSZWdFeHA7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZVN5bWJvbDtcbiIsInZhciBjbG9uZUFycmF5QnVmZmVyID0gcmVxdWlyZSgnLi9fY2xvbmVBcnJheUJ1ZmZlcicpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lVHlwZWRBcnJheTtcbiIsIi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlBcnJheTtcbiIsInZhciBhc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnblZhbHVlJyksXG4gICAgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyk7XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlPYmplY3Q7XG4iLCJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBnZXRTeW1ib2xzID0gcmVxdWlyZSgnLi9fZ2V0U3ltYm9scycpO1xuXG4vKipcbiAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weVN5bWJvbHM7XG4iLCJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBnZXRTeW1ib2xzSW4gPSByZXF1aXJlKCcuL19nZXRTeW1ib2xzSW4nKTtcblxuLyoqXG4gKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlTeW1ib2xzSW47XG4iLCJ2YXIgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzSXRlcmF0ZWVDYWxsID0gcmVxdWlyZSgnLi9faXNJdGVyYXRlZUNhbGwnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcbiIsIi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJhc2VGb3I7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnR5O1xuIiwidmFyIGJhc2VHZXRBbGxLZXlzID0gcmVxdWlyZSgnLi9fYmFzZUdldEFsbEtleXMnKSxcbiAgICBnZXRTeW1ib2xzSW4gPSByZXF1aXJlKCcuL19nZXRTeW1ib2xzSW4nKSxcbiAgICBrZXlzSW4gPSByZXF1aXJlKCcuL2tleXNJbicpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEFsbEtleXNJbjtcbiIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4iLCJ2YXIgYXJyYXlQdXNoID0gcmVxdWlyZSgnLi9fYXJyYXlQdXNoJyksXG4gICAgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgZ2V0U3ltYm9scyA9IHJlcXVpcmUoJy4vX2dldFN5bWJvbHMnKSxcbiAgICBzdHViQXJyYXkgPSByZXF1aXJlKCcuL3N0dWJBcnJheScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHdoaWxlIChvYmplY3QpIHtcbiAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN5bWJvbHNJbjtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdENsb25lQXJyYXk7XG4iLCJ2YXIgY2xvbmVBcnJheUJ1ZmZlciA9IHJlcXVpcmUoJy4vX2Nsb25lQXJyYXlCdWZmZXInKSxcbiAgICBjbG9uZURhdGFWaWV3ID0gcmVxdWlyZSgnLi9fY2xvbmVEYXRhVmlldycpLFxuICAgIGNsb25lUmVnRXhwID0gcmVxdWlyZSgnLi9fY2xvbmVSZWdFeHAnKSxcbiAgICBjbG9uZVN5bWJvbCA9IHJlcXVpcmUoJy4vX2Nsb25lU3ltYm9sJyksXG4gICAgY2xvbmVUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9fY2xvbmVUeXBlZEFycmF5Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluaXRDbG9uZUJ5VGFnO1xuIiwidmFyIGJhc2VDcmVhdGUgPSByZXF1aXJlKCcuL19iYXNlQ3JlYXRlJyksXG4gICAgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNQcm90b3R5cGUgPSByZXF1aXJlKCcuL19pc1Byb3RvdHlwZScpO1xuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdENsb25lT2JqZWN0O1xuIiwidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0l0ZXJhdGVlQ2FsbDtcbiIsIi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUtleXNJbjtcbiIsInZhciBhcHBseSA9IHJlcXVpcmUoJy4vX2FwcGx5Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlclJlc3Q7XG4iLCIvKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Rba2V5XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzYWZlR2V0O1xuIiwidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG9ydE91dDtcbiIsInZhciBhc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnblZhbHVlJyksXG4gICAgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNQcm90b3R5cGUgPSByZXF1aXJlKCcuL19pc1Byb3RvdHlwZScpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uYXNzaWduSW5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIGZ1bmN0aW9uIEJhcigpIHtcbiAqICAgdGhpcy5jID0gMztcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICovXG52YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfVxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG4iLCJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICogfVxuICpcbiAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gKlxuICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqL1xudmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbldpdGg7XG4iLCJ2YXIgYmFzZUNsb25lID0gcmVxdWlyZSgnLi9fYmFzZUNsb25lJyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG52YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAqIEBzZWUgXy5jbG9uZVxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAqXG4gKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZURlZXA7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudDtcbiIsIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iLCJ2YXIgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuIiwidmFyIGJhc2VJc01hcCA9IHJlcXVpcmUoJy4vX2Jhc2VJc01hcCcpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIG5vZGVVdGlsID0gcmVxdWlyZSgnLi9fbm9kZVV0aWwnKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNNYXAobmV3IE1hcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxubW9kdWxlLmV4cG9ydHMgPSBpc01hcDtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuIiwidmFyIGJhc2VJc1NldCA9IHJlcXVpcmUoJy4vX2Jhc2VJc1NldCcpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIG5vZGVVdGlsID0gcmVxdWlyZSgnLi9fbm9kZVV0aWwnKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTZXQobmV3IFNldCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1NldDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1VuZGVmaW5lZDtcbiIsInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzSW4gPSByZXF1aXJlKCcuL19iYXNlS2V5c0luJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNJbjtcbiIsInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIiwidmFyIGJhc2VNZXJnZSA9IHJlcXVpcmUoJy4vX2Jhc2VNZXJnZScpLFxuICAgIGNyZWF0ZUFzc2lnbmVyID0gcmVxdWlyZSgnLi9fY3JlYXRlQXNzaWduZXInKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuNS4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7XG4gKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gKiB9O1xuICpcbiAqIHZhciBvdGhlciA9IHtcbiAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAqIH07XG4gKlxuICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAqL1xudmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2U7XG4iLCJ2YXIgZGVib3VuY2UgPSByZXF1aXJlKCcuL2RlYm91bmNlJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iLCJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBrZXlzSW4gPSByZXF1aXJlKCcuL2tleXNJbicpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAqL1xuZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9QbGFpbk9iamVjdDtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuSE9PS19NQVJLID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3dhcm5pbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyYy11dGlsL2xpYi93YXJuaW5nXCIpKTtcblxudmFyIEhPT0tfTUFSSyA9ICdSQ19GT1JNX0lOVEVSTkFMX0hPT0tTJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcblxuZXhwb3J0cy5IT09LX01BUksgPSBIT09LX01BUks7XG5cbnZhciB3YXJuaW5nRnVuYyA9IGZ1bmN0aW9uIHdhcm5pbmdGdW5jKCkge1xuICAoMCwgX3dhcm5pbmcuZGVmYXVsdCkoZmFsc2UsICdDYW4gbm90IGZpbmQgRm9ybUNvbnRleHQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IHdyYXAgRmllbGQgdW5kZXIgRm9ybS4nKTtcbn07XG5cbnZhciBDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQoe1xuICBnZXRGaWVsZFZhbHVlOiB3YXJuaW5nRnVuYyxcbiAgZ2V0RmllbGRzVmFsdWU6IHdhcm5pbmdGdW5jLFxuICBnZXRGaWVsZEVycm9yOiB3YXJuaW5nRnVuYyxcbiAgZ2V0RmllbGRXYXJuaW5nOiB3YXJuaW5nRnVuYyxcbiAgZ2V0RmllbGRzRXJyb3I6IHdhcm5pbmdGdW5jLFxuICBpc0ZpZWxkc1RvdWNoZWQ6IHdhcm5pbmdGdW5jLFxuICBpc0ZpZWxkVG91Y2hlZDogd2FybmluZ0Z1bmMsXG4gIGlzRmllbGRWYWxpZGF0aW5nOiB3YXJuaW5nRnVuYyxcbiAgaXNGaWVsZHNWYWxpZGF0aW5nOiB3YXJuaW5nRnVuYyxcbiAgcmVzZXRGaWVsZHM6IHdhcm5pbmdGdW5jLFxuICBzZXRGaWVsZHM6IHdhcm5pbmdGdW5jLFxuICBzZXRGaWVsZHNWYWx1ZTogd2FybmluZ0Z1bmMsXG4gIHZhbGlkYXRlRmllbGRzOiB3YXJuaW5nRnVuYyxcbiAgc3VibWl0OiB3YXJuaW5nRnVuYyxcbiAgZ2V0SW50ZXJuYWxIb29rczogZnVuY3Rpb24gZ2V0SW50ZXJuYWxIb29rcygpIHtcbiAgICB3YXJuaW5nRnVuYygpO1xuICAgIHJldHVybiB7XG4gICAgICBkaXNwYXRjaDogd2FybmluZ0Z1bmMsXG4gICAgICBpbml0RW50aXR5VmFsdWU6IHdhcm5pbmdGdW5jLFxuICAgICAgcmVnaXN0ZXJGaWVsZDogd2FybmluZ0Z1bmMsXG4gICAgICB1c2VTdWJzY3JpYmU6IHdhcm5pbmdGdW5jLFxuICAgICAgc2V0SW5pdGlhbFZhbHVlczogd2FybmluZ0Z1bmMsXG4gICAgICBzZXRDYWxsYmFja3M6IHdhcm5pbmdGdW5jLFxuICAgICAgZ2V0RmllbGRzOiB3YXJuaW5nRnVuYyxcbiAgICAgIHNldFZhbGlkYXRlTWVzc2FnZXM6IHdhcm5pbmdGdW5jLFxuICAgICAgc2V0UHJlc2VydmU6IHdhcm5pbmdGdW5jLFxuICAgICAgZ2V0SW5pdGlhbFZhbHVlOiB3YXJuaW5nRnVuY1xuICAgIH07XG4gIH1cbn0pO1xudmFyIF9kZWZhdWx0ID0gQ29udGV4dDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy53YXJuaW5nID0gd2FybmluZztcbmV4cG9ydHMubm90ZSA9IG5vdGU7XG5leHBvcnRzLnJlc2V0V2FybmVkID0gcmVzZXRXYXJuZWQ7XG5leHBvcnRzLmNhbGwgPSBjYWxsO1xuZXhwb3J0cy53YXJuaW5nT25jZSA9IHdhcm5pbmdPbmNlO1xuZXhwb3J0cy5ub3RlT25jZSA9IG5vdGVPbmNlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG52YXIgd2FybmVkID0ge307XG5cbmZ1bmN0aW9uIHdhcm5pbmcodmFsaWQsIG1lc3NhZ2UpIHtcbiAgLy8gU3VwcG9ydCB1Z2xpZnlcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXZhbGlkICYmIGNvbnNvbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJXYXJuaW5nOiBcIi5jb25jYXQobWVzc2FnZSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vdGUodmFsaWQsIG1lc3NhZ2UpIHtcbiAgLy8gU3VwcG9ydCB1Z2xpZnlcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXZhbGlkICYmIGNvbnNvbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybihcIk5vdGU6IFwiLmNvbmNhdChtZXNzYWdlKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzZXRXYXJuZWQoKSB7XG4gIHdhcm5lZCA9IHt9O1xufVxuXG5mdW5jdGlvbiBjYWxsKG1ldGhvZCwgdmFsaWQsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWxpZCAmJiAhd2FybmVkW21lc3NhZ2VdKSB7XG4gICAgbWV0aG9kKGZhbHNlLCBtZXNzYWdlKTtcbiAgICB3YXJuZWRbbWVzc2FnZV0gPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKHZhbGlkLCBtZXNzYWdlKSB7XG4gIGNhbGwod2FybmluZywgdmFsaWQsIG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiBub3RlT25jZSh2YWxpZCwgbWVzc2FnZSkge1xuICBjYWxsKG5vdGUsIHZhbGlkLCBtZXNzYWdlKTtcbn1cblxudmFyIF9kZWZhdWx0ID0gd2FybmluZ09uY2U7XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcmVhY3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuZnVuY3Rpb24gcHJvY2Vzc05leHQobmV4dCkge1xuICAgIGlmICh0eXBlb2YgbmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWdlLCB7IHN0YWdlOiBuZXh0IH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIFN0YWdlKHByb3BzKSB7XG4gICAgY29uc3QgbmV4dCA9IHByb3BzLnN0YWdlKCk7XG4gICAgcmV0dXJuIHByb2Nlc3NOZXh0KG5leHQpO1xufVxuZnVuY3Rpb24gc3RhZ2VkKHN0YWdlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIFN0YWdlZChwcm9wcywgcmVmKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBzdGFnZShwcm9wcywgcmVmKTtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NOZXh0KG5leHQpO1xuICAgIH07XG59XG5leHBvcnRzLnN0YWdlZCA9IHN0YWdlZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==